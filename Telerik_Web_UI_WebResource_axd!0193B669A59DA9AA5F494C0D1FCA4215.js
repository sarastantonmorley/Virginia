/* START MicrosoftAjax.js */
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
// MicrosoftAjax.js
Function.__typeName="Function";Function.__class=true;Function.createCallback=function(b,a){return function(){var e=arguments.length;if(e>0){var d=[];for(var c=0;c<e;c++)d[c]=arguments[c];d[e]=a;return b.apply(this,d)}return b.call(this,a)}};Function.createDelegate=function(a,b){return function(){return b.apply(a,arguments)}};Function.emptyFunction=Function.emptyMethod=function(){};Function.validateParameters=function(c,b,a){return Function._validateParams(c,b,a)};Function._validateParams=function(g,e,c){var a,d=e.length;c=c||typeof c==="undefined";a=Function._validateParameterCount(g,e,c);if(a){a.popStackFrame();return a}for(var b=0,i=g.length;b<i;b++){var f=e[Math.min(b,d-1)],h=f.name;if(f.parameterArray)h+="["+(b-d+1)+"]";else if(!c&&b>=d)break;a=Function._validateParameter(g[b],f,h);if(a){a.popStackFrame();return a}}return null};Function._validateParameterCount=function(j,d,i){var a,c,b=d.length,e=j.length;if(e<b){var f=b;for(a=0;a<b;a++){var g=d[a];if(g.optional||g.parameterArray)f--}if(e<f)c=true}else if(i&&e>b){c=true;for(a=0;a<b;a++)if(d[a].parameterArray){c=false;break}}if(c){var h=Error.parameterCount();h.popStackFrame();return h}return null};Function._validateParameter=function(c,a,h){var b,g=a.type,l=!!a.integer,k=!!a.domElement,m=!!a.mayBeNull;b=Function._validateParameterType(c,g,l,k,m,h);if(b){b.popStackFrame();return b}var e=a.elementType,f=!!a.elementMayBeNull;if(g===Array&&typeof c!=="undefined"&&c!==null&&(e||!f)){var j=!!a.elementInteger,i=!!a.elementDomElement;for(var d=0;d<c.length;d++){var n=c[d];b=Function._validateParameterType(n,e,j,i,f,h+"["+d+"]");if(b){b.popStackFrame();return b}}}return null};Function._validateParameterType=function(b,c,k,j,h,d){var a,g;if(typeof b==="undefined")if(h)return null;else{a=Error.argumentUndefined(d);a.popStackFrame();return a}if(b===null)if(h)return null;else{a=Error.argumentNull(d);a.popStackFrame();return a}if(c&&c.__enum){if(typeof b!=="number"){a=Error.argumentType(d,Object.getType(b),c);a.popStackFrame();return a}if(b%1===0){var e=c.prototype;if(!c.__flags||b===0){for(g in e)if(e[g]===b)return null}else{var i=b;for(g in e){var f=e[g];if(f===0)continue;if((f&b)===f)i-=f;if(i===0)return null}}}a=Error.argumentOutOfRange(d,b,String.format(Sys.Res.enumInvalidValue,b,c.getName()));a.popStackFrame();return a}if(j&&(!Sys._isDomElement(b)||b.nodeType===3)){a=Error.argument(d,Sys.Res.argumentDomElement);a.popStackFrame();return a}if(c&&!Sys._isInstanceOfType(c,b)){a=Error.argumentType(d,Object.getType(b),c);a.popStackFrame();return a}if(c===Number&&k)if(b%1!==0){a=Error.argumentOutOfRange(d,b,Sys.Res.argumentInteger);a.popStackFrame();return a}return null};Error.__typeName="Error";Error.__class=true;Error.create=function(d,b){var a=new Error(d);a.message=d;if(b)for(var c in b)a[c]=b[c];a.popStackFrame();return a};Error.argument=function(a,c){var b="Sys.ArgumentException: "+(c?c:Sys.Res.argument);if(a)b+="\n"+String.format(Sys.Res.paramName,a);var d=Error.create(b,{name:"Sys.ArgumentException",paramName:a});d.popStackFrame();return d};Error.argumentNull=function(a,c){var b="Sys.ArgumentNullException: "+(c?c:Sys.Res.argumentNull);if(a)b+="\n"+String.format(Sys.Res.paramName,a);var d=Error.create(b,{name:"Sys.ArgumentNullException",paramName:a});d.popStackFrame();return d};Error.argumentOutOfRange=function(c,a,d){var b="Sys.ArgumentOutOfRangeException: "+(d?d:Sys.Res.argumentOutOfRange);if(c)b+="\n"+String.format(Sys.Res.paramName,c);if(typeof a!=="undefined"&&a!==null)b+="\n"+String.format(Sys.Res.actualValue,a);var e=Error.create(b,{name:"Sys.ArgumentOutOfRangeException",paramName:c,actualValue:a});e.popStackFrame();return e};Error.argumentType=function(d,c,b,e){var a="Sys.ArgumentTypeException: ";if(e)a+=e;else if(c&&b)a+=String.format(Sys.Res.argumentTypeWithTypes,c.getName(),b.getName());else a+=Sys.Res.argumentType;if(d)a+="\n"+String.format(Sys.Res.paramName,d);var f=Error.create(a,{name:"Sys.ArgumentTypeException",paramName:d,actualType:c,expectedType:b});f.popStackFrame();return f};Error.argumentUndefined=function(a,c){var b="Sys.ArgumentUndefinedException: "+(c?c:Sys.Res.argumentUndefined);if(a)b+="\n"+String.format(Sys.Res.paramName,a);var d=Error.create(b,{name:"Sys.ArgumentUndefinedException",paramName:a});d.popStackFrame();return d};Error.format=function(a){var c="Sys.FormatException: "+(a?a:Sys.Res.format),b=Error.create(c,{name:"Sys.FormatException"});b.popStackFrame();return b};Error.invalidOperation=function(a){var c="Sys.InvalidOperationException: "+(a?a:Sys.Res.invalidOperation),b=Error.create(c,{name:"Sys.InvalidOperationException"});b.popStackFrame();return b};Error.notImplemented=function(a){var c="Sys.NotImplementedException: "+(a?a:Sys.Res.notImplemented),b=Error.create(c,{name:"Sys.NotImplementedException"});b.popStackFrame();return b};Error.parameterCount=function(a){var c="Sys.ParameterCountException: "+(a?a:Sys.Res.parameterCount),b=Error.create(c,{name:"Sys.ParameterCountException"});b.popStackFrame();return b};Error.prototype.popStackFrame=function(){if(typeof this.stack==="undefined"||this.stack===null||typeof this.fileName==="undefined"||this.fileName===null||typeof this.lineNumber==="undefined"||this.lineNumber===null)return;var a=this.stack.split("\n"),c=a[0],e=this.fileName+":"+this.lineNumber;while(typeof c!=="undefined"&&c!==null&&c.indexOf(e)===-1){a.shift();c=a[0]}var d=a[1];if(typeof d==="undefined"||d===null)return;var b=d.match(/@(.*):(\d+)$/);if(typeof b==="undefined"||b===null)return;this.fileName=b[1];this.lineNumber=parseInt(b[2]);a.shift();this.stack=a.join("\n")};Object.__typeName="Object";Object.__class=true;Object.getType=function(b){var a=b.constructor;if(!a||typeof a!=="function"||!a.__typeName||a.__typeName==="Object")return Object;return a};Object.getTypeName=function(a){return Object.getType(a).getName()};String.__typeName="String";String.__class=true;String.prototype.endsWith=function(a){return this.substr(this.length-a.length)===a};String.prototype.startsWith=function(a){return this.substr(0,a.length)===a};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.trimEnd=function(){return this.replace(/\s+$/,"")};String.prototype.trimStart=function(){return this.replace(/^\s+/,"")};String.format=function(){return String._toFormattedString(false,arguments)};String._toFormattedString=function(l,j){var c="",e=j[0];for(var a=0;true;){var f=e.indexOf("{",a),d=e.indexOf("}",a);if(f<0&&d<0){c+=e.slice(a);break}if(d>0&&(d<f||f<0)){c+=e.slice(a,d+1);a=d+2;continue}c+=e.slice(a,f);a=f+1;if(e.charAt(a)==="{"){c+="{";a++;continue}if(d<0)break;var h=e.substring(a,d),g=h.indexOf(":"),k=parseInt(g<0?h:h.substring(0,g),10)+1,i=g<0?"":h.substring(g+1),b=j[k];if(typeof b==="undefined"||b===null)b="";if(b.toFormattedString)c+=b.toFormattedString(i);else if(l&&b.localeFormat)c+=b.localeFormat(i);else if(b.format)c+=b.format(i);else c+=b.toString();a=d+1}return c};Boolean.__typeName="Boolean";Boolean.__class=true;Boolean.parse=function(b){var a=b.trim().toLowerCase();if(a==="false")return false;if(a==="true")return true};Date.__typeName="Date";Date.__class=true;Number.__typeName="Number";Number.__class=true;RegExp.__typeName="RegExp";RegExp.__class=true;if(!window)this.window=this;window.Type=Function;Type.prototype.callBaseMethod=function(a,d,b){var c=Sys._getBaseMethod(this,a,d);if(!b)return c.apply(a);else return c.apply(a,b)};Type.prototype.getBaseMethod=function(a,b){return Sys._getBaseMethod(this,a,b)};Type.prototype.getBaseType=function(){return typeof this.__baseType==="undefined"?null:this.__baseType};Type.prototype.getInterfaces=function(){var a=[],b=this;while(b){var c=b.__interfaces;if(c)for(var d=0,f=c.length;d<f;d++){var e=c[d];if(!Array.contains(a,e))a[a.length]=e}b=b.__baseType}return a};Type.prototype.getName=function(){return typeof this.__typeName==="undefined"?"":this.__typeName};Type.prototype.implementsInterface=function(d){this.resolveInheritance();var c=d.getName(),a=this.__interfaceCache;if(a){var e=a[c];if(typeof e!=="undefined")return e}else a=this.__interfaceCache={};var b=this;while(b){var f=b.__interfaces;if(f)if(Array.indexOf(f,d)!==-1)return a[c]=true;b=b.__baseType}return a[c]=false};Type.prototype.inheritsFrom=function(b){this.resolveInheritance();var a=this.__baseType;while(a){if(a===b)return true;a=a.__baseType}return false};Type.prototype.initializeBase=function(a,b){this.resolveInheritance();if(this.__baseType)if(!b)this.__baseType.apply(a);else this.__baseType.apply(a,b);return a};Type.prototype.isImplementedBy=function(a){if(typeof a==="undefined"||a===null)return false;var b=Object.getType(a);return !!(b.implementsInterface&&b.implementsInterface(this))};Type.prototype.isInstanceOfType=function(a){return Sys._isInstanceOfType(this,a)};Type.prototype.registerClass=function(c,b,d){this.prototype.constructor=this;this.__typeName=c;this.__class=true;if(b){this.__baseType=b;this.__basePrototypePending=true}Sys.__upperCaseTypes[c.toUpperCase()]=this;if(d){this.__interfaces=[];for(var a=2,f=arguments.length;a<f;a++){var e=arguments[a];this.__interfaces.push(e)}}return this};Type.prototype.registerInterface=function(a){Sys.__upperCaseTypes[a.toUpperCase()]=this;this.prototype.constructor=this;this.__typeName=a;this.__interface=true;return this};Type.prototype.resolveInheritance=function(){if(this.__basePrototypePending){var b=this.__baseType;b.resolveInheritance();for(var a in b.prototype){var c=b.prototype[a];if(!this.prototype[a])this.prototype[a]=c}delete this.__basePrototypePending}};Type.getRootNamespaces=function(){return Array.clone(Sys.__rootNamespaces)};Type.isClass=function(a){if(typeof a==="undefined"||a===null)return false;return !!a.__class};Type.isInterface=function(a){if(typeof a==="undefined"||a===null)return false;return !!a.__interface};Type.isNamespace=function(a){if(typeof a==="undefined"||a===null)return false;return !!a.__namespace};Type.parse=function(typeName,ns){var fn;if(ns){fn=Sys.__upperCaseTypes[ns.getName().toUpperCase()+"."+typeName.toUpperCase()];return fn||null}if(!typeName)return null;if(!Type.__htClasses)Type.__htClasses={};fn=Type.__htClasses[typeName];if(!fn){fn=eval(typeName);Type.__htClasses[typeName]=fn}return fn};Type.registerNamespace=function(e){var d=window,c=e.split(".");for(var b=0;b<c.length;b++){var f=c[b],a=d[f];if(!a)a=d[f]={};if(!a.__namespace){if(b===0&&e!=="Sys")Sys.__rootNamespaces[Sys.__rootNamespaces.length]=a;a.__namespace=true;a.__typeName=c.slice(0,b+1).join(".");a.getName=function(){return this.__typeName}}d=a}};Type._checkDependency=function(c,a){var d=Type._registerScript._scripts,b=d?!!d[c]:false;if(typeof a!=="undefined"&&!b)throw Error.invalidOperation(String.format(Sys.Res.requiredScriptReferenceNotIncluded,a,c));return b};Type._registerScript=function(a,c){var b=Type._registerScript._scripts;if(!b)Type._registerScript._scripts=b={};if(b[a])throw Error.invalidOperation(String.format(Sys.Res.scriptAlreadyLoaded,a));b[a]=true;if(c)for(var d=0,f=c.length;d<f;d++){var e=c[d];if(!Type._checkDependency(e))throw Error.invalidOperation(String.format(Sys.Res.scriptDependencyNotFound,a,e))}};Type.registerNamespace("Sys");Sys.__upperCaseTypes={};Sys.__rootNamespaces=[Sys];Sys._isInstanceOfType=function(c,b){if(typeof b==="undefined"||b===null)return false;if(b instanceof c)return true;var a=Object.getType(b);return !!(a===c)||a.inheritsFrom&&a.inheritsFrom(c)||a.implementsInterface&&a.implementsInterface(c)};Sys._getBaseMethod=function(d,e,c){var b=d.getBaseType();if(b){var a=b.prototype[c];return a instanceof Function?a:null}return null};Sys._isDomElement=function(a){var c=false;if(typeof a.nodeType!=="number"){var b=a.ownerDocument||a.document||a;if(b!=a){var d=b.defaultView||b.parentWindow;c=d!=a}else c=typeof b.body==="undefined"}return !c};Array.__typeName="Array";Array.__class=true;Array.add=Array.enqueue=function(a,b){a[a.length]=b};Array.addRange=function(a,b){a.push.apply(a,b)};Array.clear=function(a){a.length=0};Array.clone=function(a){if(a.length===1)return [a[0]];else return Array.apply(null,a)};Array.contains=function(a,b){return Sys._indexOf(a,b)>=0};Array.dequeue=function(a){return a.shift()};Array.forEach=function(b,e,d){for(var a=0,f=b.length;a<f;a++){var c=b[a];if(typeof c!=="undefined")e.call(d,c,a,b)}};Array.indexOf=function(a,c,b){return Sys._indexOf(a,c,b)};Array.insert=function(a,b,c){a.splice(b,0,c)};Array.parse=function(value){if(!value)return [];return eval(value)};Array.remove=function(b,c){var a=Sys._indexOf(b,c);if(a>=0)b.splice(a,1);return a>=0};Array.removeAt=function(a,b){a.splice(b,1)};Sys._indexOf=function(d,e,a){if(typeof e==="undefined")return -1;var c=d.length;if(c!==0){a=a-0;if(isNaN(a))a=0;else{if(isFinite(a))a=a-a%1;if(a<0)a=Math.max(0,c+a)}for(var b=a;b<c;b++)if(typeof d[b]!=="undefined"&&d[b]===e)return b}return -1};Type._registerScript._scripts={"MicrosoftAjaxCore.js":true,"MicrosoftAjaxGlobalization.js":true,"MicrosoftAjaxSerialization.js":true,"MicrosoftAjaxComponentModel.js":true,"MicrosoftAjaxHistory.js":true,"MicrosoftAjaxNetwork.js":true,"MicrosoftAjaxWebServices.js":true};Sys.IDisposable=function(){};Sys.IDisposable.prototype={};Sys.IDisposable.registerInterface("Sys.IDisposable");Sys.StringBuilder=function(a){this._parts=typeof a!=="undefined"&&a!==null&&a!==""?[a.toString()]:[];this._value={};this._len=0};Sys.StringBuilder.prototype={append:function(a){this._parts[this._parts.length]=a},appendLine:function(a){this._parts[this._parts.length]=typeof a==="undefined"||a===null||a===""?"\r\n":a+"\r\n"},clear:function(){this._parts=[];this._value={};this._len=0},isEmpty:function(){if(this._parts.length===0)return true;return this.toString()===""},toString:function(a){a=a||"";var b=this._parts;if(this._len!==b.length){this._value={};this._len=b.length}var d=this._value;if(typeof d[a]==="undefined"){if(a!=="")for(var c=0;c<b.length;)if(typeof b[c]==="undefined"||b[c]===""||b[c]===null)b.splice(c,1);else c++;d[a]=this._parts.join(a)}return d[a]}};Sys.StringBuilder.registerClass("Sys.StringBuilder");Sys.Browser={};Sys.Browser.InternetExplorer={};Sys.Browser.Firefox={};Sys.Browser.Safari={};Sys.Browser.Opera={};Sys.Browser.agent=null;Sys.Browser.hasDebuggerStatement=false;Sys.Browser.name=navigator.appName;Sys.Browser.version=parseFloat(navigator.appVersion);Sys.Browser.documentMode=0;if(navigator.userAgent.indexOf(" MSIE ")>-1){Sys.Browser.agent=Sys.Browser.InternetExplorer;Sys.Browser.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(Sys.Browser.version>=8)if(document.documentMode>=7)Sys.Browser.documentMode=document.documentMode;Sys.Browser.hasDebuggerStatement=true}else if(navigator.userAgent.indexOf(" Firefox/")>-1){Sys.Browser.agent=Sys.Browser.Firefox;Sys.Browser.version=parseFloat(navigator.userAgent.match(/Firefox\/(\d+\.\d+)/)[1]);Sys.Browser.name="Firefox";Sys.Browser.hasDebuggerStatement=true}else if(navigator.userAgent.indexOf(" AppleWebKit/")>-1){Sys.Browser.agent=Sys.Browser.Safari;Sys.Browser.version=parseFloat(navigator.userAgent.match(/AppleWebKit\/(\d+(\.\d+)?)/)[1]);Sys.Browser.name="Safari"}else if(navigator.userAgent.indexOf("Opera/")>-1)Sys.Browser.agent=Sys.Browser.Opera;Sys.EventArgs=function(){};Sys.EventArgs.registerClass("Sys.EventArgs");Sys.EventArgs.Empty=new Sys.EventArgs;Sys.CancelEventArgs=function(){Sys.CancelEventArgs.initializeBase(this);this._cancel=false};Sys.CancelEventArgs.prototype={get_cancel:function(){return this._cancel},set_cancel:function(a){this._cancel=a}};Sys.CancelEventArgs.registerClass("Sys.CancelEventArgs",Sys.EventArgs);Type.registerNamespace("Sys.UI");Sys._Debug=function(){};Sys._Debug.prototype={_appendConsole:function(a){if(typeof Debug!=="undefined"&&Debug.writeln)Debug.writeln(a);if(window.console&&window.console.log)window.console.log(a);if(window.opera)window.opera.postError(a);if(window.debugService)window.debugService.trace(a)},_appendTrace:function(b){var a=document.getElementById("TraceConsole");if(a&&a.tagName.toUpperCase()==="TEXTAREA")a.value+=b+"\n"},assert:function(c,a,b){if(!c){a=b&&this.assert.caller?String.format(Sys.Res.assertFailedCaller,a,this.assert.caller):String.format(Sys.Res.assertFailed,a);if(confirm(String.format(Sys.Res.breakIntoDebugger,a)))this.fail(a)}},clearTrace:function(){var a=document.getElementById("TraceConsole");if(a&&a.tagName.toUpperCase()==="TEXTAREA")a.value=""},fail:function(message){this._appendConsole(message);if(Sys.Browser.hasDebuggerStatement)eval("debugger")},trace:function(a){this._appendConsole(a);this._appendTrace(a)},traceDump:function(a,b){var c=this._traceDump(a,b,true)},_traceDump:function(a,c,f,b,d){c=c?c:"traceDump";b=b?b:"";if(a===null){this.trace(b+c+": null");return}switch(typeof a){case "undefined":this.trace(b+c+": Undefined");break;case "number":case "string":case "boolean":this.trace(b+c+": "+a);break;default:if(Date.isInstanceOfType(a)||RegExp.isInstanceOfType(a)){this.trace(b+c+": "+a.toString());break}if(!d)d=[];else if(Array.contains(d,a)){this.trace(b+c+": ...");return}Array.add(d,a);if(a==window||a===document||window.HTMLElement&&a instanceof HTMLElement||typeof a.nodeName==="string"){var k=a.tagName?a.tagName:"DomElement";if(a.id)k+=" - "+a.id;this.trace(b+c+" {"+k+"}")}else{var i=Object.getTypeName(a);this.trace(b+c+(typeof i==="string"?" {"+i+"}":""));if(b===""||f){b+="    ";var e,j,l,g,h;if(Array.isInstanceOfType(a)){j=a.length;for(e=0;e<j;e++)this._traceDump(a[e],"["+e+"]",f,b,d)}else for(g in a){h=a[g];if(!Function.isInstanceOfType(h))this._traceDump(h,g,f,b,d)}}}Array.remove(d,a)}}};Sys._Debug.registerClass("Sys._Debug");Sys.Debug=new Sys._Debug;Sys.Debug.isDebug=false;function Sys$Enum$parse(c,e){var a,b,i;if(e){a=this.__lowerCaseValues;if(!a){this.__lowerCaseValues=a={};var g=this.prototype;for(var f in g)a[f.toLowerCase()]=g[f]}}else a=this.prototype;if(!this.__flags){i=e?c.toLowerCase():c;b=a[i.trim()];if(typeof b!=="number")throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,c,this.__typeName));return b}else{var h=(e?c.toLowerCase():c).split(","),j=0;for(var d=h.length-1;d>=0;d--){var k=h[d].trim();b=a[k];if(typeof b!=="number")throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,c.split(",")[d].trim(),this.__typeName));j|=b}return j}}function Sys$Enum$toString(c){if(typeof c==="undefined"||c===null)return this.__string;var d=this.prototype,a;if(!this.__flags||c===0){for(a in d)if(d[a]===c)return a}else{var b=this.__sortedValues;if(!b){b=[];for(a in d)b[b.length]={key:a,value:d[a]};b.sort(function(a,b){return a.value-b.value});this.__sortedValues=b}var e=[],g=c;for(a=b.length-1;a>=0;a--){var h=b[a],f=h.value;if(f===0)continue;if((f&c)===f){e[e.length]=h.key;g-=f;if(g===0)break}}if(e.length&&g===0)return e.reverse().join(", ")}return ""}Type.prototype.registerEnum=function(b,c){Sys.__upperCaseTypes[b.toUpperCase()]=this;for(var a in this.prototype)this[a]=this.prototype[a];this.__typeName=b;this.parse=Sys$Enum$parse;this.__string=this.toString();this.toString=Sys$Enum$toString;this.__flags=c;this.__enum=true};Type.isEnum=function(a){if(typeof a==="undefined"||a===null)return false;return !!a.__enum};Type.isFlags=function(a){if(typeof a==="undefined"||a===null)return false;return !!a.__flags};Sys.CollectionChange=function(e,a,c,b,d){this.action=e;if(a)if(!(a instanceof Array))a=[a];this.newItems=a||null;if(typeof c!=="number")c=-1;this.newStartingIndex=c;if(b)if(!(b instanceof Array))b=[b];this.oldItems=b||null;if(typeof d!=="number")d=-1;this.oldStartingIndex=d};Sys.CollectionChange.registerClass("Sys.CollectionChange");Sys.NotifyCollectionChangedAction=function(){throw Error.notImplemented()};Sys.NotifyCollectionChangedAction.prototype={add:0,remove:1,reset:2};Sys.NotifyCollectionChangedAction.registerEnum("Sys.NotifyCollectionChangedAction");Sys.NotifyCollectionChangedEventArgs=function(a){this._changes=a;Sys.NotifyCollectionChangedEventArgs.initializeBase(this)};Sys.NotifyCollectionChangedEventArgs.prototype={get_changes:function(){return this._changes||[]}};Sys.NotifyCollectionChangedEventArgs.registerClass("Sys.NotifyCollectionChangedEventArgs",Sys.EventArgs);Sys.Observer=function(){};Sys.Observer.registerClass("Sys.Observer");Sys.Observer.makeObservable=function(a){var c=a instanceof Array,b=Sys.Observer;if(a.setValue===b._observeMethods.setValue)return a;b._addMethods(a,b._observeMethods);if(c)b._addMethods(a,b._arrayMethods);return a};Sys.Observer._addMethods=function(c,b){for(var a in b)c[a]=b[a]};Sys.Observer._addEventHandler=function(c,a,b){Sys.Observer._getContext(c,true).events._addHandler(a,b)};Sys.Observer.addEventHandler=function(c,a,b){Sys.Observer._addEventHandler(c,a,b)};Sys.Observer._removeEventHandler=function(c,a,b){Sys.Observer._getContext(c,true).events._removeHandler(a,b)};Sys.Observer.removeEventHandler=function(c,a,b){Sys.Observer._removeEventHandler(c,a,b)};Sys.Observer.raiseEvent=function(b,e,d){var c=Sys.Observer._getContext(b);if(!c)return;var a=c.events.getHandler(e);if(a)a(b,d)};Sys.Observer.addPropertyChanged=function(b,a){Sys.Observer._addEventHandler(b,"propertyChanged",a)};Sys.Observer.removePropertyChanged=function(b,a){Sys.Observer._removeEventHandler(b,"propertyChanged",a)};Sys.Observer.beginUpdate=function(a){Sys.Observer._getContext(a,true).updating=true};Sys.Observer.endUpdate=function(b){var a=Sys.Observer._getContext(b);if(!a||!a.updating)return;a.updating=false;var d=a.dirty;a.dirty=false;if(d){if(b instanceof Array){var c=a.changes;a.changes=null;Sys.Observer.raiseCollectionChanged(b,c)}Sys.Observer.raisePropertyChanged(b,"")}};Sys.Observer.isUpdating=function(b){var a=Sys.Observer._getContext(b);return a?a.updating:false};Sys.Observer._setValue=function(a,j,g){var b,f,k=a,d=j.split(".");for(var i=0,m=d.length-1;i<m;i++){var l=d[i];b=a["get_"+l];if(typeof b==="function")a=b.call(a);else a=a[l];var n=typeof a;if(a===null||n==="undefined")throw Error.invalidOperation(String.format(Sys.Res.nullReferenceInPath,j))}var e,c=d[m];b=a["get_"+c];f=a["set_"+c];if(typeof b==="function")e=b.call(a);else e=a[c];if(typeof f==="function")f.call(a,g);else a[c]=g;if(e!==g){var h=Sys.Observer._getContext(k);if(h&&h.updating){h.dirty=true;return}Sys.Observer.raisePropertyChanged(k,d[0])}};Sys.Observer.setValue=function(b,a,c){Sys.Observer._setValue(b,a,c)};Sys.Observer.raisePropertyChanged=function(b,a){Sys.Observer.raiseEvent(b,"propertyChanged",new Sys.PropertyChangedEventArgs(a))};Sys.Observer.addCollectionChanged=function(b,a){Sys.Observer._addEventHandler(b,"collectionChanged",a)};Sys.Observer.removeCollectionChanged=function(b,a){Sys.Observer._removeEventHandler(b,"collectionChanged",a)};Sys.Observer._collectionChange=function(d,c){var a=Sys.Observer._getContext(d);if(a&&a.updating){a.dirty=true;var b=a.changes;if(!b)a.changes=b=[c];else b.push(c)}else{Sys.Observer.raiseCollectionChanged(d,[c]);Sys.Observer.raisePropertyChanged(d,"length")}};Sys.Observer.add=function(a,b){var c=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[b],a.length);Array.add(a,b);Sys.Observer._collectionChange(a,c)};Sys.Observer.addRange=function(a,b){var c=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,b,a.length);Array.addRange(a,b);Sys.Observer._collectionChange(a,c)};Sys.Observer.clear=function(a){var b=Array.clone(a);Array.clear(a);Sys.Observer._collectionChange(a,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.reset,null,-1,b,0))};Sys.Observer.insert=function(a,b,c){Array.insert(a,b,c);Sys.Observer._collectionChange(a,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[c],b))};Sys.Observer.remove=function(a,b){var c=Array.indexOf(a,b);if(c!==-1){Array.remove(a,b);Sys.Observer._collectionChange(a,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[b],c));return true}return false};Sys.Observer.removeAt=function(b,a){if(a>-1&&a<b.length){var c=b[a];Array.removeAt(b,a);Sys.Observer._collectionChange(b,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[c],a))}};Sys.Observer.raiseCollectionChanged=function(b,a){Sys.Observer.raiseEvent(b,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(a))};Sys.Observer._observeMethods={add_propertyChanged:function(a){Sys.Observer._addEventHandler(this,"propertyChanged",a)},remove_propertyChanged:function(a){Sys.Observer._removeEventHandler(this,"propertyChanged",a)},addEventHandler:function(a,b){Sys.Observer._addEventHandler(this,a,b)},removeEventHandler:function(a,b){Sys.Observer._removeEventHandler(this,a,b)},get_isUpdating:function(){return Sys.Observer.isUpdating(this)},beginUpdate:function(){Sys.Observer.beginUpdate(this)},endUpdate:function(){Sys.Observer.endUpdate(this)},setValue:function(b,a){Sys.Observer._setValue(this,b,a)},raiseEvent:function(b,a){Sys.Observer.raiseEvent(this,b,a)},raisePropertyChanged:function(a){Sys.Observer.raiseEvent(this,"propertyChanged",new Sys.PropertyChangedEventArgs(a))}};Sys.Observer._arrayMethods={add_collectionChanged:function(a){Sys.Observer._addEventHandler(this,"collectionChanged",a)},remove_collectionChanged:function(a){Sys.Observer._removeEventHandler(this,"collectionChanged",a)},add:function(a){Sys.Observer.add(this,a)},addRange:function(a){Sys.Observer.addRange(this,a)},clear:function(){Sys.Observer.clear(this)},insert:function(a,b){Sys.Observer.insert(this,a,b)},remove:function(a){return Sys.Observer.remove(this,a)},removeAt:function(a){Sys.Observer.removeAt(this,a)},raiseCollectionChanged:function(a){Sys.Observer.raiseEvent(this,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(a))}};Sys.Observer._getContext=function(b,c){var a=b._observerContext;if(a)return a();if(c)return (b._observerContext=Sys.Observer._createContext())();return null};Sys.Observer._createContext=function(){var a={events:new Sys.EventHandlerList};return function(){return a}};Date._appendPreOrPostMatch=function(e,b){var d=0,a=false;for(var c=0,g=e.length;c<g;c++){var f=e.charAt(c);switch(f){case "'":if(a)b.append("'");else d++;a=false;break;case "\\":if(a)b.append("\\");a=!a;break;default:b.append(f);a=false}}return d};Date._expandFormat=function(a,b){if(!b)b="F";var c=b.length;if(c===1)switch(b){case "d":return a.ShortDatePattern;case "D":return a.LongDatePattern;case "t":return a.ShortTimePattern;case "T":return a.LongTimePattern;case "f":return a.LongDatePattern+" "+a.ShortTimePattern;case "F":return a.FullDateTimePattern;case "M":case "m":return a.MonthDayPattern;case "s":return a.SortableDateTimePattern;case "Y":case "y":return a.YearMonthPattern;default:throw Error.format(Sys.Res.formatInvalidString)}else if(c===2&&b.charAt(0)==="%")b=b.charAt(1);return b};Date._expandYear=function(c,a){var d=new Date,e=Date._getEra(d);if(a<100){var b=Date._getEraYear(d,c,e);a+=b-b%100;if(a>c.Calendar.TwoDigitYearMax)a-=100}return a};Date._getEra=function(e,c){if(!c)return 0;var b,d=e.getTime();for(var a=0,f=c.length;a<f;a+=4){b=c[a+2];if(b===null||d>=b)return a}return 0};Date._getEraYear=function(d,b,e,c){var a=d.getFullYear();if(!c&&b.eras)a-=b.eras[e+3];return a};Date._getParseRegExp=function(b,e){if(!b._parseRegExp)b._parseRegExp={};else if(b._parseRegExp[e])return b._parseRegExp[e];var c=Date._expandFormat(b,e);c=c.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");var a=new Sys.StringBuilder("^"),j=[],f=0,i=0,h=Date._getTokenRegExp(),d;while((d=h.exec(c))!==null){var l=c.slice(f,d.index);f=h.lastIndex;i+=Date._appendPreOrPostMatch(l,a);if(i%2===1){a.append(d[0]);continue}switch(d[0]){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":a.append("(\\D+)");break;case "tt":case "t":a.append("(\\D*)");break;case "yyyy":a.append("(\\d{4})");break;case "fff":a.append("(\\d{3})");break;case "ff":a.append("(\\d{2})");break;case "f":a.append("(\\d)");break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":a.append("(\\d\\d?)");break;case "zzz":a.append("([+-]?\\d\\d?:\\d{2})");break;case "zz":case "z":a.append("([+-]?\\d\\d?)");break;case "/":a.append("(\\"+b.DateSeparator+")")}Array.add(j,d[0])}Date._appendPreOrPostMatch(c.slice(f),a);a.append("$");var k=a.toString().replace(/\s+/g,"\\s+"),g={"regExp":k,"groups":j};b._parseRegExp[e]=g;return g};Date._getTokenRegExp=function(){return /\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};Date.parseLocale=function(a){return Date._parse(a,Sys.CultureInfo.CurrentCulture,arguments)};Date.parseInvariant=function(a){return Date._parse(a,Sys.CultureInfo.InvariantCulture,arguments)};Date._parse=function(h,d,i){var a,c,b,f,e,g=false;for(a=1,c=i.length;a<c;a++){f=i[a];if(f){g=true;b=Date._parseExact(h,f,d);if(b)return b}}if(!g){e=d._getDateTimeFormats();for(a=0,c=e.length;a<c;a++){b=Date._parseExact(h,e[a],d);if(b)return b}}return null};Date._parseExact=function(w,D,k){w=w.trim();var g=k.dateTimeFormat,A=Date._getParseRegExp(g,D),C=(new RegExp(A.regExp)).exec(w);if(C===null)return null;var B=A.groups,x=null,e=null,c=null,j=null,i=null,d=0,h,p=0,q=0,f=0,l=null,v=false;for(var s=0,E=B.length;s<E;s++){var a=C[s+1];if(a)switch(B[s]){case "dd":case "d":j=parseInt(a,10);if(j<1||j>31)return null;break;case "MMMM":c=k._getMonthIndex(a);if(c<0||c>11)return null;break;case "MMM":c=k._getAbbrMonthIndex(a);if(c<0||c>11)return null;break;case "M":case "MM":c=parseInt(a,10)-1;if(c<0||c>11)return null;break;case "y":case "yy":e=Date._expandYear(g,parseInt(a,10));if(e<0||e>9999)return null;break;case "yyyy":e=parseInt(a,10);if(e<0||e>9999)return null;break;case "h":case "hh":d=parseInt(a,10);if(d===12)d=0;if(d<0||d>11)return null;break;case "H":case "HH":d=parseInt(a,10);if(d<0||d>23)return null;break;case "m":case "mm":p=parseInt(a,10);if(p<0||p>59)return null;break;case "s":case "ss":q=parseInt(a,10);if(q<0||q>59)return null;break;case "tt":case "t":var z=a.toUpperCase();v=z===g.PMDesignator.toUpperCase();if(!v&&z!==g.AMDesignator.toUpperCase())return null;break;case "f":f=parseInt(a,10)*100;if(f<0||f>999)return null;break;case "ff":f=parseInt(a,10)*10;if(f<0||f>999)return null;break;case "fff":f=parseInt(a,10);if(f<0||f>999)return null;break;case "dddd":i=k._getDayIndex(a);if(i<0||i>6)return null;break;case "ddd":i=k._getAbbrDayIndex(a);if(i<0||i>6)return null;break;case "zzz":var u=a.split(/:/);if(u.length!==2)return null;h=parseInt(u[0],10);if(h<-12||h>13)return null;var m=parseInt(u[1],10);if(m<0||m>59)return null;l=h*60+(a.startsWith("-")?-m:m);break;case "z":case "zz":h=parseInt(a,10);if(h<-12||h>13)return null;l=h*60;break;case "g":case "gg":var o=a;if(!o||!g.eras)return null;o=o.toLowerCase().trim();for(var r=0,F=g.eras.length;r<F;r+=4)if(o===g.eras[r+1].toLowerCase()){x=r;break}if(x===null)return null}}var b=new Date,t,n=g.Calendar.convert;if(n)t=n.fromGregorian(b)[0];else t=b.getFullYear();if(e===null)e=t;else if(g.eras)e+=g.eras[(x||0)+3];if(c===null)c=0;if(j===null)j=1;if(n){b=n.toGregorian(e,c,j);if(b===null)return null}else{b.setFullYear(e,c,j);if(b.getDate()!==j)return null;if(i!==null&&b.getDay()!==i)return null}if(v&&d<12)d+=12;b.setHours(d,p,q,f);if(l!==null){var y=b.getMinutes()-(l+b.getTimezoneOffset());b.setHours(b.getHours()+parseInt(y/60,10),y%60)}return b};Date.prototype.format=function(a){return this._toFormattedString(a,Sys.CultureInfo.InvariantCulture)};Date.prototype.localeFormat=function(a){return this._toFormattedString(a,Sys.CultureInfo.CurrentCulture)};Date.prototype._toFormattedString=function(e,j){var b=j.dateTimeFormat,n=b.Calendar.convert;if(!e||!e.length||e==="i")if(j&&j.name.length)if(n)return this._toFormattedString(b.FullDateTimePattern,j);else{var r=new Date(this.getTime()),x=Date._getEra(this,b.eras);r.setFullYear(Date._getEraYear(this,b,x));return r.toLocaleString()}else return this.toString();var l=b.eras,k=e==="s";e=Date._expandFormat(b,e);var a=new Sys.StringBuilder,c;function d(a){if(a<10)return "0"+a;return a.toString()}function m(a){if(a<10)return "00"+a;if(a<100)return "0"+a;return a.toString()}function v(a){if(a<10)return "000"+a;else if(a<100)return "00"+a;else if(a<1000)return "0"+a;return a.toString()}var h,p,t=/([^d]|^)(d|dd)([^d]|$)/g;function s(){if(h||p)return h;h=t.test(e);p=true;return h}var q=0,o=Date._getTokenRegExp(),f;if(!k&&n)f=n.fromGregorian(this);for(;true;){var w=o.lastIndex,i=o.exec(e),u=e.slice(w,i?i.index:e.length);q+=Date._appendPreOrPostMatch(u,a);if(!i)break;if(q%2===1){a.append(i[0]);continue}function g(a,b){if(f)return f[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}switch(i[0]){case "dddd":a.append(b.DayNames[this.getDay()]);break;case "ddd":a.append(b.AbbreviatedDayNames[this.getDay()]);break;case "dd":h=true;a.append(d(g(this,2)));break;case "d":h=true;a.append(g(this,2));break;case "MMMM":a.append(b.MonthGenitiveNames&&s()?b.MonthGenitiveNames[g(this,1)]:b.MonthNames[g(this,1)]);break;case "MMM":a.append(b.AbbreviatedMonthGenitiveNames&&s()?b.AbbreviatedMonthGenitiveNames[g(this,1)]:b.AbbreviatedMonthNames[g(this,1)]);break;case "MM":a.append(d(g(this,1)+1));break;case "M":a.append(g(this,1)+1);break;case "yyyy":a.append(v(f?f[0]:Date._getEraYear(this,b,Date._getEra(this,l),k)));break;case "yy":a.append(d((f?f[0]:Date._getEraYear(this,b,Date._getEra(this,l),k))%100));break;case "y":a.append((f?f[0]:Date._getEraYear(this,b,Date._getEra(this,l),k))%100);break;case "hh":c=this.getHours()%12;if(c===0)c=12;a.append(d(c));break;case "h":c=this.getHours()%12;if(c===0)c=12;a.append(c);break;case "HH":a.append(d(this.getHours()));break;case "H":a.append(this.getHours());break;case "mm":a.append(d(this.getMinutes()));break;case "m":a.append(this.getMinutes());break;case "ss":a.append(d(this.getSeconds()));break;case "s":a.append(this.getSeconds());break;case "tt":a.append(this.getHours()<12?b.AMDesignator:b.PMDesignator);break;case "t":a.append((this.getHours()<12?b.AMDesignator:b.PMDesignator).charAt(0));break;case "f":a.append(m(this.getMilliseconds()).charAt(0));break;case "ff":a.append(m(this.getMilliseconds()).substr(0,2));break;case "fff":a.append(m(this.getMilliseconds()));break;case "z":c=this.getTimezoneOffset()/60;a.append((c<=0?"+":"-")+Math.floor(Math.abs(c)));break;case "zz":c=this.getTimezoneOffset()/60;a.append((c<=0?"+":"-")+d(Math.floor(Math.abs(c))));break;case "zzz":c=this.getTimezoneOffset()/60;a.append((c<=0?"+":"-")+d(Math.floor(Math.abs(c)))+":"+d(Math.abs(this.getTimezoneOffset()%60)));break;case "g":case "gg":if(b.eras)a.append(b.eras[Date._getEra(this,l)+1]);break;case "/":a.append(b.DateSeparator)}}return a.toString()};String.localeFormat=function(){return String._toFormattedString(true,arguments)};Number.parseLocale=function(a){return Number._parse(a,Sys.CultureInfo.CurrentCulture)};Number.parseInvariant=function(a){return Number._parse(a,Sys.CultureInfo.InvariantCulture)};Number._parse=function(b,o){b=b.trim();if(b.match(/^[+-]?infinity$/i))return parseFloat(b);if(b.match(/^0x[a-f0-9]+$/i))return parseInt(b);var a=o.numberFormat,g=Number._parseNumberNegativePattern(b,a,a.NumberNegativePattern),h=g[0],e=g[1];if(h===""&&a.NumberNegativePattern!==1){g=Number._parseNumberNegativePattern(b,a,1);h=g[0];e=g[1]}if(h==="")h="+";var j,d,f=e.indexOf("e");if(f<0)f=e.indexOf("E");if(f<0){d=e;j=null}else{d=e.substr(0,f);j=e.substr(f+1)}var c,k,m=d.indexOf(a.NumberDecimalSeparator);if(m<0){c=d;k=null}else{c=d.substr(0,m);k=d.substr(m+a.NumberDecimalSeparator.length)}c=c.split(a.NumberGroupSeparator).join("");var n=a.NumberGroupSeparator.replace(/\u00A0/g," ");if(a.NumberGroupSeparator!==n)c=c.split(n).join("");var l=h+c;if(k!==null)l+="."+k;if(j!==null){var i=Number._parseNumberNegativePattern(j,a,1);if(i[0]==="")i[0]="+";l+="e"+i[0]+i[1]}if(l.match(/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/))return parseFloat(l);return Number.NaN};Number._parseNumberNegativePattern=function(a,d,e){var b=d.NegativeSign,c=d.PositiveSign;switch(e){case 4:b=" "+b;c=" "+c;case 3:if(a.endsWith(b))return ["-",a.substr(0,a.length-b.length)];else if(a.endsWith(c))return ["+",a.substr(0,a.length-c.length)];break;case 2:b+=" ";c+=" ";case 1:if(a.startsWith(b))return ["-",a.substr(b.length)];else if(a.startsWith(c))return ["+",a.substr(c.length)];break;case 0:if(a.startsWith("(")&&a.endsWith(")"))return ["-",a.substr(1,a.length-2)]}return ["",a]};Number.prototype.format=function(a){return this._toFormattedString(a,Sys.CultureInfo.InvariantCulture)};Number.prototype.localeFormat=function(a){return this._toFormattedString(a,Sys.CultureInfo.CurrentCulture)};Number.prototype._toFormattedString=function(e,j){if(!e||e.length===0||e==="i")if(j&&j.name.length>0)return this.toLocaleString();else return this.toString();var o=["n %","n%","%n"],n=["-n %","-n%","-%n"],p=["(n)","-n","- n","n-","n -"],m=["$n","n$","$ n","n $"],l=["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"];function g(a,c,d){for(var b=a.length;b<c;b++)a=d?"0"+a:a+"0";return a}function i(j,i,l,n,p){var h=l[0],k=1,o=Math.pow(10,i),m=Math.round(j*o)/o;if(!isFinite(m))m=j;j=m;var b=j.toString(),a="",c,e=b.split(/e/i);b=e[0];c=e.length>1?parseInt(e[1]):0;e=b.split(".");b=e[0];a=e.length>1?e[1]:"";var q;if(c>0){a=g(a,c,false);b+=a.slice(0,c);a=a.substr(c)}else if(c<0){c=-c;b=g(b,c+1,true);a=b.slice(-c,b.length)+a;b=b.slice(0,-c)}if(i>0){if(a.length>i)a=a.slice(0,i);else a=g(a,i,false);a=p+a}else a="";var d=b.length-1,f="";while(d>=0){if(h===0||h>d)if(f.length>0)return b.slice(0,d+1)+n+f+a;else return b.slice(0,d+1)+a;if(f.length>0)f=b.slice(d-h+1,d+1)+n+f;else f=b.slice(d-h+1,d+1);d-=h;if(k<l.length){h=l[k];k++}}return b.slice(0,d+1)+n+f+a}var a=j.numberFormat,d=Math.abs(this);if(!e)e="D";var b=-1;if(e.length>1)b=parseInt(e.slice(1),10);var c;switch(e.charAt(0)){case "d":case "D":c="n";if(b!==-1)d=g(""+d,b,true);if(this<0)d=-d;break;case "c":case "C":if(this<0)c=l[a.CurrencyNegativePattern];else c=m[a.CurrencyPositivePattern];if(b===-1)b=a.CurrencyDecimalDigits;d=i(Math.abs(this),b,a.CurrencyGroupSizes,a.CurrencyGroupSeparator,a.CurrencyDecimalSeparator);break;case "n":case "N":if(this<0)c=p[a.NumberNegativePattern];else c="n";if(b===-1)b=a.NumberDecimalDigits;d=i(Math.abs(this),b,a.NumberGroupSizes,a.NumberGroupSeparator,a.NumberDecimalSeparator);break;case "p":case "P":if(this<0)c=n[a.PercentNegativePattern];else c=o[a.PercentPositivePattern];if(b===-1)b=a.PercentDecimalDigits;d=i(Math.abs(this)*100,b,a.PercentGroupSizes,a.PercentGroupSeparator,a.PercentDecimalSeparator);break;default:throw Error.format(Sys.Res.formatBadFormatSpecifier)}var k=/n|\$|-|%/g,f="";for(;true;){var q=k.lastIndex,h=k.exec(c);f+=c.slice(q,h?h.index:c.length);if(!h)break;switch(h[0]){case "n":f+=d;break;case "$":f+=a.CurrencySymbol;break;case "-":if(/[1-9]/.test(d))f+=a.NegativeSign;break;case "%":f+=a.PercentSymbol}}return f};Sys.CultureInfo=function(c,b,a){this.name=c;this.numberFormat=b;this.dateTimeFormat=a};Sys.CultureInfo.prototype={_getDateTimeFormats:function(){if(!this._dateTimeFormats){var a=this.dateTimeFormat;this._dateTimeFormats=[a.MonthDayPattern,a.YearMonthPattern,a.ShortDatePattern,a.ShortTimePattern,a.LongDatePattern,a.LongTimePattern,a.FullDateTimePattern,a.RFC1123Pattern,a.SortableDateTimePattern,a.UniversalSortableDateTimePattern]}return this._dateTimeFormats},_getIndex:function(c,d,e){var b=this._toUpper(c),a=Array.indexOf(d,b);if(a===-1)a=Array.indexOf(e,b);return a},_getMonthIndex:function(a){if(!this._upperMonths){this._upperMonths=this._toUpperArray(this.dateTimeFormat.MonthNames);this._upperMonthsGenitive=this._toUpperArray(this.dateTimeFormat.MonthGenitiveNames)}return this._getIndex(a,this._upperMonths,this._upperMonthsGenitive)},_getAbbrMonthIndex:function(a){if(!this._upperAbbrMonths){this._upperAbbrMonths=this._toUpperArray(this.dateTimeFormat.AbbreviatedMonthNames);this._upperAbbrMonthsGenitive=this._toUpperArray(this.dateTimeFormat.AbbreviatedMonthGenitiveNames)}return this._getIndex(a,this._upperAbbrMonths,this._upperAbbrMonthsGenitive)},_getDayIndex:function(a){if(!this._upperDays)this._upperDays=this._toUpperArray(this.dateTimeFormat.DayNames);return Array.indexOf(this._upperDays,this._toUpper(a))},_getAbbrDayIndex:function(a){if(!this._upperAbbrDays)this._upperAbbrDays=this._toUpperArray(this.dateTimeFormat.AbbreviatedDayNames);return Array.indexOf(this._upperAbbrDays,this._toUpper(a))},_toUpperArray:function(c){var b=[];for(var a=0,d=c.length;a<d;a++)b[a]=this._toUpper(c[a]);return b},_toUpper:function(a){return a.split("\u00a0").join(" ").toUpperCase()}};Sys.CultureInfo.registerClass("Sys.CultureInfo");Sys.CultureInfo._parse=function(a){var b=a.dateTimeFormat;if(b&&!b.eras)b.eras=a.eras;return new Sys.CultureInfo(a.name,a.numberFormat,b)};Sys.CultureInfo.InvariantCulture=Sys.CultureInfo._parse({"name":"","numberFormat":{"CurrencyDecimalDigits":2,"CurrencyDecimalSeparator":".","IsReadOnly":true,"CurrencyGroupSizes":[3],"NumberGroupSizes":[3],"PercentGroupSizes":[3],"CurrencyGroupSeparator":",","CurrencySymbol":"\u00a4","NaNSymbol":"NaN","CurrencyNegativePattern":0,"NumberNegativePattern":1,"PercentPositivePattern":0,"PercentNegativePattern":0,"NegativeInfinitySymbol":"-Infinity","NegativeSign":"-","NumberDecimalDigits":2,"NumberDecimalSeparator":".","NumberGroupSeparator":",","CurrencyPositivePattern":0,"PositiveInfinitySymbol":"Infinity","PositiveSign":"+","PercentDecimalDigits":2,"PercentDecimalSeparator":".","PercentGroupSeparator":",","PercentSymbol":"%","PerMilleSymbol":"\u2030","NativeDigits":["0","1","2","3","4","5","6","7","8","9"],"DigitSubstitution":1},"dateTimeFormat":{"AMDesignator":"AM","Calendar":{"MinSupportedDateTime":"@-62135568000000@","MaxSupportedDateTime":"@253402300799999@","AlgorithmType":1,"CalendarType":1,"Eras":[1],"TwoDigitYearMax":2029,"IsReadOnly":true},"DateSeparator":"/","FirstDayOfWeek":0,"CalendarWeekRule":0,"FullDateTimePattern":"dddd, dd MMMM yyyy HH:mm:ss","LongDatePattern":"dddd, dd MMMM yyyy","LongTimePattern":"HH:mm:ss","MonthDayPattern":"MMMM dd","PMDesignator":"PM","RFC1123Pattern":"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'","ShortDatePattern":"MM/dd/yyyy","ShortTimePattern":"HH:mm","SortableDateTimePattern":"yyyy'-'MM'-'dd'T'HH':'mm':'ss","TimeSeparator":":","UniversalSortableDateTimePattern":"yyyy'-'MM'-'dd HH':'mm':'ss'Z'","YearMonthPattern":"yyyy MMMM","AbbreviatedDayNames":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"ShortestDayNames":["Su","Mo","Tu","We","Th","Fr","Sa"],"DayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"AbbreviatedMonthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"MonthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"IsReadOnly":true,"NativeCalendarName":"Gregorian Calendar","AbbreviatedMonthGenitiveNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"MonthGenitiveNames":["January","February","March","April","May","June","July","August","September","October","November","December",""]},"eras":[1,"A.D.",null,0]});if(typeof __cultureInfo==="object"){Sys.CultureInfo.CurrentCulture=Sys.CultureInfo._parse(__cultureInfo);delete __cultureInfo}else Sys.CultureInfo.CurrentCulture=Sys.CultureInfo._parse({"name":"en-US","numberFormat":{"CurrencyDecimalDigits":2,"CurrencyDecimalSeparator":".","IsReadOnly":false,"CurrencyGroupSizes":[3],"NumberGroupSizes":[3],"PercentGroupSizes":[3],"CurrencyGroupSeparator":",","CurrencySymbol":"$","NaNSymbol":"NaN","CurrencyNegativePattern":0,"NumberNegativePattern":1,"PercentPositivePattern":0,"PercentNegativePattern":0,"NegativeInfinitySymbol":"-Infinity","NegativeSign":"-","NumberDecimalDigits":2,"NumberDecimalSeparator":".","NumberGroupSeparator":",","CurrencyPositivePattern":0,"PositiveInfinitySymbol":"Infinity","PositiveSign":"+","PercentDecimalDigits":2,"PercentDecimalSeparator":".","PercentGroupSeparator":",","PercentSymbol":"%","PerMilleSymbol":"\u2030","NativeDigits":["0","1","2","3","4","5","6","7","8","9"],"DigitSubstitution":1},"dateTimeFormat":{"AMDesignator":"AM","Calendar":{"MinSupportedDateTime":"@-62135568000000@","MaxSupportedDateTime":"@253402300799999@","AlgorithmType":1,"CalendarType":1,"Eras":[1],"TwoDigitYearMax":2029,"IsReadOnly":false},"DateSeparator":"/","FirstDayOfWeek":0,"CalendarWeekRule":0,"FullDateTimePattern":"dddd, MMMM dd, yyyy h:mm:ss tt","LongDatePattern":"dddd, MMMM dd, yyyy","LongTimePattern":"h:mm:ss tt","MonthDayPattern":"MMMM dd","PMDesignator":"PM","RFC1123Pattern":"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'","ShortDatePattern":"M/d/yyyy","ShortTimePattern":"h:mm tt","SortableDateTimePattern":"yyyy'-'MM'-'dd'T'HH':'mm':'ss","TimeSeparator":":","UniversalSortableDateTimePattern":"yyyy'-'MM'-'dd HH':'mm':'ss'Z'","YearMonthPattern":"MMMM, yyyy","AbbreviatedDayNames":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"ShortestDayNames":["Su","Mo","Tu","We","Th","Fr","Sa"],"DayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"AbbreviatedMonthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"MonthNames":["January","February","March","April","May","June","July","August","September","October","November","December",""],"IsReadOnly":false,"NativeCalendarName":"Gregorian Calendar","AbbreviatedMonthGenitiveNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],"MonthGenitiveNames":["January","February","March","April","May","June","July","August","September","October","November","December",""]},"eras":[1,"A.D.",null,0]});Type.registerNamespace("Sys.Serialization");Sys.Serialization.JavaScriptSerializer=function(){};Sys.Serialization.JavaScriptSerializer.registerClass("Sys.Serialization.JavaScriptSerializer");Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs=[];Sys.Serialization.JavaScriptSerializer._charsToEscape=[];Sys.Serialization.JavaScriptSerializer._dateRegEx=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"',"g");Sys.Serialization.JavaScriptSerializer._escapeChars={};Sys.Serialization.JavaScriptSerializer._escapeRegEx=new RegExp('["\\\\\\x00-\\x1F]',"i");Sys.Serialization.JavaScriptSerializer._escapeRegExGlobal=new RegExp('["\\\\\\x00-\\x1F]',"g");Sys.Serialization.JavaScriptSerializer._jsonRegEx=new RegExp("[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]","g");Sys.Serialization.JavaScriptSerializer._jsonStringRegEx=new RegExp('"(\\\\.|[^"\\\\])*"',"g");Sys.Serialization.JavaScriptSerializer._serverTypeFieldName="__type";Sys.Serialization.JavaScriptSerializer._init=function(){var c=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f"];Sys.Serialization.JavaScriptSerializer._charsToEscape[0]="\\";Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs["\\"]=new RegExp("\\\\","g");Sys.Serialization.JavaScriptSerializer._escapeChars["\\"]="\\\\";Sys.Serialization.JavaScriptSerializer._charsToEscape[1]='"';Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs['"']=new RegExp('"',"g");Sys.Serialization.JavaScriptSerializer._escapeChars['"']='\\"';for(var a=0;a<32;a++){var b=String.fromCharCode(a);Sys.Serialization.JavaScriptSerializer._charsToEscape[a+2]=b;Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs[b]=new RegExp(b,"g");Sys.Serialization.JavaScriptSerializer._escapeChars[b]=c[a]}};Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder=function(b,a){a.append(b.toString())};Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder=function(a,b){if(isFinite(a))b.append(String(a));else throw Error.invalidOperation(Sys.Res.cannotSerializeNonFiniteNumbers)};Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder=function(a,c){c.append('"');if(Sys.Serialization.JavaScriptSerializer._escapeRegEx.test(a)){if(Sys.Serialization.JavaScriptSerializer._charsToEscape.length===0)Sys.Serialization.JavaScriptSerializer._init();if(a.length<128)a=a.replace(Sys.Serialization.JavaScriptSerializer._escapeRegExGlobal,function(a){return Sys.Serialization.JavaScriptSerializer._escapeChars[a]});else for(var d=0;d<34;d++){var b=Sys.Serialization.JavaScriptSerializer._charsToEscape[d];if(a.indexOf(b)!==-1)if(Sys.Browser.agent===Sys.Browser.Opera||Sys.Browser.agent===Sys.Browser.FireFox)a=a.split(b).join(Sys.Serialization.JavaScriptSerializer._escapeChars[b]);else a=a.replace(Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs[b],Sys.Serialization.JavaScriptSerializer._escapeChars[b])}}c.append(a);c.append('"')};Sys.Serialization.JavaScriptSerializer._serializeWithBuilder=function(b,a,i,g){var c;switch(typeof b){case "object":if(b)if(Number.isInstanceOfType(b))Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder(b,a);else if(Boolean.isInstanceOfType(b))Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder(b,a);else if(String.isInstanceOfType(b))Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder(b,a);else if(Array.isInstanceOfType(b)){a.append("[");for(c=0;c<b.length;++c){if(c>0)a.append(",");Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(b[c],a,false,g)}a.append("]")}else{if(Date.isInstanceOfType(b)){a.append('"\\/Date(');a.append(b.getTime());a.append(')\\/"');break}var d=[],f=0;for(var e in b){if(e.startsWith("$"))continue;if(e===Sys.Serialization.JavaScriptSerializer._serverTypeFieldName&&f!==0){d[f++]=d[0];d[0]=e}else d[f++]=e}if(i)d.sort();a.append("{");var j=false;for(c=0;c<f;c++){var h=b[d[c]];if(typeof h!=="undefined"&&typeof h!=="function"){if(j)a.append(",");else j=true;Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(d[c],a,i,g);a.append(":");Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(h,a,i,g)}}a.append("}")}else a.append("null");break;case "number":Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder(b,a);break;case "string":Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder(b,a);break;case "boolean":Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder(b,a);break;default:a.append("null")}};Sys.Serialization.JavaScriptSerializer.serialize=function(b){var a=new Sys.StringBuilder;Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(b,a,false);return a.toString()};Sys.Serialization.JavaScriptSerializer.deserialize=function(data,secure){if(data.length===0)throw Error.argument("data",Sys.Res.cannotDeserializeEmptyString);try{var exp=data.replace(Sys.Serialization.JavaScriptSerializer._dateRegEx,"$1new Date($2)");if(secure&&Sys.Serialization.JavaScriptSerializer._jsonRegEx.test(exp.replace(Sys.Serialization.JavaScriptSerializer._jsonStringRegEx,"")))throw null;return eval("("+exp+")")}catch(a){throw Error.argument("data",Sys.Res.cannotDeserializeInvalidJson)}};Type.registerNamespace("Sys.UI");Sys.EventHandlerList=function(){this._list={}};Sys.EventHandlerList.prototype={_addHandler:function(b,a){Array.add(this._getEvent(b,true),a)},addHandler:function(b,a){this._addHandler(b,a)},_removeHandler:function(c,b){var a=this._getEvent(c);if(!a)return;Array.remove(a,b)},removeHandler:function(b,a){this._removeHandler(b,a)},getHandler:function(b){var a=this._getEvent(b);if(!a||a.length===0)return null;a=Array.clone(a);return function(c,d){for(var b=0,e=a.length;b<e;b++)a[b](c,d)}},_getEvent:function(a,b){if(!this._list[a]){if(!b)return null;this._list[a]=[]}return this._list[a]}};Sys.EventHandlerList.registerClass("Sys.EventHandlerList");Sys.CommandEventArgs=function(c,a,b){Sys.CommandEventArgs.initializeBase(this);this._commandName=c;this._commandArgument=a;this._commandSource=b};Sys.CommandEventArgs.prototype={_commandName:null,_commandArgument:null,_commandSource:null,get_commandName:function(){return this._commandName},get_commandArgument:function(){return this._commandArgument},get_commandSource:function(){return this._commandSource}};Sys.CommandEventArgs.registerClass("Sys.CommandEventArgs",Sys.CancelEventArgs);Sys.INotifyPropertyChange=function(){};Sys.INotifyPropertyChange.prototype={};Sys.INotifyPropertyChange.registerInterface("Sys.INotifyPropertyChange");Sys.PropertyChangedEventArgs=function(a){Sys.PropertyChangedEventArgs.initializeBase(this);this._propertyName=a};Sys.PropertyChangedEventArgs.prototype={get_propertyName:function(){return this._propertyName}};Sys.PropertyChangedEventArgs.registerClass("Sys.PropertyChangedEventArgs",Sys.EventArgs);Sys.INotifyDisposing=function(){};Sys.INotifyDisposing.prototype={};Sys.INotifyDisposing.registerInterface("Sys.INotifyDisposing");Sys.Component=function(){if(Sys.Application)Sys.Application.registerDisposableObject(this)};Sys.Component.prototype={_id:null,_initialized:false,_updating:false,get_events:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_id:function(){return this._id},set_id:function(a){this._id=a},get_isInitialized:function(){return this._initialized},get_isUpdating:function(){return this._updating},add_disposing:function(a){this.get_events().addHandler("disposing",a)},remove_disposing:function(a){this.get_events().removeHandler("disposing",a)},add_propertyChanged:function(a){this.get_events().addHandler("propertyChanged",a)},remove_propertyChanged:function(a){this.get_events().removeHandler("propertyChanged",a)},beginUpdate:function(){this._updating=true},dispose:function(){if(this._events){var a=this._events.getHandler("disposing");if(a)a(this,Sys.EventArgs.Empty)}delete this._events;Sys.Application.unregisterDisposableObject(this);Sys.Application.removeComponent(this)},endUpdate:function(){this._updating=false;if(!this._initialized)this.initialize();this.updated()},initialize:function(){this._initialized=true},raisePropertyChanged:function(b){if(!this._events)return;var a=this._events.getHandler("propertyChanged");if(a)a(this,new Sys.PropertyChangedEventArgs(b))},updated:function(){}};Sys.Component.registerClass("Sys.Component",null,Sys.IDisposable,Sys.INotifyPropertyChange,Sys.INotifyDisposing);function Sys$Component$_setProperties(a,i){var d,j=Object.getType(a),e=j===Object||j===Sys.UI.DomElement,h=Sys.Component.isInstanceOfType(a)&&!a.get_isUpdating();if(h)a.beginUpdate();for(var c in i){var b=i[c],f=e?null:a["get_"+c];if(e||typeof f!=="function"){var k=a[c];if(!b||typeof b!=="object"||e&&!k)a[c]=b;else Sys$Component$_setProperties(k,b)}else{var l=a["set_"+c];if(typeof l==="function")l.apply(a,[b]);else if(b instanceof Array){d=f.apply(a);for(var g=0,m=d.length,n=b.length;g<n;g++,m++)d[m]=b[g]}else if(typeof b==="object"&&Object.getType(b)===Object){d=f.apply(a);Sys$Component$_setProperties(d,b)}}}if(h)a.endUpdate()}function Sys$Component$_setReferences(c,b){for(var a in b){var e=c["set_"+a],d=$find(b[a]);e.apply(c,[d])}}var $create=Sys.Component.create=function(h,f,d,c,g){var a=g?new h(g):new h,b=Sys.Application,i=b.get_isCreatingComponents();a.beginUpdate();if(f)Sys$Component$_setProperties(a,f);if(d)for(var e in d)a["add_"+e](d[e]);if(a.get_id())b.addComponent(a);if(i){b._createdComponents[b._createdComponents.length]=a;if(c)b._addComponentToSecondPass(a,c);else a.endUpdate()}else{if(c)Sys$Component$_setReferences(a,c);a.endUpdate()}return a};Sys.UI.MouseButton=function(){throw Error.notImplemented()};Sys.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};Sys.UI.MouseButton.registerEnum("Sys.UI.MouseButton");Sys.UI.Key=function(){throw Error.notImplemented()};Sys.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};Sys.UI.Key.registerEnum("Sys.UI.Key");Sys.UI.Point=function(a,b){this.rawX=a;this.rawY=b;this.x=Math.round(a);this.y=Math.round(b)};Sys.UI.Point.registerClass("Sys.UI.Point");Sys.UI.Bounds=function(c,d,b,a){this.x=c;this.y=d;this.height=a;this.width=b};Sys.UI.Bounds.registerClass("Sys.UI.Bounds");Sys.UI.DomEvent=function(e){var a=e,b=this.type=a.type.toLowerCase();this.rawEvent=a;this.altKey=a.altKey;if(typeof a.button!=="undefined")this.button=typeof a.which!=="undefined"?a.button:a.button===4?Sys.UI.MouseButton.middleButton:a.button===2?Sys.UI.MouseButton.rightButton:Sys.UI.MouseButton.leftButton;if(b==="keypress")this.charCode=a.charCode||a.keyCode;else if(a.keyCode&&a.keyCode===46)this.keyCode=127;else this.keyCode=a.keyCode;this.clientX=a.clientX;this.clientY=a.clientY;this.ctrlKey=a.ctrlKey;this.target=a.target?a.target:a.srcElement;if(!b.startsWith("key"))if(typeof a.offsetX!=="undefined"&&typeof a.offsetY!=="undefined"){this.offsetX=a.offsetX;this.offsetY=a.offsetY}else if(this.target&&this.target.nodeType!==3&&typeof a.clientX==="number"){var c=Sys.UI.DomElement.getLocation(this.target),d=Sys.UI.DomElement._getWindow(this.target);this.offsetX=(d.pageXOffset||0)+a.clientX-c.x;this.offsetY=(d.pageYOffset||0)+a.clientY-c.y}this.screenX=a.screenX;this.screenY=a.screenY;this.shiftKey=a.shiftKey};Sys.UI.DomEvent.prototype={preventDefault:function(){if(this.rawEvent.preventDefault)this.rawEvent.preventDefault();else if(window.event)this.rawEvent.returnValue=false},stopPropagation:function(){if(this.rawEvent.stopPropagation)this.rawEvent.stopPropagation();else if(window.event)this.rawEvent.cancelBubble=true}};Sys.UI.DomEvent.registerClass("Sys.UI.DomEvent");var $addHandler=Sys.UI.DomEvent.addHandler=function(a,d,e,g){if(!a._events)a._events={};var c=a._events[d];if(!c)a._events[d]=c=[];var b;if(a.addEventListener){b=function(b){return e.call(a,new Sys.UI.DomEvent(b))};a.addEventListener(d,b,false)}else if(a.attachEvent){b=function(){var b={};try{b=Sys.UI.DomElement._getWindow(a).event}catch(c){}return e.call(a,new Sys.UI.DomEvent(b))};a.attachEvent("on"+d,b)}c[c.length]={handler:e,browserHandler:b,autoRemove:g};if(g){var f=a.dispose;if(f!==Sys.UI.DomEvent._disposeHandlers){a.dispose=Sys.UI.DomEvent._disposeHandlers;if(typeof f!=="undefined")a._chainDispose=f}}},$addHandlers=Sys.UI.DomEvent.addHandlers=function(f,d,c,e){for(var b in d){var a=d[b];if(c)a=Function.createDelegate(c,a);$addHandler(f,b,a,e||false)}},$clearHandlers=Sys.UI.DomEvent.clearHandlers=function(a){Sys.UI.DomEvent._clearHandlers(a,false)};Sys.UI.DomEvent._clearHandlers=function(a,g){if(a._events){var e=a._events;for(var b in e){var d=e[b];for(var c=d.length-1;c>=0;c--){var f=d[c];if(!g||f.autoRemove)$removeHandler(a,b,f.handler)}}a._events=null}};Sys.UI.DomEvent._disposeHandlers=function(){Sys.UI.DomEvent._clearHandlers(this,true);var b=this._chainDispose,a=typeof b;if(a!=="undefined"){this.dispose=b;this._chainDispose=null;if(a==="function")this.dispose()}};var $removeHandler=Sys.UI.DomEvent.removeHandler=function(b,a,c){Sys.UI.DomEvent._removeHandler(b,a,c)};Sys.UI.DomEvent._removeHandler=function(a,e,f){var d=null,c=a._events[e];for(var b=0,g=c.length;b<g;b++)if(c[b].handler===f){d=c[b].browserHandler;break}if(a.removeEventListener)a.removeEventListener(e,d,false);else if(a.detachEvent)a.detachEvent("on"+e,d);c.splice(b,1)};Sys.UI.DomElement=function(){};Sys.UI.DomElement.registerClass("Sys.UI.DomElement");Sys.UI.DomElement.addCssClass=function(a,b){if(!Sys.UI.DomElement.containsCssClass(a,b))if(a.className==="")a.className=b;else a.className+=" "+b};Sys.UI.DomElement.containsCssClass=function(b,a){return Array.contains(b.className.split(" "),a)};Sys.UI.DomElement.getBounds=function(a){var b=Sys.UI.DomElement.getLocation(a);return new Sys.UI.Bounds(b.x,b.y,a.offsetWidth||0,a.offsetHeight||0)};var $get=Sys.UI.DomElement.getElementById=function(f,e){if(!e)return document.getElementById(f);if(e.getElementById)return e.getElementById(f);var c=[],d=e.childNodes;for(var b=0;b<d.length;b++){var a=d[b];if(a.nodeType==1)c[c.length]=a}while(c.length){a=c.shift();if(a.id==f)return a;d=a.childNodes;for(b=0;b<d.length;b++){a=d[b];if(a.nodeType==1)c[c.length]=a}}return null};if(document.documentElement.getBoundingClientRect)Sys.UI.DomElement.getLocation=function(a){if(a.self||a.nodeType===9||a===document.documentElement||a.parentNode===a.ownerDocument.documentElement)return new Sys.UI.Point(0,0);var f=a.getBoundingClientRect();if(!f)return new Sys.UI.Point(0,0);var e=a.ownerDocument.documentElement,h=a.ownerDocument.body,l,c=Math.round(f.left)+(e.scrollLeft||h.scrollLeft),d=Math.round(f.top)+(e.scrollTop||h.scrollTop);if(Sys.Browser.agent===Sys.Browser.InternetExplorer){try{var g=a.ownerDocument.parentWindow.frameElement||null;if(g){var i=g.frameBorder==="0"||g.frameBorder==="no"?2:0;c+=i;d+=i}}catch(m){}if(Sys.Browser.version===7&&!document.documentMode){var j=document.body,k=j.getBoundingClientRect(),b=(k.right-k.left)/j.clientWidth;b=Math.round(b*100);b=(b-b%5)/100;if(!isNaN(b)&&b!==1){c=Math.round(c/b);d=Math.round(d/b)}}if((document.documentMode||0)<8){c-=e.clientLeft;d-=e.clientTop}}return new Sys.UI.Point(c,d)};else if(Sys.Browser.agent===Sys.Browser.Safari)Sys.UI.DomElement.getLocation=function(c){if(c.window&&c.window===c||c.nodeType===9)return new Sys.UI.Point(0,0);var d=0,e=0,a,j=null,g=null,b;for(a=c;a;j=a,(g=b,a=a.offsetParent)){b=Sys.UI.DomElement._getCurrentStyle(a);var f=a.tagName?a.tagName.toUpperCase():null;if((a.offsetLeft||a.offsetTop)&&(f!=="BODY"||(!g||g.position!=="absolute"))){d+=a.offsetLeft;e+=a.offsetTop}if(j&&Sys.Browser.version>=3){d+=parseInt(b.borderLeftWidth);e+=parseInt(b.borderTopWidth)}}b=Sys.UI.DomElement._getCurrentStyle(c);var h=b?b.position:null;if(!h||h!=="absolute")for(a=c.parentNode;a;a=a.parentNode){f=a.tagName?a.tagName.toUpperCase():null;if(f!=="BODY"&&f!=="HTML"&&(a.scrollLeft||a.scrollTop)){d-=a.scrollLeft||0;e-=a.scrollTop||0}b=Sys.UI.DomElement._getCurrentStyle(a);var i=b?b.position:null;if(i&&i==="absolute")break}return new Sys.UI.Point(d,e)};else Sys.UI.DomElement.getLocation=function(d){if(d.window&&d.window===d||d.nodeType===9)return new Sys.UI.Point(0,0);var e=0,f=0,a,i=null,g=null,b=null;for(a=d;a;i=a,(g=b,a=a.offsetParent)){var c=a.tagName?a.tagName.toUpperCase():null;b=Sys.UI.DomElement._getCurrentStyle(a);if((a.offsetLeft||a.offsetTop)&&!(c==="BODY"&&(!g||g.position!=="absolute"))){e+=a.offsetLeft;f+=a.offsetTop}if(i!==null&&b){if(c!=="TABLE"&&c!=="TD"&&c!=="HTML"){e+=parseInt(b.borderLeftWidth)||0;f+=parseInt(b.borderTopWidth)||0}if(c==="TABLE"&&(b.position==="relative"||b.position==="absolute")){e+=parseInt(b.marginLeft)||0;f+=parseInt(b.marginTop)||0}}}b=Sys.UI.DomElement._getCurrentStyle(d);var h=b?b.position:null;if(!h||h!=="absolute")for(a=d.parentNode;a;a=a.parentNode){c=a.tagName?a.tagName.toUpperCase():null;if(c!=="BODY"&&c!=="HTML"&&(a.scrollLeft||a.scrollTop)){e-=a.scrollLeft||0;f-=a.scrollTop||0;b=Sys.UI.DomElement._getCurrentStyle(a);if(b){e+=parseInt(b.borderLeftWidth)||0;f+=parseInt(b.borderTopWidth)||0}}}return new Sys.UI.Point(e,f)};Sys.UI.DomElement.isDomElement=function(a){return Sys._isDomElement(a)};Sys.UI.DomElement.removeCssClass=function(d,c){var a=" "+d.className+" ",b=a.indexOf(" "+c+" ");if(b>=0)d.className=(a.substr(0,b)+" "+a.substring(b+c.length+1,a.length)).trim()};Sys.UI.DomElement.resolveElement=function(b,c){var a=b;if(!a)return null;if(typeof a==="string")a=Sys.UI.DomElement.getElementById(a,c);return a};Sys.UI.DomElement.raiseBubbleEvent=function(c,d){var b=c;while(b){var a=b.control;if(a&&a.onBubbleEvent&&a.raiseBubbleEvent){Sys.UI.DomElement._raiseBubbleEventFromControl(a,c,d);return}b=b.parentNode}};Sys.UI.DomElement._raiseBubbleEventFromControl=function(a,b,c){if(!a.onBubbleEvent(b,c))a._raiseBubbleEvent(b,c)};Sys.UI.DomElement.setLocation=function(b,c,d){var a=b.style;a.position="absolute";a.left=c+"px";a.top=d+"px"};Sys.UI.DomElement.toggleCssClass=function(b,a){if(Sys.UI.DomElement.containsCssClass(b,a))Sys.UI.DomElement.removeCssClass(b,a);else Sys.UI.DomElement.addCssClass(b,a)};Sys.UI.DomElement.getVisibilityMode=function(a){return a._visibilityMode===Sys.UI.VisibilityMode.hide?Sys.UI.VisibilityMode.hide:Sys.UI.VisibilityMode.collapse};Sys.UI.DomElement.setVisibilityMode=function(a,b){Sys.UI.DomElement._ensureOldDisplayMode(a);if(a._visibilityMode!==b){a._visibilityMode=b;if(Sys.UI.DomElement.getVisible(a)===false)if(a._visibilityMode===Sys.UI.VisibilityMode.hide)a.style.display=a._oldDisplayMode;else a.style.display="none";a._visibilityMode=b}};Sys.UI.DomElement.getVisible=function(b){var a=b.currentStyle||Sys.UI.DomElement._getCurrentStyle(b);if(!a)return true;return a.visibility!=="hidden"&&a.display!=="none"};Sys.UI.DomElement.setVisible=function(a,b){if(b!==Sys.UI.DomElement.getVisible(a)){Sys.UI.DomElement._ensureOldDisplayMode(a);a.style.visibility=b?"visible":"hidden";if(b||a._visibilityMode===Sys.UI.VisibilityMode.hide)a.style.display=a._oldDisplayMode;else a.style.display="none"}};Sys.UI.DomElement._ensureOldDisplayMode=function(a){if(!a._oldDisplayMode){var b=a.currentStyle||Sys.UI.DomElement._getCurrentStyle(a);a._oldDisplayMode=b?b.display:null;if(!a._oldDisplayMode||a._oldDisplayMode==="none")switch(a.tagName.toUpperCase()){case "DIV":case "P":case "ADDRESS":case "BLOCKQUOTE":case "BODY":case "COL":case "COLGROUP":case "DD":case "DL":case "DT":case "FIELDSET":case "FORM":case "H1":case "H2":case "H3":case "H4":case "H5":case "H6":case "HR":case "IFRAME":case "LEGEND":case "OL":case "PRE":case "TABLE":case "TD":case "TH":case "TR":case "UL":a._oldDisplayMode="block";break;case "LI":a._oldDisplayMode="list-item";break;default:a._oldDisplayMode="inline"}}};Sys.UI.DomElement._getWindow=function(a){var b=a.ownerDocument||a.document||a;return b.defaultView||b.parentWindow};Sys.UI.DomElement._getCurrentStyle=function(a){if(a.nodeType===3)return null;var c=Sys.UI.DomElement._getWindow(a);if(a.documentElement)a=a.documentElement;var b=c&&a!==c&&c.getComputedStyle?c.getComputedStyle(a,null):a.currentStyle||a.style;if(!b&&Sys.Browser.agent===Sys.Browser.Safari&&a.style){var g=a.style.display,f=a.style.position;a.style.position="absolute";a.style.display="block";var e=c.getComputedStyle(a,null);a.style.display=g;a.style.position=f;b={};for(var d in e)b[d]=e[d];b.display="none"}return b};Sys.IContainer=function(){};Sys.IContainer.prototype={};Sys.IContainer.registerInterface("Sys.IContainer");Sys.ApplicationLoadEventArgs=function(b,a){Sys.ApplicationLoadEventArgs.initializeBase(this);this._components=b;this._isPartialLoad=a};Sys.ApplicationLoadEventArgs.prototype={get_components:function(){return this._components},get_isPartialLoad:function(){return this._isPartialLoad}};Sys.ApplicationLoadEventArgs.registerClass("Sys.ApplicationLoadEventArgs",Sys.EventArgs);Sys._Application=function(){Sys._Application.initializeBase(this);this._disposableObjects=[];this._components={};this._createdComponents=[];this._secondPassComponents=[];this._unloadHandlerDelegate=Function.createDelegate(this,this._unloadHandler);Sys.UI.DomEvent.addHandler(window,"unload",this._unloadHandlerDelegate);this._domReady()};Sys._Application.prototype={_creatingComponents:false,_disposing:false,_deleteCount:0,get_isCreatingComponents:function(){return this._creatingComponents},get_isDisposing:function(){return this._disposing},add_init:function(a){if(this._initialized)a(this,Sys.EventArgs.Empty);else this.get_events().addHandler("init",a)},remove_init:function(a){this.get_events().removeHandler("init",a)},add_load:function(a){this.get_events().addHandler("load",a)},remove_load:function(a){this.get_events().removeHandler("load",a)},add_unload:function(a){this.get_events().addHandler("unload",a)},remove_unload:function(a){this.get_events().removeHandler("unload",a)},addComponent:function(a){this._components[a.get_id()]=a},beginCreateComponents:function(){this._creatingComponents=true},dispose:function(){if(!this._disposing){this._disposing=true;if(this._timerCookie){window.clearTimeout(this._timerCookie);delete this._timerCookie}if(this._endRequestHandler){Sys.WebForms.PageRequestManager.getInstance().remove_endRequest(this._endRequestHandler);delete this._endRequestHandler}if(this._beginRequestHandler){Sys.WebForms.PageRequestManager.getInstance().remove_beginRequest(this._beginRequestHandler);delete this._beginRequestHandler}if(window.pageUnload)window.pageUnload(this,Sys.EventArgs.Empty);var c=this.get_events().getHandler("unload");if(c)c(this,Sys.EventArgs.Empty);var b=Array.clone(this._disposableObjects);for(var a=0,f=b.length;a<f;a++){var d=b[a];if(typeof d!=="undefined")d.dispose()}Array.clear(this._disposableObjects);Sys.UI.DomEvent.removeHandler(window,"unload",this._unloadHandlerDelegate);if(Sys._ScriptLoader){var e=Sys._ScriptLoader.getInstance();if(e)e.dispose()}Sys._Application.callBaseMethod(this,"dispose")}},disposeElement:function(c,j){if(c.nodeType===1){var b,h=c.getElementsByTagName("*"),g=h.length,i=new Array(g);for(b=0;b<g;b++)i[b]=h[b];for(b=g-1;b>=0;b--){var d=i[b],f=d.dispose;if(f&&typeof f==="function")d.dispose();else{var e=d.control;if(e&&typeof e.dispose==="function")e.dispose()}var a=d._behaviors;if(a)this._disposeComponents(a);a=d._components;if(a){this._disposeComponents(a);d._components=null}}if(!j){var f=c.dispose;if(f&&typeof f==="function")c.dispose();else{var e=c.control;if(e&&typeof e.dispose==="function")e.dispose()}var a=c._behaviors;if(a)this._disposeComponents(a);a=c._components;if(a){this._disposeComponents(a);c._components=null}}}},endCreateComponents:function(){var b=this._secondPassComponents;for(var a=0,d=b.length;a<d;a++){var c=b[a].component;Sys$Component$_setReferences(c,b[a].references);c.endUpdate()}this._secondPassComponents=[];this._creatingComponents=false},findComponent:function(b,a){return a?Sys.IContainer.isInstanceOfType(a)?a.findComponent(b):a[b]||null:Sys.Application._components[b]||null},getComponents:function(){var a=[],b=this._components;for(var c in b)a[a.length]=b[c];return a},initialize:function(){if(!this.get_isInitialized()&&!this._disposing){Sys._Application.callBaseMethod(this,"initialize");this._raiseInit();if(this.get_stateString){if(Sys.WebForms&&Sys.WebForms.PageRequestManager){this._beginRequestHandler=Function.createDelegate(this,this._onPageRequestManagerBeginRequest);Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(this._beginRequestHandler);this._endRequestHandler=Function.createDelegate(this,this._onPageRequestManagerEndRequest);Sys.WebForms.PageRequestManager.getInstance().add_endRequest(this._endRequestHandler)}var a=this.get_stateString();if(a!==this._currentEntry)this._navigate(a);else this._ensureHistory()}this.raiseLoad()}},notifyScriptLoaded:function(){},registerDisposableObject:function(b){if(!this._disposing){var a=this._disposableObjects,c=a.length;a[c]=b;b.__msdisposeindex=c}},raiseLoad:function(){var b=this.get_events().getHandler("load"),a=new Sys.ApplicationLoadEventArgs(Array.clone(this._createdComponents),!!this._loaded);this._loaded=true;if(b)b(this,a);if(window.pageLoad)window.pageLoad(this,a);this._createdComponents=[]},removeComponent:function(b){var a=b.get_id();if(a)delete this._components[a]},unregisterDisposableObject:function(a){if(!this._disposing){var e=a.__msdisposeindex;if(typeof e==="number"){var b=this._disposableObjects;delete b[e];delete a.__msdisposeindex;if(++this._deleteCount>1000){var c=[];for(var d=0,f=b.length;d<f;d++){a=b[d];if(typeof a!=="undefined"){a.__msdisposeindex=c.length;c.push(a)}}this._disposableObjects=c;this._deleteCount=0}}}},_addComponentToSecondPass:function(b,a){this._secondPassComponents[this._secondPassComponents.length]={component:b,references:a}},_disposeComponents:function(a){if(a)for(var b=a.length-1;b>=0;b--){var c=a[b];if(typeof c.dispose==="function")c.dispose()}},_domReady:function(){var a,g,f=this;function b(){f.initialize()}var c=function(){Sys.UI.DomEvent.removeHandler(window,"load",c);b()};Sys.UI.DomEvent.addHandler(window,"load",c);if(document.addEventListener)try{document.addEventListener("DOMContentLoaded",a=function(){document.removeEventListener("DOMContentLoaded",a,false);b()},false)}catch(h){}else if(document.attachEvent)if(window==window.top&&document.documentElement.doScroll){var e,d=document.createElement("div");a=function(){try{d.doScroll("left")}catch(c){e=window.setTimeout(a,0);return}d=null;b()};a()}else document.attachEvent("onreadystatechange",a=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",a);b()}})},_raiseInit:function(){var a=this.get_events().getHandler("init");if(a){this.beginCreateComponents();a(this,Sys.EventArgs.Empty);this.endCreateComponents()}},_unloadHandler:function(){this.dispose()}};Sys._Application.registerClass("Sys._Application",Sys.Component,Sys.IContainer);Sys.Application=new Sys._Application;var $find=Sys.Application.findComponent;Sys.UI.Behavior=function(b){Sys.UI.Behavior.initializeBase(this);this._element=b;var a=b._behaviors;if(!a)b._behaviors=[this];else a[a.length]=this};Sys.UI.Behavior.prototype={_name:null,get_element:function(){return this._element},get_id:function(){var a=Sys.UI.Behavior.callBaseMethod(this,"get_id");if(a)return a;if(!this._element||!this._element.id)return "";return this._element.id+"$"+this.get_name()},get_name:function(){if(this._name)return this._name;var a=Object.getTypeName(this),b=a.lastIndexOf(".");if(b!==-1)a=a.substr(b+1);if(!this.get_isInitialized())this._name=a;return a},set_name:function(a){this._name=a},initialize:function(){Sys.UI.Behavior.callBaseMethod(this,"initialize");var a=this.get_name();if(a)this._element[a]=this},dispose:function(){Sys.UI.Behavior.callBaseMethod(this,"dispose");var a=this._element;if(a){var c=this.get_name();if(c)a[c]=null;var b=a._behaviors;Array.remove(b,this);if(b.length===0)a._behaviors=null;delete this._element}}};Sys.UI.Behavior.registerClass("Sys.UI.Behavior",Sys.Component);Sys.UI.Behavior.getBehaviorByName=function(b,c){var a=b[c];return a&&Sys.UI.Behavior.isInstanceOfType(a)?a:null};Sys.UI.Behavior.getBehaviors=function(a){if(!a._behaviors)return [];return Array.clone(a._behaviors)};Sys.UI.Behavior.getBehaviorsByType=function(d,e){var a=d._behaviors,c=[];if(a)for(var b=0,f=a.length;b<f;b++)if(e.isInstanceOfType(a[b]))c[c.length]=a[b];return c};Sys.UI.VisibilityMode=function(){throw Error.notImplemented()};Sys.UI.VisibilityMode.prototype={hide:0,collapse:1};Sys.UI.VisibilityMode.registerEnum("Sys.UI.VisibilityMode");Sys.UI.Control=function(a){Sys.UI.Control.initializeBase(this);this._element=a;a.control=this;var b=this.get_role();if(b)a.setAttribute("role",b)};Sys.UI.Control.prototype={_parent:null,_visibilityMode:Sys.UI.VisibilityMode.hide,get_element:function(){return this._element},get_id:function(){if(!this._element)return "";return this._element.id},set_id:function(){throw Error.invalidOperation(Sys.Res.cantSetId)},get_parent:function(){if(this._parent)return this._parent;if(!this._element)return null;var a=this._element.parentNode;while(a){if(a.control)return a.control;a=a.parentNode}return null},set_parent:function(a){this._parent=a},get_role:function(){return null},get_visibilityMode:function(){return Sys.UI.DomElement.getVisibilityMode(this._element)},set_visibilityMode:function(a){Sys.UI.DomElement.setVisibilityMode(this._element,a)},get_visible:function(){return Sys.UI.DomElement.getVisible(this._element)},set_visible:function(a){Sys.UI.DomElement.setVisible(this._element,a)},addCssClass:function(a){Sys.UI.DomElement.addCssClass(this._element,a)},dispose:function(){Sys.UI.Control.callBaseMethod(this,"dispose");if(this._element){this._element.control=null;delete this._element}if(this._parent)delete this._parent},onBubbleEvent:function(){return false},raiseBubbleEvent:function(a,b){this._raiseBubbleEvent(a,b)},_raiseBubbleEvent:function(b,c){var a=this.get_parent();while(a){if(a.onBubbleEvent(b,c))return;a=a.get_parent()}},removeCssClass:function(a){Sys.UI.DomElement.removeCssClass(this._element,a)},toggleCssClass:function(a){Sys.UI.DomElement.toggleCssClass(this._element,a)}};Sys.UI.Control.registerClass("Sys.UI.Control",Sys.Component);Sys.HistoryEventArgs=function(a){Sys.HistoryEventArgs.initializeBase(this);this._state=a};Sys.HistoryEventArgs.prototype={get_state:function(){return this._state}};Sys.HistoryEventArgs.registerClass("Sys.HistoryEventArgs",Sys.EventArgs);Sys.Application._appLoadHandler=null;Sys.Application._beginRequestHandler=null;Sys.Application._clientId=null;Sys.Application._currentEntry="";Sys.Application._endRequestHandler=null;Sys.Application._history=null;Sys.Application._enableHistory=false;Sys.Application._historyFrame=null;Sys.Application._historyInitialized=false;Sys.Application._historyPointIsNew=false;Sys.Application._ignoreTimer=false;Sys.Application._initialState=null;Sys.Application._state={};Sys.Application._timerCookie=0;Sys.Application._timerHandler=null;Sys.Application._uniqueId=null;Sys._Application.prototype.get_stateString=function(){var a=null;if(Sys.Browser.agent===Sys.Browser.Firefox){var c=window.location.href,b=c.indexOf("#");if(b!==-1)a=c.substring(b+1);else a="";return a}else a=window.location.hash;if(a.length>0&&a.charAt(0)==="#")a=a.substring(1);return a};Sys._Application.prototype.get_enableHistory=function(){return this._enableHistory};Sys._Application.prototype.set_enableHistory=function(a){this._enableHistory=a};Sys._Application.prototype.add_navigate=function(a){this.get_events().addHandler("navigate",a)};Sys._Application.prototype.remove_navigate=function(a){this.get_events().removeHandler("navigate",a)};Sys._Application.prototype.addHistoryPoint=function(c,f){this._ensureHistory();var b=this._state;for(var a in c){var d=c[a];if(d===null){if(typeof b[a]!=="undefined")delete b[a]}else b[a]=d}var e=this._serializeState(b);this._historyPointIsNew=true;this._setState(e,f);this._raiseNavigate()};Sys._Application.prototype.setServerId=function(a,b){this._clientId=a;this._uniqueId=b};Sys._Application.prototype.setServerState=function(a){this._ensureHistory();this._state.__s=a;this._updateHiddenField(a)};Sys._Application.prototype._deserializeState=function(a){var e={};a=a||"";var b=a.indexOf("&&");if(b!==-1&&b+2<a.length){e.__s=a.substr(b+2);a=a.substr(0,b)}var g=a.split("&");for(var f=0,j=g.length;f<j;f++){var d=g[f],c=d.indexOf("=");if(c!==-1&&c+1<d.length){var i=d.substr(0,c),h=d.substr(c+1);e[i]=decodeURIComponent(h)}}return e};Sys._Application.prototype._enableHistoryInScriptManager=function(){this._enableHistory=true};Sys._Application.prototype._ensureHistory=function(){if(!this._historyInitialized&&this._enableHistory){if(Sys.Browser.agent===Sys.Browser.InternetExplorer&&(!document.documentMode||document.documentMode<8)){this._historyFrame=document.getElementById("__historyFrame");this._ignoreIFrame=true}this._timerHandler=Function.createDelegate(this,this._onIdle);this._timerCookie=window.setTimeout(this._timerHandler,100);try{this._initialState=this._deserializeState(this.get_stateString())}catch(a){}this._historyInitialized=true}};Sys._Application.prototype._navigate=function(c){this._ensureHistory();var b=this._deserializeState(c);if(this._uniqueId){var d=this._state.__s||"",a=b.__s||"";if(a!==d){this._updateHiddenField(a);__doPostBack(this._uniqueId,a);this._state=b;return}}this._setState(c);this._state=b;this._raiseNavigate()};Sys._Application.prototype._onIdle=function(){delete this._timerCookie;var a=this.get_stateString();if(a!==this._currentEntry){if(!this._ignoreTimer){this._historyPointIsNew=false;this._navigate(a)}}else this._ignoreTimer=false;this._timerCookie=window.setTimeout(this._timerHandler,100)};Sys._Application.prototype._onIFrameLoad=function(a){if(!document.documentMode||document.documentMode<8){this._ensureHistory();if(!this._ignoreIFrame){this._historyPointIsNew=false;this._navigate(a)}this._ignoreIFrame=false}};Sys._Application.prototype._onPageRequestManagerBeginRequest=function(){this._ignoreTimer=true;this._originalTitle=document.title};Sys._Application.prototype._onPageRequestManagerEndRequest=function(g,f){var d=f.get_dataItems()[this._clientId],c=this._originalTitle;this._originalTitle=null;var b=document.getElementById("__EVENTTARGET");if(b&&b.value===this._uniqueId)b.value="";if(typeof d!=="undefined"){this.setServerState(d);this._historyPointIsNew=true}else this._ignoreTimer=false;var a=this._serializeState(this._state);if(a!==this._currentEntry){this._ignoreTimer=true;if(typeof c==="string"){if(Sys.Browser.agent!==Sys.Browser.InternetExplorer||Sys.Browser.version>7){var e=document.title;document.title=c;this._setState(a);document.title=e}else this._setState(a);this._raiseNavigate()}else{this._setState(a);this._raiseNavigate()}}};Sys._Application.prototype._raiseNavigate=function(){var d=this._historyPointIsNew,c=this.get_events().getHandler("navigate"),b={};for(var a in this._state)if(a!=="__s")b[a]=this._state[a];var e=new Sys.HistoryEventArgs(b);if(c)c(this,e);if(!d){var f;try{if(Sys.Browser.agent===Sys.Browser.Firefox&&window.location.hash&&(!window.frameElement||window.top.location.hash))Sys.Browser.version<3.5?window.history.go(0):(location.hash=this.get_stateString())}catch(g){}}};Sys._Application.prototype._serializeState=function(d){var b=[];for(var a in d){var e=d[a];if(a==="__s")var c=e;else b[b.length]=a+"="+encodeURIComponent(e)}return b.join("&")+(c?"&&"+c:"")};Sys._Application.prototype._setState=function(a,b){if(this._enableHistory){a=a||"";if(a!==this._currentEntry){if(window.theForm){var d=window.theForm.action,e=d.indexOf("#");window.theForm.action=(e!==-1?d.substring(0,e):d)+"#"+a}if(this._historyFrame&&this._historyPointIsNew){var f=document.createElement("div");f.appendChild(document.createTextNode(b||document.title));var g=f.innerHTML;this._ignoreIFrame=true;var c=this._historyFrame.contentWindow.document;c.open("javascript:'<html></html>'");c.write("<html><head><title>"+g+"</title><scri"+'pt type="text/javascript">parent.Sys.Application._onIFrameLoad('+Sys.Serialization.JavaScriptSerializer.serialize(a)+");</scri"+"pt></head><body></body></html>");c.close()}this._ignoreTimer=false;this._currentEntry=a;if(this._historyFrame||this._historyPointIsNew){var h=this.get_stateString();if(a!==h){window.location.hash=a;this._currentEntry=this.get_stateString();if(typeof b!=="undefined"&&b!==null)document.title=b}}this._historyPointIsNew=false}}};Sys._Application.prototype._updateHiddenField=function(b){if(this._clientId){var a=document.getElementById(this._clientId);if(a)a.value=b}};if(!window.XMLHttpRequest)window.XMLHttpRequest=function(){var b=["Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP"];for(var a=0,c=b.length;a<c;a++)try{return new ActiveXObject(b[a])}catch(d){}return null};Type.registerNamespace("Sys.Net");Sys.Net.WebRequestExecutor=function(){this._webRequest=null;this._resultObject=null};Sys.Net.WebRequestExecutor.prototype={get_webRequest:function(){return this._webRequest},_set_webRequest:function(a){this._webRequest=a},get_started:function(){throw Error.notImplemented()},get_responseAvailable:function(){throw Error.notImplemented()},get_timedOut:function(){throw Error.notImplemented()},get_aborted:function(){throw Error.notImplemented()},get_responseData:function(){throw Error.notImplemented()},get_statusCode:function(){throw Error.notImplemented()},get_statusText:function(){throw Error.notImplemented()},get_xml:function(){throw Error.notImplemented()},get_object:function(){if(!this._resultObject)this._resultObject=Sys.Serialization.JavaScriptSerializer.deserialize(this.get_responseData());return this._resultObject},executeRequest:function(){throw Error.notImplemented()},abort:function(){throw Error.notImplemented()},getResponseHeader:function(){throw Error.notImplemented()},getAllResponseHeaders:function(){throw Error.notImplemented()}};Sys.Net.WebRequestExecutor.registerClass("Sys.Net.WebRequestExecutor");Sys.Net.XMLDOM=function(d){if(!window.DOMParser){var c=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"];for(var b=0,f=c.length;b<f;b++)try{var a=new ActiveXObject(c[b]);a.async=false;a.loadXML(d);a.setProperty("SelectionLanguage","XPath");return a}catch(g){}}else try{var e=new window.DOMParser;return e.parseFromString(d,"text/xml")}catch(g){}return null};Sys.Net.XMLHttpExecutor=function(){Sys.Net.XMLHttpExecutor.initializeBase(this);var a=this;this._xmlHttpRequest=null;this._webRequest=null;this._responseAvailable=false;this._timedOut=false;this._timer=null;this._aborted=false;this._started=false;this._onReadyStateChange=function(){if(a._xmlHttpRequest.readyState===4){try{if(typeof a._xmlHttpRequest.status==="undefined"||a._xmlHttpRequest.status===0)return}catch(b){return}a._clearTimer();a._responseAvailable=true;try{a._webRequest.completed(Sys.EventArgs.Empty)}finally{if(a._xmlHttpRequest!=null){a._xmlHttpRequest.onreadystatechange=Function.emptyMethod;a._xmlHttpRequest=null}}}};this._clearTimer=function(){if(a._timer!=null){window.clearTimeout(a._timer);a._timer=null}};this._onTimeout=function(){if(!a._responseAvailable){a._clearTimer();a._timedOut=true;a._xmlHttpRequest.onreadystatechange=Function.emptyMethod;a._xmlHttpRequest.abort();a._webRequest.completed(Sys.EventArgs.Empty);a._xmlHttpRequest=null}}};Sys.Net.XMLHttpExecutor.prototype={get_timedOut:function(){return this._timedOut},get_started:function(){return this._started},get_responseAvailable:function(){return this._responseAvailable},get_aborted:function(){return this._aborted},executeRequest:function(){this._webRequest=this.get_webRequest();var c=this._webRequest.get_body(),a=this._webRequest.get_headers();this._xmlHttpRequest=new XMLHttpRequest;this._xmlHttpRequest.onreadystatechange=this._onReadyStateChange;var e=this._webRequest.get_httpVerb();this._xmlHttpRequest.open(e,this._webRequest.getResolvedUrl(),true);this._xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest");if(a)for(var b in a){var f=a[b];if(typeof f!=="function")this._xmlHttpRequest.setRequestHeader(b,f)}if(e.toLowerCase()==="post"){if(a===null||!a["Content-Type"])this._xmlHttpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");if(!c)c=""}var d=this._webRequest.get_timeout();if(d>0)this._timer=window.setTimeout(Function.createDelegate(this,this._onTimeout),d);this._xmlHttpRequest.send(c);this._started=true},getResponseHeader:function(b){var a;try{a=this._xmlHttpRequest.getResponseHeader(b)}catch(c){}if(!a)a="";return a},getAllResponseHeaders:function(){return this._xmlHttpRequest.getAllResponseHeaders()},get_responseData:function(){return this._xmlHttpRequest.responseText},get_statusCode:function(){var a=0;try{a=this._xmlHttpRequest.status}catch(b){}return a},get_statusText:function(){return this._xmlHttpRequest.statusText},get_xml:function(){var a=this._xmlHttpRequest.responseXML;if(!a||!a.documentElement){a=Sys.Net.XMLDOM(this._xmlHttpRequest.responseText);if(!a||!a.documentElement)return null}else if(navigator.userAgent.indexOf("MSIE")!==-1&&typeof a.setProperty!="undefined")a.setProperty("SelectionLanguage","XPath");if(a.documentElement.namespaceURI==="http://www.mozilla.org/newlayout/xml/parsererror.xml"&&a.documentElement.tagName==="parsererror")return null;if(a.documentElement.firstChild&&a.documentElement.firstChild.tagName==="parsererror")return null;return a},abort:function(){if(this._aborted||this._responseAvailable||this._timedOut)return;this._aborted=true;this._clearTimer();if(this._xmlHttpRequest&&!this._responseAvailable){this._xmlHttpRequest.onreadystatechange=Function.emptyMethod;this._xmlHttpRequest.abort();this._xmlHttpRequest=null;this._webRequest.completed(Sys.EventArgs.Empty)}}};Sys.Net.XMLHttpExecutor.registerClass("Sys.Net.XMLHttpExecutor",Sys.Net.WebRequestExecutor);Sys.Net._WebRequestManager=function(){this._defaultTimeout=0;this._defaultExecutorType="Sys.Net.XMLHttpExecutor"};Sys.Net._WebRequestManager.prototype={add_invokingRequest:function(a){this._get_eventHandlerList().addHandler("invokingRequest",a)},remove_invokingRequest:function(a){this._get_eventHandlerList().removeHandler("invokingRequest",a)},add_completedRequest:function(a){this._get_eventHandlerList().addHandler("completedRequest",a)},remove_completedRequest:function(a){this._get_eventHandlerList().removeHandler("completedRequest",a)},_get_eventHandlerList:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_defaultTimeout:function(){return this._defaultTimeout},set_defaultTimeout:function(a){this._defaultTimeout=a},get_defaultExecutorType:function(){return this._defaultExecutorType},set_defaultExecutorType:function(a){this._defaultExecutorType=a},executeRequest:function(webRequest){var executor=webRequest.get_executor();if(!executor){var failed=false;try{var executorType=eval(this._defaultExecutorType);executor=new executorType}catch(a){failed=true}webRequest.set_executor(executor)}if(executor.get_aborted())return;var evArgs=new Sys.Net.NetworkRequestEventArgs(webRequest),handler=this._get_eventHandlerList().getHandler("invokingRequest");if(handler)handler(this,evArgs);if(!evArgs.get_cancel())executor.executeRequest()}};Sys.Net._WebRequestManager.registerClass("Sys.Net._WebRequestManager");Sys.Net.WebRequestManager=new Sys.Net._WebRequestManager;Sys.Net.NetworkRequestEventArgs=function(a){Sys.Net.NetworkRequestEventArgs.initializeBase(this);this._webRequest=a};Sys.Net.NetworkRequestEventArgs.prototype={get_webRequest:function(){return this._webRequest}};Sys.Net.NetworkRequestEventArgs.registerClass("Sys.Net.NetworkRequestEventArgs",Sys.CancelEventArgs);Sys.Net.WebRequest=function(){this._url="";this._headers={};this._body=null;this._userContext=null;this._httpVerb=null;this._executor=null;this._invokeCalled=false;this._timeout=0};Sys.Net.WebRequest.prototype={add_completed:function(a){this._get_eventHandlerList().addHandler("completed",a)},remove_completed:function(a){this._get_eventHandlerList().removeHandler("completed",a)},completed:function(b){var a=Sys.Net.WebRequestManager._get_eventHandlerList().getHandler("completedRequest");if(a)a(this._executor,b);a=this._get_eventHandlerList().getHandler("completed");if(a)a(this._executor,b)},_get_eventHandlerList:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_url:function(){return this._url},set_url:function(a){this._url=a},get_headers:function(){return this._headers},get_httpVerb:function(){if(this._httpVerb===null){if(this._body===null)return "GET";return "POST"}return this._httpVerb},set_httpVerb:function(a){this._httpVerb=a},get_body:function(){return this._body},set_body:function(a){this._body=a},get_userContext:function(){return this._userContext},set_userContext:function(a){this._userContext=a},get_executor:function(){return this._executor},set_executor:function(a){this._executor=a;this._executor._set_webRequest(this)},get_timeout:function(){if(this._timeout===0)return Sys.Net.WebRequestManager.get_defaultTimeout();return this._timeout},set_timeout:function(a){this._timeout=a},getResolvedUrl:function(){return Sys.Net.WebRequest._resolveUrl(this._url)},invoke:function(){Sys.Net.WebRequestManager.executeRequest(this);this._invokeCalled=true}};Sys.Net.WebRequest._resolveUrl=function(b,a){if(b&&b.indexOf("://")!==-1)return b;if(!a||a.length===0){var d=document.getElementsByTagName("base")[0];if(d&&d.href&&d.href.length>0)a=d.href;else a=document.URL}var c=a.indexOf("?");if(c!==-1)a=a.substr(0,c);c=a.indexOf("#");if(c!==-1)a=a.substr(0,c);a=a.substr(0,a.lastIndexOf("/")+1);if(!b||b.length===0)return a;if(b.charAt(0)==="/"){var e=a.indexOf("://"),g=a.indexOf("/",e+3);return a.substr(0,g)+b}else{var f=a.lastIndexOf("/");return a.substr(0,f+1)+b}};Sys.Net.WebRequest._createQueryString=function(c,b,f){b=b||encodeURIComponent;var h=0,e,g,d,a=new Sys.StringBuilder;if(c)for(d in c){e=c[d];if(typeof e==="function")continue;g=Sys.Serialization.JavaScriptSerializer.serialize(e);if(h++)a.append("&");a.append(d);a.append("=");a.append(b(g))}if(f){if(h)a.append("&");a.append(f)}return a.toString()};Sys.Net.WebRequest._createUrl=function(a,b,c){if(!b&&!c)return a;var d=Sys.Net.WebRequest._createQueryString(b,null,c);return d.length?a+(a&&a.indexOf("?")>=0?"&":"?")+d:a};Sys.Net.WebRequest.registerClass("Sys.Net.WebRequest");Sys._ScriptLoaderTask=function(b,a){this._scriptElement=b;this._completedCallback=a};Sys._ScriptLoaderTask.prototype={get_scriptElement:function(){return this._scriptElement},dispose:function(){if(this._disposed)return;this._disposed=true;this._removeScriptElementHandlers();Sys._ScriptLoaderTask._clearScript(this._scriptElement);this._scriptElement=null},execute:function(){if(this._ensureReadyStateLoaded())this._executeInternal()},_executeInternal:function(){this._addScriptElementHandlers();document.getElementsByTagName("head")[0].appendChild(this._scriptElement)},_ensureReadyStateLoaded:function(){if(this._useReadyState()&&this._scriptElement.readyState!=="loaded"&&this._scriptElement.readyState!=="complete"){this._scriptDownloadDelegate=Function.createDelegate(this,this._executeInternal);$addHandler(this._scriptElement,"readystatechange",this._scriptDownloadDelegate);return false}return true},_addScriptElementHandlers:function(){if(this._scriptDownloadDelegate){$removeHandler(this._scriptElement,"readystatechange",this._scriptDownloadDelegate);this._scriptDownloadDelegate=null}this._scriptLoadDelegate=Function.createDelegate(this,this._scriptLoadHandler);if(this._useReadyState())$addHandler(this._scriptElement,"readystatechange",this._scriptLoadDelegate);else $addHandler(this._scriptElement,"load",this._scriptLoadDelegate);if(this._scriptElement.addEventListener){this._scriptErrorDelegate=Function.createDelegate(this,this._scriptErrorHandler);this._scriptElement.addEventListener("error",this._scriptErrorDelegate,false)}},_removeScriptElementHandlers:function(){if(this._scriptLoadDelegate){var a=this.get_scriptElement();if(this._scriptDownloadDelegate){$removeHandler(this._scriptElement,"readystatechange",this._scriptDownloadDelegate);this._scriptDownloadDelegate=null}if(this._useReadyState()&&this._scriptLoadDelegate)$removeHandler(a,"readystatechange",this._scriptLoadDelegate);else $removeHandler(a,"load",this._scriptLoadDelegate);if(this._scriptErrorDelegate){this._scriptElement.removeEventListener("error",this._scriptErrorDelegate,false);this._scriptErrorDelegate=null}this._scriptLoadDelegate=null}},_scriptErrorHandler:function(){if(this._disposed)return;this._completedCallback(this.get_scriptElement(),false)},_scriptLoadHandler:function(){if(this._disposed)return;var a=this.get_scriptElement();if(this._useReadyState()&&a.readyState!=="complete")return;this._completedCallback(a,true)},_useReadyState:function(){return Sys.Browser.agent===Sys.Browser.InternetExplorer&&(Sys.Browser.version<9||(document.documentMode||0)<9)}};Sys._ScriptLoaderTask.registerClass("Sys._ScriptLoaderTask",null,Sys.IDisposable);Sys._ScriptLoaderTask._clearScript=function(a){if(!Sys.Debug.isDebug&&a.parentNode)a.parentNode.removeChild(a)};Type.registerNamespace("Sys.Net");Sys.Net.WebServiceProxy=function(){};Sys.Net.WebServiceProxy.prototype={get_timeout:function(){return this._timeout||0},set_timeout:function(a){if(a<0)throw Error.argumentOutOfRange("value",a,Sys.Res.invalidTimeout);this._timeout=a},get_defaultUserContext:function(){return typeof this._userContext==="undefined"?null:this._userContext},set_defaultUserContext:function(a){this._userContext=a},get_defaultSucceededCallback:function(){return this._succeeded||null},set_defaultSucceededCallback:function(a){this._succeeded=a},get_defaultFailedCallback:function(){return this._failed||null},set_defaultFailedCallback:function(a){this._failed=a},get_enableJsonp:function(){return !!this._jsonp},set_enableJsonp:function(a){this._jsonp=a},get_path:function(){return this._path||null},set_path:function(a){this._path=a},get_jsonpCallbackParameter:function(){return this._callbackParameter||"callback"},set_jsonpCallbackParameter:function(a){this._callbackParameter=a},_invoke:function(d,e,g,f,c,b,a){c=c||this.get_defaultSucceededCallback();b=b||this.get_defaultFailedCallback();if(a===null||typeof a==="undefined")a=this.get_defaultUserContext();return Sys.Net.WebServiceProxy.invoke(d,e,g,f,c,b,a,this.get_timeout(),this.get_enableJsonp(),this.get_jsonpCallbackParameter())}};Sys.Net.WebServiceProxy.registerClass("Sys.Net.WebServiceProxy");Sys.Net.WebServiceProxy.invoke=function(q,a,m,l,j,b,g,e,w,p){var i=w!==false?Sys.Net.WebServiceProxy._xdomain.exec(q):null,c,n=i&&i.length===3&&(i[1]!==location.protocol||i[2]!==location.host);m=n||m;if(n){p=p||"callback";c="_jsonp"+Sys._jsonp++}if(!l)l={};var r=l;if(!m||!r)r={};var s,h,f=null,k,o=null,u=Sys.Net.WebRequest._createUrl(a?q+"/"+encodeURIComponent(a):q,r,n?p+"=Sys."+c:null);if(n){s=document.createElement("script");s.src=u;k=new Sys._ScriptLoaderTask(s,function(d,b){if(!b||c)t({Message:String.format(Sys.Res.webServiceFailedNoMsg,a)},-1)});function v(){if(f===null)return;f=null;h=new Sys.Net.WebServiceError(true,String.format(Sys.Res.webServiceTimedOut,a));k.dispose();delete Sys[c];if(b)b(h,g,a)}function t(d,e){if(f!==null){window.clearTimeout(f);f=null}k.dispose();delete Sys[c];c=null;if(typeof e!=="undefined"&&e!==200){if(b){h=new Sys.Net.WebServiceError(false,d.Message||String.format(Sys.Res.webServiceFailedNoMsg,a),d.StackTrace||null,d.ExceptionType||null,d);h._statusCode=e;b(h,g,a)}}else if(j)j(d,g,a)}Sys[c]=t;e=e||Sys.Net.WebRequestManager.get_defaultTimeout();if(e>0)f=window.setTimeout(v,e);k.execute();return null}var d=new Sys.Net.WebRequest;d.set_url(u);d.get_headers()["Content-Type"]="application/json; charset=utf-8";if(!m){o=Sys.Serialization.JavaScriptSerializer.serialize(l);if(o==="{}")o=""}d.set_body(o);d.add_completed(x);if(e&&e>0)d.set_timeout(e);d.invoke();function x(d){if(d.get_responseAvailable()){var f=d.get_statusCode(),c=null;try{var e=d.getResponseHeader("Content-Type");if(e.startsWith("application/json"))c=d.get_object();else if(e.startsWith("text/xml"))c=d.get_xml();else c=d.get_responseData()}catch(m){}var k=d.getResponseHeader("jsonerror"),h=k==="true";if(h){if(c)c=new Sys.Net.WebServiceError(false,c.Message,c.StackTrace,c.ExceptionType,c)}else if(e.startsWith("application/json"))c=!c||typeof c.d==="undefined"?c:c.d;if(f<200||f>=300||h){if(b){if(!c||!h)c=new Sys.Net.WebServiceError(false,String.format(Sys.Res.webServiceFailedNoMsg,a));c._statusCode=f;b(c,g,a)}}else if(j)j(c,g,a)}else{var i;if(d.get_timedOut())i=String.format(Sys.Res.webServiceTimedOut,a);else i=String.format(Sys.Res.webServiceFailedNoMsg,a);if(b)b(new Sys.Net.WebServiceError(d.get_timedOut(),i,"",""),g,a)}}return d};Sys.Net.WebServiceProxy._generateTypedConstructor=function(a){return function(b){if(b)for(var c in b)this[c]=b[c];this.__type=a}};Sys._jsonp=0;Sys.Net.WebServiceProxy._xdomain=/^\s*([a-zA-Z0-9\+\-\.]+\:)\/\/([^?#\/]+)/;Sys.Net.WebServiceError=function(d,e,c,a,b){this._timedOut=d;this._message=e;this._stackTrace=c;this._exceptionType=a;this._errorObject=b;this._statusCode=-1};Sys.Net.WebServiceError.prototype={get_timedOut:function(){return this._timedOut},get_statusCode:function(){return this._statusCode},get_message:function(){return this._message},get_stackTrace:function(){return this._stackTrace||""},get_exceptionType:function(){return this._exceptionType||""},get_errorObject:function(){return this._errorObject||null}};Sys.Net.WebServiceError.registerClass("Sys.Net.WebServiceError");
Type.registerNamespace('Sys');Sys.Res={
"argumentInteger":"Value must be an integer.","invokeCalledTwice":"Cannot call invoke more than once.","webServiceFailed":"The server method \u0027{0}\u0027 failed with the following error: {1}","argumentType":"Object cannot be converted to the required type.","argumentNull":"Value cannot be null.","scriptAlreadyLoaded":"The script \u0027{0}\u0027 has been referenced multiple times. If referencing Microsoft AJAX scripts explicitly, set the MicrosoftAjaxMode property of the ScriptManager to Explicit.","scriptDependencyNotFound":"The script \u0027{0}\u0027 failed to load because it is dependent on script \u0027{1}\u0027.","formatBadFormatSpecifier":"Format specifier was invalid.","requiredScriptReferenceNotIncluded":"\u0027{0}\u0027 requires that you have included a script reference to \u0027{1}\u0027.","webServiceFailedNoMsg":"The server method \u0027{0}\u0027 failed.","argumentDomElement":"Value must be a DOM element.","invalidExecutorType":"Could not create a valid Sys.Net.WebRequestExecutor from: {0}.","cannotCallBeforeResponse":"Cannot call {0} when responseAvailable is false.","actualValue":"Actual value was {0}.","enumInvalidValue":"\u0027{0}\u0027 is not a valid value for enum {1}.","scriptLoadFailed":"The script \u0027{0}\u0027 could not be loaded.","parameterCount":"Parameter count mismatch.","cannotDeserializeEmptyString":"Cannot deserialize empty string.","formatInvalidString":"Input string was not in a correct format.","invalidTimeout":"Value must be greater than or equal to zero.","cannotAbortBeforeStart":"Cannot abort when executor has not started.","argument":"Value does not fall within the expected range.","cannotDeserializeInvalidJson":"Cannot deserialize. The data does not correspond to valid JSON.","invalidHttpVerb":"httpVerb cannot be set to an empty or null string.","nullWebRequest":"Cannot call executeRequest with a null webRequest.","eventHandlerInvalid":"Handler was not added through the Sys.UI.DomEvent.addHandler method.","cannotSerializeNonFiniteNumbers":"Cannot serialize non finite numbers.","argumentUndefined":"Value cannot be undefined.","webServiceInvalidReturnType":"The server method \u0027{0}\u0027 returned an invalid type. Expected type: {1}","servicePathNotSet":"The path to the web service has not been set.","argumentTypeWithTypes":"Object of type \u0027{0}\u0027 cannot be converted to type \u0027{1}\u0027.","cannotCallOnceStarted":"Cannot call {0} once started.","badBaseUrl1":"Base URL does not contain ://.","badBaseUrl2":"Base URL does not contain another /.","badBaseUrl3":"Cannot find last / in base URL.","setExecutorAfterActive":"Cannot set executor after it has become active.","paramName":"Parameter name: {0}","nullReferenceInPath":"Null reference while evaluating data path: \u0027{0}\u0027.","cannotCallOutsideHandler":"Cannot call {0} outside of a completed event handler.","cannotSerializeObjectWithCycle":"Cannot serialize object with cyclic reference within child properties.","format":"One of the identified items was in an invalid format.","assertFailedCaller":"Assertion Failed: {0}\r\nat {1}","argumentOutOfRange":"Specified argument was out of the range of valid values.","webServiceTimedOut":"The server method \u0027{0}\u0027 timed out.","notImplemented":"The method or operation is not implemented.","assertFailed":"Assertion Failed: {0}","invalidOperation":"Operation is not valid due to the current state of the object.","breakIntoDebugger":"{0}\r\n\r\nBreak into debugger?"};
/* END MicrosoftAjax.js */
/* START TrainingAssist.Presentation.Pages.Scripts.yepnope.js */
/*yepnope1.5.2|WTFPL*/
// yepnope.js
// Version - 1.5.2
//
// by
// Alex Sexton - @SlexAxton - AlexSexton[at]gmail.com
// Ralph Holzmann - @ralphholzmann - ralphholzmann[at]gmail.com
//
// http://yepnopejs.com/
// https://github.com/SlexAxton/yepnope.js/
//
// Tri-license - WTFPL | MIT | BSD
//
// Please minify before use.
// Also available as Modernizr.load via the Modernizr Project
//
( function ( window, doc, undef ) {

var docElement            = doc.documentElement,
    sTimeout              = window.setTimeout,
    firstScript           = doc.getElementsByTagName( "script" )[ 0 ],
    toString              = {}.toString,
    execStack             = [],
    started               = 0,
    noop                  = function () {},
    // Before you get mad about browser sniffs, please read:
    // https://github.com/Modernizr/Modernizr/wiki/Undetectables
    // If you have a better solution, we are actively looking to solve the problem
    isGecko               = ( "MozAppearance" in docElement.style ),
    isGeckoLTE18          = isGecko && !! doc.createRange().compareNode,
    insBeforeObj          = isGeckoLTE18 ? docElement : firstScript.parentNode,
    // Thanks to @jdalton for showing us this opera detection (by way of @kangax) (and probably @miketaylr too, or whatever...)
    isOpera               = window.opera && toString.call( window.opera ) == "[object Opera]",
    isIE                  = !! doc.attachEvent && !isOpera,
    strJsElem             = isGecko ? "object" : isIE  ? "script" : "img",
    strCssElem            = isIE ? "script" : strJsElem,
    isArray               = Array.isArray || function ( obj ) {
      return toString.call( obj ) == "[object Array]";
    },
    isObject              = function ( obj ) {
      return Object(obj) === obj;
    },
    isString              = function ( s ) {
      return typeof s == "string";
    },
    isFunction            = function ( fn ) {
      return toString.call( fn ) == "[object Function]";
    },
    globalFilters         = [],
    scriptCache           = {},
    prefixes              = {
      // key value pair timeout options
      timeout : function( resourceObj, prefix_parts ) {
        if ( prefix_parts.length ) {
          resourceObj['timeout'] = prefix_parts[ 0 ];
        }
        return resourceObj;
      }
    },
    handler,
    yepnope;

  /* Loader helper functions */
  function isFileReady ( readyState ) {
    // Check to see if any of the ways a file can be ready are available as properties on the file's element
    return ( ! readyState || readyState == "loaded" || readyState == "complete" || readyState == "uninitialized" );
  }


  // Takes a preloaded js obj (changes in different browsers) and injects it into the head
  // in the appropriate order
  function injectJs ( src, cb, attrs, timeout, /* internal use */ err, internal ) {
    var script = doc.createElement( "script" ),
        done, i;

    timeout = timeout || yepnope['errorTimeout'];

    script.src = src;

    // Add our extra attributes to the script element
    for ( i in attrs ) {
        script.setAttribute( i, attrs[ i ] );
    }

    cb = internal ? executeStack : ( cb || noop );

    // Bind to load events
    script.onreadystatechange = script.onload = function () {

      if ( ! done && isFileReady( script.readyState ) ) {

        // Set done to prevent this function from being called twice.
        done = 1;
        cb();

        // Handle memory leak in IE
        script.onload = script.onreadystatechange = null;
      }
    };

    // 404 Fallback
    sTimeout(function () {
      if ( ! done ) {
        done = 1;
        // Might as well pass in an error-state if we fire the 404 fallback
        cb(1);
      }
    }, timeout );

    // Inject script into to document
    // or immediately callback if we know there
    // was previously a timeout error
    err ? script.onload() : firstScript.parentNode.insertBefore( script, firstScript );
  }

  // Takes a preloaded css obj (changes in different browsers) and injects it into the head
  function injectCss ( href, cb, attrs, timeout, /* Internal use */ err, internal ) {

    // Create stylesheet link
    var link = doc.createElement( "link" ),
        done, i;

    timeout = timeout || yepnope['errorTimeout'];

    cb = internal ? executeStack : ( cb || noop );

    // Add attributes
    link.href = href;
    link.rel  = "stylesheet";
    link.type = "text/css";

    // Add our extra attributes to the link element
    for ( i in attrs ) {
      link.setAttribute( i, attrs[ i ] );
    }

    if ( ! err ) {
      firstScript.parentNode.insertBefore( link, firstScript );
      sTimeout(cb, 0);
    }
  }

  function executeStack ( ) {
    // shift an element off of the stack
    var i   = execStack.shift();
    started = 1;

    // if a is truthy and the first item in the stack has an src
    if ( i ) {
      // if it's a script, inject it into the head with no type attribute
      if ( i['t'] ) {
        // Inject after a timeout so FF has time to be a jerk about it and
        // not double load (ignore the cache)
        sTimeout( function () {
          (i['t'] == "c" ?  yepnope['injectCss'] : yepnope['injectJs'])( i['s'], 0, i['a'], i['x'], i['e'], 1 );
        }, 0 );
      }
      // Otherwise, just call the function and potentially run the stack
      else {
        i();
        executeStack();
      }
    }
    else {
      // just reset out of recursive mode
      started = 0;
    }
  }

  function preloadFile ( elem, url, type, splicePoint, dontExec, attrObj, timeout ) {

    timeout = timeout || yepnope['errorTimeout'];

    // Create appropriate element for browser and type
    var preloadElem = {},
        done        = 0,
        firstFlag   = 0,
        stackObject = {
          "t": type,     // type
          "s": url,      // src
        //r: 0,        // ready
          "e": dontExec,// set to true if we don't want to reinject
          "a": attrObj,
          "x": timeout
        };

    // The first time (common-case)
    if ( scriptCache[ url ] === 1 ) {
      firstFlag = 1;
      scriptCache[ url ] = [];
      preloadElem = doc.createElement( elem );
    }

    function onload ( first ) {
      // If the script/css file is loaded
      if ( ! done && isFileReady( preloadElem.readyState ) ) {

        // Set done to prevent this function from being called twice.
        stackObject['r'] = done = 1;

        ! started && executeStack();

        // Handle memory leak in IE
        preloadElem.onload = preloadElem.onreadystatechange = null;
        if ( first ) {
          if ( elem != "img" ) {
            sTimeout(function(){ insBeforeObj.removeChild( preloadElem ) }, 50);
          }

          for ( var i in scriptCache[ url ] ) {
            if ( scriptCache[ url ].hasOwnProperty( i ) ) {
              scriptCache[ url ][ i ].onload();
            }
          }
        }
      }
    }


    // Setting url to data for objects or src for img/scripts
    if ( elem == "object" ) {
      preloadElem.data = url;
    } else {
      preloadElem.src = url;

      // Setting bogus script type to allow the script to be cached
      preloadElem.type = elem;
    }

    // Don't let it show up visually
    preloadElem.width = preloadElem.height = "0";

    // Attach handlers for all browsers
    preloadElem.onerror = preloadElem.onload = preloadElem.onreadystatechange = function(){
      onload.call(this, firstFlag);
    };
    // inject the element into the stack depending on if it's
    // in the middle of other scripts or not
    execStack.splice( splicePoint, 0, stackObject );

    // The only place these can't go is in the <head> element, since objects won't load in there
    // so we have two options - insert before the head element (which is hard to assume) - or
    // insertBefore technically takes null/undefined as a second param and it will insert the element into
    // the parent last. We try the head, and it automatically falls back to undefined.
    if ( elem != "img" ) {
      // If it's the first time, or we've already loaded it all the way through
      if ( firstFlag || scriptCache[ url ] === 2 ) {
        insBeforeObj.insertBefore( preloadElem, isGeckoLTE18 ? null : firstScript );

        // If something fails, and onerror doesn't fire,
        // continue after a timeout.
        sTimeout( onload, timeout );
      }
      else {
        // instead of injecting, just hold on to it
        scriptCache[ url ].push( preloadElem );
      }
    }
  }

  function load ( resource, type, dontExec, attrObj, timeout ) {
    // If this method gets hit multiple times, we should flag
    // that the execution of other threads should halt.
    started = 0;

    // We'll do 'j' for js and 'c' for css, yay for unreadable minification tactics
    type = type || "j";
    if ( isString( resource ) ) {
      // if the resource passed in here is a string, preload the file
      preloadFile( type == "c" ? strCssElem : strJsElem, resource, type, this['i']++, dontExec, attrObj, timeout );
    } else {
      // Otherwise it's a callback function and we can splice it into the stack to run
      execStack.splice( this['i']++, 0, resource );
      execStack.length == 1 && executeStack();
    }

    // OMG is this jQueries? For chaining...
    return this;
  }

  // return the yepnope object with a fresh loader attached
  function getYepnope () {
    var y = yepnope;
    y['loader'] = {
      "load": load,
      "i" : 0
    };
    return y;
  }

  /* End loader helper functions */
  // Yepnope Function
  yepnope = function ( needs ) {

    var i,
        need,
        // start the chain as a plain instance
        chain = this['yepnope']['loader'];

    function satisfyPrefixes ( url ) {
      // split all prefixes out
      var parts   = url.split( "!" ),
      gLen    = globalFilters.length,
      origUrl = parts.pop(),
      pLen    = parts.length,
      res     = {
        "url"      : origUrl,
        // keep this one static for callback variable consistency
        "origUrl"  : origUrl,
        "prefixes" : parts
      },
      mFunc,
      j,
      prefix_parts;

      // loop through prefixes
      // if there are none, this automatically gets skipped
      for ( j = 0; j < pLen; j++ ) {
        prefix_parts = parts[ j ].split( '=' );
        mFunc = prefixes[ prefix_parts.shift() ];
        if ( mFunc ) {
          res = mFunc( res, prefix_parts );
        }
      }

      // Go through our global filters
      for ( j = 0; j < gLen; j++ ) {
        res = globalFilters[ j ]( res );
      }

      // return the final url
      return res;
    }

    function getExtension ( url ) {
        return url.split(".").pop().split("?").shift();
    }

    function loadScriptOrStyle ( input, callback, chain, index, testResult ) {
      // run through our set of prefixes
      var resource     = satisfyPrefixes( input ),
          autoCallback = resource['autoCallback'],
          extension    = getExtension( resource['url'] );

      // if no object is returned or the url is empty/0 just exit the load
      if ( resource['bypass'] ) {
        return;
      }

      // Determine callback, if any
      if ( callback ) {
        callback = isFunction( callback ) ?
          callback :
          callback[ input ] ||
          callback[ index ] ||
          callback[ ( input.split( "/" ).pop().split( "?" )[ 0 ] ) ] ||
          executeStack;
      }

      // if someone is overriding all normal functionality
      if ( resource['instead'] ) {
        return resource['instead']( input, callback, chain, index, testResult );
      }
      else {
        // Handle if we've already had this url and it's completed loaded already
        if ( scriptCache[ resource['url'] ] ) {
          // don't let this execute again
          resource['noexec'] = true;
        }
        else {
          scriptCache[ resource['url'] ] = 1;
        }

        // Throw this into the queue
        chain.load( resource['url'], ( ( resource['forceCSS'] || ( ! resource['forceJS'] && "css" == getExtension( resource['url'] ) ) ) ) ? "c" : undef, resource['noexec'], resource['attrs'], resource['timeout'] );

        // If we have a callback, we'll start the chain over
        if ( isFunction( callback ) || isFunction( autoCallback ) ) {
          // Call getJS with our current stack of things
          chain['load']( function () {
            // Hijack yepnope and restart index counter
            getYepnope();
            // Call our callbacks with this set of data
            callback && callback( resource['origUrl'], testResult, index );
            autoCallback && autoCallback( resource['origUrl'], testResult, index );

            // Override this to just a boolean positive
            scriptCache[ resource['url'] ] = 2;
          } );
        }
      }
    }

    function loadFromTestObject ( testObject, chain ) {
        var testResult = !! testObject['test'],
            group      = testResult ? testObject['yep'] : testObject['nope'],
            always     = testObject['load'] || testObject['both'],
            callback   = testObject['callback'] || noop,
            cbRef      = callback,
            complete   = testObject['complete'] || noop,
            needGroupSize,
            callbackKey;

        // Reusable function for dealing with the different input types
        // NOTE:: relies on closures to keep 'chain' up to date, a bit confusing, but
        // much smaller than the functional equivalent in this case.
        function handleGroup ( needGroup, moreToCome ) {
          if ( ! needGroup ) {
            // Call the complete callback when there's nothing to load.
            ! moreToCome && complete();
          }
          // If it's a string
          else if ( isString( needGroup ) ) {
            // if it's a string, it's the last
            if ( !moreToCome ) {
              // Add in the complete callback to go at the end
              callback = function () {
                var args = [].slice.call( arguments );
                cbRef.apply( this, args );
                complete();
              };
            }
            // Just load the script of style
            loadScriptOrStyle( needGroup, callback, chain, 0, testResult );
          }
          // See if we have an object. Doesn't matter if it's an array or a key/val hash
          // Note:: order cannot be guaranteed on an key value object with multiple elements
          // since the for-in does not preserve order. Arrays _should_ go in order though.
          else if ( isObject( needGroup ) ) {
            // I hate this, but idk another way for objects.
            needGroupSize = (function(){
              var count = 0, i
              for (i in needGroup ) {
                if ( needGroup.hasOwnProperty( i ) ) {
                  count++;
                }
              }
              return count;
            })();

            for ( callbackKey in needGroup ) {
              // Safari 2 does not have hasOwnProperty, but not worth the bytes for a shim
              // patch if needed. Kangax has a nice shim for it. Or just remove the check
              // and promise not to extend the object prototype.
              if ( needGroup.hasOwnProperty( callbackKey ) ) {
                // Find the last added resource, and append to it's callback.
                if ( ! moreToCome && ! ( --needGroupSize ) ) {
                  // If this is an object full of callbacks
                  if ( ! isFunction( callback ) ) {
                    // Add in the complete callback to go at the end
                    callback[ callbackKey ] = (function( innerCb ) {
                      return function () {
                        var args = [].slice.call( arguments );
                        innerCb && innerCb.apply( this, args );
                        complete();
                      };
                    })( cbRef[ callbackKey ] );
                  }
                  // If this is just a single callback
                  else {
                    callback = function () {
                      var args = [].slice.call( arguments );
                      cbRef.apply( this, args );
                      complete();
                    };
                  }
                }
                loadScriptOrStyle( needGroup[ callbackKey ], callback, chain, callbackKey, testResult );
              }
            }
          }
        }

        // figure out what this group should do
        handleGroup( group, !!always );

        // Run our loader on the load/both group too
        // the always stuff always loads second.
        always && handleGroup( always );
    }

    // Someone just decides to load a single script or css file as a string
    if ( isString( needs ) ) {
      loadScriptOrStyle( needs, 0, chain, 0 );
    }
    // Normal case is likely an array of different types of loading options
    else if ( isArray( needs ) ) {
      // go through the list of needs
      for( i = 0; i < needs.length; i++ ) {
        need = needs[ i ];

        // if it's a string, just load it
        if ( isString( need ) ) {
          loadScriptOrStyle( need, 0, chain, 0 );
        }
        // if it's an array, call our function recursively
        else if ( isArray( need ) ) {
          yepnope( need );
        }
        // if it's an object, use our modernizr logic to win
        else if ( isObject( need ) ) {
          loadFromTestObject( need, chain );
        }
      }
    }
    // Allow a single object to be passed in
    else if ( isObject( needs ) ) {
      loadFromTestObject( needs, chain );
    }
  };

  // This publicly exposed function is for allowing
  // you to add functionality based on prefixes on the
  // string files you add. 'css!' is a builtin prefix
  //
  // The arguments are the prefix (not including the !) as a string
  // and
  // A callback function. This function is passed a resource object
  // that can be manipulated and then returned. (like middleware. har.)
  //
  // Examples of this can be seen in the officially supported ie prefix
  yepnope['addPrefix'] = function ( prefix, callback ) {
    prefixes[ prefix ] = callback;
  };

  // A filter is a global function that every resource
  // object that passes through yepnope will see. You can
  // of course conditionally choose to modify the resource objects
  // or just pass them along. The filter function takes the resource
  // object and is expected to return one.
  //
  // The best example of a filter is the 'autoprotocol' officially
  // supported filter
  yepnope['addFilter'] = function ( filter ) {
    globalFilters.push( filter );
  };

  // Default error timeout to 10sec - modify to alter
  yepnope['errorTimeout'] = 1e4;

  // Webreflection readystate hack
  // safe for jQuery 1.4+ ( i.e. don't use yepnope with jQuery 1.3.2 )
  // if the readyState is null and we have a listener
  if ( doc.readyState == null && doc.addEventListener ) {
    // set the ready state to loading
    doc.readyState = "loading";
    // call the listener
    doc.addEventListener( "DOMContentLoaded", handler = function () {
      // Remove the listener
      doc.removeEventListener( "DOMContentLoaded", handler, 0 );
      // Set it to ready
      doc.readyState = "complete";
    }, 0 );
  }

  // Attach loader &
  // Leak it
  window['yepnope'] = getYepnope();

  // Exposing executeStack to better facilitate plugins
  window['yepnope']['executeStack'] = executeStack;
  window['yepnope']['injectJs'] = injectJs;
  window['yepnope']['injectCss'] = injectCss;

})( this, document );

/* END TrainingAssist.Presentation.Pages.Scripts.yepnope.js */
/* START TrainingAssist.Presentation.Pages.Scripts.jquery.js */
/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
(function( window, undefined ) {

// Can't do this because several apps including ASP.NET trace
// the stack via arguments.caller.callee and Firefox dies if
// you try to trace through "use strict" call chains. (#13335)
// Support: Firefox 18+
//"use strict";
var
	// The deferred used on DOM ready
	readyList,

	// A central reference to the root jQuery(document)
	rootjQuery,

	// Support: IE<10
	// For `typeof xmlNode.method` instead of `xmlNode.method !== undefined`
	core_strundefined = typeof undefined,

	// Use the correct document accordingly with window argument (sandbox)
	location = window.location,
	document = window.document,
	docElem = document.documentElement,

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$,

	// [[Class]] -> type pairs
	class2type = {},

	// List of deleted data cache ids, so we can reuse them
	core_deletedIds = [],

	core_version = "1.10.2",

	// Save a reference to some core methods
	core_concat = core_deletedIds.concat,
	core_push = core_deletedIds.push,
	core_slice = core_deletedIds.slice,
	core_indexOf = core_deletedIds.indexOf,
	core_toString = class2type.toString,
	core_hasOwn = class2type.hasOwnProperty,
	core_trim = core_version.trim,

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {
		// The jQuery object is actually just the init constructor 'enhanced'
		return new jQuery.fn.init( selector, context, rootjQuery );
	},

	// Used for matching numbers
	core_pnum = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,

	// Used for splitting on whitespace
	core_rnotwhite = /\S+/g,

	// Make sure we trim BOM and NBSP (here's looking at you, Safari 5.0 and IE)
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,

	// Match a standalone tag
	rsingleTag = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,

	// JSON RegExp
	rvalidchars = /^[\],:{}\s]*$/,
	rvalidbraces = /(?:^|:|,)(?:\s*\[)+/g,
	rvalidescape = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
	rvalidtokens = /"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,

	// Matches dashed string for camelizing
	rmsPrefix = /^-ms-/,
	rdashAlpha = /-([\da-z])/gi,

	// Used by jQuery.camelCase as callback to replace()
	fcamelCase = function( all, letter ) {
		return letter.toUpperCase();
	},

	// The ready event handler
	completed = function( event ) {

		// readyState === "complete" is good enough for us to call the dom ready in oldIE
		if ( document.addEventListener || event.type === "load" || document.readyState === "complete" ) {
			detach();
			jQuery.ready();
		}
	},
	// Clean-up method for dom ready events
	detach = function() {
		if ( document.addEventListener ) {
			document.removeEventListener( "DOMContentLoaded", completed, false );
			window.removeEventListener( "load", completed, false );

		} else {
			document.detachEvent( "onreadystatechange", completed );
			window.detachEvent( "onload", completed );
		}
	};

jQuery.fn = jQuery.prototype = {
	// The current version of jQuery being used
	jquery: core_version,

	constructor: jQuery,
	init: function( selector, context, rootjQuery ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector.charAt(0) === "<" && selector.charAt( selector.length - 1 ) === ">" && selector.length >= 3 ) {
				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && (match[1] || !context) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[1] ) {
					context = context instanceof jQuery ? context[0] : context;

					// scripts is true for back-compat
					jQuery.merge( this, jQuery.parseHTML(
						match[1],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {
							// Properties of context are called as methods if possible
							if ( jQuery.isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[2] );

					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document #6963
					if ( elem && elem.parentNode ) {
						// Handle the case where IE and Opera return items
						// by name instead of ID
						if ( elem.id !== match[2] ) {
							return rootjQuery.find( selector );
						}

						// Otherwise, we inject the element directly into the jQuery object
						this.length = 1;
						this[0] = elem;
					}

					this.context = document;
					this.selector = selector;
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || rootjQuery ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this.context = this[0] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( jQuery.isFunction( selector ) ) {
			return rootjQuery.ready( selector );
		}

		if ( selector.selector !== undefined ) {
			this.selector = selector.selector;
			this.context = selector.context;
		}

		return jQuery.makeArray( selector, this );
	},

	// Start with an empty selector
	selector: "",

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return core_slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {
		return num == null ?

			// Return a 'clean' array
			this.toArray() :

			// Return just the object
			( num < 0 ? this[ this.length + num ] : this[ num ] );
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;
		ret.context = this.context;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	// (You can seed the arguments with an array of args, but this is
	// only used internally.)
	each: function( callback, args ) {
		return jQuery.each( this, callback, args );
	},

	ready: function( fn ) {
		// Add the callback
		jQuery.ready.promise().done( fn );

		return this;
	},

	slice: function() {
		return this.pushStack( core_slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map(this, function( elem, i ) {
			return callback.call( elem, i, elem );
		}));
	},

	end: function() {
		return this.prevObject || this.constructor(null);
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: core_push,
	sort: [].sort,
	splice: [].splice
};

// Give the init function the jQuery prototype for later instantiation
jQuery.fn.init.prototype = jQuery.fn;

jQuery.extend = jQuery.fn.extend = function() {
	var src, copyIsArray, copy, name, options, clone,
		target = arguments[0] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;
		target = arguments[1] || {};
		// skip the boolean and the target
		i = 2;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !jQuery.isFunction(target) ) {
		target = {};
	}

	// extend jQuery itself if only one argument is passed
	if ( length === i ) {
		target = this;
		--i;
	}

	for ( ; i < length; i++ ) {
		// Only deal with non-null/undefined values
		if ( (options = arguments[ i ]) != null ) {
			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {
					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && jQuery.isArray(src) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject(src) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend({
	// Unique for each copy of jQuery on the page
	// Non-digits removed to match rinlinejQuery
	expando: "jQuery" + ( core_version + Math.random() ).replace( /\D/g, "" ),

	noConflict: function( deep ) {
		if ( window.$ === jQuery ) {
			window.$ = _$;
		}

		if ( deep && window.jQuery === jQuery ) {
			window.jQuery = _jQuery;
		}

		return jQuery;
	},

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Hold (or release) the ready event
	holdReady: function( hold ) {
		if ( hold ) {
			jQuery.readyWait++;
		} else {
			jQuery.ready( true );
		}
	},

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
		if ( !document.body ) {
			return setTimeout( jQuery.ready );
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );

		// Trigger any bound ready events
		if ( jQuery.fn.trigger ) {
			jQuery( document ).trigger("ready").off("ready");
		}
	},

	// See test/unit/core.js for details concerning isFunction.
	// Since version 1.3, DOM methods and functions like alert
	// aren't supported. They return false on IE (#2968).
	isFunction: function( obj ) {
		return jQuery.type(obj) === "function";
	},

	isArray: Array.isArray || function( obj ) {
		return jQuery.type(obj) === "array";
	},

	isWindow: function( obj ) {
		/* jshint eqeqeq: false */
		return obj != null && obj == obj.window;
	},

	isNumeric: function( obj ) {
		return !isNaN( parseFloat(obj) ) && isFinite( obj );
	},

	type: function( obj ) {
		if ( obj == null ) {
			return String( obj );
		}
		return typeof obj === "object" || typeof obj === "function" ?
			class2type[ core_toString.call(obj) ] || "object" :
			typeof obj;
	},

	isPlainObject: function( obj ) {
		var key;

		// Must be an Object.
		// Because of IE, we also have to check the presence of the constructor property.
		// Make sure that DOM nodes and window objects don't pass through, as well
		if ( !obj || jQuery.type(obj) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
			return false;
		}

		try {
			// Not own constructor property must be Object
			if ( obj.constructor &&
				!core_hasOwn.call(obj, "constructor") &&
				!core_hasOwn.call(obj.constructor.prototype, "isPrototypeOf") ) {
				return false;
			}
		} catch ( e ) {
			// IE8,9 Will throw exceptions on certain host objects #9897
			return false;
		}

		// Support: IE<9
		// Handle iteration over inherited properties before own properties.
		if ( jQuery.support.ownLast ) {
			for ( key in obj ) {
				return core_hasOwn.call( obj, key );
			}
		}

		// Own properties are enumerated firstly, so to speed up,
		// if last one is own, then all properties are own.
		for ( key in obj ) {}

		return key === undefined || core_hasOwn.call( obj, key );
	},

	isEmptyObject: function( obj ) {
		var name;
		for ( name in obj ) {
			return false;
		}
		return true;
	},

	error: function( msg ) {
		throw new Error( msg );
	},

	// data: string of html
	// context (optional): If specified, the fragment will be created in this context, defaults to document
	// keepScripts (optional): If true, will include scripts passed in the html string
	parseHTML: function( data, context, keepScripts ) {
		if ( !data || typeof data !== "string" ) {
			return null;
		}
		if ( typeof context === "boolean" ) {
			keepScripts = context;
			context = false;
		}
		context = context || document;

		var parsed = rsingleTag.exec( data ),
			scripts = !keepScripts && [];

		// Single tag
		if ( parsed ) {
			return [ context.createElement( parsed[1] ) ];
		}

		parsed = jQuery.buildFragment( [ data ], context, scripts );
		if ( scripts ) {
			jQuery( scripts ).remove();
		}
		return jQuery.merge( [], parsed.childNodes );
	},

	parseJSON: function( data ) {
		// Attempt to parse using the native JSON parser first
		if ( window.JSON && window.JSON.parse ) {
			return window.JSON.parse( data );
		}

		if ( data === null ) {
			return data;
		}

		if ( typeof data === "string" ) {

			// Make sure leading/trailing whitespace is removed (IE can't handle it)
			data = jQuery.trim( data );

			if ( data ) {
				// Make sure the incoming data is actual JSON
				// Logic borrowed from http://json.org/json2.js
				if ( rvalidchars.test( data.replace( rvalidescape, "@" )
					.replace( rvalidtokens, "]" )
					.replace( rvalidbraces, "")) ) {

					return ( new Function( "return " + data ) )();
				}
			}
		}

		jQuery.error( "Invalid JSON: " + data );
	},

	// Cross-browser xml parsing
	parseXML: function( data ) {
		var xml, tmp;
		if ( !data || typeof data !== "string" ) {
			return null;
		}
		try {
			if ( window.DOMParser ) { // Standard
				tmp = new DOMParser();
				xml = tmp.parseFromString( data , "text/xml" );
			} else { // IE
				xml = new ActiveXObject( "Microsoft.XMLDOM" );
				xml.async = "false";
				xml.loadXML( data );
			}
		} catch( e ) {
			xml = undefined;
		}
		if ( !xml || !xml.documentElement || xml.getElementsByTagName( "parsererror" ).length ) {
			jQuery.error( "Invalid XML: " + data );
		}
		return xml;
	},

	noop: function() {},

	// Evaluates a script in a global context
	// Workarounds based on findings by Jim Driscoll
	// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context
	globalEval: function( data ) {
		if ( data && jQuery.trim( data ) ) {
			// We use execScript on Internet Explorer
			// We use an anonymous function so that context is window
			// rather than jQuery in Firefox
			( window.execScript || function( data ) {
				window[ "eval" ].call( window, data );
			} )( data );
		}
	},

	// Convert dashed to camelCase; used by the css and data modules
	// Microsoft forgot to hump their vendor prefix (#9572)
	camelCase: function( string ) {
		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
	},

	nodeName: function( elem, name ) {
		return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
	},

	// args is for internal usage only
	each: function( obj, callback, args ) {
		var value,
			i = 0,
			length = obj.length,
			isArray = isArraylike( obj );

		if ( args ) {
			if ( isArray ) {
				for ( ; i < length; i++ ) {
					value = callback.apply( obj[ i ], args );

					if ( value === false ) {
						break;
					}
				}
			} else {
				for ( i in obj ) {
					value = callback.apply( obj[ i ], args );

					if ( value === false ) {
						break;
					}
				}
			}

		// A special, fast, case for the most common use of each
		} else {
			if ( isArray ) {
				for ( ; i < length; i++ ) {
					value = callback.call( obj[ i ], i, obj[ i ] );

					if ( value === false ) {
						break;
					}
				}
			} else {
				for ( i in obj ) {
					value = callback.call( obj[ i ], i, obj[ i ] );

					if ( value === false ) {
						break;
					}
				}
			}
		}

		return obj;
	},

	// Use native String.trim function wherever possible
	trim: core_trim && !core_trim.call("\uFEFF\xA0") ?
		function( text ) {
			return text == null ?
				"" :
				core_trim.call( text );
		} :

		// Otherwise use our own trimming functionality
		function( text ) {
			return text == null ?
				"" :
				( text + "" ).replace( rtrim, "" );
		},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArraylike( Object(arr) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				core_push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		var len;

		if ( arr ) {
			if ( core_indexOf ) {
				return core_indexOf.call( arr, elem, i );
			}

			len = arr.length;
			i = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;

			for ( ; i < len; i++ ) {
				// Skip accessing in sparse arrays
				if ( i in arr && arr[ i ] === elem ) {
					return i;
				}
			}
		}

		return -1;
	},

	merge: function( first, second ) {
		var l = second.length,
			i = first.length,
			j = 0;

		if ( typeof l === "number" ) {
			for ( ; j < l; j++ ) {
				first[ i++ ] = second[ j ];
			}
		} else {
			while ( second[j] !== undefined ) {
				first[ i++ ] = second[ j++ ];
			}
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, inv ) {
		var retVal,
			ret = [],
			i = 0,
			length = elems.length;
		inv = !!inv;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			retVal = !!callback( elems[ i ], i );
			if ( inv !== retVal ) {
				ret.push( elems[ i ] );
			}
		}

		return ret;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var value,
			i = 0,
			length = elems.length,
			isArray = isArraylike( elems ),
			ret = [];

		// Go through the array, translating each of the items to their
		if ( isArray ) {
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret[ ret.length ] = value;
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret[ ret.length ] = value;
				}
			}
		}

		// Flatten any nested arrays
		return core_concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// Bind a function to a context, optionally partially applying any
	// arguments.
	proxy: function( fn, context ) {
		var args, proxy, tmp;

		if ( typeof context === "string" ) {
			tmp = fn[ context ];
			context = fn;
			fn = tmp;
		}

		// Quick check to determine if target is callable, in the spec
		// this throws a TypeError, but we will just return undefined.
		if ( !jQuery.isFunction( fn ) ) {
			return undefined;
		}

		// Simulated bind
		args = core_slice.call( arguments, 2 );
		proxy = function() {
			return fn.apply( context || this, args.concat( core_slice.call( arguments ) ) );
		};

		// Set the guid of unique handler to the same of original handler, so it can be removed
		proxy.guid = fn.guid = fn.guid || jQuery.guid++;

		return proxy;
	},

	// Multifunctional method to get and set values of a collection
	// The value/s can optionally be executed if it's a function
	access: function( elems, fn, key, value, chainable, emptyGet, raw ) {
		var i = 0,
			length = elems.length,
			bulk = key == null;

		// Sets many values
		if ( jQuery.type( key ) === "object" ) {
			chainable = true;
			for ( i in key ) {
				jQuery.access( elems, fn, i, key[i], true, emptyGet, raw );
			}

		// Sets one value
		} else if ( value !== undefined ) {
			chainable = true;

			if ( !jQuery.isFunction( value ) ) {
				raw = true;
			}

			if ( bulk ) {
				// Bulk operations run against the entire set
				if ( raw ) {
					fn.call( elems, value );
					fn = null;

				// ...except when executing function values
				} else {
					bulk = fn;
					fn = function( elem, key, value ) {
						return bulk.call( jQuery( elem ), value );
					};
				}
			}

			if ( fn ) {
				for ( ; i < length; i++ ) {
					fn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );
				}
			}
		}

		return chainable ?
			elems :

			// Gets
			bulk ?
				fn.call( elems ) :
				length ? fn( elems[0], key ) : emptyGet;
	},

	now: function() {
		return ( new Date() ).getTime();
	},

	// A method for quickly swapping in/out CSS properties to get correct calculations.
	// Note: this method belongs to the css module but it's needed here for the support module.
	// If support gets modularized, this method should be moved back to the css module.
	swap: function( elem, options, callback, args ) {
		var ret, name,
			old = {};

		// Remember the old values, and insert the new ones
		for ( name in options ) {
			old[ name ] = elem.style[ name ];
			elem.style[ name ] = options[ name ];
		}

		ret = callback.apply( elem, args || [] );

		// Revert the old values
		for ( name in options ) {
			elem.style[ name ] = old[ name ];
		}

		return ret;
	}
});

jQuery.ready.promise = function( obj ) {
	if ( !readyList ) {

		readyList = jQuery.Deferred();

		// Catch cases where $(document).ready() is called after the browser event has already occurred.
		// we once tried to use readyState "interactive" here, but it caused issues like the one
		// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15
		if ( document.readyState === "complete" ) {
			// Handle it asynchronously to allow scripts the opportunity to delay ready
			setTimeout( jQuery.ready );

		// Standards-based browsers support DOMContentLoaded
		} else if ( document.addEventListener ) {
			// Use the handy event callback
			document.addEventListener( "DOMContentLoaded", completed, false );

			// A fallback to window.onload, that will always work
			window.addEventListener( "load", completed, false );

		// If IE event model is used
		} else {
			// Ensure firing before onload, maybe late but safe also for iframes
			document.attachEvent( "onreadystatechange", completed );

			// A fallback to window.onload, that will always work
			window.attachEvent( "onload", completed );

			// If IE and not a frame
			// continually check to see if the document is ready
			var top = false;

			try {
				top = window.frameElement == null && document.documentElement;
			} catch(e) {}

			if ( top && top.doScroll ) {
				(function doScrollCheck() {
					if ( !jQuery.isReady ) {

						try {
							// Use the trick by Diego Perini
							// http://javascript.nwbox.com/IEContentLoaded/
							top.doScroll("left");
						} catch(e) {
							return setTimeout( doScrollCheck, 50 );
						}

						// detach all dom ready events
						detach();

						// and execute any waiting functions
						jQuery.ready();
					}
				})();
			}
		}
	}
	return readyList.promise( obj );
};

// Populate the class2type map
jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(i, name) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
});

function isArraylike( obj ) {
	var length = obj.length,
		type = jQuery.type( obj );

	if ( jQuery.isWindow( obj ) ) {
		return false;
	}

	if ( obj.nodeType === 1 && length ) {
		return true;
	}

	return type === "array" || type !== "function" &&
		( length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj );
}

// All jQuery objects should point back to these
rootjQuery = jQuery(document);
/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
(function( window, undefined ) {

var i,
	support,
	cachedruns,
	Expr,
	getText,
	isXML,
	compile,
	outermostContext,
	sortInput,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + -(new Date()),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	hasDuplicate = false,
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}
		return 0;
	},

	// General-purpose constants
	strundefined = typeof undefined,
	MAX_NEGATIVE = 1 << 31,

	// Instance methods
	hasOwn = ({}).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	push_native = arr.push,
	push = arr.push,
	slice = arr.slice,
	// Use a stripped-down indexOf if we can't use a native one
	indexOf = arr.indexOf || function( elem ) {
		var i = 0,
			len = this.length;
		for ( ; i < len; i++ ) {
			if ( this[i] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",
	// http://www.w3.org/TR/css3-syntax/#characters
	characterEncoding = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",

	// Loosely modeled on CSS identifier characters
	// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors
	// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
	identifier = characterEncoding.replace( "w", "w#" ),

	// Acceptable operators http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + characterEncoding + ")" + whitespace +
		"*(?:([*^$|!~]?=)" + whitespace + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + identifier + ")|)|)" + whitespace + "*\\]",

	// Prefer arguments quoted,
	//   then not containing pseudos/brackets,
	//   then attribute selectors/non-parenthetical expressions,
	//   then anything else
	// These preferences are here to reduce the number of selectors
	//   needing tokenize in the PSEUDO preFilter
	pseudos = ":(" + characterEncoding + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + attributes.replace( 3, 8 ) + ")*)|.*)\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),

	rsibling = new RegExp( whitespace + "*[+~]" ),
	rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*)" + whitespace + "*\\]", "g" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + characterEncoding + ")" ),
		"CLASS": new RegExp( "^\\.(" + characterEncoding + ")" ),
		"TAG": new RegExp( "^(" + characterEncoding.replace( "w", "w*" ) + ")" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
			whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rescape = /'|\\/g,

	// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
	funescape = function( _, escaped, escapedWhitespace ) {
		var high = "0x" + escaped - 0x10000;
		// NaN means non-codepoint
		// Support: Firefox
		// Workaround erroneous numeric interpretation of +"0x"
		return high !== high || escapedWhitespace ?
			escaped :
			// BMP codepoint
			high < 0 ?
				String.fromCharCode( high + 0x10000 ) :
				// Supplemental Plane codepoint (surrogate pair)
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	};

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		(arr = slice.call( preferredDoc.childNodes )),
		preferredDoc.childNodes
	);
	// Support: Android<4.0
	// Detect silently failing push.apply
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			push_native.apply( target, slice.call(els) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;
			// Can't trust NodeList.length
			while ( (target[j++] = els[i++]) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var match, elem, m, nodeType,
		// QSA vars
		i, groups, old, nid, newContext, newSelector;

	if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
		setDocument( context );
	}

	context = context || document;
	results = results || [];

	if ( !selector || typeof selector !== "string" ) {
		return results;
	}

	if ( (nodeType = context.nodeType) !== 1 && nodeType !== 9 ) {
		return [];
	}

	if ( documentIsHTML && !seed ) {

		// Shortcuts
		if ( (match = rquickExpr.exec( selector )) ) {
			// Speed-up: Sizzle("#ID")
			if ( (m = match[1]) ) {
				if ( nodeType === 9 ) {
					elem = context.getElementById( m );
					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document #6963
					if ( elem && elem.parentNode ) {
						// Handle the case where IE, Opera, and Webkit return items
						// by name instead of ID
						if ( elem.id === m ) {
							results.push( elem );
							return results;
						}
					} else {
						return results;
					}
				} else {
					// Context is not a document
					if ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&
						contains( context, elem ) && elem.id === m ) {
						results.push( elem );
						return results;
					}
				}

			// Speed-up: Sizzle("TAG")
			} else if ( match[2] ) {
				push.apply( results, context.getElementsByTagName( selector ) );
				return results;

			// Speed-up: Sizzle(".CLASS")
			} else if ( (m = match[3]) && support.getElementsByClassName && context.getElementsByClassName ) {
				push.apply( results, context.getElementsByClassName( m ) );
				return results;
			}
		}

		// QSA path
		if ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {
			nid = old = expando;
			newContext = context;
			newSelector = nodeType === 9 && selector;

			// qSA works strangely on Element-rooted queries
			// We can work around this by specifying an extra ID on the root
			// and working up from there (Thanks to Andrew Dupont for the technique)
			// IE 8 doesn't work on object elements
			if ( nodeType === 1 && context.nodeName.toLowerCase() !== "object" ) {
				groups = tokenize( selector );

				if ( (old = context.getAttribute("id")) ) {
					nid = old.replace( rescape, "\\$&" );
				} else {
					context.setAttribute( "id", nid );
				}
				nid = "[id='" + nid + "'] ";

				i = groups.length;
				while ( i-- ) {
					groups[i] = nid + toSelector( groups[i] );
				}
				newContext = rsibling.test( selector ) && context.parentNode || context;
				newSelector = groups.join(",");
			}

			if ( newSelector ) {
				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch(qsaError) {
				} finally {
					if ( !old ) {
						context.removeAttribute("id");
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {Function(string, Object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {
		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key += " " ) > Expr.cacheLength ) {
			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return (cache[ key ] = value);
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created div and expects a boolean result
 */
function assert( fn ) {
	var div = document.createElement("div");

	try {
		return !!fn( div );
	} catch (e) {
		return false;
	} finally {
		// Remove from its parent by default
		if ( div.parentNode ) {
			div.parentNode.removeChild( div );
		}
		// release memory in IE
		div = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split("|"),
		i = attrs.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[i] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			( ~b.sourceIndex || MAX_NEGATIVE ) -
			( ~a.sourceIndex || MAX_NEGATIVE );

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( (cur = cur.nextSibling) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return (name === "input" || name === "button") && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction(function( argument ) {
		argument = +argument;
		return markFunction(function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ (j = matchIndexes[i]) ] ) {
					seed[j] = !(matches[j] = seed[j]);
				}
			}
		});
	});
}

/**
 * Detect xml
 * @param {Element|Object} elem An element or a document
 */
isXML = Sizzle.isXML = function( elem ) {
	// documentElement is verified for cases where it doesn't yet exist
	// (such as loading iframes in IE - #4833)
	var documentElement = elem && (elem.ownerDocument || elem).documentElement;
	return documentElement ? documentElement.nodeName !== "HTML" : false;
};

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var doc = node ? node.ownerDocument || node : preferredDoc,
		parent = doc.defaultView;

	// If no document and documentElement is available, return
	if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Set our document
	document = doc;
	docElem = doc.documentElement;

	// Support tests
	documentIsHTML = !isXML( doc );

	// Support: IE>8
	// If iframe document is assigned to "document" variable and if iframe has been reloaded,
	// IE will throw "permission denied" error when accessing "document" variable, see jQuery #13936
	// IE6-8 do not support the defaultView property so parent will be undefined
	if ( parent && parent.attachEvent && parent !== parent.top ) {
		parent.attachEvent( "onbeforeunload", function() {
			setDocument();
		});
	}

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties (excepting IE8 booleans)
	support.attributes = assert(function( div ) {
		div.className = "i";
		return !div.getAttribute("className");
	});

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert(function( div ) {
		div.appendChild( doc.createComment("") );
		return !div.getElementsByTagName("*").length;
	});

	// Check if getElementsByClassName can be trusted
	support.getElementsByClassName = assert(function( div ) {
		div.innerHTML = "<div class='a'></div><div class='a i'></div>";

		// Support: Safari<4
		// Catch class over-caching
		div.firstChild.className = "i";
		// Support: Opera<10
		// Catch gEBCN failure to find non-leading classes
		return div.getElementsByClassName("i").length === 2;
	});

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert(function( div ) {
		docElem.appendChild( div ).id = expando;
		return !doc.getElementsByName || !doc.getElementsByName( expando ).length;
	});

	// ID find and filter
	if ( support.getById ) {
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== strundefined && documentIsHTML ) {
				var m = context.getElementById( id );
				// Check parentNode to catch when Blackberry 4.6 returns
				// nodes that are no longer in the document #6963
				return m && m.parentNode ? [m] : [];
			}
		};
		Expr.filter["ID"] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute("id") === attrId;
			};
		};
	} else {
		// Support: IE6/7
		// getElementById is not reliable as a find shortcut
		delete Expr.find["ID"];

		Expr.filter["ID"] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode("id");
				return node && node.value === attrId;
			};
		};
	}

	// Tag
	Expr.find["TAG"] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== strundefined ) {
				return context.getElementsByTagName( tag );
			}
		} :
		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( (elem = results[i++]) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== strundefined && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See http://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {
		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert(function( div ) {
			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// http://bugs.jquery.com/ticket/12359
			div.innerHTML = "<select><option selected=''></option></select>";

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !div.querySelectorAll("[selected]").length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":checked").length ) {
				rbuggyQSA.push(":checked");
			}
		});

		assert(function( div ) {

			// Support: Opera 10-12/IE8
			// ^= $= *= and empty values
			// Should not select anything
			// Support: Windows 8 Native Apps
			// The type attribute is restricted during .innerHTML assignment
			var input = doc.createElement("input");
			input.setAttribute( "type", "hidden" );
			div.appendChild( input ).setAttribute( "t", "" );

			if ( div.querySelectorAll("[t^='']").length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":enabled").length ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Opera 10-11 does not throw on post-comma invalid pseudos
			div.querySelectorAll("*,:x");
			rbuggyQSA.push(",.*:");
		});
	}

	if ( (support.matchesSelector = rnative.test( (matches = docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector) )) ) {

		assert(function( div ) {
			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( div, "div" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( div, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		});
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

	/* Contains
	---------------------------------------------------------------------- */

	// Element contains another
	// Purposefully does not implement inclusive descendent
	// As in, an element does not contain itself
	contains = rnative.test( docElem.contains ) || docElem.compareDocumentPosition ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			));
		} :
		function( a, b ) {
			if ( b ) {
				while ( (b = b.parentNode) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = docElem.compareDocumentPosition ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var compare = b.compareDocumentPosition && a.compareDocumentPosition && a.compareDocumentPosition( b );

		if ( compare ) {
			// Disconnected nodes
			if ( compare & 1 ||
				(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

				// Choose the first element that is related to our preferred document
				if ( a === doc || contains(preferredDoc, a) ) {
					return -1;
				}
				if ( b === doc || contains(preferredDoc, b) ) {
					return 1;
				}

				// Maintain original order
				return sortInput ?
					( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :
					0;
			}

			return compare & 4 ? -1 : 1;
		}

		// Not directly comparable, sort on existence of method
		return a.compareDocumentPosition ? -1 : 1;
	} :
	function( a, b ) {
		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;

		// Parentless nodes are either documents or disconnected
		} else if ( !aup || !bup ) {
			return a === doc ? -1 :
				b === doc ? 1 :
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( (cur = cur.parentNode) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( (cur = cur.parentNode) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[i] === bp[i] ) {
			i++;
		}

		return i ?
			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[i], bp[i] ) :

			// Otherwise nodes in our document sort first
			ap[i] === preferredDoc ? -1 :
			bp[i] === preferredDoc ? 1 :
			0;
	};

	return doc;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	// Make sure that attribute selectors are quoted
	expr = expr.replace( rattributeQuotes, "='$1']" );

	if ( support.matchesSelector && documentIsHTML &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||
					// As well, disconnected nodes are said to be in a document
					// fragment in IE 9
					elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch(e) {}
	}

	return Sizzle( expr, document, null, [elem] ).length > 0;
};

Sizzle.contains = function( context, elem ) {
	// Set document vars if needed
	if ( ( context.ownerDocument || context ) !== document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],
		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val === undefined ?
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			(val = elem.getAttributeNode(name)) && val.specified ?
				val.value :
				null :
		val;
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( (elem = results[i++]) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {
		// If no nodeType, this is expected to be an array
		for ( ; (node = elem[i]); i++ ) {
			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
		// Use textContent for elements
		// innerText usage removed for consistency of new lines (see #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {
			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}
	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[1] = match[1].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[3] = ( match[4] || match[5] || "" ).replace( runescape, funescape );

			if ( match[2] === "~=" ) {
				match[3] = " " + match[3] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {
			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[1] = match[1].toLowerCase();

			if ( match[1].slice( 0, 3 ) === "nth" ) {
				// nth-* requires argument
				if ( !match[3] ) {
					Sizzle.error( match[0] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
				match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

			// other types prohibit arguments
			} else if ( match[3] ) {
				Sizzle.error( match[0] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[5] && match[2];

			if ( matchExpr["CHILD"].test( match[0] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[3] && match[4] !== undefined ) {
				match[2] = match[4];

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&
				// Get excess from tokenize (recursively)
				(excess = tokenize( unquoted, true )) &&
				// advance to the next closing parenthesis
				(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

				// excess is a negative index
				match[0] = match[0].slice( 0, excess );
				match[2] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() { return true; } :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
				classCache( className, function( elem ) {
					return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute("class") || "" );
				});
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
			};
		},

		"CHILD": function( type, what, argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, context, xml ) {
					var cache, outerCache, node, diff, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( (node = node[ dir ]) ) {
									if ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {
										return false;
									}
								}
								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {
							// Seek `elem` from a previously-cached index
							outerCache = parent[ expando ] || (parent[ expando ] = {});
							cache = outerCache[ type ] || [];
							nodeIndex = cache[0] === dirruns && cache[1];
							diff = cache[0] === dirruns && cache[2];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( (node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								(diff = nodeIndex = 0) || start.pop()) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									outerCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						// Use previously-cached element index if available
						} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {
							diff = cache[1];

						// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)
						} else {
							// Use the same loop as above to seek `elem` from the start
							while ( (node = ++nodeIndex && node && node[ dir ] ||
								(diff = nodeIndex = 0) || start.pop()) ) {

								if ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {
									// Cache the index of each encountered element
									if ( useCache ) {
										(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];
									}

									if ( node === elem ) {
										break;
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {
			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction(function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf.call( seed, matched[i] );
							seed[ idx ] = !( matches[ idx ] = matched[i] );
						}
					}) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {
		// Potentially complex pseudos
		"not": markFunction(function( selector ) {
			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction(function( seed, matches, context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( (elem = unmatched[i]) ) {
							seed[i] = !(matches[i] = elem);
						}
					}
				}) :
				function( elem, context, xml ) {
					input[0] = elem;
					matcher( input, null, xml, results );
					return !results.pop();
				};
		}),

		"has": markFunction(function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		}),

		"contains": markFunction(function( text ) {
			return function( elem ) {
				return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
			};
		}),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {
			// lang value must be a valid identifier
			if ( !ridentifier.test(lang || "") ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( (elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
				return false;
			};
		}),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
		},

		// Boolean properties
		"enabled": function( elem ) {
			return elem.disabled === false;
		},

		"disabled": function( elem ) {
			return elem.disabled === true;
		},

		"checked": function( elem ) {
			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
		},

		"selected": function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {
			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is only affected by element nodes and content nodes(including text(3), cdata(4)),
			//   not comment, processing instructions, or others
			// Thanks to Diego Perini for the nodeName shortcut
			//   Greater than "@" means alpha characters (specifically not starting with "#" or "?")
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeName > "@" || elem.nodeType === 3 || elem.nodeType === 4 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos["empty"]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			// IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)
			// use getAttribute instead to test this case
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&
				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === elem.type );
		},

		// Position-in-collection
		"first": createPositionalPseudo(function() {
			return [ 0 ];
		}),

		"last": createPositionalPseudo(function( matchIndexes, length ) {
			return [ length - 1 ];
		}),

		"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		}),

		"even": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"odd": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		})
	}
};

Expr.pseudos["nth"] = Expr.pseudos["eq"];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

function tokenize( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || (match = rcomma.exec( soFar )) ) {
			if ( match ) {
				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[0].length ) || soFar;
			}
			groups.push( tokens = [] );
		}

		matched = false;

		// Combinators
		if ( (match = rcombinators.exec( soFar )) ) {
			matched = match.shift();
			tokens.push({
				value: matched,
				// Cast descendant combinators to space
				type: match[0].replace( rtrim, " " )
			});
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
				(match = preFilters[ type ]( match ))) ) {
				matched = match.shift();
				tokens.push({
					value: matched,
					type: type,
					matches: match
				});
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :
			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
}

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[i].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		checkNonElements = base && dir === "parentNode",
		doneName = done++;

	return combinator.first ?
		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( (elem = elem[ dir ]) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var data, cache, outerCache,
				dirkey = dirruns + " " + doneName;

			// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching
			if ( xml ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || (elem[ expando ] = {});
						if ( (cache = outerCache[ dir ]) && cache[0] === dirkey ) {
							if ( (data = cache[1]) === true || data === cachedruns ) {
								return data === true;
							}
						} else {
							cache = outerCache[ dir ] = [ dirkey ];
							cache[1] = matcher( elem, context, xml ) || cachedruns;
							if ( cache[1] === true ) {
								return true;
							}
						}
					}
				}
			}
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[i]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[0];
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( (elem = unmatched[i]) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction(function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?
				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( (elem = temp[i]) ) {
					matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {
					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( (elem = matcherOut[i]) ) {
							// Restore matcherIn since elem is not yet a final match
							temp.push( (matcherIn[i] = elem) );
						}
					}
					postFinder( null, (matcherOut = []), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( (elem = matcherOut[i]) &&
						(temp = postFinder ? indexOf.call( seed, elem ) : preMap[i]) > -1 ) {

						seed[temp] = !(results[temp] = elem);
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	});
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[0].type ],
		implicitRelative = leadingRelative || Expr.relative[" "],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf.call( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			return ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				(checkContext = context).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );
		} ];

	for ( ; i < len; i++ ) {
		if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
			matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
		} else {
			matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {
				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[j].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(
						// If the preceding token was a descendant combinator, insert an implicit any-element `*`
						tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	// A counter to specify which element is currently being matched
	var matcherCachedRuns = 0,
		bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, expandContext ) {
			var elem, j, matcher,
				setMatched = [],
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				outermost = expandContext != null,
				contextBackup = outermostContext,
				// We must always have either seed elements or context
				elems = seed || byElement && Expr.find["TAG"]( "*", expandContext && context.parentNode || context ),
				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1);

			if ( outermost ) {
				outermostContext = context !== document && context;
				cachedruns = matcherCachedRuns;
			}

			// Add elements passing elementMatchers directly to results
			// Keep `i` a string if there are no elements so `matchedCount` will be "00" below
			for ( ; (elem = elems[i]) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;
					while ( (matcher = elementMatchers[j++]) ) {
						if ( matcher( elem, context, xml ) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
						cachedruns = ++matcherCachedRuns;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {
					// They will have gone through all possible matchers
					if ( (elem = !matcher && elem) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// Apply set filters to unmatched elements
			matchedCount += i;
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( (matcher = setMatchers[j++]) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {
					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !(unmatched[i] || setMatched[i]) ) {
								setMatched[i] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, group /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {
		// Generate a function of recursive functions that can be used to check each element
		if ( !group ) {
			group = tokenize( selector );
		}
		i = group.length;
		while ( i-- ) {
			cached = matcherFromTokens( group[i] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );
	}
	return cached;
};

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[i], results );
	}
	return results;
}

function select( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		match = tokenize( selector );

	if ( !seed ) {
		// Try to minimize operations if there is only one group
		if ( match.length === 1 ) {

			// Take a shortcut and set the context if the root selector is an ID
			tokens = match[0] = match[0].slice( 0 );
			if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
					support.getById && context.nodeType === 9 && documentIsHTML &&
					Expr.relative[ tokens[1].type ] ) {

				context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
				if ( !context ) {
					return results;
				}
				selector = selector.slice( tokens.shift().value.length );
			}

			// Fetch a seed set for right-to-left matching
			i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
			while ( i-- ) {
				token = tokens[i];

				// Abort if we hit a combinator
				if ( Expr.relative[ (type = token.type) ] ) {
					break;
				}
				if ( (find = Expr.find[ type ]) ) {
					// Search, expanding context for leading sibling combinators
					if ( (seed = find(
						token.matches[0].replace( runescape, funescape ),
						rsibling.test( tokens[0].type ) && context.parentNode || context
					)) ) {

						// If seed is empty or no tokens remain, we can return early
						tokens.splice( i, 1 );
						selector = seed.length && toSelector( tokens );
						if ( !selector ) {
							push.apply( results, seed );
							return results;
						}

						break;
					}
				}
			}
		}
	}

	// Compile and execute a filtering function
	// Provide `match` to avoid retokenization if we modified the selector above
	compile( selector, match )(
		seed,
		context,
		!documentIsHTML,
		results,
		rsibling.test( selector )
	);
	return results;
}

// One-time assignments

// Sort stability
support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

// Support: Chrome<14
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert(function( div1 ) {
	// Should return 1, but returns 4 (following)
	return div1.compareDocumentPosition( document.createElement("div") ) & 1;
});

// Support: IE<8
// Prevent attribute/property "interpolation"
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert(function( div ) {
	div.innerHTML = "<a href='#'></a>";
	return div.firstChild.getAttribute("href") === "#" ;
}) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	});
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert(function( div ) {
	div.innerHTML = "<input/>";
	div.firstChild.setAttribute( "value", "" );
	return div.firstChild.getAttribute( "value" ) === "";
}) ) {
	addHandle( "value", function( elem, name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	});
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert(function( div ) {
	return div.getAttribute("disabled") == null;
}) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return (val = elem.getAttributeNode( name )) && val.specified ?
				val.value :
				elem[ name ] === true ? name.toLowerCase() : null;
		}
	});
}

jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;
jQuery.expr[":"] = jQuery.expr.pseudos;
jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;


})( window );
// String to Object options format cache
var optionsCache = {};

// Convert String-formatted options into Object-formatted ones and store in cache
function createOptions( options ) {
	var object = optionsCache[ options ] = {};
	jQuery.each( options.match( core_rnotwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	});
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		( optionsCache[ options ] || createOptions( options ) ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,
		// Last fire value (for non-forgettable lists)
		memory,
		// Flag to know if list was already fired
		fired,
		// End of the loop when firing
		firingLength,
		// Index of currently firing callback (modified by remove if needed)
		firingIndex,
		// First callback to fire (used internally by add and fireWith)
		firingStart,
		// Actual callback list
		list = [],
		// Stack of fire calls for repeatable lists
		stack = !options.once && [],
		// Fire callbacks
		fire = function( data ) {
			memory = options.memory && data;
			fired = true;
			firingIndex = firingStart || 0;
			firingStart = 0;
			firingLength = list.length;
			firing = true;
			for ( ; list && firingIndex < firingLength; firingIndex++ ) {
				if ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {
					memory = false; // To prevent further calls using add
					break;
				}
			}
			firing = false;
			if ( list ) {
				if ( stack ) {
					if ( stack.length ) {
						fire( stack.shift() );
					}
				} else if ( memory ) {
					list = [];
				} else {
					self.disable();
				}
			}
		},
		// Actual Callbacks object
		self = {
			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {
					// First, we save the current length
					var start = list.length;
					(function add( args ) {
						jQuery.each( args, function( _, arg ) {
							var type = jQuery.type( arg );
							if ( type === "function" ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && type !== "string" ) {
								// Inspect recursively
								add( arg );
							}
						});
					})( arguments );
					// Do we need to add the callbacks to the
					// current firing batch?
					if ( firing ) {
						firingLength = list.length;
					// With memory, if we're not firing then
					// we should call right away
					} else if ( memory ) {
						firingStart = start;
						fire( memory );
					}
				}
				return this;
			},
			// Remove a callback from the list
			remove: function() {
				if ( list ) {
					jQuery.each( arguments, function( _, arg ) {
						var index;
						while( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
							list.splice( index, 1 );
							// Handle firing indexes
							if ( firing ) {
								if ( index <= firingLength ) {
									firingLength--;
								}
								if ( index <= firingIndex ) {
									firingIndex--;
								}
							}
						}
					});
				}
				return this;
			},
			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );
			},
			// Remove all callbacks from the list
			empty: function() {
				list = [];
				firingLength = 0;
				return this;
			},
			// Have the list do nothing anymore
			disable: function() {
				list = stack = memory = undefined;
				return this;
			},
			// Is it disabled?
			disabled: function() {
				return !list;
			},
			// Lock the list in its current state
			lock: function() {
				stack = undefined;
				if ( !memory ) {
					self.disable();
				}
				return this;
			},
			// Is it locked?
			locked: function() {
				return !stack;
			},
			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( list && ( !fired || stack ) ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					if ( firing ) {
						stack.push( args );
					} else {
						fire( args );
					}
				}
				return this;
			},
			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},
			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};
jQuery.extend({

	Deferred: function( func ) {
		var tuples = [
				// action, add listener, listener list, final state
				[ "resolve", "done", jQuery.Callbacks("once memory"), "resolved" ],
				[ "reject", "fail", jQuery.Callbacks("once memory"), "rejected" ],
				[ "notify", "progress", jQuery.Callbacks("memory") ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				then: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;
					return jQuery.Deferred(function( newDefer ) {
						jQuery.each( tuples, function( i, tuple ) {
							var action = tuple[ 0 ],
								fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];
							// deferred[ done | fail | progress ] for forwarding actions to newDefer
							deferred[ tuple[1] ](function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && jQuery.isFunction( returned.promise ) ) {
									returned.promise()
										.done( newDefer.resolve )
										.fail( newDefer.reject )
										.progress( newDefer.notify );
								} else {
									newDefer[ action + "With" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );
								}
							});
						});
						fns = null;
					}).promise();
				},
				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Keep pipe for back-compat
		promise.pipe = promise.then;

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 3 ];

			// promise[ done | fail | progress ] = list.add
			promise[ tuple[1] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(function() {
					// state = [ resolved | rejected ]
					state = stateString;

				// [ reject_list | resolve_list ].disable; progress_list.lock
				}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
			}

			// deferred[ resolve | reject | notify ]
			deferred[ tuple[0] ] = function() {
				deferred[ tuple[0] + "With" ]( this === deferred ? promise : this, arguments );
				return this;
			};
			deferred[ tuple[0] + "With" ] = list.fireWith;
		});

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( subordinate /* , ..., subordinateN */ ) {
		var i = 0,
			resolveValues = core_slice.call( arguments ),
			length = resolveValues.length,

			// the count of uncompleted subordinates
			remaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,

			// the master Deferred. If resolveValues consist of only a single Deferred, just use that.
			deferred = remaining === 1 ? subordinate : jQuery.Deferred(),

			// Update function for both resolve and progress values
			updateFunc = function( i, contexts, values ) {
				return function( value ) {
					contexts[ i ] = this;
					values[ i ] = arguments.length > 1 ? core_slice.call( arguments ) : value;
					if( values === progressValues ) {
						deferred.notifyWith( contexts, values );
					} else if ( !( --remaining ) ) {
						deferred.resolveWith( contexts, values );
					}
				};
			},

			progressValues, progressContexts, resolveContexts;

		// add listeners to Deferred subordinates; treat others as resolved
		if ( length > 1 ) {
			progressValues = new Array( length );
			progressContexts = new Array( length );
			resolveContexts = new Array( length );
			for ( ; i < length; i++ ) {
				if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
					resolveValues[ i ].promise()
						.done( updateFunc( i, resolveContexts, resolveValues ) )
						.fail( deferred.reject )
						.progress( updateFunc( i, progressContexts, progressValues ) );
				} else {
					--remaining;
				}
			}
		}

		// if we're not waiting on anything, resolve the master
		if ( !remaining ) {
			deferred.resolveWith( resolveContexts, resolveValues );
		}

		return deferred.promise();
	}
});
jQuery.support = (function( support ) {

	var all, a, input, select, fragment, opt, eventName, isSupported, i,
		div = document.createElement("div");

	// Setup
	div.setAttribute( "className", "t" );
	div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";

	// Finish early in limited (non-browser) environments
	all = div.getElementsByTagName("*") || [];
	a = div.getElementsByTagName("a")[ 0 ];
	if ( !a || !a.style || !all.length ) {
		return support;
	}

	// First batch of tests
	select = document.createElement("select");
	opt = select.appendChild( document.createElement("option") );
	input = div.getElementsByTagName("input")[ 0 ];

	a.style.cssText = "top:1px;float:left;opacity:.5";

	// Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)
	support.getSetAttribute = div.className !== "t";

	// IE strips leading whitespace when .innerHTML is used
	support.leadingWhitespace = div.firstChild.nodeType === 3;

	// Make sure that tbody elements aren't automatically inserted
	// IE will insert them into empty tables
	support.tbody = !div.getElementsByTagName("tbody").length;

	// Make sure that link elements get serialized correctly by innerHTML
	// This requires a wrapper element in IE
	support.htmlSerialize = !!div.getElementsByTagName("link").length;

	// Get the style information from getAttribute
	// (IE uses .cssText instead)
	support.style = /top/.test( a.getAttribute("style") );

	// Make sure that URLs aren't manipulated
	// (IE normalizes it by default)
	support.hrefNormalized = a.getAttribute("href") === "/a";

	// Make sure that element opacity exists
	// (IE uses filter instead)
	// Use a regex to work around a WebKit issue. See #5145
	support.opacity = /^0.5/.test( a.style.opacity );

	// Verify style float existence
	// (IE uses styleFloat instead of cssFloat)
	support.cssFloat = !!a.style.cssFloat;

	// Check the default checkbox/radio value ("" on WebKit; "on" elsewhere)
	support.checkOn = !!input.value;

	// Make sure that a selected-by-default option has a working selected property.
	// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)
	support.optSelected = opt.selected;

	// Tests for enctype support on a form (#6743)
	support.enctype = !!document.createElement("form").enctype;

	// Makes sure cloning an html5 element does not cause problems
	// Where outerHTML is undefined, this still works
	support.html5Clone = document.createElement("nav").cloneNode( true ).outerHTML !== "<:nav></:nav>";

	// Will be defined later
	support.inlineBlockNeedsLayout = false;
	support.shrinkWrapBlocks = false;
	support.pixelPosition = false;
	support.deleteExpando = true;
	support.noCloneEvent = true;
	support.reliableMarginRight = true;
	support.boxSizingReliable = true;

	// Make sure checked status is properly cloned
	input.checked = true;
	support.noCloneChecked = input.cloneNode( true ).checked;

	// Make sure that the options inside disabled selects aren't marked as disabled
	// (WebKit marks them as disabled)
	select.disabled = true;
	support.optDisabled = !opt.disabled;

	// Support: IE<9
	try {
		delete div.test;
	} catch( e ) {
		support.deleteExpando = false;
	}

	// Check if we can trust getAttribute("value")
	input = document.createElement("input");
	input.setAttribute( "value", "" );
	support.input = input.getAttribute( "value" ) === "";

	// Check if an input maintains its value after becoming a radio
	input.value = "t";
	input.setAttribute( "type", "radio" );
	support.radioValue = input.value === "t";

	// #11217 - WebKit loses check when the name is after the checked attribute
	input.setAttribute( "checked", "t" );
	input.setAttribute( "name", "t" );

	fragment = document.createDocumentFragment();
	fragment.appendChild( input );

	// Check if a disconnected checkbox will retain its checked
	// value of true after appended to the DOM (IE6/7)
	support.appendChecked = input.checked;

	// WebKit doesn't clone checked state correctly in fragments
	support.checkClone = fragment.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE<9
	// Opera does not clone events (and typeof div.attachEvent === undefined).
	// IE9-10 clones events bound via attachEvent, but they don't trigger with .click()
	if ( div.attachEvent ) {
		div.attachEvent( "onclick", function() {
			support.noCloneEvent = false;
		});

		div.cloneNode( true ).click();
	}

	// Support: IE<9 (lack submit/change bubble), Firefox 17+ (lack focusin event)
	// Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP)
	for ( i in { submit: true, change: true, focusin: true }) {
		div.setAttribute( eventName = "on" + i, "t" );

		support[ i + "Bubbles" ] = eventName in window || div.attributes[ eventName ].expando === false;
	}

	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	// Support: IE<9
	// Iteration over object's inherited properties before its own.
	for ( i in jQuery( support ) ) {
		break;
	}
	support.ownLast = i !== "0";

	// Run tests that need a body at doc ready
	jQuery(function() {
		var container, marginDiv, tds,
			divReset = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
			body = document.getElementsByTagName("body")[0];

		if ( !body ) {
			// Return for frameset docs that don't have a body
			return;
		}

		container = document.createElement("div");
		container.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";

		body.appendChild( container ).appendChild( div );

		// Support: IE8
		// Check if table cells still have offsetWidth/Height when they are set
		// to display:none and there are still other visible table cells in a
		// table row; if so, offsetWidth/Height are not reliable for use when
		// determining if an element has been hidden directly using
		// display:none (it is still safe to use offsets if a parent element is
		// hidden; don safety goggles and see bug #4512 for more information).
		div.innerHTML = "<table><tr><td></td><td>t</td></tr></table>";
		tds = div.getElementsByTagName("td");
		tds[ 0 ].style.cssText = "padding:0;margin:0;border:0;display:none";
		isSupported = ( tds[ 0 ].offsetHeight === 0 );

		tds[ 0 ].style.display = "";
		tds[ 1 ].style.display = "none";

		// Support: IE8
		// Check if empty table cells still have offsetWidth/Height
		support.reliableHiddenOffsets = isSupported && ( tds[ 0 ].offsetHeight === 0 );

		// Check box-sizing and margin behavior.
		div.innerHTML = "";
		div.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";

		// Workaround failing boxSizing test due to offsetWidth returning wrong value
		// with some non-1 values of body zoom, ticket #13543
		jQuery.swap( body, body.style.zoom != null ? { zoom: 1 } : {}, function() {
			support.boxSizing = div.offsetWidth === 4;
		});

		// Use window.getComputedStyle because jsdom on node.js will break without it.
		if ( window.getComputedStyle ) {
			support.pixelPosition = ( window.getComputedStyle( div, null ) || {} ).top !== "1%";
			support.boxSizingReliable = ( window.getComputedStyle( div, null ) || { width: "4px" } ).width === "4px";

			// Check if div with explicit width and no margin-right incorrectly
			// gets computed margin-right based on width of container. (#3333)
			// Fails in WebKit before Feb 2011 nightlies
			// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
			marginDiv = div.appendChild( document.createElement("div") );
			marginDiv.style.cssText = div.style.cssText = divReset;
			marginDiv.style.marginRight = marginDiv.style.width = "0";
			div.style.width = "1px";

			support.reliableMarginRight =
				!parseFloat( ( window.getComputedStyle( marginDiv, null ) || {} ).marginRight );
		}

		if ( typeof div.style.zoom !== core_strundefined ) {
			// Support: IE<8
			// Check if natively block-level elements act like inline-block
			// elements when setting their display to 'inline' and giving
			// them layout
			div.innerHTML = "";
			div.style.cssText = divReset + "width:1px;padding:1px;display:inline;zoom:1";
			support.inlineBlockNeedsLayout = ( div.offsetWidth === 3 );

			// Support: IE6
			// Check if elements with layout shrink-wrap their children
			div.style.display = "block";
			div.innerHTML = "<div></div>";
			div.firstChild.style.width = "5px";
			support.shrinkWrapBlocks = ( div.offsetWidth !== 3 );

			if ( support.inlineBlockNeedsLayout ) {
				// Prevent IE 6 from affecting layout for positioned elements #11048
				// Prevent IE from shrinking the body in IE 7 mode #12869
				// Support: IE<8
				body.style.zoom = 1;
			}
		}

		body.removeChild( container );

		// Null elements to avoid leaks in IE
		container = div = tds = marginDiv = null;
	});

	// Null elements to avoid leaks in IE
	all = select = fragment = opt = a = input = null;

	return support;
})({});

var rbrace = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
	rmultiDash = /([A-Z])/g;

function internalData( elem, name, data, pvt /* Internal Use Only */ ){
	if ( !jQuery.acceptData( elem ) ) {
		return;
	}

	var ret, thisCache,
		internalKey = jQuery.expando,

		// We have to handle DOM nodes and JS objects differently because IE6-7
		// can't GC object references properly across the DOM-JS boundary
		isNode = elem.nodeType,

		// Only DOM nodes need the global jQuery cache; JS object data is
		// attached directly to the object so GC can occur automatically
		cache = isNode ? jQuery.cache : elem,

		// Only defining an ID for JS objects if its cache already exists allows
		// the code to shortcut on the same path as a DOM node with no cache
		id = isNode ? elem[ internalKey ] : elem[ internalKey ] && internalKey;

	// Avoid doing any more work than we need to when trying to get data on an
	// object that has no data at all
	if ( (!id || !cache[id] || (!pvt && !cache[id].data)) && data === undefined && typeof name === "string" ) {
		return;
	}

	if ( !id ) {
		// Only DOM nodes need a new unique ID for each element since their data
		// ends up in the global cache
		if ( isNode ) {
			id = elem[ internalKey ] = core_deletedIds.pop() || jQuery.guid++;
		} else {
			id = internalKey;
		}
	}

	if ( !cache[ id ] ) {
		// Avoid exposing jQuery metadata on plain JS objects when the object
		// is serialized using JSON.stringify
		cache[ id ] = isNode ? {} : { toJSON: jQuery.noop };
	}

	// An object can be passed to jQuery.data instead of a key/value pair; this gets
	// shallow copied over onto the existing cache
	if ( typeof name === "object" || typeof name === "function" ) {
		if ( pvt ) {
			cache[ id ] = jQuery.extend( cache[ id ], name );
		} else {
			cache[ id ].data = jQuery.extend( cache[ id ].data, name );
		}
	}

	thisCache = cache[ id ];

	// jQuery data() is stored in a separate object inside the object's internal data
	// cache in order to avoid key collisions between internal data and user-defined
	// data.
	if ( !pvt ) {
		if ( !thisCache.data ) {
			thisCache.data = {};
		}

		thisCache = thisCache.data;
	}

	if ( data !== undefined ) {
		thisCache[ jQuery.camelCase( name ) ] = data;
	}

	// Check for both converted-to-camel and non-converted data property names
	// If a data property was specified
	if ( typeof name === "string" ) {

		// First Try to find as-is property data
		ret = thisCache[ name ];

		// Test for null|undefined property data
		if ( ret == null ) {

			// Try to find the camelCased property
			ret = thisCache[ jQuery.camelCase( name ) ];
		}
	} else {
		ret = thisCache;
	}

	return ret;
}

function internalRemoveData( elem, name, pvt ) {
	if ( !jQuery.acceptData( elem ) ) {
		return;
	}

	var thisCache, i,
		isNode = elem.nodeType,

		// See jQuery.data for more information
		cache = isNode ? jQuery.cache : elem,
		id = isNode ? elem[ jQuery.expando ] : jQuery.expando;

	// If there is already no cache entry for this object, there is no
	// purpose in continuing
	if ( !cache[ id ] ) {
		return;
	}

	if ( name ) {

		thisCache = pvt ? cache[ id ] : cache[ id ].data;

		if ( thisCache ) {

			// Support array or space separated string names for data keys
			if ( !jQuery.isArray( name ) ) {

				// try the string as a key before any manipulation
				if ( name in thisCache ) {
					name = [ name ];
				} else {

					// split the camel cased version by spaces unless a key with the spaces exists
					name = jQuery.camelCase( name );
					if ( name in thisCache ) {
						name = [ name ];
					} else {
						name = name.split(" ");
					}
				}
			} else {
				// If "name" is an array of keys...
				// When data is initially created, via ("key", "val") signature,
				// keys will be converted to camelCase.
				// Since there is no way to tell _how_ a key was added, remove
				// both plain key and camelCase key. #12786
				// This will only penalize the array argument path.
				name = name.concat( jQuery.map( name, jQuery.camelCase ) );
			}

			i = name.length;
			while ( i-- ) {
				delete thisCache[ name[i] ];
			}

			// If there is no data left in the cache, we want to continue
			// and let the cache object itself get destroyed
			if ( pvt ? !isEmptyDataObject(thisCache) : !jQuery.isEmptyObject(thisCache) ) {
				return;
			}
		}
	}

	// See jQuery.data for more information
	if ( !pvt ) {
		delete cache[ id ].data;

		// Don't destroy the parent cache unless the internal data object
		// had been the only thing left in it
		if ( !isEmptyDataObject( cache[ id ] ) ) {
			return;
		}
	}

	// Destroy the cache
	if ( isNode ) {
		jQuery.cleanData( [ elem ], true );

	// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)
	/* jshint eqeqeq: false */
	} else if ( jQuery.support.deleteExpando || cache != cache.window ) {
		/* jshint eqeqeq: true */
		delete cache[ id ];

	// When all else fails, null
	} else {
		cache[ id ] = null;
	}
}

jQuery.extend({
	cache: {},

	// The following elements throw uncatchable exceptions if you
	// attempt to add expando properties to them.
	noData: {
		"applet": true,
		"embed": true,
		// Ban all objects except for Flash (which handle expandos)
		"object": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
	},

	hasData: function( elem ) {
		elem = elem.nodeType ? jQuery.cache[ elem[jQuery.expando] ] : elem[ jQuery.expando ];
		return !!elem && !isEmptyDataObject( elem );
	},

	data: function( elem, name, data ) {
		return internalData( elem, name, data );
	},

	removeData: function( elem, name ) {
		return internalRemoveData( elem, name );
	},

	// For internal use only.
	_data: function( elem, name, data ) {
		return internalData( elem, name, data, true );
	},

	_removeData: function( elem, name ) {
		return internalRemoveData( elem, name, true );
	},

	// A method for determining if a DOM node can handle the data expando
	acceptData: function( elem ) {
		// Do not set data on non-element because it will not be cleared (#8335).
		if ( elem.nodeType && elem.nodeType !== 1 && elem.nodeType !== 9 ) {
			return false;
		}

		var noData = elem.nodeName && jQuery.noData[ elem.nodeName.toLowerCase() ];

		// nodes accept data unless otherwise specified; rejection can be conditional
		return !noData || noData !== true && elem.getAttribute("classid") === noData;
	}
});

jQuery.fn.extend({
	data: function( key, value ) {
		var attrs, name,
			data = null,
			i = 0,
			elem = this[0];

		// Special expections of .data basically thwart jQuery.access,
		// so implement the relevant behavior ourselves

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = jQuery.data( elem );

				if ( elem.nodeType === 1 && !jQuery._data( elem, "parsedAttrs" ) ) {
					attrs = elem.attributes;
					for ( ; i < attrs.length; i++ ) {
						name = attrs[i].name;

						if ( name.indexOf("data-") === 0 ) {
							name = jQuery.camelCase( name.slice(5) );

							dataAttr( elem, name, data[ name ] );
						}
					}
					jQuery._data( elem, "parsedAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each(function() {
				jQuery.data( this, key );
			});
		}

		return arguments.length > 1 ?

			// Sets one value
			this.each(function() {
				jQuery.data( this, key, value );
			}) :

			// Gets one value
			// Try to fetch any internally stored data first
			elem ? dataAttr( elem, key, jQuery.data( elem, key ) ) : null;
	},

	removeData: function( key ) {
		return this.each(function() {
			jQuery.removeData( this, key );
		});
	}
});

function dataAttr( elem, key, data ) {
	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {

		var name = "data-" + key.replace( rmultiDash, "-$1" ).toLowerCase();

		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = data === "true" ? true :
					data === "false" ? false :
					data === "null" ? null :
					// Only convert to a number if it doesn't change the string
					+data + "" === data ? +data :
					rbrace.test( data ) ? jQuery.parseJSON( data ) :
						data;
			} catch( e ) {}

			// Make sure we set the data so it isn't changed later
			jQuery.data( elem, key, data );

		} else {
			data = undefined;
		}
	}

	return data;
}

// checks a cache object for emptiness
function isEmptyDataObject( obj ) {
	var name;
	for ( name in obj ) {

		// if the public data object is empty, the private is still empty
		if ( name === "data" && jQuery.isEmptyObject( obj[name] ) ) {
			continue;
		}
		if ( name !== "toJSON" ) {
			return false;
		}
	}

	return true;
}
jQuery.extend({
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = jQuery._data( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || jQuery.isArray(data) ) {
					queue = jQuery._data( elem, type, jQuery.makeArray(data) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// not intended for public consumption - generates a queueHooks object, or returns the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return jQuery._data( elem, key ) || jQuery._data( elem, key, {
			empty: jQuery.Callbacks("once memory").add(function() {
				jQuery._removeData( elem, type + "queue" );
				jQuery._removeData( elem, key );
			})
		});
	}
});

jQuery.fn.extend({
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[0], type );
		}

		return data === undefined ?
			this :
			this.each(function() {
				var queue = jQuery.queue( this, type, data );

				// ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[0] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			});
	},
	dequeue: function( type ) {
		return this.each(function() {
			jQuery.dequeue( this, type );
		});
	},
	// Based off of the plugin by Clint Helfers, with permission.
	// http://blindsignals.com/index.php/2009/07/jquery-delay/
	delay: function( time, type ) {
		time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
		type = type || "fx";

		return this.queue( type, function( next, hooks ) {
			var timeout = setTimeout( next, time );
			hooks.stop = function() {
				clearTimeout( timeout );
			};
		});
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},
	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while( i-- ) {
			tmp = jQuery._data( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
});
var nodeHook, boolHook,
	rclass = /[\t\r\n\f]/g,
	rreturn = /\r/g,
	rfocusable = /^(?:input|select|textarea|button|object)$/i,
	rclickable = /^(?:a|area)$/i,
	ruseDefault = /^(?:checked|selected)$/i,
	getSetAttribute = jQuery.support.getSetAttribute,
	getSetInput = jQuery.support.input;

jQuery.fn.extend({
	attr: function( name, value ) {
		return jQuery.access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each(function() {
			jQuery.removeAttr( this, name );
		});
	},

	prop: function( name, value ) {
		return jQuery.access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		name = jQuery.propFix[ name ] || name;
		return this.each(function() {
			// try/catch handles cases where IE balks (such as removing a property on window)
			try {
				this[ name ] = undefined;
				delete this[ name ];
			} catch( e ) {}
		});
	},

	addClass: function( value ) {
		var classes, elem, cur, clazz, j,
			i = 0,
			len = this.length,
			proceed = typeof value === "string" && value;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).addClass( value.call( this, j, this.className ) );
			});
		}

		if ( proceed ) {
			// The disjunction here is for better compressibility (see removeClass)
			classes = ( value || "" ).match( core_rnotwhite ) || [];

			for ( ; i < len; i++ ) {
				elem = this[ i ];
				cur = elem.nodeType === 1 && ( elem.className ?
					( " " + elem.className + " " ).replace( rclass, " " ) :
					" "
				);

				if ( cur ) {
					j = 0;
					while ( (clazz = classes[j++]) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}
					elem.className = jQuery.trim( cur );

				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, clazz, j,
			i = 0,
			len = this.length,
			proceed = arguments.length === 0 || typeof value === "string" && value;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).removeClass( value.call( this, j, this.className ) );
			});
		}
		if ( proceed ) {
			classes = ( value || "" ).match( core_rnotwhite ) || [];

			for ( ; i < len; i++ ) {
				elem = this[ i ];
				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( elem.className ?
					( " " + elem.className + " " ).replace( rclass, " " ) :
					""
				);

				if ( cur ) {
					j = 0;
					while ( (clazz = classes[j++]) ) {
						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) >= 0 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}
					elem.className = value ? jQuery.trim( cur ) : "";
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value;

		if ( typeof stateVal === "boolean" && type === "string" ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( i ) {
				jQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );
			});
		}

		return this.each(function() {
			if ( type === "string" ) {
				// toggle individual class names
				var className,
					i = 0,
					self = jQuery( this ),
					classNames = value.match( core_rnotwhite ) || [];

				while ( (className = classNames[ i++ ]) ) {
					// check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( type === core_strundefined || type === "boolean" ) {
				if ( this.className ) {
					// store className if set
					jQuery._data( this, "__className__", this.className );
				}

				// If the element has a class name or if we're passed "false",
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				this.className = this.className || value === false ? "" : jQuery._data( this, "__className__" ) || "";
			}
		});
	},

	hasClass: function( selector ) {
		var className = " " + selector + " ",
			i = 0,
			l = this.length;
		for ( ; i < l; i++ ) {
			if ( this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf( className ) >= 0 ) {
				return true;
			}
		}

		return false;
	},

	val: function( value ) {
		var ret, hooks, isFunction,
			elem = this[0];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks && "get" in hooks && (ret = hooks.get( elem, "value" )) !== undefined ) {
					return ret;
				}

				ret = elem.value;

				return typeof ret === "string" ?
					// handle most common string cases
					ret.replace(rreturn, "") :
					// handle cases where value is null/undef or number
					ret == null ? "" : ret;
			}

			return;
		}

		isFunction = jQuery.isFunction( value );

		return this.each(function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( isFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";
			} else if ( typeof val === "number" ) {
				val += "";
			} else if ( jQuery.isArray( val ) ) {
				val = jQuery.map(val, function ( value ) {
					return value == null ? "" : value + "";
				});
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !("set" in hooks) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		});
	}
});

jQuery.extend({
	valHooks: {
		option: {
			get: function( elem ) {
				// Use proper attribute retrieval(#6932, #12072)
				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :
					elem.text;
			}
		},
		select: {
			get: function( elem ) {
				var value, option,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one" || index < 0,
					values = one ? null : [],
					max = one ? index + 1 : options.length,
					i = index < 0 ?
						max :
						one ? index : 0;

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// oldIE doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&
							// Don't return options that are disabled or in a disabled optgroup
							( jQuery.support.optDisabled ? !option.disabled : option.getAttribute("disabled") === null ) &&
							( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];
					if ( (option.selected = jQuery.inArray( jQuery(option).val(), values ) >= 0) ) {
						optionSet = true;
					}
				}

				// force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	},

	attr: function( elem, name, value ) {
		var hooks, ret,
			nType = elem.nodeType;

		// don't get/set attributes on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === core_strundefined ) {
			return jQuery.prop( elem, name, value );
		}

		// All attributes are lowercase
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			name = name.toLowerCase();
			hooks = jQuery.attrHooks[ name ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );
		}

		if ( value !== undefined ) {

			if ( value === null ) {
				jQuery.removeAttr( elem, name );

			} else if ( hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {
				return ret;

			} else {
				elem.setAttribute( name, value + "" );
				return value;
			}

		} else if ( hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ) {
			return ret;

		} else {
			ret = jQuery.find.attr( elem, name );

			// Non-existent attributes return null, we normalize to undefined
			return ret == null ?
				undefined :
				ret;
		}
	},

	removeAttr: function( elem, value ) {
		var name, propName,
			i = 0,
			attrNames = value && value.match( core_rnotwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( (name = attrNames[i++]) ) {
				propName = jQuery.propFix[ name ] || name;

				// Boolean attributes get special treatment (#10870)
				if ( jQuery.expr.match.bool.test( name ) ) {
					// Set corresponding property to false
					if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {
						elem[ propName ] = false;
					// Support: IE<9
					// Also clear defaultChecked/defaultSelected (if appropriate)
					} else {
						elem[ jQuery.camelCase( "default-" + name ) ] =
							elem[ propName ] = false;
					}

				// See #9699 for explanation of this approach (setting first, then removal)
				} else {
					jQuery.attr( elem, name, "" );
				}

				elem.removeAttribute( getSetAttribute ? name : propName );
			}
		}
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !jQuery.support.radioValue && value === "radio" && jQuery.nodeName(elem, "input") ) {
					// Setting the type on a radio button after the value resets the value in IE6-9
					// Reset value to default in case type is set after value during creation
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	},

	prop: function( elem, name, value ) {
		var ret, hooks, notxml,
			nType = elem.nodeType;

		// don't get/set properties on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		notxml = nType !== 1 || !jQuery.isXMLDoc( elem );

		if ( notxml ) {
			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			return hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?
				ret :
				( elem[ name ] = value );

		} else {
			return hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ?
				ret :
				elem[ name ];
		}
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {
				// elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set
				// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				// Use proper attribute retrieval(#12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				return tabindex ?
					parseInt( tabindex, 10 ) :
					rfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) && elem.href ?
						0 :
						-1;
			}
		}
	}
});

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {
			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {
			// IE<8 needs the *property* name
			elem.setAttribute( !getSetAttribute && jQuery.propFix[ name ] || name, name );

		// Use defaultChecked and defaultSelected for oldIE
		} else {
			elem[ jQuery.camelCase( "default-" + name ) ] = elem[ name ] = true;
		}

		return name;
	}
};
jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
	var getter = jQuery.expr.attrHandle[ name ] || jQuery.find.attr;

	jQuery.expr.attrHandle[ name ] = getSetInput && getSetAttribute || !ruseDefault.test( name ) ?
		function( elem, name, isXML ) {
			var fn = jQuery.expr.attrHandle[ name ],
				ret = isXML ?
					undefined :
					/* jshint eqeqeq: false */
					(jQuery.expr.attrHandle[ name ] = undefined) !=
						getter( elem, name, isXML ) ?

						name.toLowerCase() :
						null;
			jQuery.expr.attrHandle[ name ] = fn;
			return ret;
		} :
		function( elem, name, isXML ) {
			return isXML ?
				undefined :
				elem[ jQuery.camelCase( "default-" + name ) ] ?
					name.toLowerCase() :
					null;
		};
});

// fix oldIE attroperties
if ( !getSetInput || !getSetAttribute ) {
	jQuery.attrHooks.value = {
		set: function( elem, value, name ) {
			if ( jQuery.nodeName( elem, "input" ) ) {
				// Does not return so that setAttribute is also used
				elem.defaultValue = value;
			} else {
				// Use nodeHook if defined (#1954); otherwise setAttribute is fine
				return nodeHook && nodeHook.set( elem, value, name );
			}
		}
	};
}

// IE6/7 do not support getting/setting some attributes with get/setAttribute
if ( !getSetAttribute ) {

	// Use this for any attribute in IE6/7
	// This fixes almost every IE6/7 issue
	nodeHook = {
		set: function( elem, value, name ) {
			// Set the existing or create a new attribute node
			var ret = elem.getAttributeNode( name );
			if ( !ret ) {
				elem.setAttributeNode(
					(ret = elem.ownerDocument.createAttribute( name ))
				);
			}
		    //addition of TRY CATCH block to prevent IE8 and lower from crashing
		    try {
		        ret.value = value += "";
		    }
		    catch(exception)
		    {
		        return value;
		    }

		    // Break association with cloned elements by also using setAttribute (#9646)
			return name === "value" || value === elem.getAttribute( name ) ?
				value :
				undefined;
		}
	};
	jQuery.expr.attrHandle.id = jQuery.expr.attrHandle.name = jQuery.expr.attrHandle.coords =
		// Some attributes are constructed with empty-string values when not defined
		function( elem, name, isXML ) {
			var ret;
			return isXML ?
				undefined :
				(ret = elem.getAttributeNode( name )) && ret.value !== "" ?
					ret.value :
					null;
		};
	jQuery.valHooks.button = {
		get: function( elem, name ) {
			var ret = elem.getAttributeNode( name );
			return ret && ret.specified ?
				ret.value :
				undefined;
		},
		set: nodeHook.set
	};

	// Set contenteditable to false on removals(#10429)
	// Setting to empty string throws an error as an invalid value
	jQuery.attrHooks.contenteditable = {
		set: function( elem, value, name ) {
			nodeHook.set( elem, value === "" ? false : value, name );
		}
	};

	// Set width and height to auto instead of 0 on empty string( Bug #8150 )
	// This is for removals
	jQuery.each([ "width", "height" ], function( i, name ) {
		jQuery.attrHooks[ name ] = {
			set: function( elem, value ) {
				if ( value === "" ) {
					elem.setAttribute( name, "auto" );
					return value;
				}
			}
		};
	});
}


// Some attributes require a special call on IE
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !jQuery.support.hrefNormalized ) {
	// href/src property should get the full normalized URL (#10299/#12915)
	jQuery.each([ "href", "src" ], function( i, name ) {
		jQuery.propHooks[ name ] = {
			get: function( elem ) {
				return elem.getAttribute( name, 4 );
			}
		};
	});
}

if ( !jQuery.support.style ) {
	jQuery.attrHooks.style = {
		get: function( elem ) {
			// Return undefined in the case of empty string
			// Note: IE uppercases css property names, but if we were to .toLowerCase()
			// .cssText, that would destroy case senstitivity in URL's, like in "background"
			return elem.style.cssText || undefined;
		},
		set: function( elem, value ) {
			return ( elem.style.cssText = value + "" );
		}
	};
}

// Safari mis-reports the default selected property of an option
// Accessing the parent's selectedIndex property fixes it
if ( !jQuery.support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {
			var parent = elem.parentNode;

			if ( parent ) {
				parent.selectedIndex;

				// Make sure that it also works with optgroups, see #5701
				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
			return null;
		}
	};
}

jQuery.each([
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
});

// IE6/7 call enctype encoding
if ( !jQuery.support.enctype ) {
	jQuery.propFix.enctype = "encoding";
}

// Radios and checkboxes getter/setter
jQuery.each([ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( jQuery.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );
			}
		}
	};
	if ( !jQuery.support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			// Support: Webkit
			// "" is returned instead of "on" if a value isn't specified
			return elem.getAttribute("value") === null ? "on" : elem.value;
		};
	}
});
var rformElems = /^(?:input|select|textarea)$/i,
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|contextmenu)|click/,
	rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)$/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {
		var tmp, events, t, handleObjIn,
			special, eventHandle, handleObj,
			handlers, type, namespaces, origType,
			elemData = jQuery._data( elem );

		// Don't attach events to noData or text/comment nodes (but allow plain objects)
		if ( !elemData ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !(events = elemData.events) ) {
			events = elemData.events = {};
		}
		if ( !(eventHandle = elemData.handle) ) {
			eventHandle = elemData.handle = function( e ) {
				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== core_strundefined && (!e || jQuery.event.triggered !== e.type) ?
					jQuery.event.dispatch.apply( eventHandle.elem, arguments ) :
					undefined;
			};
			// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events
			eventHandle.elem = elem;
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( core_rnotwhite ) || [""];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[t] ) || [];
			type = origType = tmp[1];
			namespaces = ( tmp[2] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend({
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join(".")
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !(handlers = events[ type ]) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener/attachEvent if the special events handler returns false
				if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {
					// Bind the global event handler to the element
					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle, false );

					} else if ( elem.attachEvent ) {
						elem.attachEvent( "on" + type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

		// Nullify elem to prevent memory leaks in IE
		elem = null;
	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {
		var j, handleObj, tmp,
			origCount, t, events,
			special, handlers, type,
			namespaces, origType,
			elemData = jQuery.hasData( elem ) && jQuery._data( elem );

		if ( !elemData || !(events = elemData.events) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( core_rnotwhite ) || [""];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[t] ) || [];
			type = origType = tmp[1];
			namespaces = ( tmp[2] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[2] && new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector || selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {
					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			delete elemData.handle;

			// removeData also checks for emptiness and clears the expando if empty
			// so use it instead of delete
			jQuery._removeData( elem, "events" );
		}
	},

	trigger: function( event, data, elem, onlyHandlers ) {
		var handle, ontype, cur,
			bubbleType, special, tmp, i,
			eventPath = [ elem || document ],
			type = core_hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = core_hasOwn.call( event, "namespace" ) ? event.namespace.split(".") : [];

		cur = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf(".") >= 0 ) {
			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split(".");
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf(":") < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join(".");
		event.namespace_re = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === (elem.ownerDocument || document) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {

			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( jQuery._data( cur, "events" ) || {} )[ event.type ] && jQuery._data( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && jQuery.acceptData( cur ) && handle.apply && handle.apply( cur, data ) === false ) {
				event.preventDefault();
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&
				jQuery.acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name name as the event.
				// Can't use an .isFunction() check here because IE6/7 fails that test.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && elem[ type ] && !jQuery.isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;
					try {
						elem[ type ]();
					} catch ( e ) {
						// IE<9 dies on focus/blur to hidden element (#1486,#12518)
						// only reproducible on winXP IE8 native, not IE9 in IE8 mode
					}
					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	dispatch: function( event ) {

		// Make a writable jQuery.Event from the native event object
		event = jQuery.event.fix( event );

		var i, ret, handleObj, matched, j,
			handlerQueue = [],
			args = core_slice.call( arguments ),
			handlers = ( jQuery._data( this, "events" ) || {} )[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[0] = event;
		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {

				// Triggered event must either 1) have no namespace, or
				// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).
				if ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )
							.apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( (event.result = ret) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var sel, handleObj, matches, i,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		// Black-hole SVG <use> instance trees (#13180)
		// Avoid non-left-click bubbling in Firefox (#3861)
		if ( delegateCount && cur.nodeType && (!event.button || event.type !== "click") ) {

			/* jshint eqeqeq: false */
			for ( ; cur != this; cur = cur.parentNode || this ) {
				/* jshint eqeqeq: true */

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && (cur.disabled !== true || event.type !== "click") ) {
					matches = [];
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matches[ sel ] === undefined ) {
							matches[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) >= 0 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matches[ sel ] ) {
							matches.push( handleObj );
						}
					}
					if ( matches.length ) {
						handlerQueue.push({ elem: cur, handlers: matches });
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		if ( delegateCount < handlers.length ) {
			handlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });
		}

		return handlerQueue;
	},

	fix: function( event ) {
		if ( event[ jQuery.expando ] ) {
			return event;
		}

		// Create a writable copy of the event object and normalize some properties
		var i, prop, copy,
			type = event.type,
			originalEvent = event,
			fixHook = this.fixHooks[ type ];

		if ( !fixHook ) {
			this.fixHooks[ type ] = fixHook =
				rmouseEvent.test( type ) ? this.mouseHooks :
				rkeyEvent.test( type ) ? this.keyHooks :
				{};
		}
		copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

		event = new jQuery.Event( originalEvent );

		i = copy.length;
		while ( i-- ) {
			prop = copy[ i ];
			event[ prop ] = originalEvent[ prop ];
		}

		// Support: IE<9
		// Fix target property (#1925)
		if ( !event.target ) {
			event.target = originalEvent.srcElement || document;
		}

		// Support: Chrome 23+, Safari?
		// Target should not be a text node (#504, #13143)
		if ( event.target.nodeType === 3 ) {
			event.target = event.target.parentNode;
		}

		// Support: IE<9
		// For mouse/key events, metaKey==false if it's undefined (#3368, #11328)
		event.metaKey = !!event.metaKey;

		return fixHook.filter ? fixHook.filter( event, originalEvent ) : event;
	},

	// Includes some event props shared by KeyEvent and MouseEvent
	props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),

	fixHooks: {},

	keyHooks: {
		props: "char charCode key keyCode".split(" "),
		filter: function( event, original ) {

			// Add which for key events
			if ( event.which == null ) {
				event.which = original.charCode != null ? original.charCode : original.keyCode;
			}

			return event;
		}
	},

	mouseHooks: {
		props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
		filter: function( event, original ) {
			var body, eventDoc, doc,
				button = original.button,
				fromElement = original.fromElement;

			// Calculate pageX/Y if missing and clientX/Y available
			if ( event.pageX == null && original.clientX != null ) {
				eventDoc = event.target.ownerDocument || document;
				doc = eventDoc.documentElement;
				body = eventDoc.body;

				event.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );
				event.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );
			}

			// Add relatedTarget, if necessary
			if ( !event.relatedTarget && fromElement ) {
				event.relatedTarget = fromElement === event.target ? original.toElement : fromElement;
			}

			// Add which for click: 1 === left; 2 === middle; 3 === right
			// Note: button is not normalized, so don't use it
			if ( !event.which && button !== undefined ) {
				event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
			}

			return event;
		}
	},

	special: {
		load: {
			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		focus: {
			// Fire native event if possible so blur/focus sequence is correct
			trigger: function() {
				if ( this !== safeActiveElement() && this.focus ) {
					try {
						this.focus();
						return false;
					} catch ( e ) {
						// Support: IE<9
						// If we error on focus to hidden element (#1486, #12518),
						// let .trigger() run the handlers
					}
				}
			},
			delegateType: "focusin"
		},
		blur: {
			trigger: function() {
				if ( this === safeActiveElement() && this.blur ) {
					this.blur();
					return false;
				}
			},
			delegateType: "focusout"
		},
		click: {
			// For checkbox, fire native event so checked state will be right
			trigger: function() {
				if ( jQuery.nodeName( this, "input" ) && this.type === "checkbox" && this.click ) {
					this.click();
					return false;
				}
			},

			// For cross-browser consistency, don't fire native .click() on links
			_default: function( event ) {
				return jQuery.nodeName( event.target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Even when returnValue equals to undefined Firefox will still show alert
				if ( event.result !== undefined ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	},

	simulate: function( type, elem, event, bubble ) {
		// Piggyback on a donor event to simulate a different one.
		// Fake originalEvent to avoid donor's stopPropagation, but if the
		// simulated event prevents default then we do the same on the donor.
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true,
				originalEvent: {}
			}
		);
		if ( bubble ) {
			jQuery.event.trigger( e, null, elem );
		} else {
			jQuery.event.dispatch.call( elem, e );
		}
		if ( e.isDefaultPrevented() ) {
			event.preventDefault();
		}
	}
};

jQuery.removeEvent = document.removeEventListener ?
	function( elem, type, handle ) {
		if ( elem.removeEventListener ) {
			elem.removeEventListener( type, handle, false );
		}
	} :
	function( elem, type, handle ) {
		var name = "on" + type;

		if ( elem.detachEvent ) {

			// #8545, #7054, preventing memory leaks for custom events in IE6-8
			// detachEvent needed property on element, by name of that event, to properly expose it to GC
			if ( typeof elem[ name ] === core_strundefined ) {
				elem[ name ] = null;
			}

			elem.detachEvent( name, handle );
		}
	};

jQuery.Event = function( src, props ) {
	// Allow instantiation without the 'new' keyword
	if ( !(this instanceof jQuery.Event) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = ( src.defaultPrevented || src.returnValue === false ||
			src.getPreventDefault && src.getPreventDefault() ) ? returnTrue : returnFalse;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || jQuery.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;
		if ( !e ) {
			return;
		}

		// If preventDefault exists, run it on the original event
		if ( e.preventDefault ) {
			e.preventDefault();

		// Support: IE
		// Otherwise set the returnValue property of the original event to false
		} else {
			e.returnValue = false;
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;
		if ( !e ) {
			return;
		}
		// If stopPropagation exists, run it on the original event
		if ( e.stopPropagation ) {
			e.stopPropagation();
		}

		// Support: IE
		// Set the cancelBubble property of the original event to true
		e.cancelBubble = true;
	},
	stopImmediatePropagation: function() {
		this.isImmediatePropagationStopped = returnTrue;
		this.stopPropagation();
	}
};

// Create mouseenter/leave events using mouseover/out and event-time checks
jQuery.each({
	mouseenter: "mouseover",
	mouseleave: "mouseout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mousenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || (related !== target && !jQuery.contains( target, related )) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
});

// IE submit delegation
if ( !jQuery.support.submitBubbles ) {

	jQuery.event.special.submit = {
		setup: function() {
			// Only need this for delegated form submit events
			if ( jQuery.nodeName( this, "form" ) ) {
				return false;
			}

			// Lazy-add a submit handler when a descendant form may potentially be submitted
			jQuery.event.add( this, "click._submit keypress._submit", function( e ) {
				// Node name check avoids a VML-related crash in IE (#9807)
				var elem = e.target,
					form = jQuery.nodeName( elem, "input" ) || jQuery.nodeName( elem, "button" ) ? elem.form : undefined;
				if ( form && !jQuery._data( form, "submitBubbles" ) ) {
					jQuery.event.add( form, "submit._submit", function( event ) {
						event._submit_bubble = true;
					});
					jQuery._data( form, "submitBubbles", true );
				}
			});
			// return undefined since we don't need an event listener
		},

		postDispatch: function( event ) {
			// If form was submitted by the user, bubble the event up the tree
			if ( event._submit_bubble ) {
				delete event._submit_bubble;
				if ( this.parentNode && !event.isTrigger ) {
					jQuery.event.simulate( "submit", this.parentNode, event, true );
				}
			}
		},

		teardown: function() {
			// Only need this for delegated form submit events
			if ( jQuery.nodeName( this, "form" ) ) {
				return false;
			}

			// Remove delegated handlers; cleanData eventually reaps submit handlers attached above
			jQuery.event.remove( this, "._submit" );
		}
	};
}

// IE change delegation and checkbox/radio fix
if ( !jQuery.support.changeBubbles ) {

	jQuery.event.special.change = {

		setup: function() {

			if ( rformElems.test( this.nodeName ) ) {
				// IE doesn't fire change on a check/radio until blur; trigger it on click
				// after a propertychange. Eat the blur-change in special.change.handle.
				// This still fires onchange a second time for check/radio after blur.
				if ( this.type === "checkbox" || this.type === "radio" ) {
					jQuery.event.add( this, "propertychange._change", function( event ) {
						if ( event.originalEvent.propertyName === "checked" ) {
							this._just_changed = true;
						}
					});
					jQuery.event.add( this, "click._change", function( event ) {
						if ( this._just_changed && !event.isTrigger ) {
							this._just_changed = false;
						}
						// Allow triggered, simulated change events (#11500)
						jQuery.event.simulate( "change", this, event, true );
					});
				}
				return false;
			}
			// Delegated event; lazy-add a change handler on descendant inputs
			jQuery.event.add( this, "beforeactivate._change", function( e ) {
				var elem = e.target;

				if ( rformElems.test( elem.nodeName ) && !jQuery._data( elem, "changeBubbles" ) ) {
					jQuery.event.add( elem, "change._change", function( event ) {
						if ( this.parentNode && !event.isSimulated && !event.isTrigger ) {
							jQuery.event.simulate( "change", this.parentNode, event, true );
						}
					});
					jQuery._data( elem, "changeBubbles", true );
				}
			});
		},

		handle: function( event ) {
			var elem = event.target;

			// Swallow native change events from checkbox/radio, we already triggered them above
			if ( this !== elem || event.isSimulated || event.isTrigger || (elem.type !== "radio" && elem.type !== "checkbox") ) {
				return event.handleObj.handler.apply( this, arguments );
			}
		},

		teardown: function() {
			jQuery.event.remove( this, "._change" );

			return !rformElems.test( this.nodeName );
		}
	};
}

// Create "bubbling" focus and blur events
if ( !jQuery.support.focusinBubbles ) {
	jQuery.each({ focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler while someone wants focusin/focusout
		var attaches = 0,
			handler = function( event ) {
				jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );
			};

		jQuery.event.special[ fix ] = {
			setup: function() {
				if ( attaches++ === 0 ) {
					document.addEventListener( orig, handler, true );
				}
			},
			teardown: function() {
				if ( --attaches === 0 ) {
					document.removeEventListener( orig, handler, true );
				}
			}
		};
	});
}

jQuery.fn.extend({

	on: function( types, selector, data, fn, /*INTERNAL*/ one ) {
		var type, origFn;

		// Types can be a map of types/handlers
		if ( typeof types === "object" ) {
			// ( types-Object, selector, data )
			if ( typeof selector !== "string" ) {
				// ( types-Object, data )
				data = data || selector;
				selector = undefined;
			}
			for ( type in types ) {
				this.on( type, selector, data, types[ type ], one );
			}
			return this;
		}

		if ( data == null && fn == null ) {
			// ( types, fn )
			fn = selector;
			data = selector = undefined;
		} else if ( fn == null ) {
			if ( typeof selector === "string" ) {
				// ( types, selector, fn )
				fn = data;
				data = undefined;
			} else {
				// ( types, data, fn )
				fn = data;
				data = selector;
				selector = undefined;
			}
		}
		if ( fn === false ) {
			fn = returnFalse;
		} else if ( !fn ) {
			return this;
		}

		if ( one === 1 ) {
			origFn = fn;
			fn = function( event ) {
				// Can use an empty set, since event contains the info
				jQuery().off( event );
				return origFn.apply( this, arguments );
			};
			// Use same guid so caller can remove using origFn
			fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
		}
		return this.each( function() {
			jQuery.event.add( this, types, fn, data, selector );
		});
	},
	one: function( types, selector, data, fn ) {
		return this.on( types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {
			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {
			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {
			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each(function() {
			jQuery.event.remove( this, types, fn, selector );
		});
	},

	trigger: function( type, data ) {
		return this.each(function() {
			jQuery.event.trigger( type, data, this );
		});
	},
	triggerHandler: function( type, data ) {
		var elem = this[0];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
});
var isSimple = /^.[^:#\[\.,]*$/,
	rparentsprev = /^(?:parents|prev(?:Until|All))/,
	rneedsContext = jQuery.expr.match.needsContext,
	// methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend({
	find: function( selector ) {
		var i,
			ret = [],
			self = this,
			len = self.length;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter(function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			}) );
		}

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		// Needed because $( selector, context ) becomes $( context ).find( selector )
		ret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );
		ret.selector = this.selector ? this.selector + " " + selector : selector;
		return ret;
	},

	has: function( target ) {
		var i,
			targets = jQuery( target, this ),
			len = targets.length;

		return this.filter(function() {
			for ( i = 0; i < len; i++ ) {
				if ( jQuery.contains( this, targets[i] ) ) {
					return true;
				}
			}
		});
	},

	not: function( selector ) {
		return this.pushStack( winnow(this, selector || [], true) );
	},

	filter: function( selector ) {
		return this.pushStack( winnow(this, selector || [], false) );
	},

	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			ret = [],
			pos = rneedsContext.test( selectors ) || typeof selectors !== "string" ?
				jQuery( selectors, context || this.context ) :
				0;

		for ( ; i < l; i++ ) {
			for ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {
				// Always skip document fragments
				if ( cur.nodeType < 11 && (pos ?
					pos.index(cur) > -1 :

					// Don't pass non-elements to Sizzle
					cur.nodeType === 1 &&
						jQuery.find.matchesSelector(cur, selectors)) ) {

					cur = ret.push( cur );
					break;
				}
			}
		}

		return this.pushStack( ret.length > 1 ? jQuery.unique( ret ) : ret );
	},

	// Determine the position of an element within
	// the matched set of elements
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[0] && this[0].parentNode ) ? this.first().prevAll().length : -1;
		}

		// index in selector
		if ( typeof elem === "string" ) {
			return jQuery.inArray( this[0], jQuery( elem ) );
		}

		// Locate the position of the desired element
		return jQuery.inArray(
			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[0] : elem, this );
	},

	add: function( selector, context ) {
		var set = typeof selector === "string" ?
				jQuery( selector, context ) :
				jQuery.makeArray( selector && selector.nodeType ? [ selector ] : selector ),
			all = jQuery.merge( this.get(), set );

		return this.pushStack( jQuery.unique(all) );
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter(selector)
		);
	}
});

function sibling( cur, dir ) {
	do {
		cur = cur[ dir ];
	} while ( cur && cur.nodeType !== 1 );

	return cur;
}

jQuery.each({
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return jQuery.dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return jQuery.dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return jQuery.dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return jQuery.sibling( elem.firstChild );
	},
	contents: function( elem ) {
		return jQuery.nodeName( elem, "iframe" ) ?
			elem.contentDocument || elem.contentWindow.document :
			jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var ret = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			ret = jQuery.filter( selector, ret );
		}

		if ( this.length > 1 ) {
			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				ret = jQuery.unique( ret );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				ret = ret.reverse();
			}
		}

		return this.pushStack( ret );
	};
});

jQuery.extend({
	filter: function( expr, elems, not ) {
		var elem = elems[ 0 ];

		if ( not ) {
			expr = ":not(" + expr + ")";
		}

		return elems.length === 1 && elem.nodeType === 1 ?
			jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :
			jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
				return elem.nodeType === 1;
			}));
	},

	dir: function( elem, dir, until ) {
		var matched = [],
			cur = elem[ dir ];

		while ( cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery( cur ).is( until )) ) {
			if ( cur.nodeType === 1 ) {
				matched.push( cur );
			}
			cur = cur[dir];
		}
		return matched;
	},

	sibling: function( n, elem ) {
		var r = [];

		for ( ; n; n = n.nextSibling ) {
			if ( n.nodeType === 1 && n !== elem ) {
				r.push( n );
			}
		}

		return r;
	}
});

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( jQuery.isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			/* jshint -W018 */
			return !!qualifier.call( elem, i, elem ) !== not;
		});

	}

	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		});

	}

	if ( typeof qualifier === "string" ) {
		if ( isSimple.test( qualifier ) ) {
			return jQuery.filter( qualifier, elements, not );
		}

		qualifier = jQuery.filter( qualifier, elements );
	}

	return jQuery.grep( elements, function( elem ) {
		return ( jQuery.inArray( elem, qualifier ) >= 0 ) !== not;
	});
}
function createSafeFragment( document ) {
	var list = nodeNames.split( "|" ),
		safeFrag = document.createDocumentFragment();

	if ( safeFrag.createElement ) {
		while ( list.length ) {
			safeFrag.createElement(
				list.pop()
			);
		}
	}
	return safeFrag;
}

var nodeNames = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|" +
		"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
	rinlinejQuery = / jQuery\d+="(?:null|\d+)"/g,
	rnoshimcache = new RegExp("<(?:" + nodeNames + ")[\\s/>]", "i"),
	rleadingWhitespace = /^\s+/,
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
	rtagName = /<([\w:]+)/,
	rtbody = /<tbody/i,
	rhtml = /<|&#?\w+;/,
	rnoInnerhtml = /<(?:script|style|link)/i,
	manipulation_rcheckableType = /^(?:checkbox|radio)$/i,
	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rscriptType = /^$|\/(?:java|ecma)script/i,
	rscriptTypeMasked = /^true\/(.*)/,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,

	// We have to close these tags to support XHTML (#13200)
	wrapMap = {
		option: [ 1, "<select multiple='multiple'>", "</select>" ],
		legend: [ 1, "<fieldset>", "</fieldset>" ],
		area: [ 1, "<map>", "</map>" ],
		param: [ 1, "<object>", "</object>" ],
		thead: [ 1, "<table>", "</table>" ],
		tr: [ 2, "<table><tbody>", "</tbody></table>" ],
		col: [ 2, "<table><tbody></tbody><colgroup>", "</colgroup></table>" ],
		td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

		// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,
		// unless wrapped in a div with non-breaking characters in front of it.
		_default: jQuery.support.htmlSerialize ? [ 0, "", "" ] : [ 1, "X<div>", "</div>"  ]
	},
	safeFragment = createSafeFragment( document ),
	fragmentDiv = safeFragment.appendChild( document.createElement("div") );

wrapMap.optgroup = wrapMap.option;
wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

jQuery.fn.extend({
	text: function( value ) {
		return jQuery.access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().append( ( this[0] && this[0].ownerDocument || document ).createTextNode( value ) );
		}, null, value, arguments.length );
	},

	append: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		});
	},

	prepend: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		});
	},

	before: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		});
	},

	after: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		});
	},

	// keepData is for internal use only--do not document
	remove: function( selector, keepData ) {
		var elem,
			elems = selector ? jQuery.filter( selector, this ) : this,
			i = 0;

		for ( ; (elem = elems[i]) != null; i++ ) {

			if ( !keepData && elem.nodeType === 1 ) {
				jQuery.cleanData( getAll( elem ) );
			}

			if ( elem.parentNode ) {
				if ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {
					setGlobalEval( getAll( elem, "script" ) );
				}
				elem.parentNode.removeChild( elem );
			}
		}

		return this;
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; (elem = this[i]) != null; i++ ) {
			// Remove element nodes and prevent memory leaks
			if ( elem.nodeType === 1 ) {
				jQuery.cleanData( getAll( elem, false ) );
			}

			// Remove any remaining nodes
			while ( elem.firstChild ) {
				elem.removeChild( elem.firstChild );
			}

			// If this is a select, ensure that it displays empty (#12336)
			// Support: IE<9
			if ( elem.options && jQuery.nodeName( elem, "select" ) ) {
				elem.options.length = 0;
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function () {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		});
	},

	html: function( value ) {
		return jQuery.access( this, function( value ) {
			var elem = this[0] || {},
				i = 0,
				l = this.length;

			if ( value === undefined ) {
				return elem.nodeType === 1 ?
					elem.innerHTML.replace( rinlinejQuery, "" ) :
					undefined;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				( jQuery.support.htmlSerialize || !rnoshimcache.test( value )  ) &&
				( jQuery.support.leadingWhitespace || !rleadingWhitespace.test( value ) ) &&
				!wrapMap[ ( rtagName.exec( value ) || ["", ""] )[1].toLowerCase() ] ) {

				value = value.replace( rxhtmlTag, "<$1></$2>" );

				try {
					for (; i < l; i++ ) {
						// Remove element nodes and prevent memory leaks
						elem = this[i] || {};
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch(e) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var
			// Snapshot the DOM in case .domManip sweeps something relevant into its fragment
			args = jQuery.map( this, function( elem ) {
				return [ elem.nextSibling, elem.parentNode ];
			}),
			i = 0;

		// Make the changes, replacing each context element with the new content
		this.domManip( arguments, function( elem ) {
			var next = args[ i++ ],
				parent = args[ i++ ];

			if ( parent ) {
				// Don't use the snapshot next if it has moved (#13810)
				if ( next && next.parentNode !== parent ) {
					next = this.nextSibling;
				}
				jQuery( this ).remove();
				parent.insertBefore( elem, next );
			}
		// Allow new content to include elements from the context set
		}, true );

		// Force removal if there was no new content (e.g., from empty arguments)
		return i ? this : this.remove();
	},

	detach: function( selector ) {
		return this.remove( selector, true );
	},

	domManip: function( args, callback, allowIntersection ) {

		// Flatten any nested arrays
		args = core_concat.apply( [], args );

		var first, node, hasScripts,
			scripts, doc, fragment,
			i = 0,
			l = this.length,
			set = this,
			iNoClone = l - 1,
			value = args[0],
			isFunction = jQuery.isFunction( value );

		// We can't cloneNode fragments that contain checked, in WebKit
		if ( isFunction || !( l <= 1 || typeof value !== "string" || jQuery.support.checkClone || !rchecked.test( value ) ) ) {
			return this.each(function( index ) {
				var self = set.eq( index );
				if ( isFunction ) {
					args[0] = value.call( this, index, self.html() );
				}
				self.domManip( args, callback, allowIntersection );
			});
		}

		if ( l ) {
			fragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, !allowIntersection && this );
			first = fragment.firstChild;

			if ( fragment.childNodes.length === 1 ) {
				fragment = first;
			}

			if ( first ) {
				scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
				hasScripts = scripts.length;

				// Use the original fragment for the last item instead of the first because it can end up
				// being emptied incorrectly in certain situations (#8070).
				for ( ; i < l; i++ ) {
					node = fragment;

					if ( i !== iNoClone ) {
						node = jQuery.clone( node, true, true );

						// Keep references to cloned scripts for later restoration
						if ( hasScripts ) {
							jQuery.merge( scripts, getAll( node, "script" ) );
						}
					}

					callback.call( this[i], node, i );
				}

				if ( hasScripts ) {
					doc = scripts[ scripts.length - 1 ].ownerDocument;

					// Reenable scripts
					jQuery.map( scripts, restoreScript );

					// Evaluate executable scripts on first document insertion
					for ( i = 0; i < hasScripts; i++ ) {
						node = scripts[ i ];
						if ( rscriptType.test( node.type || "" ) &&
							!jQuery._data( node, "globalEval" ) && jQuery.contains( doc, node ) ) {

							if ( node.src ) {
								// Hope ajax is available...
								jQuery._evalUrl( node.src );
							} else {
								jQuery.globalEval( ( node.text || node.textContent || node.innerHTML || "" ).replace( rcleanScript, "" ) );
							}
						}
					}
				}

				// Fix #11809: Avoid leaking memory
				fragment = first = null;
			}
		}

		return this;
	}
});

// Support: IE<8
// Manipulating tables requires a tbody
function manipulationTarget( elem, content ) {
	return jQuery.nodeName( elem, "table" ) &&
		jQuery.nodeName( content.nodeType === 1 ? content : content.firstChild, "tr" ) ?

		elem.getElementsByTagName("tbody")[0] ||
			elem.appendChild( elem.ownerDocument.createElement("tbody") ) :
		elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = (jQuery.find.attr( elem, "type" ) !== null) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	var match = rscriptTypeMasked.exec( elem.type );
	if ( match ) {
		elem.type = match[1];
	} else {
		elem.removeAttribute("type");
	}
	return elem;
}

// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var elem,
		i = 0;
	for ( ; (elem = elems[i]) != null; i++ ) {
		jQuery._data( elem, "globalEval", !refElements || jQuery._data( refElements[i], "globalEval" ) );
	}
}

function cloneCopyEvent( src, dest ) {

	if ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {
		return;
	}

	var type, i, l,
		oldData = jQuery._data( src ),
		curData = jQuery._data( dest, oldData ),
		events = oldData.events;

	if ( events ) {
		delete curData.handle;
		curData.events = {};

		for ( type in events ) {
			for ( i = 0, l = events[ type ].length; i < l; i++ ) {
				jQuery.event.add( dest, type, events[ type ][ i ] );
			}
		}
	}

	// make the cloned public data object a copy from the original
	if ( curData.data ) {
		curData.data = jQuery.extend( {}, curData.data );
	}
}

function fixCloneNodeIssues( src, dest ) {
	var nodeName, e, data;

	// We do not need to do anything for non-Elements
	if ( dest.nodeType !== 1 ) {
		return;
	}

	nodeName = dest.nodeName.toLowerCase();

	// IE6-8 copies events bound via attachEvent when using cloneNode.
	if ( !jQuery.support.noCloneEvent && dest[ jQuery.expando ] ) {
		data = jQuery._data( dest );

		for ( e in data.events ) {
			jQuery.removeEvent( dest, e, data.handle );
		}

		// Event data gets referenced instead of copied if the expando gets copied too
		dest.removeAttribute( jQuery.expando );
	}

	// IE blanks contents when cloning scripts, and tries to evaluate newly-set text
	if ( nodeName === "script" && dest.text !== src.text ) {
		disableScript( dest ).text = src.text;
		restoreScript( dest );

	// IE6-10 improperly clones children of object elements using classid.
	// IE10 throws NoModificationAllowedError if parent is null, #12132.
	} else if ( nodeName === "object" ) {
		if ( dest.parentNode ) {
			dest.outerHTML = src.outerHTML;
		}

		// This path appears unavoidable for IE9. When cloning an object
		// element in IE9, the outerHTML strategy above is not sufficient.
		// If the src has innerHTML and the destination does not,
		// copy the src.innerHTML into the dest.innerHTML. #10324
		if ( jQuery.support.html5Clone && ( src.innerHTML && !jQuery.trim(dest.innerHTML) ) ) {
			dest.innerHTML = src.innerHTML;
		}

	} else if ( nodeName === "input" && manipulation_rcheckableType.test( src.type ) ) {
		// IE6-8 fails to persist the checked state of a cloned checkbox
		// or radio button. Worse, IE6-7 fail to give the cloned element
		// a checked appearance if the defaultChecked value isn't also set

		dest.defaultChecked = dest.checked = src.checked;

		// IE6-7 get confused and end up setting the value of a cloned
		// checkbox/radio button to an empty string instead of "on"
		if ( dest.value !== src.value ) {
			dest.value = src.value;
		}

	// IE6-8 fails to return the selected option to the default selected
	// state when cloning options
	} else if ( nodeName === "option" ) {
		dest.defaultSelected = dest.selected = src.defaultSelected;

	// IE6-8 fails to set the defaultValue to the correct value when
	// cloning other types of input fields
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

jQuery.each({
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			i = 0,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone(true);
			jQuery( insert[i] )[ original ]( elems );

			// Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()
			core_push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
});

function getAll( context, tag ) {
	var elems, elem,
		i = 0,
		found = typeof context.getElementsByTagName !== core_strundefined ? context.getElementsByTagName( tag || "*" ) :
			typeof context.querySelectorAll !== core_strundefined ? context.querySelectorAll( tag || "*" ) :
			undefined;

	if ( !found ) {
		for ( found = [], elems = context.childNodes || context; (elem = elems[i]) != null; i++ ) {
			if ( !tag || jQuery.nodeName( elem, tag ) ) {
				found.push( elem );
			} else {
				jQuery.merge( found, getAll( elem, tag ) );
			}
		}
	}

	return tag === undefined || tag && jQuery.nodeName( context, tag ) ?
		jQuery.merge( [ context ], found ) :
		found;
}

// Used in buildFragment, fixes the defaultChecked property
function fixDefaultChecked( elem ) {
	if ( manipulation_rcheckableType.test( elem.type ) ) {
		elem.defaultChecked = elem.checked;
	}
}

jQuery.extend({
	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var destElements, node, clone, i, srcElements,
			inPage = jQuery.contains( elem.ownerDocument, elem );

		if ( jQuery.support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test( "<" + elem.nodeName + ">" ) ) {
			clone = elem.cloneNode( true );

		// IE<=8 does not properly clone detached, unknown element nodes
		} else {
			fragmentDiv.innerHTML = elem.outerHTML;
			fragmentDiv.removeChild( clone = fragmentDiv.firstChild );
		}

		if ( (!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) &&
				(elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem) ) {

			// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			// Fix all IE cloning issues
			for ( i = 0; (node = srcElements[i]) != null; ++i ) {
				// Ensure that the destination node is not null; Fixes #9587
				if ( destElements[i] ) {
					fixCloneNodeIssues( node, destElements[i] );
				}
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0; (node = srcElements[i]) != null; i++ ) {
					cloneCopyEvent( node, destElements[i] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		destElements = srcElements = node = null;

		// Return the cloned set
		return clone;
	},

	buildFragment: function( elems, context, scripts, selection ) {
		var j, elem, contains,
			tmp, tag, tbody, wrap,
			l = elems.length,

			// Ensure a safe fragment
			safe = createSafeFragment( context ),

			nodes = [],
			i = 0;

		for ( ; i < l; i++ ) {
			elem = elems[ i ];

			if ( elem || elem === 0 ) {

				// Add nodes directly
				if ( jQuery.type( elem ) === "object" ) {
					jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

				// Convert non-html into a text node
				} else if ( !rhtml.test( elem ) ) {
					nodes.push( context.createTextNode( elem ) );

				// Convert html into DOM nodes
				} else {
					tmp = tmp || safe.appendChild( context.createElement("div") );

					// Deserialize a standard representation
					tag = ( rtagName.exec( elem ) || ["", ""] )[1].toLowerCase();
					wrap = wrapMap[ tag ] || wrapMap._default;

					tmp.innerHTML = wrap[1] + elem.replace( rxhtmlTag, "<$1></$2>" ) + wrap[2];

					// Descend through wrappers to the right content
					j = wrap[0];
					while ( j-- ) {
						tmp = tmp.lastChild;
					}

					// Manually add leading whitespace removed by IE
					if ( !jQuery.support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {
						nodes.push( context.createTextNode( rleadingWhitespace.exec( elem )[0] ) );
					}

					// Remove IE's autoinserted <tbody> from table fragments
					if ( !jQuery.support.tbody ) {

						// String was a <table>, *may* have spurious <tbody>
						elem = tag === "table" && !rtbody.test( elem ) ?
							tmp.firstChild :

							// String was a bare <thead> or <tfoot>
							wrap[1] === "<table>" && !rtbody.test( elem ) ?
								tmp :
								0;

						j = elem && elem.childNodes.length;
						while ( j-- ) {
							if ( jQuery.nodeName( (tbody = elem.childNodes[j]), "tbody" ) && !tbody.childNodes.length ) {
								elem.removeChild( tbody );
							}
						}
					}

					jQuery.merge( nodes, tmp.childNodes );

					// Fix #12392 for WebKit and IE > 9
					tmp.textContent = "";

					// Fix #12392 for oldIE
					while ( tmp.firstChild ) {
						tmp.removeChild( tmp.firstChild );
					}

					// Remember the top-level container for proper cleanup
					tmp = safe.lastChild;
				}
			}
		}

		// Fix #11356: Clear elements from fragment
		if ( tmp ) {
			safe.removeChild( tmp );
		}

		// Reset defaultChecked for any radios and checkboxes
		// about to be appended to the DOM in IE 6/7 (#8060)
		if ( !jQuery.support.appendChecked ) {
			jQuery.grep( getAll( nodes, "input" ), fixDefaultChecked );
		}

		i = 0;
		while ( (elem = nodes[ i++ ]) ) {

			// #4087 - If origin and destination elements are the same, and this is
			// that element, do not do anything
			if ( selection && jQuery.inArray( elem, selection ) !== -1 ) {
				continue;
			}

			contains = jQuery.contains( elem.ownerDocument, elem );

			// Append to fragment
			tmp = getAll( safe.appendChild( elem ), "script" );

			// Preserve script evaluation history
			if ( contains ) {
				setGlobalEval( tmp );
			}

			// Capture executables
			if ( scripts ) {
				j = 0;
				while ( (elem = tmp[ j++ ]) ) {
					if ( rscriptType.test( elem.type || "" ) ) {
						scripts.push( elem );
					}
				}
			}
		}

		tmp = null;

		return safe;
	},

	cleanData: function( elems, /* internal */ acceptData ) {
		var elem, type, id, data,
			i = 0,
			internalKey = jQuery.expando,
			cache = jQuery.cache,
			deleteExpando = jQuery.support.deleteExpando,
			special = jQuery.event.special;

		for ( ; (elem = elems[i]) != null; i++ ) {

			if ( acceptData || jQuery.acceptData( elem ) ) {

				id = elem[ internalKey ];
				data = id && cache[ id ];

				if ( data ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Remove cache only if it was not already removed by jQuery.event.remove
					if ( cache[ id ] ) {

						delete cache[ id ];

						// IE does not allow us to delete expando properties from nodes,
						// nor does it have a removeAttribute function on Document nodes;
						// we must handle all of these cases
						if ( deleteExpando ) {
							delete elem[ internalKey ];

						} else if ( typeof elem.removeAttribute !== core_strundefined ) {
							elem.removeAttribute( internalKey );

						} else {
							elem[ internalKey ] = null;
						}

						core_deletedIds.push( id );
					}
				}
			}
		}
	},

	_evalUrl: function( url ) {
		return jQuery.ajax({
			url: url,
			type: "GET",
			dataType: "script",
			async: false,
			global: false,
			"throws": true
		});
	}
});
jQuery.fn.extend({
	wrapAll: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each(function(i) {
				jQuery(this).wrapAll( html.call(this, i) );
			});
		}

		if ( this[0] ) {
			// The elements to wrap the target around
			var wrap = jQuery( html, this[0].ownerDocument ).eq(0).clone(true);

			if ( this[0].parentNode ) {
				wrap.insertBefore( this[0] );
			}

			wrap.map(function() {
				var elem = this;

				while ( elem.firstChild && elem.firstChild.nodeType === 1 ) {
					elem = elem.firstChild;
				}

				return elem;
			}).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each(function(i) {
				jQuery(this).wrapInner( html.call(this, i) );
			});
		}

		return this.each(function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		});
	},

	wrap: function( html ) {
		var isFunction = jQuery.isFunction( html );

		return this.each(function(i) {
			jQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );
		});
	},

	unwrap: function() {
		return this.parent().each(function() {
			if ( !jQuery.nodeName( this, "body" ) ) {
				jQuery( this ).replaceWith( this.childNodes );
			}
		}).end();
	}
});
var iframe, getStyles, curCSS,
	ralpha = /alpha\([^)]*\)/i,
	ropacity = /opacity\s*=\s*([^)]*)/,
	rposition = /^(top|right|bottom|left)$/,
	// swappable if display is none or starts with table except "table", "table-cell", or "table-caption"
	// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rmargin = /^margin/,
	rnumsplit = new RegExp( "^(" + core_pnum + ")(.*)$", "i" ),
	rnumnonpx = new RegExp( "^(" + core_pnum + ")(?!px)[a-z%]+$", "i" ),
	rrelNum = new RegExp( "^([+-])=(" + core_pnum + ")", "i" ),
	elemdisplay = { BODY: "block" },

	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: 0,
		fontWeight: 400
	},

	cssExpand = [ "Top", "Right", "Bottom", "Left" ],
	cssPrefixes = [ "Webkit", "O", "Moz", "ms" ];

// return a css property mapped to a potentially vendor prefixed property
function vendorPropName( style, name ) {

	// shortcut for names that are not vendor prefixed
	if ( name in style ) {
		return name;
	}

	// check for vendor prefixed names
	var capName = name.charAt(0).toUpperCase() + name.slice(1),
		origName = name,
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in style ) {
			return name;
		}
	}

	return origName;
}

function isHidden( elem, el ) {
	// isHidden might be called from jQuery#filter function;
	// in that case, element will be second argument
	elem = el || elem;
	return jQuery.css( elem, "display" ) === "none" || !jQuery.contains( elem.ownerDocument, elem );
}

function showHide( elements, show ) {
	var display, elem, hidden,
		values = [],
		index = 0,
		length = elements.length;

	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		values[ index ] = jQuery._data( elem, "olddisplay" );
		display = elem.style.display;
		if ( show ) {
			// Reset the inline display of this element to learn if it is
			// being hidden by cascaded rules or not
			if ( !values[ index ] && display === "none" ) {
				elem.style.display = "";
			}

			// Set elements which have been overridden with display: none
			// in a stylesheet to whatever the default browser style is
			// for such an element
			if ( elem.style.display === "" && isHidden( elem ) ) {
				values[ index ] = jQuery._data( elem, "olddisplay", css_defaultDisplay(elem.nodeName) );
			}
		} else {

			if ( !values[ index ] ) {
				hidden = isHidden( elem );

				if ( display && display !== "none" || !hidden ) {
					jQuery._data( elem, "olddisplay", hidden ? display : jQuery.css( elem, "display" ) );
				}
			}
		}
	}

	// Set the display of most of the elements in a second loop
	// to avoid the constant reflow
	for ( index = 0; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}
		if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
			elem.style.display = show ? values[ index ] || "" : "none";
		}
	}

	return elements;
}

jQuery.fn.extend({
	css: function( name, value ) {
		return jQuery.access( this, function( elem, name, value ) {
			var len, styles,
				map = {},
				i = 0;

			if ( jQuery.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	},
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each(function() {
			if ( isHidden( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		});
	}
});

jQuery.extend({
	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {
					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"columnCount": true,
		"fillOpacity": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {
		// normalize float css property
		"float": jQuery.support.cssFloat ? "cssFloat" : "styleFloat"
	},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {
		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = jQuery.camelCase( name ),
			style = elem.style;

		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );

		// gets hook for the prefixed version
		// followed by the unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// convert relative number strings (+= or -=) to relative numbers. #7345
			if ( type === "string" && (ret = rrelNum.exec( value )) ) {
				value = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );
				// Fixes bug #9237
				type = "number";
			}

			// Make sure that NaN and null values aren't set. See: #7116
			if ( value == null || type === "number" && isNaN( value ) ) {
				return;
			}

			// If a number was passed in, add 'px' to the (except for certain CSS properties)
			if ( type === "number" && !jQuery.cssNumber[ origName ] ) {
				value += "px";
			}

			// Fixes #8908, it can be done more correctly by specifing setters in cssHooks,
			// but it would mean to define eight (for every problematic property) identical functions
			if ( !jQuery.support.clearCloneStyle && value === "" && name.indexOf("background") === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !("set" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {

				// Wrapped to prevent IE from throwing errors when 'invalid' values are provided
				// Fixes bug #5509
				try {
					style[ name ] = value;
				} catch(e) {}
			}

		} else {
			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {
				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var num, val, hooks,
			origName = jQuery.camelCase( name );

		// Make sure that we're working with the right name
		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );

		// gets hook for the prefixed version
		// followed by the unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		//convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Return, converting to number if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || jQuery.isNumeric( num ) ? num || 0 : val;
		}
		return val;
	}
});

// NOTE: we've included the "window" in window.getComputedStyle
// because jsdom on node.js will break without it.
if ( window.getComputedStyle ) {
	getStyles = function( elem ) {
		return window.getComputedStyle( elem, null );
	};

	curCSS = function( elem, name, _computed ) {
		var width, minWidth, maxWidth,
			computed = _computed || getStyles( elem ),

			// getPropertyValue is only needed for .css('filter') in IE9, see #12537
			ret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined,
			style = elem.style;

		if ( computed ) {

			if ( ret === "" && !jQuery.contains( elem.ownerDocument, elem ) ) {
				ret = jQuery.style( elem, name );
			}

			// A tribute to the "awesome hack by Dean Edwards"
			// Chrome < 17 and Safari 5.0 uses "computed value" instead of "used value" for margin-right
			// Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels
			// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values
			if ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {

				// Remember the original values
				width = style.width;
				minWidth = style.minWidth;
				maxWidth = style.maxWidth;

				// Put in the new values to get a computed value out
				style.minWidth = style.maxWidth = style.width = ret;
				ret = computed.width;

				// Revert the changed values
				style.width = width;
				style.minWidth = minWidth;
				style.maxWidth = maxWidth;
			}
		}

		return ret;
	};
} else if ( document.documentElement.currentStyle ) {
	getStyles = function( elem ) {
		return elem.currentStyle;
	};

	curCSS = function( elem, name, _computed ) {
		var left, rs, rsLeft,
			computed = _computed || getStyles( elem ),
			ret = computed ? computed[ name ] : undefined,
			style = elem.style;

		// Avoid setting ret to empty string here
		// so we don't default to auto
		if ( ret == null && style && style[ name ] ) {
			ret = style[ name ];
		}

		// From the awesome hack by Dean Edwards
		// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291

		// If we're not dealing with a regular pixel number
		// but a number that has a weird ending, we need to convert it to pixels
		// but not position css attributes, as those are proportional to the parent element instead
		// and we can't measure the parent instead because it might trigger a "stacking dolls" problem
		if ( rnumnonpx.test( ret ) && !rposition.test( name ) ) {

			// Remember the original values
			left = style.left;
			rs = elem.runtimeStyle;
			rsLeft = rs && rs.left;

			// Put in the new values to get a computed value out
			if ( rsLeft ) {
				rs.left = elem.currentStyle.left;
			}
			style.left = name === "fontSize" ? "1em" : ret;
			ret = style.pixelLeft + "px";

			// Revert the changed values
			style.left = left;
			if ( rsLeft ) {
				rs.left = rsLeft;
			}
		}

		return ret === "" ? "auto" : ret;
	};
}

function setPositiveNumber( elem, value, subtract ) {
	var matches = rnumsplit.exec( value );
	return matches ?
		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || "px" ) :
		value;
}

function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {
	var i = extra === ( isBorderBox ? "border" : "content" ) ?
		// If we already have the right measurement, avoid augmentation
		4 :
		// Otherwise initialize for horizontal or vertical properties
		name === "width" ? 1 : 0,

		val = 0;

	for ( ; i < 4; i += 2 ) {
		// both box models exclude margin, so add it if we want it
		if ( extra === "margin" ) {
			val += jQuery.css( elem, extra + cssExpand[ i ], true, styles );
		}

		if ( isBorderBox ) {
			// border-box includes padding, so remove it if we want content
			if ( extra === "content" ) {
				val -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// at this point, extra isn't border nor margin, so remove border
			if ( extra !== "margin" ) {
				val -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		} else {
			// at this point, extra isn't content, so add padding
			val += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// at this point, extra isn't content nor padding, so add border
			if ( extra !== "padding" ) {
				val += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	return val;
}

function getWidthOrHeight( elem, name, extra ) {

	// Start with offset property, which is equivalent to the border-box value
	var valueIsBorderBox = true,
		val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
		styles = getStyles( elem ),
		isBorderBox = jQuery.support.boxSizing && jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

	// some non-html elements return undefined for offsetWidth, so check for null/undefined
	// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
	// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
	if ( val <= 0 || val == null ) {
		// Fall back to computed then uncomputed css if necessary
		val = curCSS( elem, name, styles );
		if ( val < 0 || val == null ) {
			val = elem.style[ name ];
		}

		// Computed unit is not pixels. Stop here and return.
		if ( rnumnonpx.test(val) ) {
			return val;
		}

		// we need the check for style in case a browser which returns unreliable values
		// for getComputedStyle silently falls back to the reliable elem.style
		valueIsBorderBox = isBorderBox && ( jQuery.support.boxSizingReliable || val === elem.style[ name ] );

		// Normalize "", auto, and prepare for extra
		val = parseFloat( val ) || 0;
	}

	// use the active box-sizing model to add/subtract irrelevant styles
	return ( val +
		augmentWidthOrHeight(
			elem,
			name,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles
		)
	) + "px";
}

// Try to determine the default display value of an element
function css_defaultDisplay( nodeName ) {
	var doc = document,
		display = elemdisplay[ nodeName ];

	if ( !display ) {
		display = actualDisplay( nodeName, doc );

		// If the simple way fails, read from inside an iframe
		if ( display === "none" || !display ) {
			// Use the already-created iframe if possible
			iframe = ( iframe ||
				jQuery("<iframe frameborder='0' width='0' height='0'/>")
				.css( "cssText", "display:block !important" )
			).appendTo( doc.documentElement );

			// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse
			doc = ( iframe[0].contentWindow || iframe[0].contentDocument ).document;
			doc.write("<!doctype html><html><body>");
			doc.close();

			display = actualDisplay( nodeName, doc );
			iframe.detach();
		}

		// Store the correct default display
		elemdisplay[ nodeName ] = display;
	}

	return display;
}

// Called ONLY from within css_defaultDisplay
function actualDisplay( name, doc ) {
	var elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),
		display = jQuery.css( elem[0], "display" );
	elem.remove();
	return display;
}

jQuery.each([ "height", "width" ], function( i, name ) {
	jQuery.cssHooks[ name ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {
				// certain elements can have dimension info if we invisibly show them
				// however, it must have a current display style that would benefit from this
				return elem.offsetWidth === 0 && rdisplayswap.test( jQuery.css( elem, "display" ) ) ?
					jQuery.swap( elem, cssShow, function() {
						return getWidthOrHeight( elem, name, extra );
					}) :
					getWidthOrHeight( elem, name, extra );
			}
		},

		set: function( elem, value, extra ) {
			var styles = extra && getStyles( elem );
			return setPositiveNumber( elem, value, extra ?
				augmentWidthOrHeight(
					elem,
					name,
					extra,
					jQuery.support.boxSizing && jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
					styles
				) : 0
			);
		}
	};
});

if ( !jQuery.support.opacity ) {
	jQuery.cssHooks.opacity = {
		get: function( elem, computed ) {
			// IE uses filters for opacity
			return ropacity.test( (computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || "" ) ?
				( 0.01 * parseFloat( RegExp.$1 ) ) + "" :
				computed ? "1" : "";
		},

		set: function( elem, value ) {
			var style = elem.style,
				currentStyle = elem.currentStyle,
				opacity = jQuery.isNumeric( value ) ? "alpha(opacity=" + value * 100 + ")" : "",
				filter = currentStyle && currentStyle.filter || style.filter || "";

			// IE has trouble with opacity if it does not have layout
			// Force it by setting the zoom level
			style.zoom = 1;

			// if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652
			// if value === "", then remove inline opacity #12685
			if ( ( value >= 1 || value === "" ) &&
					jQuery.trim( filter.replace( ralpha, "" ) ) === "" &&
					style.removeAttribute ) {

				// Setting style.filter to null, "" & " " still leave "filter:" in the cssText
				// if "filter:" is present at all, clearType is disabled, we want to avoid this
				// style.removeAttribute is IE Only, but so apparently is this code path...
				style.removeAttribute( "filter" );

				// if there is no filter style applied in a css rule or unset inline opacity, we are done
				if ( value === "" || currentStyle && !currentStyle.filter ) {
					return;
				}
			}

			// otherwise, set new filter values
			style.filter = ralpha.test( filter ) ?
				filter.replace( ralpha, opacity ) :
				filter + " " + opacity;
		}
	};
}

// These hooks cannot be added until DOM ready because the support test
// for it is not run until after DOM ready
jQuery(function() {
	if ( !jQuery.support.reliableMarginRight ) {
		jQuery.cssHooks.marginRight = {
			get: function( elem, computed ) {
				if ( computed ) {
					// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
					// Work around by temporarily setting element display to inline-block
					return jQuery.swap( elem, { "display": "inline-block" },
						curCSS, [ elem, "marginRight" ] );
				}
			}
		};
	}

	// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
	// getComputedStyle returns percent when specified for top/left/bottom/right
	// rather than make the css module depend on the offset module, we just check for it here
	if ( !jQuery.support.pixelPosition && jQuery.fn.position ) {
		jQuery.each( [ "top", "left" ], function( i, prop ) {
			jQuery.cssHooks[ prop ] = {
				get: function( elem, computed ) {
					if ( computed ) {
						computed = curCSS( elem, prop );
						// if curCSS returns percentage, fallback to offset
						return rnumnonpx.test( computed ) ?
							jQuery( elem ).position()[ prop ] + "px" :
							computed;
					}
				}
			};
		});
	}

});

if ( jQuery.expr && jQuery.expr.filters ) {
	jQuery.expr.filters.hidden = function( elem ) {
		// Support: Opera <= 12.12
		// Opera reports offsetWidths and offsetHeights less than zero on some elements
		return elem.offsetWidth <= 0 && elem.offsetHeight <= 0 ||
			(!jQuery.support.reliableHiddenOffsets && ((elem.style && elem.style.display) || jQuery.css( elem, "display" )) === "none");
	};

	jQuery.expr.filters.visible = function( elem ) {
		return !jQuery.expr.filters.hidden( elem );
	};
}

// These hooks are used by animate to expand properties
jQuery.each({
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// assumes a single number if not a string
				parts = typeof value === "string" ? value.split(" ") : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( !rmargin.test( prefix ) ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
});
var r20 = /%20/g,
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

jQuery.fn.extend({
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map(function(){
			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		})
		.filter(function(){
			var type = this.type;
			// Use .is(":disabled") so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !manipulation_rcheckableType.test( type ) );
		})
		.map(function( i, elem ){
			var val = jQuery( this ).val();

			return val == null ?
				null :
				jQuery.isArray( val ) ?
					jQuery.map( val, function( val ){
						return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
					}) :
					{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		}).get();
	}
});

//Serialize an array of form elements or a set of
//key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, value ) {
			// If value is a function, invoke it and return its value
			value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
			s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
		};

	// Set traditional to true for jQuery <= 1.3.2 behavior.
	if ( traditional === undefined ) {
		traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {
		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		});

	} else {
		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" ).replace( r20, "+" );
};

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( jQuery.isArray( obj ) ) {
		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {
				// Treat each array item as a scalar.
				add( prefix, v );

			} else {
				// Item is non-scalar (array or object), encode its numeric index.
				buildParams( prefix + "[" + ( typeof v === "object" ? i : "" ) + "]", v, traditional, add );
			}
		});

	} else if ( !traditional && jQuery.type( obj ) === "object" ) {
		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {
		// Serialize scalar item.
		add( prefix, obj );
	}
}
jQuery.each( ("blur focus focusin focusout load resize scroll unload click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup error contextmenu").split(" "), function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		return arguments.length > 0 ?
			this.on( name, null, data, fn ) :
			this.trigger( name );
	};
});

jQuery.fn.extend({
	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	},

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {
		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ? this.off( selector, "**" ) : this.off( types, selector || "**", fn );
	}
});
var
	// Document location
	ajaxLocParts,
	ajaxLocation,
	ajax_nonce = jQuery.now(),

	ajax_rquery = /\?/,
	rhash = /#.*$/,
	rts = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, // IE leaves an \r character at EOL
	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,
	rurl = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,

	// Keep a copy of the old load method
	_load = jQuery.fn.load,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat("*");

// #8138, IE may throw an exception when accessing
// a field from window.location if document.domain has been set
try {
	ajaxLocation = location.href;
} catch( e ) {
	// Use the href attribute of an A element
	// since IE will modify it given document.location
	ajaxLocation = document.createElement( "a" );
	ajaxLocation.href = "";
	ajaxLocation = ajaxLocation.href;
}

// Segment location into parts
ajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( core_rnotwhite ) || [];

		if ( jQuery.isFunction( func ) ) {
			// For each dataType in the dataTypeExpression
			while ( (dataType = dataTypes[i++]) ) {
				// Prepend if requested
				if ( dataType[0] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					(structure[ dataType ] = structure[ dataType ] || []).unshift( func );

				// Otherwise append
				} else {
					(structure[ dataType ] = structure[ dataType ] || []).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if( typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {
				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		});
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var deep, key,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

jQuery.fn.load = function( url, params, callback ) {
	if ( typeof url !== "string" && _load ) {
		return _load.apply( this, arguments );
	}

	var selector, response, type,
		self = this,
		off = url.indexOf(" ");

	if ( off >= 0 ) {
		selector = url.slice( off, url.length );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( jQuery.isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax({
			url: url,

			// if "type" variable is undefined, then "GET" method will be used
			type: type,
			dataType: "html",
			data: params
		}).done(function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery("<div>").append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		}).complete( callback && function( jqXHR, status ) {
			self.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );
		});
	}

	return this;
};

// Attach a bunch of functions for handling common AJAX events
jQuery.each( [ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function( i, type ){
	jQuery.fn[ type ] = function( fn ){
		return this.on( type, fn );
	};
});

jQuery.extend({

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: ajaxLocation,
		type: "GET",
		isLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",
		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /xml/,
			html: /html/,
			json: /json/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": jQuery.parseJSON,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var // Cross-domain detection vars
			parts,
			// Loop variable
			i,
			// URL without anti-cache param
			cacheURL,
			// Response headers as string
			responseHeadersString,
			// timeout handle
			timeoutTimer,

			// To know if global events are to be dispatched
			fireGlobals,

			transport,
			// Response headers
			responseHeaders,
			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),
			// Callbacks context
			callbackContext = s.context || s,
			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?
				jQuery( callbackContext ) :
				jQuery.event,
			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks("once memory"),
			// Status-dependent callbacks
			statusCode = s.statusCode || {},
			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},
			// The jqXHR state
			state = 0,
			// Default abort message
			strAbort = "canceled",
			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( state === 2 ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( (match = rheaders.exec( responseHeadersString )) ) {
								responseHeaders[ match[1].toLowerCase() ] = match[ 2 ];
							}
						}
						match = responseHeaders[ key.toLowerCase() ];
					}
					return match == null ? null : match;
				},

				// Raw string
				getAllResponseHeaders: function() {
					return state === 2 ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					var lname = name.toLowerCase();
					if ( !state ) {
						name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( !state ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( state < 2 ) {
							for ( code in map ) {
								// Lazy-add the new callback in a way that preserves old ones
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						} else {
							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR ).complete = completeDeferred.add;
		jqXHR.success = jqXHR.done;
		jqXHR.error = jqXHR.fail;

		// Remove hash character (#7531: and string promotion)
		// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || ajaxLocation ) + "" ).replace( rhash, "" ).replace( rprotocol, ajaxLocParts[ 1 ] + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().match( core_rnotwhite ) || [""];

		// A cross-domain request is in order when we have a protocol:host:port mismatch
		if ( s.crossDomain == null ) {
			parts = rurl.exec( s.url.toLowerCase() );
			s.crossDomain = !!( parts &&
				( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||
					( parts[ 3 ] || ( parts[ 1 ] === "http:" ? "80" : "443" ) ) !==
						( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === "http:" ? "80" : "443" ) ) )
			);
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( state === 2 ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		fireGlobals = s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger("ajaxStart");
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		cacheURL = s.url;

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// If data is available, append data to url
			if ( s.data ) {
				cacheURL = ( s.url += ( ajax_rquery.test( cacheURL ) ? "&" : "?" ) + s.data );
				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add anti-cache in url if needed
			if ( s.cache === false ) {
				s.url = rts.test( cacheURL ) ?

					// If there is already a '_' parameter, set its value
					cacheURL.replace( rts, "$1_=" + ajax_nonce++ ) :

					// Otherwise add one to the end
					cacheURL + ( ajax_rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ajax_nonce++;
			}
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?
				s.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {
			// Abort if not done already and return
			return jqXHR.abort();
		}

		// aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		for ( i in { success: 1, error: 1, complete: 1 } ) {
			jqXHR[ i ]( s[ i ] );
		}

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}
			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = setTimeout(function() {
					jqXHR.abort("timeout");
				}, s.timeout );
			}

			try {
				state = 1;
				transport.send( requestHeaders, done );
			} catch ( e ) {
				// Propagate exception as error if not done
				if ( state < 2 ) {
					done( -1, e );
				// Simply rethrow otherwise
				} else {
					throw e;
				}
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Called once
			if ( state === 2 ) {
				return;
			}

			// State is "done" now
			state = 2;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader("Last-Modified");
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader("etag");
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {
				// We extract error from statusText
				// then normalize statusText and status for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );
				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger("ajaxStop");
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
});

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {
		// shift arguments if data argument was omitted
		if ( jQuery.isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		return jQuery.ajax({
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		});
	};
});

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {
	var firstDataType, ct, finalDataType, type,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {
		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[0] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}
		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},
		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {
								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s[ "throws" ] ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return { state: "parsererror", error: conv ? e : "No conversion from " + prev + " to " + current };
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}
// Install script dataType
jQuery.ajaxSetup({
	accepts: {
		script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /(?:java|ecma)script/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
});

// Handle cache's special case and global
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
		s.global = false;
	}
});

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function(s) {

	// This transport only deals with cross domain requests
	if ( s.crossDomain ) {

		var script,
			head = document.head || jQuery("head")[0] || document.documentElement;

		return {

			send: function( _, callback ) {

				script = document.createElement("script");

				script.async = true;

				if ( s.scriptCharset ) {
					script.charset = s.scriptCharset;
				}

				script.src = s.url;

				// Attach handlers for all browsers
				script.onload = script.onreadystatechange = function( _, isAbort ) {

					if ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {

						// Handle memory leak in IE
						script.onload = script.onreadystatechange = null;

						// Remove the script
						if ( script.parentNode ) {
							script.parentNode.removeChild( script );
						}

						// Dereference the script
						script = null;

						// Callback if not abort
						if ( !isAbort ) {
							callback( 200, "success" );
						}
					}
				};

				// Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending
				// Use native DOM manipulation to avoid our domManip AJAX trickery
				head.insertBefore( script, head.firstChild );
			},

			abort: function() {
				if ( script ) {
					script.onload( undefined, true );
				}
			}
		};
	}
});
var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup({
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( ajax_nonce++ ) );
		this[ callback ] = true;
		return callback;
	}
});

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" && !( s.contentType || "" ).indexOf("application/x-www-form-urlencoded") && rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( ajax_rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters["script json"] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always(function() {
			// Restore preexisting value
			window[ callbackName ] = overwritten;

			// Save back as free
			if ( s[ callbackName ] ) {
				// make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && jQuery.isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		});

		// Delegate to script
		return "script";
	}
});
var xhrCallbacks, xhrSupported,
	xhrId = 0,
	// #5280: Internet Explorer will keep connections alive if we don't abort on unload
	xhrOnUnloadAbort = window.ActiveXObject && function() {
		// Abort all pending requests
		var key;
		for ( key in xhrCallbacks ) {
			xhrCallbacks[ key ]( undefined, true );
		}
	};

// Functions to create xhrs
function createStandardXHR() {
	try {
		return new window.XMLHttpRequest();
	} catch( e ) {}
}

function createActiveXHR() {
	try {
		return new window.ActiveXObject("Microsoft.XMLHTTP");
	} catch( e ) {}
}

// Create the request object
// (This is still attached to ajaxSettings for backward compatibility)
jQuery.ajaxSettings.xhr = window.ActiveXObject ?
	/* Microsoft failed to properly
	 * implement the XMLHttpRequest in IE7 (can't request local files),
	 * so we use the ActiveXObject when it is available
	 * Additionally XMLHttpRequest can be disabled in IE7/IE8 so
	 * we need a fallback.
	 */
	function() {
		return !this.isLocal && createStandardXHR() || createActiveXHR();
	} :
	// For all other browsers, use the standard XMLHttpRequest object
	createStandardXHR;

// Determine support properties
xhrSupported = jQuery.ajaxSettings.xhr();
jQuery.support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
xhrSupported = jQuery.support.ajax = !!xhrSupported;

// Create transport if the browser can provide an xhr
if ( xhrSupported ) {

	jQuery.ajaxTransport(function( s ) {
		// Cross domain only allowed if supported through XMLHttpRequest
		if ( !s.crossDomain || jQuery.support.cors ) {

			var callback;

			return {
				send: function( headers, complete ) {

					// Get a new xhr
					var handle, i,
						xhr = s.xhr();

					// Open the socket
					// Passing null username, generates a login popup on Opera (#2865)
					if ( s.username ) {
						xhr.open( s.type, s.url, s.async, s.username, s.password );
					} else {
						xhr.open( s.type, s.url, s.async );
					}

					// Apply custom fields if provided
					if ( s.xhrFields ) {
						for ( i in s.xhrFields ) {
							xhr[ i ] = s.xhrFields[ i ];
						}
					}

					// Override mime type if needed
					if ( s.mimeType && xhr.overrideMimeType ) {
						xhr.overrideMimeType( s.mimeType );
					}

					// X-Requested-With header
					// For cross-domain requests, seeing as conditions for a preflight are
					// akin to a jigsaw puzzle, we simply never set it to be sure.
					// (it can always be set on a per-request basis or even using ajaxSetup)
					// For same-domain requests, won't change header if already provided.
					if ( !s.crossDomain && !headers["X-Requested-With"] ) {
						headers["X-Requested-With"] = "XMLHttpRequest";
					}

					// Need an extra try/catch for cross domain requests in Firefox 3
					try {
						for ( i in headers ) {
							xhr.setRequestHeader( i, headers[ i ] );
						}
					} catch( err ) {}

					// Do send the request
					// This may raise an exception which is actually
					// handled in jQuery.ajax (so no try/catch here)
					xhr.send( ( s.hasContent && s.data ) || null );

					// Listener
					callback = function( _, isAbort ) {
						var status, responseHeaders, statusText, responses;

						// Firefox throws exceptions when accessing properties
						// of an xhr when a network error occurred
						// http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)
						try {

							// Was never called and is aborted or complete
							if ( callback && ( isAbort || xhr.readyState === 4 ) ) {

								// Only called once
								callback = undefined;

								// Do not keep as active anymore
								if ( handle ) {
									xhr.onreadystatechange = jQuery.noop;
									if ( xhrOnUnloadAbort ) {
										delete xhrCallbacks[ handle ];
									}
								}

								// If it's an abort
								if ( isAbort ) {
									// Abort it manually if needed
									if ( xhr.readyState !== 4 ) {
										xhr.abort();
									}
								} else {
									responses = {};
									status = xhr.status;
									responseHeaders = xhr.getAllResponseHeaders();

									// When requesting binary data, IE6-9 will throw an exception
									// on any attempt to access responseText (#11426)
									if ( typeof xhr.responseText === "string" ) {
										responses.text = xhr.responseText;
									}

									// Firefox throws an exception when accessing
									// statusText for faulty cross-domain requests
									try {
										statusText = xhr.statusText;
									} catch( e ) {
										// We normalize with Webkit giving an empty statusText
										statusText = "";
									}

									// Filter status for non standard behaviors

									// If the request is local and we have data: assume a success
									// (success with no data won't get notified, that's the best we
									// can do given current implementations)
									if ( !status && s.isLocal && !s.crossDomain ) {
										status = responses.text ? 200 : 404;
									// IE - #1450: sometimes returns 1223 when it should be 204
									} else if ( status === 1223 ) {
										status = 204;
									}
								}
							}
						} catch( firefoxAccessException ) {
							if ( !isAbort ) {
								complete( -1, firefoxAccessException );
							}
						}

						// Call complete if needed
						if ( responses ) {
							complete( status, statusText, responses, responseHeaders );
						}
					};

					if ( !s.async ) {
						// if we're in sync mode we fire the callback
						callback();
					} else if ( xhr.readyState === 4 ) {
						// (IE6 & IE7) if it's in cache and has been
						// retrieved directly we need to fire the callback
						setTimeout( callback );
					} else {
						handle = ++xhrId;
						if ( xhrOnUnloadAbort ) {
							// Create the active xhrs callbacks list if needed
							// and attach the unload handler
							if ( !xhrCallbacks ) {
								xhrCallbacks = {};
								jQuery( window ).unload( xhrOnUnloadAbort );
							}
							// Add to list of active xhrs callbacks
							xhrCallbacks[ handle ] = callback;
						}
						xhr.onreadystatechange = callback;
					}
				},

				abort: function() {
					if ( callback ) {
						callback( undefined, true );
					}
				}
			};
		}
	});
}
var fxNow, timerId,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rfxnum = new RegExp( "^(?:([+-])=|)(" + core_pnum + ")([a-z%]*)$", "i" ),
	rrun = /queueHooks$/,
	animationPrefilters = [ defaultPrefilter ],
	tweeners = {
		"*": [function( prop, value ) {
			var tween = this.createTween( prop, value ),
				target = tween.cur(),
				parts = rfxnum.exec( value ),
				unit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

				// Starting value computation is required for potential unit mismatches
				start = ( jQuery.cssNumber[ prop ] || unit !== "px" && +target ) &&
					rfxnum.exec( jQuery.css( tween.elem, prop ) ),
				scale = 1,
				maxIterations = 20;

			if ( start && start[ 3 ] !== unit ) {
				// Trust units reported by jQuery.css
				unit = unit || start[ 3 ];

				// Make sure we update the tween properties later on
				parts = parts || [];

				// Iteratively approximate from a nonzero starting point
				start = +target || 1;

				do {
					// If previous iteration zeroed out, double until we get *something*
					// Use a string for doubling factor so we don't accidentally see scale as unchanged below
					scale = scale || ".5";

					// Adjust and apply
					start = start / scale;
					jQuery.style( tween.elem, prop, start + unit );

				// Update scale, tolerating zero or NaN from tween.cur()
				// And breaking the loop if scale is unchanged or perfect, or if we've just had enough
				} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );
			}

			// Update tween properties
			if ( parts ) {
				start = tween.start = +start || +target || 0;
				tween.unit = unit;
				// If a +=/-= token was provided, we're doing a relative animation
				tween.end = parts[ 1 ] ?
					start + ( parts[ 1 ] + 1 ) * parts[ 2 ] :
					+parts[ 2 ];
			}

			return tween;
		}]
	};

// Animations created synchronously will run synchronously
function createFxNow() {
	setTimeout(function() {
		fxNow = undefined;
	});
	return ( fxNow = jQuery.now() );
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( tweeners[ prop ] || [] ).concat( tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( (tween = collection[ index ].call( animation, prop, value )) ) {

			// we're done with this property
			return tween;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = animationPrefilters.length,
		deferred = jQuery.Deferred().always( function() {
			// don't match elem in the :animated selector
			delete tick.elem;
		}),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),
				// archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length ; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ]);

			if ( percent < 1 && length ) {
				return remaining;
			} else {
				deferred.resolveWith( elem, [ animation ] );
				return false;
			}
		},
		animation = deferred.promise({
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, { specialEasing: {} }, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,
					// if we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length ; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// resolve when we played the last frame
				// otherwise, reject
				if ( gotoEnd ) {
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		}),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length ; index++ ) {
		result = animationPrefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( jQuery.isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		})
	);

	// attach callbacks from options
	return animation.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = jQuery.camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( jQuery.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// not quite $.extend, this wont overwrite keys already present.
			// also - reusing 'index' from above because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

jQuery.Animation = jQuery.extend( Animation, {

	tweener: function( props, callback ) {
		if ( jQuery.isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.split(" ");
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length ; index++ ) {
			prop = props[ index ];
			tweeners[ prop ] = tweeners[ prop ] || [];
			tweeners[ prop ].unshift( callback );
		}
	},

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			animationPrefilters.unshift( callback );
		} else {
			animationPrefilters.push( callback );
		}
	}
});

function defaultPrefilter( elem, props, opts ) {
	/* jshint validthis: true */
	var prop, value, toggle, tween, hooks, oldfire,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHidden( elem ),
		dataShow = jQuery._data( elem, "fxshow" );

	// handle queue: false promises
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always(function() {
			// doing this makes sure that the complete handler will be called
			// before this completes
			anim.always(function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			});
		});
	}

	// height/width overflow pass
	if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {
		// Make sure that nothing sneaks out
		// Record all 3 overflow attributes because IE does not
		// change the overflow attribute when overflowX and
		// overflowY are set to the same value
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Set display property to inline-block for height/width
		// animations on inline elements that are having width/height animated
		if ( jQuery.css( elem, "display" ) === "inline" &&
				jQuery.css( elem, "float" ) === "none" ) {

			// inline-level elements accept inline-block;
			// block-level elements need to be inline with layout
			if ( !jQuery.support.inlineBlockNeedsLayout || css_defaultDisplay( elem.nodeName ) === "inline" ) {
				style.display = "inline-block";

			} else {
				style.zoom = 1;
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		if ( !jQuery.support.shrinkWrapBlocks ) {
			anim.always(function() {
				style.overflow = opts.overflow[ 0 ];
				style.overflowX = opts.overflow[ 1 ];
				style.overflowY = opts.overflow[ 2 ];
			});
		}
	}


	// show/hide pass
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.exec( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {
				continue;
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
		}
	}

	if ( !jQuery.isEmptyObject( orig ) ) {
		if ( dataShow ) {
			if ( "hidden" in dataShow ) {
				hidden = dataShow.hidden;
			}
		} else {
			dataShow = jQuery._data( elem, "fxshow", {} );
		}

		// store state if its toggle - enables .stop().toggle() to "reverse"
		if ( toggle ) {
			dataShow.hidden = !hidden;
		}
		if ( hidden ) {
			jQuery( elem ).show();
		} else {
			anim.done(function() {
				jQuery( elem ).hide();
			});
		}
		anim.done(function() {
			var prop;
			jQuery._removeData( elem, "fxshow" );
			for ( prop in orig ) {
				jQuery.style( elem, prop, orig[ prop ] );
			}
		});
		for ( prop in orig ) {
			tween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );

			if ( !( prop in dataShow ) ) {
				dataShow[ prop ] = tween.start;
				if ( hidden ) {
					tween.end = tween.start;
					tween.start = prop === "width" || prop === "height" ? 1 : 0;
				}
			}
		}
	}
}

function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || "swing";
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			if ( tween.elem[ tween.prop ] != null &&
				(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {
				return tween.elem[ tween.prop ];
			}

			// passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails
			// so, simple values such as "10px" are parsed to Float.
			// complex values such as "rotate(1rad)" are returned as is.
			result = jQuery.css( tween.elem, tween.prop, "" );
			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {
			// use step hook for back compat - use cssHook if its there - use .style if its
			// available and use plain properties where available
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE <=9
// Panic based approach to setting things on disconnected nodes

Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.each([ "toggle", "show", "hide" ], function( i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
});

jQuery.fn.extend({
	fadeTo: function( speed, to, easing, callback ) {

		// show any hidden elements after setting opacity to 0
		return this.filter( isHidden ).css( "opacity", 0 ).show()

			// animate to the value specified
			.end().animate({ opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {
				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || jQuery._data( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each(function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = jQuery._data( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {
					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// start the next in the queue if the last step wasn't forced
			// timers currently will call their complete callbacks, which will dequeue
			// but only if they were gotoEnd
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		});
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each(function() {
			var index,
				data = jQuery._data( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// enable finishing flag on private data
			data.finish = true;

			// empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// turn off finishing flag
			delete data.finish;
		});
	}
});

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		attrs = { height: type },
		i = 0;

	// if we include width, step value is 1 to do all cssExpand values,
	// if we don't include width, step value is 2 to skip over Left and Right
	includeWidth = includeWidth? 1 : 0;
	for( ; i < 4 ; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

// Generate shortcuts for custom animations
jQuery.each({
	slideDown: genFx("show"),
	slideUp: genFx("hide"),
	slideToggle: genFx("toggle"),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
});

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			jQuery.isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
	};

	opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
		opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

	// normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( jQuery.isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p*Math.PI ) / 2;
	}
};

jQuery.timers = [];
jQuery.fx = Tween.prototype.init;
jQuery.fx.tick = function() {
	var timer,
		timers = jQuery.timers,
		i = 0;

	fxNow = jQuery.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];
		// Checks the timer has not already been removed
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	if ( timer() && jQuery.timers.push( timer ) ) {
		jQuery.fx.start();
	}
};

jQuery.fx.interval = 13;

jQuery.fx.start = function() {
	if ( !timerId ) {
		timerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );
	}
};

jQuery.fx.stop = function() {
	clearInterval( timerId );
	timerId = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,
	// Default speed
	_default: 400
};

// Back Compat <1.8 extension point
jQuery.fx.step = {};

if ( jQuery.expr && jQuery.expr.filters ) {
	jQuery.expr.filters.animated = function( elem ) {
		return jQuery.grep(jQuery.timers, function( fn ) {
			return elem === fn.elem;
		}).length;
	};
}
jQuery.fn.offset = function( options ) {
	if ( arguments.length ) {
		return options === undefined ?
			this :
			this.each(function( i ) {
				jQuery.offset.setOffset( this, options, i );
			});
	}

	var docElem, win,
		box = { top: 0, left: 0 },
		elem = this[ 0 ],
		doc = elem && elem.ownerDocument;

	if ( !doc ) {
		return;
	}

	docElem = doc.documentElement;

	// Make sure it's not a disconnected DOM node
	if ( !jQuery.contains( docElem, elem ) ) {
		return box;
	}

	// If we don't have gBCR, just use 0,0 rather than error
	// BlackBerry 5, iOS 3 (original iPhone)
	if ( typeof elem.getBoundingClientRect !== core_strundefined ) {
		box = elem.getBoundingClientRect();
	}
	win = getWindow( doc );
	return {
		top: box.top  + ( win.pageYOffset || docElem.scrollTop )  - ( docElem.clientTop  || 0 ),
		left: box.left + ( win.pageXOffset || docElem.scrollLeft ) - ( docElem.clientLeft || 0 )
	};
};

jQuery.offset = {

	setOffset: function( elem, options, i ) {
		var position = jQuery.css( elem, "position" );

		// set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		var curElem = jQuery( elem ),
			curOffset = curElem.offset(),
			curCSSTop = jQuery.css( elem, "top" ),
			curCSSLeft = jQuery.css( elem, "left" ),
			calculatePosition = ( position === "absolute" || position === "fixed" ) && jQuery.inArray("auto", [curCSSTop, curCSSLeft]) > -1,
			props = {}, curPosition = {}, curTop, curLeft;

		// need to be able to calculate position if either top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;
		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( jQuery.isFunction( options ) ) {
			options = options.call( elem, i, curOffset );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );
		} else {
			curElem.css( props );
		}
	}
};


jQuery.fn.extend({

	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset,
			parentOffset = { top: 0, left: 0 },
			elem = this[ 0 ];

		// fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is it's only offset parent
		if ( jQuery.css( elem, "position" ) === "fixed" ) {
			// we assume that getBoundingClientRect is available when computed position is fixed
			offset = elem.getBoundingClientRect();
		} else {
			// Get *real* offsetParent
			offsetParent = this.offsetParent();

			// Get correct offsets
			offset = this.offset();
			if ( !jQuery.nodeName( offsetParent[ 0 ], "html" ) ) {
				parentOffset = offsetParent.offset();
			}

			// Add offsetParent borders
			parentOffset.top  += jQuery.css( offsetParent[ 0 ], "borderTopWidth", true );
			parentOffset.left += jQuery.css( offsetParent[ 0 ], "borderLeftWidth", true );
		}

		// Subtract parent offsets and element margins
		// note: when an element has margin: auto the offsetLeft and marginLeft
		// are the same in Safari causing offset.left to incorrectly be 0
		return {
			top:  offset.top  - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true)
		};
	},

	offsetParent: function() {
		return this.map(function() {
			var offsetParent = this.offsetParent || docElem;
			while ( offsetParent && ( !jQuery.nodeName( offsetParent, "html" ) && jQuery.css( offsetParent, "position") === "static" ) ) {
				offsetParent = offsetParent.offsetParent;
			}
			return offsetParent || docElem;
		});
	}
});


// Create scrollLeft and scrollTop methods
jQuery.each( {scrollLeft: "pageXOffset", scrollTop: "pageYOffset"}, function( method, prop ) {
	var top = /Y/.test( prop );

	jQuery.fn[ method ] = function( val ) {
		return jQuery.access( this, function( elem, method, val ) {
			var win = getWindow( elem );

			if ( val === undefined ) {
				return win ? (prop in win) ? win[ prop ] :
					win.document.documentElement[ method ] :
					elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : jQuery( win ).scrollLeft(),
					top ? val : jQuery( win ).scrollTop()
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length, null );
	};
});

function getWindow( elem ) {
	return jQuery.isWindow( elem ) ?
		elem :
		elem.nodeType === 9 ?
			elem.defaultView || elem.parentWindow :
			false;
}
// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name }, function( defaultExtra, funcName ) {
		// margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return jQuery.access( this, function( elem, type, value ) {
				var doc;

				if ( jQuery.isWindow( elem ) ) {
					// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
					// isn't a whole lot we can do. See pull request at this URL for discussion:
					// https://github.com/jquery/jquery/pull/764
					return elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest
					// unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?
					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable, null );
		};
	});
});
// Limit scope pollution from any deprecated API
// (function() {

// The number of elements contained in the matched element set
jQuery.fn.size = function() {
	return this.length;
};

jQuery.fn.andSelf = jQuery.fn.addBack;

// })();
if ( typeof module === "object" && module && typeof module.exports === "object" ) {
	// Expose jQuery as module.exports in loaders that implement the Node
	// module pattern (including browserify). Do not create the global, since
	// the user will be storing it themselves locally, and globals are frowned
	// upon in the Node module world.
	module.exports = jQuery;
} else {
	// Otherwise expose jQuery to the global object as usual
	window.jQuery = window.$ = jQuery;

	// Register as a named AMD module, since jQuery can be concatenated with other
	// files that may use define, but not via a proper concatenation script that
	// understands anonymous AMD modules. A named AMD is safest and most robust
	// way to register. Lowercase jquery is used because AMD module names are
	// derived from file names, and jQuery is normally delivered in a lowercase
	// file name. Do this after creating the global so that if an AMD module wants
	// to call noConflict to hide this version of jQuery, it will work.
	if ( typeof define === "function" && define.amd ) {
		define( "jquery", [], function () { return jQuery; } );
	}
}

})( window );
/* END TrainingAssist.Presentation.Pages.Scripts.jquery.js */
/* START TrainingAssist.Presentation.Pages.Scripts.jquery-migrate.js */
/*!
 * jQuery Migrate - v1.2.1 - 2013-05-08
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */
(function( jQuery, window, undefined ) {
// See http://bugs.jquery.com/ticket/13335
// "use strict";


var warnedAbout = {};

// List of warnings already given; public read only
jQuery.migrateWarnings = [];

// Set to true to prevent console output; migrateWarnings still maintained
// jQuery.migrateMute = false;

// Show a message on the console so devs know we're active
if ( !jQuery.migrateMute && window.console && window.console.log ) {
	window.console.log("JQMIGRATE: Logging is active");
}

// Set to false to disable traces that appear with warnings
if ( jQuery.migrateTrace === undefined ) {
	jQuery.migrateTrace = true;
}

// Forget any warnings we've already given; public
jQuery.migrateReset = function() {
	warnedAbout = {};
	jQuery.migrateWarnings.length = 0;
};

function migrateWarn( msg) {
	var console = window.console;
	if ( !warnedAbout[ msg ] ) {
		warnedAbout[ msg ] = true;
		jQuery.migrateWarnings.push( msg );
		if ( console && console.warn && !jQuery.migrateMute ) {
			console.warn( "JQMIGRATE: " + msg );
			if ( jQuery.migrateTrace && console.trace ) {
				console.trace();
			}
		}
	}
}

function migrateWarnProp( obj, prop, value, msg ) {
	if ( Object.defineProperty ) {
		// On ES5 browsers (non-oldIE), warn if the code tries to get prop;
		// allow property to be overwritten in case some other plugin wants it
		try {
			Object.defineProperty( obj, prop, {
				configurable: true,
				enumerable: true,
				get: function() {
					migrateWarn( msg );
					return value;
				},
				set: function( newValue ) {
					migrateWarn( msg );
					value = newValue;
				}
			});
			return;
		} catch( err ) {
			// IE8 is a dope about Object.defineProperty, can't warn there
		}
	}

	// Non-ES5 (or broken) browser; just set the property
	jQuery._definePropertyBroken = true;
	obj[ prop ] = value;
}

if ( document.compatMode === "BackCompat" ) {
	// jQuery has never supported or tested Quirks Mode
	migrateWarn( "jQuery is not compatible with Quirks Mode" );
}


var attrFn = jQuery( "<input/>", { size: 1 } ).attr("size") && jQuery.attrFn,
	oldAttr = jQuery.attr,
	valueAttrGet = jQuery.attrHooks.value && jQuery.attrHooks.value.get ||
		function() { return null; },
	valueAttrSet = jQuery.attrHooks.value && jQuery.attrHooks.value.set ||
		function() { return undefined; },
	rnoType = /^(?:input|button)$/i,
	rnoAttrNodeType = /^[238]$/,
	rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
	ruseDefault = /^(?:checked|selected)$/i;

// jQuery.attrFn
migrateWarnProp( jQuery, "attrFn", attrFn || {}, "jQuery.attrFn is deprecated" );

jQuery.attr = function( elem, name, value, pass ) {
	var lowerName = name.toLowerCase(),
		nType = elem && elem.nodeType;

	if ( pass ) {
		// Since pass is used internally, we only warn for new jQuery
		// versions where there isn't a pass arg in the formal params
		if ( oldAttr.length < 4 ) {
			migrateWarn("jQuery.fn.attr( props, pass ) is deprecated");
		}
		if ( elem && !rnoAttrNodeType.test( nType ) &&
			(attrFn ? name in attrFn : jQuery.isFunction(jQuery.fn[name])) ) {
			return jQuery( elem )[ name ]( value );
		}
	}

	// Warn if user tries to set `type`, since it breaks on IE 6/7/8; by checking
	// for disconnected elements we don't warn on $( "<button>", { type: "button" } ).
	if ( name === "type" && value !== undefined && rnoType.test( elem.nodeName ) && elem.parentNode ) {
		migrateWarn("Can't change the 'type' of an input or button in IE 6/7/8");
	}

	// Restore boolHook for boolean property/attribute synchronization
	if ( !jQuery.attrHooks[ lowerName ] && rboolean.test( lowerName ) ) {
		jQuery.attrHooks[ lowerName ] = {
			get: function( elem, name ) {
				// Align boolean attributes with corresponding properties
				// Fall back to attribute presence where some booleans are not supported
				var attrNode,
					property = jQuery.prop( elem, name );
				return property === true || typeof property !== "boolean" &&
					( attrNode = elem.getAttributeNode(name) ) && attrNode.nodeValue !== false ?

					name.toLowerCase() :
					undefined;
			},
			set: function( elem, value, name ) {
				var propName;
				if ( value === false ) {
					// Remove boolean attributes when set to false
					jQuery.removeAttr( elem, name );
				} else {
					// value is true since we know at this point it's type boolean and not false
					// Set boolean attributes to the same name and set the DOM property
					propName = jQuery.propFix[ name ] || name;
					if ( propName in elem ) {
						// Only set the IDL specifically if it already exists on the element
						elem[ propName ] = true;
					}

					elem.setAttribute( name, name.toLowerCase() );
				}
				return name;
			}
		};

		// Warn only for attributes that can remain distinct from their properties post-1.9
		if ( ruseDefault.test( lowerName ) ) {
			migrateWarn( "jQuery.fn.attr('" + lowerName + "') may use property instead of attribute" );
		}
	}

	return oldAttr.call( jQuery, elem, name, value );
};

// attrHooks: value
jQuery.attrHooks.value = {
	get: function( elem, name ) {
		var nodeName = ( elem.nodeName || "" ).toLowerCase();
		if ( nodeName === "button" ) {
			return valueAttrGet.apply( this, arguments );
		}
		if ( nodeName !== "input" && nodeName !== "option" ) {
			migrateWarn("jQuery.fn.attr('value') no longer gets properties");
		}
		return name in elem ?
			elem.value :
			null;
	},
	set: function( elem, value ) {
		var nodeName = ( elem.nodeName || "" ).toLowerCase();
		if ( nodeName === "button" ) {
			return valueAttrSet.apply( this, arguments );
		}
		if ( nodeName !== "input" && nodeName !== "option" ) {
			migrateWarn("jQuery.fn.attr('value', val) no longer sets properties");
		}
		// Does not return so that setAttribute is also used
		elem.value = value;
	}
};


var matched, browser,
	oldInit = jQuery.fn.init,
	oldParseJSON = jQuery.parseJSON,
	// Note: XSS check is done below after string is trimmed
	rquickExpr = /^([^<]*)(<[\w\W]+>)([^>]*)$/;

// $(html) "looks like html" rule change
jQuery.fn.init = function( selector, context, rootjQuery ) {
	var match;

	if ( selector && typeof selector === "string" && !jQuery.isPlainObject( context ) &&
			(match = rquickExpr.exec( jQuery.trim( selector ) )) && match[ 0 ] ) {
		// This is an HTML string according to the "old" rules; is it still?
		if ( selector.charAt( 0 ) !== "<" ) {
			migrateWarn("$(html) HTML strings must start with '<' character");
		}
		if ( match[ 3 ] ) {
			migrateWarn("$(html) HTML text after last tag is ignored");
		}
		// Consistently reject any HTML-like string starting with a hash (#9521)
		// Note that this may break jQuery 1.6.x code that otherwise would work.
		if ( match[ 0 ].charAt( 0 ) === "#" ) {
			migrateWarn("HTML string cannot start with a '#' character");
			jQuery.error("JQMIGRATE: Invalid selector string (XSS)");
		}
		// Now process using loose rules; let pre-1.8 play too
		if ( context && context.context ) {
			// jQuery object as context; parseHTML expects a DOM object
			context = context.context;
		}
		if ( jQuery.parseHTML ) {
			return oldInit.call( this, jQuery.parseHTML( match[ 2 ], context, true ),
					context, rootjQuery );
		}
	}
	return oldInit.apply( this, arguments );
};
jQuery.fn.init.prototype = jQuery.fn;

// Let $.parseJSON(falsy_value) return null
jQuery.parseJSON = function( json ) {
	if ( !json && json !== null ) {
		migrateWarn("jQuery.parseJSON requires a valid JSON string");
		return null;
	}
	return oldParseJSON.apply( this, arguments );
};

jQuery.uaMatch = function( ua ) {
	ua = ua.toLowerCase();

	var match = /(chrome)[ \/]([\w.]+)/.exec( ua ) ||
		/(webkit)[ \/]([\w.]+)/.exec( ua ) ||
		/(opera)(?:.*version|)[ \/]([\w.]+)/.exec( ua ) ||
		/(msie) ([\w.]+)/.exec( ua ) ||
		ua.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec( ua ) ||
		[];

	return {
		browser: match[ 1 ] || "",
		version: match[ 2 ] || "0"
	};
};

// Don't clobber any existing jQuery.browser in case it's different
if ( !jQuery.browser ) {
	matched = jQuery.uaMatch( navigator.userAgent );
	browser = {};

	if ( matched.browser ) {
		browser[ matched.browser ] = true;
		browser.version = matched.version;
	}

	// Chrome is Webkit, but Webkit is also Safari.
	if ( browser.chrome ) {
		browser.webkit = true;
	} else if ( browser.webkit ) {
		browser.safari = true;
	}

	jQuery.browser = browser;
    jQuery.browser || "";
}

// Warn if the code tries to get jQuery.browser
migrateWarnProp( jQuery, "browser", jQuery.browser, "jQuery.browser is deprecated" );

jQuery.sub = function() {
	function jQuerySub( selector, context ) {
		return new jQuerySub.fn.init( selector, context );
	}
	jQuery.extend( true, jQuerySub, this );
	jQuerySub.superclass = this;
	jQuerySub.fn = jQuerySub.prototype = this();
	jQuerySub.fn.constructor = jQuerySub;
	jQuerySub.sub = this.sub;
	jQuerySub.fn.init = function init( selector, context ) {
		if ( context && context instanceof jQuery && !(context instanceof jQuerySub) ) {
			context = jQuerySub( context );
		}

		return jQuery.fn.init.call( this, selector, context, rootjQuerySub );
	};
	jQuerySub.fn.init.prototype = jQuerySub.fn;
	var rootjQuerySub = jQuerySub(document);
	migrateWarn( "jQuery.sub() is deprecated" );
	return jQuerySub;
};


// Ensure that $.ajax gets the new parseJSON defined in core.js
jQuery.ajaxSetup({
	converters: {
		"text json": jQuery.parseJSON
	}
});


var oldFnData = jQuery.fn.data;

jQuery.fn.data = function( name ) {
	var ret, evt,
		elem = this[0];

	// Handles 1.7 which has this behavior and 1.8 which doesn't
	if ( elem && name === "events" && arguments.length === 1 ) {
		ret = jQuery.data( elem, name );
		evt = jQuery._data( elem, name );
		if ( ( ret === undefined || ret === evt ) && evt !== undefined ) {
			migrateWarn("Use of jQuery.fn.data('events') is deprecated");
			return evt;
		}
	}
	return oldFnData.apply( this, arguments );
};


var rscriptType = /\/(java|ecma)script/i,
	oldSelf = jQuery.fn.andSelf || jQuery.fn.addBack;

jQuery.fn.andSelf = function() {
	migrateWarn("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()");
	return oldSelf.apply( this, arguments );
};

// Since jQuery.clean is used internally on older versions, we only shim if it's missing
if ( !jQuery.clean ) {
	jQuery.clean = function( elems, context, fragment, scripts ) {
		// Set context per 1.8 logic
		context = context || document;
		context = !context.nodeType && context[0] || context;
		context = context.ownerDocument || context;

		migrateWarn("jQuery.clean() is deprecated");

		var i, elem, handleScript, jsTags,
			ret = [];

		jQuery.merge( ret, jQuery.buildFragment( elems, context ).childNodes );

		// Complex logic lifted directly from jQuery 1.8
		if ( fragment ) {
			// Special handling of each script element
			handleScript = function( elem ) {
				// Check if we consider it executable
				if ( !elem.type || rscriptType.test( elem.type ) ) {
					// Detach the script and store it in the scripts array (if provided) or the fragment
					// Return truthy to indicate that it has been handled
					return scripts ?
						scripts.push( elem.parentNode ? elem.parentNode.removeChild( elem ) : elem ) :
						fragment.appendChild( elem );
				}
			};

			for ( i = 0; (elem = ret[i]) != null; i++ ) {
				// Check if we're done after handling an executable script
				if ( !( jQuery.nodeName( elem, "script" ) && handleScript( elem ) ) ) {
					// Append to fragment and handle embedded scripts
					fragment.appendChild( elem );
					if ( typeof elem.getElementsByTagName !== "undefined" ) {
						// handleScript alters the DOM, so use jQuery.merge to ensure snapshot iteration
						jsTags = jQuery.grep( jQuery.merge( [], elem.getElementsByTagName("script") ), handleScript );

						// Splice the scripts into ret after their former ancestor and advance our index beyond them
						ret.splice.apply( ret, [i + 1, 0].concat( jsTags ) );
						i += jsTags.length;
					}
				}
			}
		}

		return ret;
	};
}

var eventAdd = jQuery.event.add,
	eventRemove = jQuery.event.remove,
	eventTrigger = jQuery.event.trigger,
	oldToggle = jQuery.fn.toggle,
	oldLive = jQuery.fn.live,
	oldDie = jQuery.fn.die,
	ajaxEvents = "ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",
	rajaxEvent = new RegExp( "\\b(?:" + ajaxEvents + ")\\b" ),
	rhoverHack = /(?:^|\s)hover(\.\S+|)\b/,
	hoverHack = function( events ) {
		if ( typeof( events ) !== "string" || jQuery.event.special.hover ) {
			return events;
		}
		if ( rhoverHack.test( events ) ) {
			migrateWarn("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'");
		}
		return events && events.replace( rhoverHack, "mouseenter$1 mouseleave$1" );
	};

// Event props removed in 1.9, put them back if needed; no practical way to warn them
if ( jQuery.event.props && jQuery.event.props[ 0 ] !== "attrChange" ) {
	jQuery.event.props.unshift( "attrChange", "attrName", "relatedNode", "srcElement" );
}

// Undocumented jQuery.event.handle was "deprecated" in jQuery 1.7
if ( jQuery.event.dispatch ) {
	migrateWarnProp( jQuery.event, "handle", jQuery.event.dispatch, "jQuery.event.handle is undocumented and deprecated" );
}

// Support for 'hover' pseudo-event and ajax event warnings
jQuery.event.add = function( elem, types, handler, data, selector ){
	if ( elem !== document && rajaxEvent.test( types ) ) {
		migrateWarn( "AJAX events should be attached to document: " + types );
	}
	eventAdd.call( this, elem, hoverHack( types || "" ), handler, data, selector );
};
jQuery.event.remove = function( elem, types, handler, selector, mappedTypes ){
	eventRemove.call( this, elem, hoverHack( types ) || "", handler, selector, mappedTypes );
};

jQuery.fn.error = function() {
	var args = Array.prototype.slice.call( arguments, 0);
	migrateWarn("jQuery.fn.error() is deprecated");
	args.splice( 0, 0, "error" );
	if ( arguments.length ) {
		return this.bind.apply( this, args );
	}
	// error event should not bubble to window, although it does pre-1.7
	this.triggerHandler.apply( this, args );
	return this;
};

jQuery.fn.toggle = function( fn, fn2 ) {

	// Don't mess with animation or css toggles
	if ( !jQuery.isFunction( fn ) || !jQuery.isFunction( fn2 ) ) {
		return oldToggle.apply( this, arguments );
	}
	migrateWarn("jQuery.fn.toggle(handler, handler...) is deprecated");

	// Save reference to arguments for access in closure
	var args = arguments,
		guid = fn.guid || jQuery.guid++,
		i = 0,
		toggler = function( event ) {
			// Figure out which function to execute
			var lastToggle = ( jQuery._data( this, "lastToggle" + fn.guid ) || 0 ) % i;
			jQuery._data( this, "lastToggle" + fn.guid, lastToggle + 1 );

			// Make sure that clicks stop
			event.preventDefault();

			// and execute the function
			return args[ lastToggle ].apply( this, arguments ) || false;
		};

	// link all the functions, so any of them can unbind this click handler
	toggler.guid = guid;
	while ( i < args.length ) {
		args[ i++ ].guid = guid;
	}

	return this.click( toggler );
};

jQuery.fn.live = function( types, data, fn ) {
	migrateWarn("jQuery.fn.live() is deprecated");
	if ( oldLive ) {
		return oldLive.apply( this, arguments );
	}
	jQuery( this.context ).on( types, this.selector, data, fn );
	return this;
};

jQuery.fn.die = function( types, fn ) {
	migrateWarn("jQuery.fn.die() is deprecated");
	if ( oldDie ) {
		return oldDie.apply( this, arguments );
	}
	jQuery( this.context ).off( types, this.selector || "**", fn );
	return this;
};

// Turn global events into document-triggered events
jQuery.event.trigger = function( event, data, elem, onlyHandlers  ){
	if ( !elem && !rajaxEvent.test( event ) ) {
		migrateWarn( "Global events are undocumented and deprecated" );
	}
	return eventTrigger.call( this,  event, data, elem || document, onlyHandlers  );
};
jQuery.each( ajaxEvents.split("|"),
	function( _, name ) {
		jQuery.event.special[ name ] = {
			setup: function() {
				var elem = this;

				// The document needs no shimming; must be !== for oldIE
				if ( elem !== document ) {
					jQuery.event.add( document, name + "." + jQuery.guid, function() {
						jQuery.event.trigger( name, null, elem, true );
					});
					jQuery._data( this, name, jQuery.guid++ );
				}
				return false;
			},
			teardown: function() {
				if ( this !== document ) {
					jQuery.event.remove( document, name + "." + jQuery._data( this, name ) );
				}
				return false;
			}
		};
	}
);


})( jQuery, window );

/* END TrainingAssist.Presentation.Pages.Scripts.jquery-migrate.js */
/* START TrainingAssist.Presentation.Pages.Scripts.site.js */
//site.js   Ecordia site level javascript
//Copyright 2005-2007 Training Assist Limited.

//global vars
var site_Guid_Empty = '00000000-0000-0000-0000-000000000000';

//last ditch error handler
function site_OnError(message,uri,line)
{
    try
    {
        var txt="There was an error on this page.\n\n";
        txt+="Error: " + message + "\n";
        txt+="URL: " + uri + "\n";
        txt+="Line: " + line+ "\n\n";
        txt+="Click OK to continue.\n\n";
        alert(txt);
    }
    catch (e)
    {
        alert(message);
    }
    
    return true;
}


function site_NavigateTo(page)
{
	try
	{
		window.location.href = page
	}
	catch(e)
	{
		alert ('Error navigating to a new page: '+page+' - '+e );
	}
}

function site_NavigateViaLinkId(linkId)
{
	try
	{
		//find link 
		var link = document.getElementById(linkId);
		if (link==null) throw 'Link with id ['+linkId+'] not found.'; 
		window.location.href = link.href;
	}
	catch(e)
	{
		alert ('Error navigating via link to a new page - '+e );
	}
}

function site_setVisible(id,visible)
{
	//find element
	var element = document.getElementById(id);
	if (element!=null)
	{
		element.visible = visible? true : false;
		element.style.display= visible ? "" : "none";
	}
	else
	{
		throw "Could not find element by id : [" +id+"]";
	}
}

function site_setFrameSrc(id,srcUrl)
{
    site_setElementSrc(id,srcUrl);
}

function site_setElementSrc(id,srcUrl)
{
	//find element
	var element = document.getElementById(id);
	if (element!=null)
	{
	    if (element.src!=srcUrl)
	    {
		element.src = srcUrl;
		}
		
	}
	else
	{
		throw "Could not find element by id : [" +id+"]";
	}
}

function site_ErrorTest()
{
	try
	{
		throw "test error"
	}
	catch (e)
	{
	 alert (e);
	}
}

// Browser Detection

site_isMac = (navigator.appVersion.indexOf("Mac")!=-1) ? true : false;
site_NS4 = (document.layers) ? true : false;
site_IEmac = ((document.all)  && (site_isMac)) ? true : false;
site_IE4plus = (document.all) ? true : false;
site_IE4 = ((document.all) && (navigator.appVersion.indexOf("MSIE 4.")!=-1)) ? true : false;
site_IE5 = ((document.all) && (navigator.appVersion.indexOf("MSIE 5.") != -1)) ? true : false;
site_ver4 = (site_NS4 || site_IE4plus) ? true : false;
site_NS6 = (!document.layers) &&  (navigator.userAgent.indexOf('Netscape')!=-1)?true:false;
site_IE=(document.all);

function site_Old_Browser() {
    return (window.attachEvent && !window.addEventListener);
}

// Body onload utility (supports multiple onload functions)

var site_gSafeOnload = new Array();


var CustomEventHandlers;

function site_SafeAddOnLoad(f)
{
	if (site_IEmac && site_IE4)  // IE 4.5 blows out on testing window.onload
	{
		window.onload = site_SafeOnLoad;
		site_gSafeOnload[site_gSafeOnload.length] = f;
	}
	else if  (window.onload)
	{
		if (window.onload != site_SafeOnLoad)
		{
			site_gSafeOnload[site_gSafeOnload.length] = window.onload;
			window.onload = site_SafeOnLoad;
		}		
		site_gSafeOnload[site_gSafeOnload.length] = f;
	}
	else
	{
		site_gSafeOnload[site_gSafeOnload.length] =f;
		window.onload = site_SafeOnLoad;
	}
}
function site_SafeOnLoad()
{
	try
	{
		for (var i=0;i<site_gSafeOnload.length;i++)
			site_gSafeOnload[i]();
	}
	catch(e)
	{
		alert('Error handling load events: - ' +e);
	}
}

function site_SafeAddOnSubmit(form,f)
{
	//create form handler array if not found
	if (!form.submitHandlers)
	{
	form.submitHandlers = new Array();
	}
	if  (form.onsubmit)
	{
		if (form.onsubmit != site_SafeOnSubmit)
		{
			form.submitHandlers[form.submitHandlers.length] = form.onsubmit;
			form.onsubmit = site_SafeOnSubmit;
		}		
		form.submitHandlers[form.submitHandlers.length] = f;
	}
	else
	{
		form.submitHandlers[form.submitHandlers.length] =f;
		form.onsubmit = site_SafeOnSubmit;
	}
}
function site_SafeOnSubmit(e)
{
	try
	{	
	    //use window.event if event not supplied
		if (!e) var e = window.event;
		
		var form;
		//if have event form may be target or srcelement
		if (e)
		{
		if (e.target && e.target.submitHandlers) form =e.target 
		else if (e.srcElement && e.srcElement.targetsubmitHandlers) form = e.srcElement;
		}
		//else use first form on page
		if (!form)
		{
		form = document.forms[0];
		}

		
		//run in reverse order
		var retVal =true;
		for (var i=form.submitHandlers.length-1;i>=0;i--)
		{
		    var currentResult = form.submitHandlers[i](e);
			if (!currentResult)
			{
				retVal=false;
				site_FireEvent("SubmitFailed",window.document);
				break;
			};
		}
		
		//return final result
		return site_EventHandler(retVal);
		
		}
	catch(e)
	{
		alert('Error handling submit events: - ' +e);
	}

}

function site_GetPageScrollTop()
{
var y;
if (self.pageYOffset!=null) // all except Explorer
{
	y = self.pageYOffset;
}
else if ((document.documentElement) && (document.documentElement.scrollTop))
	// Explorer 6 Strict
{
	y = document.documentElement.scrollTop;
}
else if (document.body) // all other Explorers
{
	y = document.body.scrollTop;
}
//alert(y);
return y;
}

function site_SetPageScrollTop(y)
{
if (self.pageYOffset!=null) // all except Explorer
{
	window.scroll(0,y) ;
}
else if ((document.documentElement) && (document.documentElement.scrollTop))
	// Explorer 6 Strict
{
	document.documentElement.scrollTop =y;
}
else if (document.body) // all other Explorers
{
	document.body.scrollTop =y;
}
}

function site_SetScrollHandler(f)
{
	window.onscroll=f;
}

function site_FireEvent(name, target)
{

	//get event creator
	var eventCreator =null;
	if(document.createEvent || document.site_CreateEvent)
	{
		eventCreator=document;
	}
	else if (target.createEvent  || target.site_CreateEvent)
	{
		eventCreator=target;
	}
	else if (target.document)
	{
		if (target.document.createEvent || target.document.site_CreateEvent)
			eventCreator=target.document;

	}
	var evt;

	if(eventCreator && (target.dispatchEvent || target.site_DispatchEvent))
	{
		//create a generic event 
		if (eventCreator.createEvent)
		{
			evt = eventCreator.createEvent('Events');
		}
		else
		{
			evt = eventCreator.site_CreateEvent('Events');
		}
		
		//no bubble, no cancel
		evt.initEvent(name, false, false);
		//FIRE!
		if (target.dispatchEvent)
		{
			target.dispatchEvent(evt);
		}
		else
		{
			target.site_DispatchEvent(evt);
		}
			
	}
	else
	{
		throw('Could not send ' + name + ' event');
		
		
	}
}

function site_addEventListener(name,listener,allowCapture)
{
	if (!this.site_EventListeners)
	{
	this.site_EventListeners= {};
	}
	this.site_EventListeners[name]=listener;
	
}

function site_DispatchEvent(eventObject)
{
	if (this.site_EventListeners)
	{
	var handler= this.site_EventListeners[eventObject.type];
	if (handler)
		{
			handler(eventObject);
		}
	}
}

function site_CreateEvent(eventGroup)
{
	var eventObject = {}; 
	
		eventObject.initEvent = function(type,bub,can) {
			this.type = type; this.bubbles = bub; this.cancelable = can;
		};
		
	return eventObject;
}

function site_attachCustomEvent(target,eventName,listener)
{
	try
	{
		//add alternate document event functions - as using W3c names confuses the editor
		if (!document.createEvent)
		{
		document.site_CreateEvent=site_CreateEvent;
		}
		if (!target.dispatchEvent)
		{
		target.site_DispatchEvent=site_DispatchEvent;
				
		}
		if (!target.addEventListener)
		{
		
		target.site_AddEventListener=site_addEventListener;
		
		}
		
		if (target.addEventListener)
		{
		target.addEventListener(eventName, listener, false);
		}
		else
		{
		
		target.site_AddEventListener(eventName, listener, false);
		
		}
		
							
		
	}
	catch(e)
	{
		alert('Error attaching event listener to event:'+eventName+' - ' +e);
	}
}

var site_PageSubmitFlag = false;
var site_PageDoubleClickGuard = false;

function site_PageOnSubmit(e)
{
    if (site_PageSubmitFlag) {return false;}
		if (site_PageDoubleClickGuard) {site_PageSubmitFlag=true;}
    site_PageSubmitted(this.OwnerDocument);
    return true;
}

function site_PageSubmitCheck()
{
    return !site_PageSubmitFlag;
}

function site_SubmitFailed(e)
{
    site_PageSubmitFlag=false;
    site_PageCancelled(this.OwnerDocument);
    return true;
}


function site_ActivateSubmitHandlers(doubleClickGuard)
{
    site_PageDoubleClickGuard=doubleClickGuard;
    
    site_attachCustomEvent(window.document,'NeatUploadStopped',site_SubmitFailed);
    site_attachCustomEvent(window.document,'SubmitFailed',site_SubmitFailed);
    site_SafeAddOnSubmit(document.forms[0],site_PageOnSubmit);
}


function site_PageSubmitted(control)
{
window.onbeforeunload=site_WaitCursor;
window.onunload=site_WaitCursor;

}

function site_PageCancelled(control)
{
site_NormalCursor();
}

function site_WaitCursor()
{
if (site_PageDoubleClickGuard)
    {
    site_SetInputCursor("wait");
    }
}

function site_NormalCursor()
{
site_SetInputCursor("default");
}

function site_SetInputCursor(cursorStyle)
{

	document.body.style.cursor=cursorStyle;

    //Disables all the INPUT Controls
    for(i=0;i<document.getElementsByTagName('INPUT').length;i++)
    {         
        var io = document.getElementsByTagName('INPUT')[i];     
        //Make sure you are not working with hidden INPUTS
        if(io.type != 'hidden')
        {
           io.style.cursor =cursorStyle;
        }
    }
    for(i=0;i<document.getElementsByTagName('SELECT').length;i++)
    {         
        var select = document.getElementsByTagName('SELECT')[i];       
        //Make sure you are not working with hidden selects
        if(select.type != 'hidden')
        {
			select.style.cursor =cursorStyle;
        }

    }

    

}

function site_OpenUriInMaximizedWindow(uri, windowName)
{

    var windowName = window.open(uri, windowName, 'left=0,top=0,width=' + (screen.availWidth - 20) + ',height=' + (screen.availHeight - 20) + ',resizable,scrollbars=yes');
    windowName.focus();
}

function site_OpenUriInSizedWindow(uri, windowName,sizePercentage) {

    var windowName = window.open(uri, windowName, 'left=0,top=0,width=' + (screen.availWidth * (sizePercentage / 100) - 20) + ',height=' + (screen.availHeight * (sizePercentage / 100) - 20) + ',resizable,scrollbars=yes');
    windowName.focus();
}

function site_OpenNewSizedWindow(uri,width,height)
{
    var top=(screen.availHeight-height)/2;
    if (top<0) top=0;
    var left=(screen.availWidth-width)/2;
    if (left<0) left=0;
    
    window.open(uri, '_blank', 'left='+left+',top='+top+',width='+width+',height='+height+',resizable,scrollbars=no');
}

function site_CancelEventBubble(e)
{
	try
	{
		
	if (!e) var e = window.event;
	if (e)
	{
	  e.cancelBubble = true;
	  if (e.stopPropagation) e.stopPropagation();
	}
							
		
	}
	catch(e)
	{
		alert('Error cancelling event bubble: - ' +e);
	}
	
}

function site_ASPNETValidationFix(target) {
    if (target) {
        if ($("html").is(".ie6, .ie7")) {
            if ($("[name='" + target + "']").length > 0) {
                $("[name='" + target + "']").html("");
            }
        }
    }
}

function site_EventHandler(retVal) {
    
	if (site_IE && event)
	{
		event.returnValue=retVal;
	}
	return retVal;
}

/*Page image button handlers*/

function site_ImageButtonClickHandler(target, arguments, confirmMessage, submit, validate, validateGroup, clientSubmit) {
    site_ASPNETValidationFix(target);

    if (submit) {
        if (typeof(site_PageSubmitCheck) == 'function') {
            if (!site_PageSubmitCheck()) return false;
        }
    }
    if (confirmMessage.length > 0) {
        if (!confirm(confirmMessage)) return false;
    }
    if (submit) {
        WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(target, arguments, validate, validateGroup, '', false, clientSubmit));
        var buttonBeingClicked = document.getElementsByName(target);
        if (buttonBeingClicked != null)                             
        {                                               //disable for 2 seconds - this prevents double clicks
            buttonBeingClicked[0].classList.add("disableSubmitButton");//disables clicks on the submit button and grays it out
            setTimeout(function () {    //reenable after 2 seconds
                buttonBeingClicked[0].classList.remove("disableSubmitButton");                
            }, 2000);
        }
    }     
    return true;
}

function site_ImageButtonRollOverHandler(id, srcUri) {
var button = document.getElementById(id);
if (button) 
{
button.src=srcUri;
}
return true;
}


/*loading message removal*/
function site_RemoveLoadingMessage()
{
	var loadingDiv = document.getElementById('loadingMessage');
	if (loadingDiv) 
	{
		loadingDiv.style.display="none";
	}

}
//always run it on load
site_SafeAddOnLoad(site_RemoveLoadingMessage);

/*resize image functions*/
var site_gResizeableImages = new Array();

//Object factrory
function site_ResizeableImage(id,urlStart,initialSize)
{
this.Id = id;
this.UrlStart = urlStart;
this.InitialSize = initialSize;
this.Size = initialSize;
}

function site_RegisterResizeableImage(id,urlStart,initialSize)
{
    try
	{
	    site_gResizeableImages[site_gResizeableImages.length]= new site_ResizeableImage(id,urlStart,initialSize);
	}
	catch(e)
	{
		alert ('Error adding image to resize list: '+e );
	}
    
}

function site_ResizeImage(id,bigger)
{
    try
	{
	    for(i=0;i<site_gResizeableImages.length;i++)
        {         
            var currentImage = site_gResizeableImages[i];
            if (currentImage.Id==id)
            {
                //resize image
	            currentImage.Size+= bigger?100:-100;
	            
	            //bounds
	            if(currentImage.Size<100) currentImage.Size=100;
            	
	            var newUrl = currentImage.UrlStart+'&thumbnail='+currentImage.Size;
	            site_setElementSrc(currentImage.Id,newUrl);
            }
        }
	}
	catch(e)
	{
		alert ('Error resizing image: '+e );
	}

}

function site_GetRadioValue(elementId)
{
    //lean on validator functions
    return ValidatorGetValue(elementId);
}

function site_GetCheckBoxAsYN(elementId)
{
    var checkbox=document.getElementById(elementId);
    if (checkbox)
    {
        return checkbox.checked?'Y':'N';
    }
    else
    {
        alert ('Unable to find checkbox (id '+elementId+').');
        return 'N';
    }
    
}

function site_GetSelectedCheckBoxValues(boxList)
{
    var result = new Array();
    if (boxList)
    {
        
        for(var id in boxList)
        {
            var checkbox = document.getElementById(id);
            if (checkbox)
            {
                if (checkbox.checked)
                {
                    result[result.length]=boxList[id];
                }
            }
            else
            {
                throw 'Unable to find checkbox (id '+id+').';
            }
        }
        
    }
    return result;
}

//user control specifics

//get activity time if present
function site_GetActivityTime()
{
    if (typeof(GetActivityTime) == 'function')
    {
    return GetActivityTime();
    }
    else
    {
        return '';
    }
}



function site_ToggleCheckboxState(e, id) {
   
    var targ;
  
        if (!e) e = window.event;

        if (e.target) {
            targ = e.target;
        }
        else if (e.srcElement) {
            targ = e.srcElement;
        }

        var cb = document.getElementById(id);

        if (cb != null && (cb.type == "checkbox" || cb.type == "radio") && cb != targ && cb.disabled == false) {
            cb.checked = !cb.checked;
        }    
        return false;
    }

function setLinkedCheckBox(checkboxAlpha, checkboxBeta) {
	var cbAlpha = $('#' + checkboxAlpha)[0];
	var cbBeta = $('#' + checkboxBeta)[0];
	if (cbAlpha === null || cbAlpha.disabled || !(cbAlpha.type == "checkbox" || cbAlpha.type == "radio"))
		return;
	if (cbBeta === null || cbBeta.disabled || !(cbBeta.type == "checkbox" || cbBeta.type == "radio"))
		return;
	if (cbAlpha.checked)
		cbBeta.checked = true;
}

function site_SetAllCheckboxes(sender) {

    //find parent table
    var table = jQuery(sender).parents("table")[0];

    if (table != null) {
        //find the checkboxes in this table
        var checkboxes = jQuery('input:checkbox',table).get();
        if (checkboxes != null) {
            for(var item in checkboxes)
            {
                var cb = checkboxes[item];
                if (cb.disabled == false && cb.checked == false) {
                    cb.checked = true;
                }
            }
        }
        else {
            throw 'Could not find checkboxes - not found';
        }    
    }
    else
    {
    throw "Could not find table.";
    }    
}


function site_MultiFileUploadsAreQueued() {
    var result = false;


    if (typeof(NeatUploadMultiFile)!='undefined') {
    
        var upload = NeatUploadMultiFile;

        if (upload.prototype != null) {

            if (upload.prototype.Controls != null) {
                for (var control in upload.prototype.Controls) {
                    if (upload.prototype.Controls[control].FilesToUpload.length > 0) {
                        result = true;
                        break;
                    }
                }
            }
        }
    }

    return result;

}

function site_FocusProgress() {

    //find parent table
    var progressBarFrame = jQuery('iframe.ProgressBar')[0];

    if (progressBarFrame != null) {
        progressBarFrame.focus();
    }  

}

function site_UpdateRowVersion(rowVersion) {

    site_UpdateFormInput('__DBMSROWVERSION', rowVersion);
}

function site_UpdateFormInput(name,value) {

    if (name != null & name.length > 0 && value != null && value.length > 0) {

        //find the input
        var input = jQuery('input[name=' + name + ']')[0];
        if (input != null) {
            input.value = value;
            
        }
        else {
            throw 'Could not set input value - not found';
        }
    }
    else {
        throw 'Could not set input value - Name or value not supplied';
    }
}

function site_HandleEvidencePrepSaveComplete(result) {

    //if ajax ok 
    if (!result.error) {
        //update the row version
        site_UpdateRowVersion(result.value.newRowVersion);

        //if files queued - submit the page
        if (site_MultiFileUploadsAreQueued()) {

            site_FocusProgress();
            site_UpdateFormInput('__PageSaveAction',
                                                    result.value.action == 0 ? 'SaveAndAddMore' : 'SaveAndClose');

            if (result.value.url != null && result.value.url.length > 0) {
                site_UpdateFormInput('__EmbeddedLinkUrl', result.value.url);
            }
            
            document.forms[0].submit();


        }
        //otherwise do ajax result
        else {
            site_HandleAjaxUiFlowResult(result)
        }
    }
}


function site_ResizeThisFrame(frameId) {

    var frameElement = this.document.getElementById(frameId);

    if (frameElement != null) {

        var heightNeeded = frameElement.contentWindow.document.body.scrollHeight + 40;
        var widthNeeded = frameElement.contentWindow.document.body.scrollWidth + 20;
        frameElement.style.height = heightNeeded + "px";
        frameElement.style.width = widthNeeded + "px";

        }
}

//Ajax support

//Object factory
function site_AjaxHelper(message)
{
    try
    {
        this.bannerId='ajaxProgressBanner';
        this.bannerMessageId='ajaxProgressBannerMessage';
        
        //[1152] Increase initial time to 30s
        this.Timeout = 30000;

        this.Message = message;
        this.CompleteHandler =site_DefaultComplete;

        this.ShowProgress = site_AjaxShowProgress;
        this.HideProgress = site_AjaxHideProgress;
        this.SetAlertMessage = site_SetAjaxAlertMessage;
        this.SetProgressMessage = site_SetAjaxProgressMessage;

        this.GetCompleteHandler = site_GetAjaxCompleteHandler;
        this.SetupAjaxRequest = site_SetupAjaxRequest;

        this.OnComplete = site_AjaxRequestComplete;
        this.OnTimeout = site_OnAjaxRequestTimeout;
        this.OnError = site_OnAjaxRequestError;
        this.OnAborted = site_OnAjaxRequestAborted;
    }
    catch (e)
    {
    alert ('Error creating ajax helper: '+e);
    }

}

function site_HandleAjaxUiFlowResult(result)
{

    try
    {
        if (result && result.value)
        {
        //action 0 is noop, 1 is redirect
        if (result.value.action==1)
        {
            site_NavigateTo(result.value.url);
        }
        }
    }
    catch (e)
    {
    alert ('Error handling ajax Ui Flow Result: '+e);
    }

}

function site_SetAjaxAlertMessage(message)
{
    alert(message);
    this.HideProgress();
}

function site_SetAjaxProgressMessage()
{
    var element = document.getElementById(this.bannerMessageId);
    if (element!=null)
    {
    element.innerHTML=this.Message;
    }
}

function site_AjaxShowProgress()
{
        this.SetProgressMessage();
        //set progress banner to top left on screen (including scroll position)
        document.getElementById(this.bannerId).style.left=WebForm_GetScrollX()+10+'px';
        document.getElementById(this.bannerId).style.top=WebForm_GetScrollY()+10+'px';
        
        site_setVisible(this.bannerId,true);
}

function site_SetupAjaxRequest(dataLength)
{
 try
    {
       this.ShowProgress();
               
        //[1152] Decrease expected rate to 512b/s      
        //set ajaxpro global timeout stuff allow 0.5K/s for data (==0.5b/ms)
        AjaxPro.timeoutPeriod=this.Timeout+2*dataLength;
        AjaxPro.onTimeout = this.OnTimeout.bind(this);       
    }
    catch (e)
    {
    alert ('Error starting request: '+e);
    }
}


function site_AjaxHideProgress()
{
  site_setVisible(this.bannerId,false);

}

//called back by ajax, shut off progress, then call page request handler
function site_AjaxRequestComplete(result)
{
    this.HideProgress();
    try
    {
        if (result)
        {
            if (result.error && this.OnError)
            {
                this.OnError(result);
            }
            else
            {
                if(this.CompleteHandler)
                {
                    this.CompleteHandler(result);
                }
            }
        }
    }
    catch (e)
    {
    alert ('Error completing request: '+e);
    }


}

function site_DefaultComplete(result)
{
    site_HandleAjaxUiFlowResult(result);
}

function site_GetAjaxCompleteHandler()
{
    var helper=this;
    return completeHandler= function (result) {helper.OnComplete(result);};  
}


 
function site_OnAjaxRequestTimeout(duration,request)
{
this.SetAlertMessage('Operation "'+this.Message+'" took too long to complete, and has been cancelled.');
//return true to abort request
return true;
}

function site_OnAjaxRequestAborted()
{
this.HideProgress();
}

function site_OnAjaxRequestError(result)
{
//only show a message for validation errors
if (result.error.Type=='SD.LLBLGen.Pro.ORMSupportClasses.ORMEntityValidationException')
{
this.SetAlertMessage(result.error.Message);
}
else
{
this.SetAlertMessage('Error occurred while "'+this.Message+'" Type : ['+result.error.Type+'], Message: '+result.error.Message);
}

}
// return the value of the radio button that is checked
// return an empty string if none are checked, or
// there are no radio buttons
function getCheckedValue(radioObj) {
	if (!radioObj)
		return "";
	var radioLength = radioObj.length;
	if (radioLength == undefined)
		if (radioObj.checked)
			return radioObj.value;
		else
			return "";
	for (var i = 0; i < radioLength; i++) {
		if (radioObj[i].checked) {
			return radioObj[i].value;
		}
	}
	return "";
}
function setCheckedValue(radioObj, newValue) {
	if (!radioObj)
		return;
	var radioLength = radioObj.length;
	if (radioLength == undefined) {
		radioObj.checked = (radioObj.value == newValue.toString());
		return;
	}
	for (var i = 0; i < radioLength; i++) {
		radioObj[i].checked = false;
		if (radioObj[i].value == newValue.toString()) {
			radioObj[i].checked = true;
		}
	}
}
function onClientLoad(sender) {
	function clientState() {
		this.checkedIndices = sender.get_checkedIndices();
		this.enabled = sender.get_enabled();
		this.text = sender.get_text();
		this.value = sender.get_value();
	}

	var clientState = new clientState();
	var serializedClientState = Sys.Serialization.JavaScriptSerializer.serialize(clientState);
	sender.set_clientState(serializedClientState);
}

function RadEditor_OnClientLoad(editor) {
	setUrlLength(editor);
}
function RadEditor_OnClientPasteHtml(editor, args) {        //prevent images, scripts & style to be copied into RadEditor
    var value = args.get_value();
    //if image is being added through image manager (ctrl+G feature) the src is a refernce link - allow this
    //but if image is being copied from MSpaint, the image src is 'src="data:image/png xxxxxxxxxxxxxxxxxxxxxxxxxxx' disallow this by blanking it
    if(/src=\"data:image\/([a-zA-Z]*);base64,([^\"]*)\"/igm.test(value))
        alert("It looks like you are trying to paste an Image here. This cannot be done please use 'Upload files' for any Images");
    var strippedContent = value.replace(/src=\"data:image\/([a-zA-Z]*);base64,([^\"]*)\"/igm, "");  
    strippedContent = strippedContent.replace(/\<script .+?\>/ig, "");
    args.set_value(strippedContent);
} 

function setUrlLength(editor) {
	//fix for webresource.axd throwing error 500 because of requesting url length
	editor.get_dialogOpener()._dialogUrlLengthLimit = 500;
}

function EcordiaFormattedDate(date) {
    var d = new Date(date || Date.now()),
        month = '' + (d.getMonth() + 1),
        day = '' + d.getDate(),
        year = d.getFullYear();

    if (month.length < 2) month = '0' + month;
    if (day.length < 2) day = '0' + day;

    return [day, month, year].join('/');
}

/* END TrainingAssist.Presentation.Pages.Scripts.site.js */
/* START TrainingAssist.Presentation.Pages.Scripts.imagePreviewScript.js */
/*
 * Image preview script 
 * powered by jQuery (http://www.jquery.com)
 * 
 * written by Alen Grakalic (http://cssglobe.com)
 * 
 * for more info visit http://cssglobe.com/post/1695/easiest-tooltip-and-image-preview-using-jquery
 *
 */

this.imagePreview = function () {
    /* CONFIG */

    xOffset = 1;
    yOffset = 30;

    // these 2 variable determine popup's distance from the cursor
    // you might want to adjust to get the right result

    /* END CONFIG */
    $("a.preview").hover(function (e) {
        this.t = this.title;
        this.title = "";
        var c = (this.t != "") ? "<br/>" + this.t : "";
        $("#preview").remove(); 
        $("body").append("<p id='preview'><img src='" + this.href + "' alt='Click to Download File' />" + c + "</p>");
        $("#preview")
		    .fadeIn("fast");
        var xPos = ((e.pageX / $(window).width()) * 100);
        if ((xPos > 30) && (xPos < 65))
            $("#preview")
				.css("left", xPos + 2 + "%");	
        else
            $("#preview")
			    .css("left", "30%");
    },
	function () {
	    this.title = this.t;
	    $("#preview").fadeOut("slow");
	});
};

this.imagePreviewMessage = function () {
    /* CONFIG */

    xOffset = 10;
    yOffset = 30;

    // these 2 variable determine popup's distance from the cursor
    // you might want to adjust to get the right result

    /* END CONFIG */
    $("a.previewMessage").hover(function (e) {
        this.t = this.title;
        this.title = "";
        var c = (this.t != "") ? "<br/>" + this.t : "";
        $("body").append("<p id='previewMessage'>Click to Download File</p>");
        $("#previewMessage")
		    .css("top", (e.pageY - xOffset) + "px")
		    .css("left", (e.pageX + yOffset) + "px")
		    .fadeIn("fast");
    },
	function () {
	    this.title = this.t;
	    $("#previewMessage").remove();
	});
	$("a.previewMessage").mousemove(function (e) {
	    $("#previewMessage")
			.css("top", (e.pageY - xOffset) + "px")
		    .css("left", (e.pageX + yOffset) + "px");
    });
};


// starting the script on page load
$(document).ready(function () {
    imagePreview();
    imagePreviewMessage();
});
/* END TrainingAssist.Presentation.Pages.Scripts.imagePreviewScript.js */
/* START TrainingAssist.Presentation.Pages.Scripts.jquery-ui.custom.min.js */
/*! jQuery UI - v1.9.2 - 2013-09-04
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */

(function(e,t){function i(t,i){var s,n,r,o=t.nodeName.toLowerCase();return"area"===o?(s=t.parentNode,n=s.name,t.href&&n&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&a(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,n=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var a=this;setTimeout(function(){e(a).focus(),i&&i.call(a)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var a,s,n=e(this[0]);n.length&&n[0]!==document;){if(a=n.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,a){return!!e.data(t,a[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var a=e.attr(t,"tabindex"),s=isNaN(a);return(s||a>=0)&&i(t,!s)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,a){function s(t,i,a,s){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,a&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===a?["Left","Right"]:["Top","Bottom"],r=a.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+a]=function(i){return i===t?o["inner"+a].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+a]=function(t,i){return"number"!=typeof t?o["outer"+a].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,a){var s,n=e.ui[t].prototype;for(s in a)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([i,a[s]])},call:function(e,t,i){var a,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(a=0;s.length>a;a++)e.options[s[a][0]]&&s[a][1].apply(e.element,i)}},contains:e.contains,hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var a=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[a]>0?!0:(t[a]=1,s=t[a]>0,t[a]=0,s)},isOverAxis:function(e,t,i){return e>t&&t+i>e},isOver:function(t,i,a,s,n,r){return e.ui.isOverAxis(t,a,n)&&e.ui.isOverAxis(i,s,r)}}))})(jQuery);(function(e,t){var i=0,s=Array.prototype.slice,a=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(n){}a(t)},e.widget=function(i,s,a){var n,r,o,h,l=i.split(".")[0];i=i.split(".")[1],n=l+"-"+i,a||(a=s,s=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},r=e[l][i],o=e[l][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),h=new s,h.options=e.widget.extend({},h.options),e.each(a,function(t,i){e.isFunction(i)&&(a[t]=function(){var e=function(){return s.prototype[t].apply(this,arguments)},a=function(e){return s.prototype[t].apply(this,e)};return function(){var t,s=this._super,n=this._superApply;return this._super=e,this._superApply=a,t=i.apply(this,arguments),this._super=s,this._superApply=n,t}}())}),o.prototype=e.widget.extend(h,{widgetEventPrefix:r?h.widgetEventPrefix:i},a,{constructor:o,namespace:l,widgetName:i,widgetBaseClass:n,widgetFullName:n}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var a,n,r=s.call(arguments,1),o=0,h=r.length;h>o;o++)for(a in r[o])n=r[o][a],r[o].hasOwnProperty(a)&&n!==t&&(i[a]=e.isPlainObject(n)?e.isPlainObject(i[a])?e.widget.extend({},i[a],n):e.widget.extend({},n):n);return i},e.widget.bridge=function(i,a){var n=a.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,h=s.call(arguments,1),l=this;return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,o?this.each(function(){var s,a=e.data(this,n);return a?e.isFunction(a[r])&&"_"!==r.charAt(0)?(s=a[r].apply(a,h),s!==a&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,n);t?t.option(r||{})._init():e.data(this,n,new a(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetName,this),e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var a,n,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},a=i.split("."),i=a.shift(),a.length){for(n=o[i]=e.widget.extend({},this.options[i]),r=0;a.length-1>r;r++)n[a[r]]=n[a[r]]||{},n=n[a[r]];if(i=a.pop(),s===t)return n[i]===t?null:n[i];n[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,a){var n,r=this;"boolean"!=typeof i&&(a=s,s=i,i=!1),a?(s=n=e(s),this.bindings=this.bindings.add(s)):(a=s,s=this.element,n=this.widget()),e.each(a,function(a,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);var l=a.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?n.delegate(c,u,h):s.bind(u,h)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var a,n,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(a in n)a in i||(i[a]=n[a]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,a,n){"string"==typeof a&&(a={effect:a});var r,o=a?a===!0||"number"==typeof a?i:a.effect||i:t;a=a||{},"number"==typeof a&&(a={duration:a}),r=!e.isEmptyObject(a),a.complete=n,a.delay&&s.delay(a.delay),r&&e.effects&&(e.effects.effect[o]||e.uiBackCompat!==!1&&e.effects[o])?s[t](a):o!==t&&s[o]?s[o](a.duration,a.easing,n):s.queue(function(i){e(this)[t](),n&&n.call(s[0]),i()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})})(jQuery);(function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,a=1===i.which,n="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return a&&!n&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(e,t){function i(e,t,i){return[parseInt(e[0],10)*(d.test(e[0])?t/100:1),parseInt(e[1],10)*(d.test(e[1])?i/100:1)]}function s(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var a,n=Math.max,r=Math.abs,o=Math.round,l=/left|center|right/,h=/top|center|bottom/,u=/[\+\-]\d+%?/,c=/^\w+/,d=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(a!==t)return a;var i,s,n=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return e("body").append(n),i=r.offsetWidth,n.css("overflow","scroll"),s=r.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),s=t.isWindow?"":t.element.css("overflow-y"),a="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,n="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var a,d,f,m,g,v=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),_=v[0],x=(t.collision||"flip").split(" "),k={};return 9===_.nodeType?(d=v.width(),f=v.height(),m={top:0,left:0}):e.isWindow(_)?(d=v.width(),f=v.height(),m={top:v.scrollTop(),left:v.scrollLeft()}):_.preventDefault?(t.at="left top",d=f=0,m={top:_.pageY,left:_.pageX}):(d=v.outerWidth(),f=v.outerHeight(),m=v.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,i,s=(t[this]||"").split(" ");1===s.length&&(s=l.test(s[0])?s.concat(["center"]):h.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=h.test(s[1])?s[1]:"center",e=u.exec(s[0]),i=u.exec(s[1]),k[this]=[e?e[0]:0,i?i[0]:0],t[this]=[c.exec(s[0])[0],c.exec(s[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?g.left+=d:"center"===t.at[0]&&(g.left+=d/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),a=i(k.at,d,f),g.left+=a[0],g.top+=a[1],this.each(function(){var l,h,u=e(this),c=u.outerWidth(),p=u.outerHeight(),_=s(this,"marginLeft"),w=s(this,"marginTop"),D=c+_+s(this,"marginRight")+b.width,T=p+w+s(this,"marginBottom")+b.height,M=e.extend({},g),S=i(k.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?M.left-=c:"center"===t.my[0]&&(M.left-=c/2),"bottom"===t.my[1]?M.top-=p:"center"===t.my[1]&&(M.top-=p/2),M.left+=S[0],M.top+=S[1],e.support.offsetFractions||(M.left=o(M.left),M.top=o(M.top)),l={marginLeft:_,marginTop:w},e.each(["left","top"],function(i,s){e.ui.position[x[i]]&&e.ui.position[x[i]][s](M,{targetWidth:d,targetHeight:f,elemWidth:c,elemHeight:p,collisionPosition:l,collisionWidth:D,collisionHeight:T,offset:[a[0]+S[0],a[1]+S[1]],my:t.my,at:t.at,within:y,elem:u})}),e.fn.bgiframe&&u.bgiframe(),t.using&&(h=function(e){var i=m.left-M.left,s=i+d-c,a=m.top-M.top,o=a+f-p,l={target:{element:v,left:m.left,top:m.top,width:d,height:f},element:{element:u,left:M.left,top:M.top,width:c,height:p},horizontal:0>s?"left":i>0?"right":"center",vertical:0>o?"top":a>0?"bottom":"middle"};c>d&&d>r(i+s)&&(l.horizontal="center"),p>f&&f>r(a+o)&&(l.vertical="middle"),l.important=n(r(i),r(s))>n(r(a),r(o))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(M,{using:h}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,a=s.isWindow?s.scrollLeft:s.offset.left,r=s.width,o=e.left-t.collisionPosition.marginLeft,l=a-o,h=o+t.collisionWidth-r-a;t.collisionWidth>r?l>0&&0>=h?(i=e.left+l+t.collisionWidth-r-a,e.left+=l-i):e.left=h>0&&0>=l?a:l>h?a+r-t.collisionWidth:a:l>0?e.left+=l:h>0?e.left-=h:e.left=n(e.left-o,e.left)},top:function(e,t){var i,s=t.within,a=s.isWindow?s.scrollTop:s.offset.top,r=t.within.height,o=e.top-t.collisionPosition.marginTop,l=a-o,h=o+t.collisionHeight-r-a;t.collisionHeight>r?l>0&&0>=h?(i=e.top+l+t.collisionHeight-r-a,e.top+=l-i):e.top=h>0&&0>=l?a:l>h?a+r-t.collisionHeight:a:l>0?e.top+=l:h>0?e.top-=h:e.top=n(e.top-o,e.top)}},flip:{left:function(e,t){var i,s,a=t.within,n=a.offset.left+a.scrollLeft,o=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,h=e.left-t.collisionPosition.marginLeft,u=h-l,c=h+t.collisionWidth-o-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+d+p+f+t.collisionWidth-o-n,(0>i||r(u)>i)&&(e.left+=d+p+f)):c>0&&(s=e.left-t.collisionPosition.marginLeft+d+p+f-l,(s>0||c>r(s))&&(e.left+=d+p+f))},top:function(e,t){var i,s,a=t.within,n=a.offset.top+a.scrollTop,o=a.height,l=a.isWindow?a.scrollTop:a.offset.top,h=e.top-t.collisionPosition.marginTop,u=h-l,c=h+t.collisionHeight-o-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-n,e.top+p+f+m>u&&(0>s||r(u)>s)&&(e.top+=p+f+m)):c>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>c&&(i>0||c>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,a,n,r=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(n in s)t.style[n]=s[n];t.appendChild(o),i=r||document.documentElement,i.insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",a=e(o).offset().left,e.support.offsetFractions=a>10&&11>a,t.innerHTML="",i.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var i=e.fn.position;e.fn.position=function(s){if(!s||!s.offset)return i.call(this,s);var a=s.offset.split(" "),n=s.at.split(" ");return 1===a.length&&(a[1]=a[0]),/^\d/.test(a[0])&&(a[0]="+"+a[0]),/^\d/.test(a[1])&&(a[1]="+"+a[1]),1===n.length&&(/left|center|right/.test(n[0])?n[1]="center":(n[1]=n[0],n[0]="center")),i.call(this,e.extend(s,{at:n[0]+a[0]+" "+n[1]+a[1],offset:t}))}}(jQuery)})(jQuery);(function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var a=this._uiHash();if(this._trigger("drag",t,a)===!1)return this._mouseUp({}),!1;this.position=a.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var a=this.element[0],s=!1;a&&(a=a.parentNode);)a==document&&(s=!0);if(!s&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var n=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=this.options.handle&&e(this.options.handle,this.element).length?!1:!0;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options,a=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return a.parents("body").length||a.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),a[0]==this.element[0]||/(fixed|absolute)/.test(a.css("position"))||a.css("position","absolute"),a},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var i=e(t.containment),a=i[0];if(!a)return;i.offset();var s="hidden"!=e(a).css("overflow");this.containment=[(parseInt(e(a).css("borderLeftWidth"),10)||0)+(parseInt(e(a).css("paddingLeft"),10)||0),(parseInt(e(a).css("borderTopWidth"),10)||0)+(parseInt(e(a).css("paddingTop"),10)||0),(s?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(e(a).css("borderLeftWidth"),10)||0)-(parseInt(e(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(e(a).css("borderTopWidth"),10)||0)-(parseInt(e(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var a="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),n=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop())*a,left:i.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())*a}},_generatePosition:function(t){var i=this.options,a="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName),n=t.pageX,r=t.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();o=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else o=this.containment;t.pageX-this.offset.click.left<o[0]&&(n=o[0]+this.offset.click.left),t.pageY-this.offset.click.top<o[1]&&(r=o[1]+this.offset.click.top),t.pageX-this.offset.click.left>o[2]&&(n=o[2]+this.offset.click.left),t.pageY-this.offset.click.top>o[3]&&(r=o[3]+this.offset.click.top)}if(i.grid){var h=i.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;r=o?h-this.offset.click.top<o[1]||h-this.offset.click.top>o[3]?h-this.offset.click.top<o[1]?h+i.grid[1]:h-i.grid[1]:h:h;var u=i.grid[0]?this.originalPageX+Math.round((n-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;n=o?u-this.offset.click.left<o[0]||u-this.offset.click.left>o[2]?u-this.offset.click.left<o[0]?u+i.grid[0]:u-i.grid[0]:u:u}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,a){return a=a||this._uiHash(),e.ui.plugin.call(this,t,[i,a]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var a=e(this).data("draggable"),s=a.options,n=e.extend({},i,{item:a.element});a.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"sortable");i&&!i.options.disabled&&(a.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i){var a=e(this).data("draggable"),s=e.extend({},i,{item:a.element});e.each(a.sortables,function(){this.instance.isOver?(this.instance.isOver=0,a.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==a.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var a=e(this).data("draggable"),s=this;e.each(a.sortables,function(){var n=!1,r=this;this.instance.positionAbs=a.positionAbs,this.instance.helperProportions=a.helperProportions,this.instance.offset.click=a.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,e.each(a.sortables,function(){return this.instance.positionAbs=a.positionAbs,this.instance.helperProportions=a.helperProportions,this.instance.offset.click=a.offset.click,this!=r&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(r.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=a.offset.click.top,this.instance.offset.click.left=a.offset.click.left,this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top,a._trigger("toSortable",t),a.dropped=this.instance.element,a.currentItem=a.element,this.instance.fromOutside=a),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),a._trigger("fromSortable",t),a.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var a=e(i.helper),s=e(this).data("draggable").options;a.css("opacity")&&(s._opacity=a.css("opacity")),a.css("opacity",s.opacity)},stop:function(t,i){var a=e(this).data("draggable").options;a._opacity&&e(i.helper).css("opacity",a._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("draggable"),a=i.options,s=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(a.axis&&"x"==a.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-i.overflowOffset.top<a.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-a.scrollSpeed)),a.axis&&"y"==a.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-i.overflowOffset.left<a.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-a.scrollSpeed))):(a.axis&&"x"==a.axis||(t.pageY-e(document).scrollTop()<a.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed))),a.axis&&"y"==a.axis||(t.pageX-e(document).scrollLeft()<a.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=e(this),a=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:a.top,left:a.left})})},drag:function(t,i){for(var a=e(this).data("draggable"),s=a.options,n=s.snapTolerance,r=i.offset.left,o=r+a.helperProportions.width,l=i.offset.top,h=l+a.helperProportions.height,u=a.snapElements.length-1;u>=0;u--){var d=a.snapElements[u].left,c=d+a.snapElements[u].width,p=a.snapElements[u].top,m=p+a.snapElements[u].height;if(r>d-n&&c+n>r&&l>p-n&&m+n>l||r>d-n&&c+n>r&&h>p-n&&m+n>h||o>d-n&&c+n>o&&l>p-n&&m+n>l||o>d-n&&c+n>o&&h>p-n&&m+n>h){if("inner"!=s.snapMode){var f=n>=Math.abs(p-h),g=n>=Math.abs(m-l),v=n>=Math.abs(d-o),y=n>=Math.abs(c-r);f&&(i.position.top=a._convertPositionTo("relative",{top:p-a.helperProportions.height,left:0}).top-a.margins.top),g&&(i.position.top=a._convertPositionTo("relative",{top:m,left:0}).top-a.margins.top),v&&(i.position.left=a._convertPositionTo("relative",{top:0,left:d-a.helperProportions.width}).left-a.margins.left),y&&(i.position.left=a._convertPositionTo("relative",{top:0,left:c}).left-a.margins.left)}var b=f||g||v||y;if("outer"!=s.snapMode){var f=n>=Math.abs(p-l),g=n>=Math.abs(m-h),v=n>=Math.abs(d-r),y=n>=Math.abs(c-o);f&&(i.position.top=a._convertPositionTo("relative",{top:p,left:0}).top-a.margins.top),g&&(i.position.top=a._convertPositionTo("relative",{top:m-a.helperProportions.height,left:0}).top-a.margins.top),v&&(i.position.left=a._convertPositionTo("relative",{top:0,left:d}).left-a.margins.left),y&&(i.position.left=a._convertPositionTo("relative",{top:0,left:c-a.helperProportions.width}).left-a.margins.left)}!a.snapElements[u].snapping&&(f||g||v||y||b)&&a.options.snap.snap&&a.options.snap.snap.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[u].item})),a.snapElements[u].snapping=f||g||v||y||b}else a.snapElements[u].snapping&&a.options.snap.release&&a.options.snap.release.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[u].item})),a.snapElements[u].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options,i=e.makeArray(e(t.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});if(i.length){var a=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=a+e}),this[0].style.zIndex=a+i.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var a=e(i.helper),s=e(this).data("draggable").options;a.css("zIndex")&&(s._zIndex=a.css("zIndex")),a.css("zIndex",s.zIndex)},stop:function(t,i){var a=e(this).data("draggable").options;a._zIndex&&e(i.helper).css("zIndex",a._zIndex)}})})(jQuery);(function(e){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],i=0;t.length>i;i++)t[i]==this&&t.splice(i,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"==t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var a=i||e.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0])return!1;var s=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope==a.options.scope&&t.accept.call(t.element[0],a.currentItem||a.element)&&e.ui.intersect(a,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(s=!0,!1):undefined}),s?!1:this.accept.call(this.element[0],a.currentItem||a.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(a)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,i,a){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left,n=s+t.helperProportions.width,r=(t.positionAbs||t.position.absolute).top,o=r+t.helperProportions.height,l=i.offset.left,h=l+i.proportions.width,u=i.offset.top,d=u+i.proportions.height;switch(a){case"fit":return s>=l&&h>=n&&r>=u&&d>=o;case"intersect":return s+t.helperProportions.width/2>l&&h>n-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&d>o-t.helperProportions.height/2;case"pointer":var c=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,m=e.ui.isOver(p,c,u,l,i.proportions.height,i.proportions.width);return m;case"touch":return(r>=u&&d>=r||o>=u&&d>=o||u>r&&o>d)&&(s>=l&&h>=s||n>=l&&h>=n||l>s&&n>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var a=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,n=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var r=0;a.length>r;r++)if(!(a[r].options.disabled||t&&!a[r].accept.call(a[r].element[0],t.currentItem||t.element))){for(var o=0;n.length>o;o++)if(n[o]==a[r].element[0]){a[r].proportions.height=0;continue e}a[r].visible="none"!=a[r].element.css("display"),a[r].visible&&("mousedown"==s&&a[r]._activate.call(a[r],i),a[r].offset=a[r].element.offset(),a[r].proportions={width:a[r].element[0].offsetWidth,height:a[r].element[0].offsetHeight})}},drop:function(t,i){var a=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(a=this._drop.call(this,i)||a),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),a},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var a=e.ui.intersect(t,this,this.options.tolerance),s=a||1!=this.isover?a&&0==this.isover?"isover":null:"isout";if(s){var n;if(this.options.greedy){var r=this.options.scope,o=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===r});o.length&&(n=e.data(o[0],"droppable"),n.greedyChild="isover"==s?1:0)}n&&"isover"==s&&(n.isover=0,n.isout=1,n._out.call(n,i)),this[s]=1,this["isout"==s?"isover":"isout"]=0,this["isover"==s?"_over":"_out"].call(this,i),n&&"isout"==s&&(n.isout=0,n.isover=1,n._over.call(n,i))}}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}})(jQuery);(function(e){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,i=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var s=this.handles.split(",");this.handles={};for(var a=0;s.length>a;a++){var n=e.trim(s[a]),r="ui-resizable-"+n,o=e('<div class="ui-resizable-handle '+r+'"></div>');o.css({zIndex:i.zIndex}),"se"==n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o)}}this._renderAxis=function(t){t=t||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var s=e(this.handles[i],this.element),a=0;a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth();var n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");t.css(n,a),this._proportionallyResize()}e(this.handles[i]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),i.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){i.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())}).mouseleave(function(){i.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var i=this.element;this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var s in this.handles)e(this.handles[s])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(i){var s=this.options,a=this.element.position(),n=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(n.is(".ui-draggable")||/absolute/.test(n.css("position")))&&n.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy();var r=t(this.helper.css("left")),o=t(this.helper.css("top"));s.containment&&(r+=e(s.containment).scrollLeft()||0,o+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:o},this.size=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.originalPosition={left:r,top:o},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1;var h=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==h?this.axis+"-resize":h),n.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var t=this.helper,i=(this.options,this.originalMousePosition),s=this.axis,a=e.pageX-i.left||0,n=e.pageY-i.top||0,r=this._change[s];if(!r)return!1;var o=r.apply(this,[e,a,n]);return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(o=this._updateRatio(o,e)),o=this._respectSize(o,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(o),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var i=this.options,s=this;if(this._helper){var a=this._proportionallyResizeElements,n=a.length&&/textarea/i.test(a[0].nodeName),r=n&&e.ui.hasScroll(a[0],"left")?0:s.sizeDiff.height,o=n?0:s.sizeDiff.width,h={width:s.helper.width()-o,height:s.helper.height()-r},l=parseInt(s.element.css("left"),10)+(s.position.left-s.originalPosition.left)||null,u=parseInt(s.element.css("top"),10)+(s.position.top-s.originalPosition.top)||null;i.animate||this.element.css(e.extend(h,{top:u,left:l})),s.helper.height(s.size.height),s.helper.width(s.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,s,a,n,r,o=this.options;r={minWidth:i(o.minWidth)?o.minWidth:0,maxWidth:i(o.maxWidth)?o.maxWidth:1/0,minHeight:i(o.minHeight)?o.minHeight:0,maxHeight:i(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,a=r.minWidth/this.aspectRatio,s=r.maxHeight*this.aspectRatio,n=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),a>r.minHeight&&(r.minHeight=a),r.maxWidth>s&&(r.maxWidth=s),r.maxHeight>n&&(r.maxHeight=n)),this._vBoundaries=r},_updateCache:function(e){this.options,this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=(this.options,this.position),s=this.size,a=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==a&&(e.left=t.left+(s.width-e.width),e.top=null),"nw"==a&&(e.top=t.top+(s.height-e.height),e.left=t.left+(s.width-e.width)),e},_respectSize:function(e,t){var s=(this.helper,this._vBoundaries),a=(this._aspectRatio||t.shiftKey,this.axis),n=i(e.width)&&s.maxWidth&&s.maxWidth<e.width,r=i(e.height)&&s.maxHeight&&s.maxHeight<e.height,o=i(e.width)&&s.minWidth&&s.minWidth>e.width,h=i(e.height)&&s.minHeight&&s.minHeight>e.height;o&&(e.width=s.minWidth),h&&(e.height=s.minHeight),n&&(e.width=s.maxWidth),r&&(e.height=s.maxHeight);var l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,d=/sw|nw|w/.test(a),c=/nw|ne|n/.test(a);o&&d&&(e.left=l-s.minWidth),n&&d&&(e.left=l-s.maxWidth),h&&c&&(e.top=u-s.minHeight),r&&c&&(e.top=u-s.maxHeight);var p=!e.width&&!e.height;return p&&!e.left&&e.top?e.top=null:p&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var t=this.helper||this.element,i=0;this._proportionallyResizeElements.length>i;i++){var s=this._proportionallyResizeElements[i];if(!this.borderDif){var a=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")];this.borderDif=e.map(a,function(e,t){var i=parseInt(e,10)||0,s=parseInt(n[t],10)||0;return i+s})}s.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var s=e.ui.ie6?1:0,a=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=(this.options,this.originalSize),s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=(this.options,this.originalSize),a=this.originalPosition;return{top:a.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!=t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable"),i=t.options,s=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)})},resize:function(t,i){var s=e(this).data("resizable"),a=s.options,n=s.originalSize,r=s.originalPosition,o={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-r.top||0,left:s.position.left-r.left||0},h=function(t,s){e(t).each(function(){var t=e(this),a=e(this).data("resizable-alsoresize"),n={},r=s&&s.length?s:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(a[t]||0)+(o[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})};"object"!=typeof a.alsoResize||a.alsoResize.nodeType?h(a.alsoResize):e.each(a.alsoResize,function(e,t){h(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("resizable"),s=i.options,a=i._proportionallyResizeElements,n=a.length&&/textarea/i.test(a[0].nodeName),r=n&&e.ui.hasScroll(a[0],"left")?0:i.sizeDiff.height,o=n?0:i.sizeDiff.width,h={width:i.size.width-o,height:i.size.height-r},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};a&&a.length&&e(a[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i=e(this).data("resizable"),s=i.options,a=i.element,n=s.containment,r=n instanceof e?n.get(0):/parent/.test(n)?a.parent().get(0):n;if(r)if(i.containerElement=e(r),/document/.test(n)||n==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var o=e(r),h=[];e(["Top","Right","Left","Bottom"]).each(function(e,i){h[e]=t(o.css("padding"+i))}),i.containerOffset=o.offset(),i.containerPosition=o.position(),i.containerSize={height:o.innerHeight()-h[3],width:o.innerWidth()-h[1]};var l=i.containerOffset,u=i.containerSize.height,d=i.containerSize.width,c=e.ui.hasScroll(r,"left")?r.scrollWidth:d,p=e.ui.hasScroll(r)?r.scrollHeight:u;i.parentData={element:r,left:l.left,top:l.top,width:c,height:p}}},resize:function(t){var i=e(this).data("resizable"),s=i.options,a=(i.containerSize,i.containerOffset),n=(i.size,i.position),r=i._aspectRatio||t.shiftKey,o={top:0,left:0},h=i.containerElement;h[0]!=document&&/static/.test(h.css("position"))&&(o=a),n.left<(i._helper?a.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-a.left:i.position.left-o.left),r&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=s.helper?a.left:0),n.top<(i._helper?a.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-a.top:i.position.top),r&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?a.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top;var l=Math.abs((i._helper?i.offset.left-o.left:i.offset.left-o.left)+i.sizeDiff.width),u=Math.abs((i._helper?i.offset.top-o.top:i.offset.top-a.top)+i.sizeDiff.height),d=i.containerElement.get(0)==i.element.parent().get(0),c=/relative|absolute/.test(i.containerElement.css("position"));d&&c&&(l-=i.parentData.left),l+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-l,r&&(i.size.height=i.size.width/i.aspectRatio)),u+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-u,r&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=e(this).data("resizable"),i=t.options,s=(t.position,t.containerOffset),a=t.containerPosition,n=t.containerElement,r=e(t.helper),o=r.offset(),h=r.outerWidth()-t.sizeDiff.width,l=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(n.css("position"))&&e(this).css({left:o.left-a.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(n.css("position"))&&e(this).css({left:o.left-a.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t){var i=e(this).data("resizable"),s=i.options,a=i.size,n=i.originalSize,r=i.originalPosition,o=i.axis;s._aspectRatio||t.shiftKey,s.grid="number"==typeof s.grid?[s.grid,s.grid]:s.grid;var h=Math.round((a.width-n.width)/(s.grid[0]||1))*(s.grid[0]||1),l=Math.round((a.height-n.height)/(s.grid[1]||1))*(s.grid[1]||1);/^(se|s|e)$/.test(o)?(i.size.width=n.width+h,i.size.height=n.height+l):/^(ne)$/.test(o)?(i.size.width=n.width+h,i.size.height=n.height+l,i.position.top=r.top-l):/^(sw)$/.test(o)?(i.size.width=n.width+h,i.size.height=n.height+l,i.position.left=r.left-h):(i.size.width=n.width+h,i.size.height=n.height+l,i.position.top=r.top-l,i.position.left=r.left-h)}});var t=function(e){return parseInt(e,10)||0},i=function(e){return!isNaN(parseInt(e,10))}})(jQuery);(function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var i;this.refresh=function(){i=e(t.options.filter,t.element[0]),i.addClass("ui-selectee"),i.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=i.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var s=this.options;this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().andSelf().each(function(){var s=e.data(this,"selectable-item");if(s){var a=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected");return s.$element.removeClass(a?"ui-unselecting":"ui-selected").addClass(a?"ui-selecting":"ui-unselecting"),s.unselecting=!a,s.selecting=a,s.selected=a,a?i._trigger("selecting",t,{selecting:s.element}):i._trigger("unselecting",t,{unselecting:s.element}),!1}})}},_mouseDrag:function(t){var i=this;if(this.dragged=!0,!this.options.disabled){var s=this.options,a=this.opos[0],n=this.opos[1],r=t.pageX,o=t.pageY;if(a>r){var h=r;r=a,a=h}if(n>o){var h=o;o=n,n=h}return this.helper.css({left:a,top:n,width:r-a,height:o-n}),this.selectees.each(function(){var h=e.data(this,"selectable-item");if(h&&h.element!=i.element[0]){var l=!1;"touch"==s.tolerance?l=!(h.left>r||a>h.right||h.top>o||n>h.bottom):"fit"==s.tolerance&&(l=h.left>a&&r>h.right&&h.top>n&&o>h.bottom),l?(h.selected&&(h.$element.removeClass("ui-selected"),h.selected=!1),h.unselecting&&(h.$element.removeClass("ui-unselecting"),h.unselecting=!1),h.selecting||(h.$element.addClass("ui-selecting"),h.selecting=!0,i._trigger("selecting",t,{selecting:h.element}))):(h.selecting&&((t.metaKey||t.ctrlKey)&&h.startselected?(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.$element.addClass("ui-selected"),h.selected=!0):(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.startselected&&(h.$element.addClass("ui-unselecting"),h.unselecting=!0),i._trigger("unselecting",t,{unselecting:h.element}))),h.selected&&(t.metaKey||t.ctrlKey||h.startselected||(h.$element.removeClass("ui-selected"),h.selected=!1,h.$element.addClass("ui-unselecting"),h.unselecting=!0,i._trigger("unselecting",t,{unselecting:h.element}))))}}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,this.options,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}})})(jQuery);(function(e){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var s=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var a=null;if(e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")==s?(a=e(this),!1):undefined}),e.data(t.target,s.widgetName+"-item")==s&&(a=e(t.target)),!a)return!1;if(this.options.handle&&!i){var n=!1;if(e(this.options.handle,a).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),!n)return!1}return this.currentItem=a,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,i,s){var a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",a.cursor)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(var n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,s=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed)),t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var a=this.items.length-1;a>=0;a--){var n=this.items[a],r=n.item[0],o=this._intersectsWithPointer(n);if(o&&n.instance===this.currentContainer&&r!=this.currentItem[0]&&this.placeholder[1==o?"next":"prev"]()[0]!=r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"==this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,a=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,a=s+this.helperProportions.height,n=e.left,r=n+e.width,o=e.top,h=o+e.height,l=this.offset.click.top,u=this.offset.click.left,c=s+l>o&&h>s+l&&t+u>n&&r>t+u;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:t+this.helperProportions.width/2>n&&r>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>o&&h>a-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),a=i&&s,n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return a?this.floating?r&&"right"==r||"down"==n?2:1:n&&("down"==n?2:1):!1},_intersectsWithSides:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),a=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"==n&&s||"left"==n&&!s:a&&("down"==a&&i||"up"==a&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i=[],s=[],a=this._connectWith();if(a&&t)for(var n=a.length-1;n>=0;n--)for(var r=e(a[n]),o=r.length-1;o>=0;o--){var h=e.data(r[o],this.widgetName);h&&h!=this&&!h.options.disabled&&s.push([e.isFunction(h.options.items)?h.options.items.call(h.element):e(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var n=s.length-1;n>=0;n--)s[n][0].each(function(){i.push(this)});return e(i)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i=this.items,s=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],a=this._connectWith();if(a&&this.ready)for(var n=a.length-1;n>=0;n--)for(var r=e(a[n]),o=r.length-1;o>=0;o--){var h=e.data(r[o],this.widgetName);h&&h!=this&&!h.options.disabled&&(s.push([e.isFunction(h.options.items)?h.options.items.call(h.element[0],t,{item:this.currentItem}):e(h.options.items,h.element),h]),this.containers.push(h))}for(var n=s.length-1;n>=0;n--)for(var l=s[n][1],u=s[n][0],o=0,c=u.length;c>o;o++){var d=e(u[o]);d.data(this.widgetName+"-item",l),i.push({item:d,instance:l,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var s=this.items[i];if(s.instance==this.currentContainer||!this.currentContainer||s.item[0]==this.currentItem[0]){var a=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item;t||(s.width=a.outerWidth(),s.height=a.outerHeight());var n=a.offset();s.left=n.left,s.top=n.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var n=this.containers[i].element.offset();this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var i=t.options;if(!i.placeholder||i.placeholder.constructor==String){var s=i.placeholder;i.placeholder={element:function(){var i=e(document.createElement(t.currentItem[0].nodeName)).addClass(s||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return s||(i.style.visibility="hidden"),i},update:function(e,a){(!s||i.forcePlaceholderSize)&&(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}}t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var i=null,s=null,a=this.containers.length-1;a>=0;a--)if(!e.contains(this.currentItem[0],this.containers[a].element[0]))if(this._intersectsWith(this.containers[a].containerCache)){if(i&&e.contains(this.containers[a].element[0],i.element[0]))continue;i=this.containers[a],s=a}else this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",t,this._uiHash(this)),this.containers[a].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1;else{for(var n=1e4,r=null,o=this.containers[s].floating?"left":"top",h=this.containers[s].floating?"width":"height",l=this.positionAbs[o]+this.offset.click[o],u=this.items.length-1;u>=0;u--)if(e.contains(this.containers[s].element[0],this.items[u].item[0])&&this.items[u].item[0]!=this.currentItem[0]){var c=this.items[u].item.offset()[o],d=!1;Math.abs(c-l)>Math.abs(c+this.items[u][h]-l)&&(d=!0,c+=this.items[u][h]),n>Math.abs(c-l)&&(n=Math.abs(c-l),r=this.items[u],this.direction=d?"up":"down")}if(!r&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[s],r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[s].element,!0),this._trigger("change",t,this._uiHash()),this.containers[s]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(""==s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var i=e(t.containment)[0],s=e(t.containment).offset(),a="hidden"!=e(i).css("overflow");this.containment=[s.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0)-this.margins.left,s.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0)-this.margins.top,s.left+(a?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,s.top+(a?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"==t?1:-1,a=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),n=/(html|body)/i.test(a[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:a.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:a.scrollLeft())*s}},_generatePosition:function(t){var i=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var n=t.pageX,r=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid)){var o=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1];r=this.containment?o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3]?o-this.offset.click.top<this.containment[1]?o+i.grid[1]:o-i.grid[1]:o:o;var h=this.originalPageX+Math.round((n-this.originalPageX)/i.grid[0])*i.grid[0];n=this.containment?h-this.offset.click.left<this.containment[0]||h-this.offset.click.left>this.containment[2]?h-this.offset.click.left<this.containment[0]?h+i.grid[0]:h-i.grid[0]:h:h}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a==this.counter&&this.refreshPositions(!s)})},_clear:function(t,i){this.reverting=!1;var s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var a in this._storedCSS)("auto"==this._storedCSS[a]||"static"==this._storedCSS[a])&&(this._storedCSS[a]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(i||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var a=this.containers.length-1;a>=0;a--)i||s.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[a])),this.containers[a].containerCache.over&&(s.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[a])),this.containers[a].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",t,this._uiHash());for(var a=0;s.length>a;a++)s[a].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(var a=0;s.length>a;a++)s[a].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})})(jQuery);(function(e){var t=0,i={},a={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var i=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t),a=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(a.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),a.collapsible||a.active!==!1&&null!=a.active||(a.active=0),0>a.active&&(a.active+=this.headers.length),this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(t){var a=e(this),s=a.attr("id"),n=a.next(),r=n.attr("id");s||(s=i+"-header-"+t,a.attr("id",s)),r||(r=i+"-panel-"+t,n.attr("id",r)),a.attr("aria-controls",r),n.attr("aria-labelledby",s)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(a.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),undefined):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),undefined)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,a=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:n=this.headers[(s+1)%a];break;case i.LEFT:case i.UP:n=this.headers[(s-1+a)%a];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:n=this.headers[0];break;case i.END:n=this.headers[a-1]}n&&(e(t.target).attr("tabIndex",-1),e(n).attr("tabIndex",0),n.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t,i,a=this.options.heightStyle,s=this.element.parent();"fill"===a?(e.support.minHeight||(i=s.css("overflow"),s.css("overflow","hidden")),t=s.height(),this.element.siblings(":visible").each(function(){var i=e(this),a=i.css("position");"absolute"!==a&&"fixed"!==a&&(t-=i.outerHeight(!0))}),i&&s.css("overflow",i),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===a&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={};t&&(e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._on(this.headers,i))},_eventHandler:function(t){var i=this.options,a=this.active,s=e(t.currentTarget),n=s[0]===a[0],r=n&&i.collapsible,o=r?e():s.next(),h=a.next(),l={oldHeader:a,oldPanel:h,newHeader:r?e():s,newPanel:o};t.preventDefault(),n&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=r?!1:this.headers.index(s),this.active=n?e():s,this._toggle(l),a.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),n||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,a=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=a,this.options.animate?this._animate(i,a,t):(a.hide(),i.show(),this._toggleComplete(t)),a.attr({"aria-expanded":"false","aria-hidden":"true"}),a.prev().attr("aria-selected","false"),i.length&&a.length?a.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,s){var n,r,o,h=this,l=0,u=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},c=u&&d.down||d,p=function(){h._toggleComplete(s)};return"number"==typeof c&&(o=c),"string"==typeof c&&(r=c),r=r||c.easing||d.easing,o=o||c.duration||d.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(i,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(a,{duration:o,easing:r,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?l+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-l),l=0)}}),undefined):t.animate(i,o,r,p):e.animate(a,o,r,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.uiBackCompat!==!1&&(function(e,t){e.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var i=t._create;t._create=function(){if(this.options.navigation){var t=this,a=this.element.find(this.options.header),s=a.next(),n=a.add(s).find("a").filter(this.options.navigationFilter)[0];n&&a.add(s).each(function(i){return e.contains(this,n)?(t.options.active=Math.floor(i/2),!1):undefined})}i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var i=t._create,a=t._setOption;e.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),i.call(this)},_setOption:function(e){("autoHeight"===e||"clearStyle"===e||"fillSpace"===e)&&(this.options.heightStyle=this._mergeHeightStyle()),a.apply(this,arguments)},_mergeHeightStyle:function(){var e=this.options;return e.fillSpace?"fill":e.clearStyle?"content":e.autoHeight?"auto":undefined}})}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var i=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){t.activate=t._activate;var i=t._findActive;t._findActive=function(e){return-1===e&&(e=!1),e&&"number"!=typeof e&&(e=this.headers.index(this.headers.filter(e)),-1===e&&(e=!1)),i.call(this,e)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(e,t){e.extend(t.options,{change:null,changestart:null});var i=t._trigger;t._trigger=function(e,t,a){var s=i.apply(this,arguments);return s?("beforeActivate"===e?s=i.call(this,"changestart",t,{oldHeader:a.oldHeader,oldContent:a.oldPanel,newHeader:a.newHeader,newContent:a.newPanel}):"activate"===e&&(s=i.call(this,"change",t,{oldHeader:a.oldHeader,oldContent:a.oldPanel,newHeader:a.newHeader,newContent:a.newPanel})),s):!1}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{animate:null,animated:"slide"});var i=t._create;t._create=function(){var e=this.options;null===e.animate&&(e.animate=e.animated?"slide"===e.animated?300:"bounceslide"===e.animated?{duration:200,down:{easing:"easeOutBounce",duration:1e3}}:e.animated:!1),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype))})(jQuery);(function(e){var t=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,a;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,a=!0,i=!0,undefined;t=!1,a=!1,i=!1;var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:t=!0,this._move("previousPage",s);break;case n.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case n.UP:t=!0,this._keyEvent("previous",s);break;case n.DOWN:t=!0,this._keyEvent("next",s);break;case n.ENTER:case n.NUMPAD_ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case n.TAB:this.menu.active&&this.menu.select(s);break;case n.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(a){if(t)return t=!1,a.preventDefault(),undefined;if(!i){var s=e.ui.keyCode;switch(a.keyCode){case s.PAGE_UP:this._move("previousPage",a);break;case s.PAGE_DOWN:this._move("nextPage",a);break;case s.UP:this._keyEvent("previous",a);break;case s.DOWN:this._keyEvent("next",a)}}},input:function(e){return a?(a=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(a){a.target===t.element[0]||a.target===i||e.contains(i,a.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),undefined;var a=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:a})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(a.value):this.liveRegion.text(a.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),a=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=a,this._delay(function(){this.previous=a,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var t,i,a=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,a){a(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):undefined},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,i=++t;return function(a){i===t&&e.__response(a),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var a=this;e.each(i,function(e,i){a._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[e](t),undefined):(this.search(null,t),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var a=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return a.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})})(jQuery);(function(e){var t,i,a,s,n="ui-button ui-widget ui-state-default ui-corner-all",r="ui-state-hover ui-state-active ",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},l=function(t){var i=t.name,a=t.form,s=e([]);return i&&(s=a?e(a).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var r=this,o=this.options,u="checkbox"===this.type||"radio"===this.type,d=u?"":"ui-state-active",c="ui-state-focus";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(n).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){r.buttonElement.addClass(c)}).bind("blur"+this.eventNamespace,function(){r.buttonElement.removeClass(c)}),u&&(this.element.bind("change"+this.eventNamespace,function(){s||r.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){o.disabled||(s=!1,i=e.pageX,a=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){o.disabled||(i!==e.pageX||a!==e.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled||s?!1:(e(this).toggleClass("ui-state-active"),r.buttonElement.attr("aria-pressed",r.element[0].checked),undefined)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled||s)return!1;e(this).addClass("ui-state-active"),r.buttonElement.attr("aria-pressed","true");var t=r.element[0];l(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,r.document.one("mouseup",function(){t=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:(e(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(t){return o.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(n+" "+r+" "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?l(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var t=this.buttonElement.removeClass(o),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),a=this.options.icons,s=a.primary&&a.secondary,n=[];a.primary||a.secondary?(this.options.text&&n.push("ui-button-text-icon"+(s?"s":a.primary?"-primary":"-secondary")),a.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+a.primary+"'></span>"),a.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+a.secondary+"'></span>"),this.options.text||(n.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):n.push("ui-button-text-only"),t.addClass(n.join(" "))}}),e.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var i in t)(null==t[i]||t[i]==undefined)&&(e[i]=t[i]);return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var i=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var i=$(e);t.append=$([]),t.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,a){t.settings[i]=a}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i=this._get(t,"appendText"),a=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[a?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var s=this._get(t,"showOn");if(("focus"==s||"both"==s)&&e.focus(this._showDatepicker),"button"==s||"both"==s){var n=this._get(t,"buttonText"),r=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:r,alt:n,title:n}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==r?n:$("<img/>").attr({src:r,alt:n,title:n}))),e[a?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var a=function(e){for(var t=0,i=0,a=0;e.length>a;a++)e[a].length>t&&(t=e[a].length,i=a);return i};t.setMonth(a(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(a(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=$(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,a){t.settings[i]=a}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,a,s){var n=this._dialogInst;if(!n){this.uuid+=1;var r="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+r+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},$.data(this._dialogInput[0],PROP_NAME,n)}if(extendRemove(n.settings,a||{}),t=t&&t.constructor==Date?this._formatDate(n,t):t,this._dialogInput.val(t),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,!this._pos){var o=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+l,h/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,n),this},_destroyDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var a=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==a?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==a||"span"==a)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var a=e.nodeName.toLowerCase();if("input"==a)e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==a||"span"==a){var s=t.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var a=e.nodeName.toLowerCase();if("input"==a)e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==a||"span"==a){var s=t.children("."+this._inlineClass);s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var a=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):a?"all"==t?$.extend({},a.settings):this._get(a,t):null;var s=t||{};if("string"==typeof t&&(s={},s[t]=i),a){this._curInst==a&&this._hideDatepicker();var n=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");extendRemove(a.settings,s),null!==r&&s.dateFormat!==undefined&&s.minDate===undefined&&(a.settings.minDate=this._formatDate(a,r)),null!==o&&s.dateFormat!==undefined&&s.maxDate===undefined&&(a.settings.maxDate=this._formatDate(a,o)),this._attachments($(e),a),this._autoSize(a),this._setDate(a,n),this._updateAlternate(a),this._updateDatepicker(a)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),i=!0,a=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var s=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);s[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,s[0]);var n=$.datepicker._get(t,"onSelect");if(n){var r=$.datepicker._formatDate(t);n.apply(t.input?t.input[0]:null,[r,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,a?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,a?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),a=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">a||!i||i.indexOf(a)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));i&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(a){$.datepicker.log(a)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(t,"beforeShow"),a=i?i.apply(e,[e,t]):{};if(a!==!1){extendRemove(t.settings,a),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var s=!1;$(e).parents().each(function(){return s|="fixed"==$(this).css("position"),!s});var n={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),n=$.datepicker._checkOffset(t,n,s),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":s?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),!t.inline){var r=$.datepicker._get(t,"showAnim"),o=$.datepicker._get(t,"duration"),h=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var i=$.datepicker._getBorders(t.dpDiv);e.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[r]||$.effects[r])?t.dpDiv.show(r,$.datepicker._get(t,"showOptions"),o,h):t.dpDiv[r||"show"](r?o:null,h),r&&o||h(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i=e.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a=this._getNumberOfMonths(e),s=a[1],n=17;if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",n*s+"em"),e.dpDiv[(1!=a[0]||1!=a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var r=e.yearshtml;setTimeout(function(){r===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),r=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var a=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),n=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,o=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),h=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?a-n:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+r?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+a>o&&o>a?Math.abs(t.left+a-o):0),t.top-=Math.min(t.top,t.top+s>h&&h>s?Math.abs(s+r):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];var a=$(e).offset();return[a.left,a.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var i=this._get(t,"showAnim"),a=this._get(t,"duration"),s=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[i]||$.effects[i])?t.dpDiv.hide(i,$.datepicker._get(t,"showOptions"),a,s):t.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?a:null,s),i||s(),this._datepickerShowing=!1;var n=this._get(t,"onClose");n&&n.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),i=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var a=$(e),s=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(s,t+("M"==i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){var t=$(e),i=this._getInst(t[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var a=new Date;i.selectedDay=a.getDate(),i.drawMonth=i.selectedMonth=a.getMonth(),i.drawYear=i.selectedYear=a.getFullYear()}this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var a=$(e),s=this._getInst(a[0]);s["selected"+("M"==i?"Month":"Year")]=s["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(a)},_selectDay:function(e,t,i,a){var s=$(e);if(!$(a).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(s[0])){var n=this._getInst(s[0]);n.selectedDay=n.currentDay=$("a",a).html(),n.selectedMonth=n.currentMonth=t,n.selectedYear=n.currentYear=i,this._selectDate(e,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var i=$(e),a=this._getInst(i[0]);t=null!=t?t:this._formatDate(a),a.input&&a.input.val(t),this._updateAlternate(a);var s=this._get(a,"onSelect");s?s.apply(a.input?a.input[0]:null,[t,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),a=this._getDate(e),s=this.formatDate(i,a,this._getFormatConfig(e));$(t).each(function(){$(this).val(s)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(e,t,i){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?""+t:t+"",""==t)return null;var a=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10);for(var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,h=-1,l=-1,u=-1,d=-1,c=!1,p=function(t){var i=e.length>y+1&&e.charAt(y+1)==t;return i&&y++,i},m=function(e){var i=p(e),a="@"==e?14:"!"==e?20:"y"==e&&i?4:"o"==e?3:2,s=RegExp("^\\d{1,"+a+"}"),n=t.substring(v).match(s);if(!n)throw"Missing number at position "+v;return v+=n[0].length,parseInt(n[0],10)},f=function(e,i,a){var s=$.map(p(e)?a:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),n=-1;if($.each(s,function(e,i){var a=i[1];return t.substr(v,a.length).toLowerCase()==a.toLowerCase()?(n=i[0],v+=a.length,!1):undefined}),-1!=n)return n+1;throw"Unknown name at position "+v},g=function(){if(t.charAt(v)!=e.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;e.length>y;y++)if(c)"'"!=e.charAt(y)||p("'")?g():c=!1;else switch(e.charAt(y)){case"d":u=m("d");break;case"D":f("D",s,n);break;case"o":d=m("o");break;case"m":l=m("m");break;case"M":l=f("M",r,o);break;case"y":h=m("y");break;case"@":var b=new Date(m("@"));h=b.getFullYear(),l=b.getMonth()+1,u=b.getDate();break;case"!":var b=new Date((m("!")-this._ticksTo1970)/1e4);h=b.getFullYear(),l=b.getMonth()+1,u=b.getDate();break;case"'":p("'")?g():c=!0;break;default:g()}if(t.length>v){var _=t.substr(v);if(!/^\s+/.test(_))throw"Extra/unparsed characters found in date: "+_}if(-1==h?h=(new Date).getFullYear():100>h&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a>=h?0:-100)),d>-1)for(l=1,u=d;;){var k=this._getDaysInMonth(h,l-1);if(k>=u)break;l++,u-=k}var b=this._daylightSavingAdjust(new Date(h,l-1,u));if(b.getFullYear()!=h||b.getMonth()+1!=l||b.getDate()!=u)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,n=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,o=function(t){var i=e.length>c+1&&e.charAt(c+1)==t;return i&&c++,i},h=function(e,t,i){var a=""+t;if(o(e))for(;i>a.length;)a="0"+a;return a},l=function(e,t,i,a){return o(e)?a[t]:i[t]},u="",d=!1;if(t)for(var c=0;e.length>c;c++)if(d)"'"!=e.charAt(c)||o("'")?u+=e.charAt(c):d=!1;else switch(e.charAt(c)){case"d":u+=h("d",t.getDate(),2);break;case"D":u+=l("D",t.getDay(),a,s);break;case"o":u+=h("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",t.getMonth()+1,2);break;case"M":u+=l("M",t.getMonth(),n,r);break;case"y":u+=o("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":o("'")?u+="'":d=!0;break;default:u+=e.charAt(c)}return u},_possibleChars:function(e){for(var t="",i=!1,a=function(t){var i=e.length>s+1&&e.charAt(s+1)==t;return i&&s++,i},s=0;e.length>s;s++)if(i)"'"!=e.charAt(s)||a("'")?t+=e.charAt(s):i=!1;else switch(e.charAt(s)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":a("'")?t+="'":i=!0;break;default:t+=e.charAt(s)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,a,s=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null;i=a=this._getDefaultDate(e);var r=this._getFormatConfig(e);try{i=this.parseDate(s,n,r)||a}catch(o){this.log(o),n=t?"":n}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=n?i.getDate():0,e.currentMonth=n?i.getMonth():0,e.currentYear=n?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(i){}for(var a=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,s=a.getFullYear(),n=a.getMonth(),r=a.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=o.exec(t);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":n+=parseInt(h[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,n));break;case"y":case"Y":s+=parseInt(h[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(s,n))}h=o.exec(t)}return new Date(s,n,r)},n=null==t||""===t?i:"string"==typeof t?s(t):"number"==typeof t?isNaN(t)?i:a(t):new Date(t.getTime());return n=n&&"Invalid Date"==""+n?i:n,n&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s==e.selectedMonth&&n==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),a=this._get(e,"showButtonPanel"),s=this._get(e,"hideIfNoPrevNext"),n=this._get(e,"navigationAsDateFormat"),r=this._getNumberOfMonths(e),o=this._get(e,"showCurrentAtPos"),h=this._get(e,"stepMonths"),l=1!=r[0]||1!=r[1],u=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(e,"min"),c=this._getMinMaxDate(e,"max"),p=e.drawMonth-o,m=e.drawYear;if(0>p&&(p+=12,m--),c){var f=this._daylightSavingAdjust(new Date(c.getFullYear(),c.getMonth()-r[0]*r[1]+1,c.getDate()));for(f=d&&d>f?d:f;this._daylightSavingAdjust(new Date(m,p,1))>f;)p--,0>p&&(p=11,m--)}e.drawMonth=p,e.drawYear=m;var g=this._get(e,"prevText");g=n?this.formatDate(g,this._daylightSavingAdjust(new Date(m,p-h,1)),this._getFormatConfig(e)):g;var v=this._canAdjustMonth(e,-1,m,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>":s?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>",y=this._get(e,"nextText");y=n?this.formatDate(y,this._daylightSavingAdjust(new Date(m,p+h,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,m,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>":s?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>",_=this._get(e,"currentText"),k=this._get(e,"gotoCurrent")&&e.currentDay?u:t;_=n?this.formatDate(_,k,this._getFormatConfig(e)):_;var x=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",D=a?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?x:"")+(this._isInRange(e,k)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+_+"</button>":"")+(i?"":x)+"</div>":"",w=parseInt(this._get(e,"firstDay"),10);w=isNaN(w)?0:w;var T=this._get(e,"showWeek"),S=this._get(e,"dayNames");this._get(e,"dayNamesShort");var M=this._get(e,"dayNamesMin"),N=this._get(e,"monthNames"),C=this._get(e,"monthNamesShort"),A=this._get(e,"beforeShowDay"),P=this._get(e,"showOtherMonths"),I=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek")||this.iso8601Week;for(var F=this._getDefaultDate(e),j="",H=0;r[0]>H;H++){var E="";this.maxRows=4;for(var z=0;r[1]>z;z++){var L=this._daylightSavingAdjust(new Date(m,p,e.selectedDay)),O=" ui-corner-all",R="";if(l){if(R+='<div class="ui-datepicker-group',r[1]>1)switch(z){case 0:R+=" ui-datepicker-group-first",O=" ui-corner-"+(i?"right":"left");break;case r[1]-1:R+=" ui-datepicker-group-last",O=" ui-corner-"+(i?"left":"right");break;default:R+=" ui-datepicker-group-middle",O=""}R+='">'}R+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+O+'">'+(/all|left/.test(O)&&0==H?i?b:v:"")+(/all|right/.test(O)&&0==H?i?v:b:"")+this._generateMonthYearHeader(e,p,m,d,c,H>0||z>0,N,C)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var W=T?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",Y=0;7>Y;Y++){var J=(Y+w)%7;W+="<th"+((Y+w+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+S[J]+'">'+M[J]+"</span></th>"}R+=W+"</tr></thead><tbody>";var Q=this._getDaysInMonth(m,p);m==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,Q));var B=(this._getFirstDayOfMonth(m,p)-w+7)%7,K=Math.ceil((B+Q)/7),V=l?this.maxRows>K?this.maxRows:K:K;this.maxRows=V;for(var U=this._daylightSavingAdjust(new Date(m,p,1-B)),G=0;V>G;G++){R+="<tr>";for(var q=T?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(U)+"</td>":"",Y=0;7>Y;Y++){var X=A?A.apply(e.input?e.input[0]:null,[U]):[!0,""],Z=U.getMonth()!=p,et=Z&&!I||!X[0]||d&&d>U||c&&U>c;q+='<td class="'+((Y+w+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(U.getTime()==L.getTime()&&p==e.selectedMonth&&e._keyEvent||F.getTime()==U.getTime()&&F.getTime()==L.getTime()?" "+this._dayOverClass:"")+(et?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!P?"":" "+X[1]+(U.getTime()==u.getTime()?" "+this._currentClass:"")+(U.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!P||!X[2]?"":' title="'+X[2]+'"')+(et?"":' data-handler="selectDay" data-event="click" data-month="'+U.getMonth()+'" data-year="'+U.getFullYear()+'"')+">"+(Z&&!P?"&#xa0;":et?'<span class="ui-state-default">'+U.getDate()+"</span>":'<a class="ui-state-default'+(U.getTime()==t.getTime()?" ui-state-highlight":"")+(U.getTime()==u.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+U.getDate()+"</a>")+"</td>",U.setDate(U.getDate()+1),U=this._daylightSavingAdjust(U)
}R+=q+"</tr>"}p++,p>11&&(p=0,m++),R+="</tbody></table>"+(l?"</div>"+(r[0]>0&&z==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),E+=R}j+=E}return j+=D+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,j},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var h=this._get(e,"changeMonth"),l=this._get(e,"changeYear"),u=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',c="";if(n||!h)c+='<span class="ui-datepicker-month">'+r[t]+"</span>";else{var p=a&&a.getFullYear()==i,m=s&&s.getFullYear()==i;c+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var f=0;12>f;f++)(!p||f>=a.getMonth())&&(!m||s.getMonth()>=f)&&(c+='<option value="'+f+'"'+(f==t?' selected="selected"':"")+">"+o[f]+"</option>");c+="</select>"}if(u||(d+=c+(!n&&h&&l?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!l)d+='<span class="ui-datepicker-year">'+i+"</span>";else{var g=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},b=y(g[0]),_=Math.max(b,y(g[1]||""));for(b=a?Math.max(b,a.getFullYear()):b,_=s?Math.min(_,s.getFullYear()):_,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';_>=b;b++)e.yearshtml+='<option value="'+b+'"'+(b==i?' selected="selected"':"")+">"+b+"</option>";e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}return d+=this._get(e,"yearSuffix"),u&&(d+=(!n&&h&&l?"":"&#xa0;")+c),d+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"==i?t:0),s=e.drawMonth+("M"==i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+("D"==i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return s=a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max");return(!i||t.getTime()>=i.getTime())&&(!a||t.getTime()<=a.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$})(jQuery);(function(e,t){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",a={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var a,s,n,r,o,h=this,l=this.options,u=l.title||"&#160;";a=(this.uiDialog=e("<div>")).addClass(i+l.dialogClass).css({display:"none",outline:0,zIndex:l.zIndex}).attr("tabIndex",-1).keydown(function(t){l.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE&&(h.close(t),t.preventDefault())}).mousedown(function(e){h.moveToTop(!1,e)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(a),s=(this.uiDialogTitlebar=e("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){a.focus()}).prependTo(a),n=e("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(e){e.preventDefault(),h.close(e)}).appendTo(s),(this.uiDialogTitlebarCloseText=e("<span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(n),r=e("<span>").uniqueId().addClass("ui-dialog-title").html(u).prependTo(s),o=(this.uiDialogButtonPane=e("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=e("<div>")).addClass("ui-dialog-buttonset").appendTo(o),a.attr({role:"dialog","aria-labelledby":r.attr("id")}),s.find("*").add(s).disableSelection(),this._hoverable(n),this._focusable(n),l.draggable&&e.fn.draggable&&this._makeDraggable(),l.resizable&&e.fn.resizable&&this._makeResizable(),this._createButtons(l.buttons),this._isOpen=!1,e.fn.bgiframe&&a.bgiframe(),this._on(a,{keydown:function(i){if(l.modal&&i.keyCode===e.ui.keyCode.TAB){var s=e(":tabbable",a),n=s.filter(":first"),r=s.filter(":last");return i.target!==r[0]||i.shiftKey?i.target===n[0]&&i.shiftKey?(r.focus(1),!1):t:(n.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var i,a,s=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),e.ui.dialog.overlay.resize(),this.options.modal&&(i=0,e(".ui-dialog").each(function(){this!==s.uiDialog[0]&&(a=e(this).css("z-index"),isNaN(a)||(i=Math.max(i,a)))}),e.ui.dialog.maxZ=i),this},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var a,s=this.options;return s.modal&&!t||!s.stack&&!s.modal?this._trigger("focus",i):(s.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=s.zIndex),this.overlay&&(e.ui.dialog.maxZ+=1,e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ,this.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ)),a={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},e.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",e.ui.dialog.maxZ),this.element.attr(a),this._trigger("focus",i),this)},open:function(){if(!this._isOpen){var t,i=this.options,a=this.uiDialog;return this._size(),this._position(i.position),a.show(i.show),this.overlay=i.modal?new e.ui.dialog.overlay(this):null,this.moveToTop(!0),t=this.element.find(":tabbable"),t.length||(t=this.uiDialogButtonPane.find(":tabbable"),t.length||(t=a)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var i=this,a=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(a=!0)}),a?(e.each(t,function(t,a){var s,n;a=e.isFunction(a)?{click:a,text:t}:a,a=e.extend({type:"button"},a),n=a.click,a.click=function(){n.apply(i.element[0],arguments)},s=e("<button></button>",a).appendTo(i.uiButtonSet),e.fn.button&&s.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,s){e(this).addClass("ui-dialog-dragging"),i._trigger("dragStart",a,t(s))},drag:function(e,a){i._trigger("drag",e,t(a))},stop:function(s,n){a.position=[n.position.left-i.document.scrollLeft(),n.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._trigger("dragStop",s,t(n)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}i=i===t?this.options.resizable:i;var s=this,n=this.options,r=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(t,i){e(this).addClass("ui-dialog-resizing"),s._trigger("resizeStart",t,a(i))},resize:function(e,t){s._trigger("resize",e,a(t))},stop:function(t,i){e(this).removeClass("ui-dialog-resizing"),n.height=e(this).height(),n.width=e(this).width(),s._trigger("resizeStop",t,a(i)),e.ui.dialog.overlay.resize()}}).css("position",r).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var i,a=[],s=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(a=t.split?t.split(" "):[t[0],t[1]],1===a.length&&(a[1]=a[0]),e.each(["left","top"],function(e,t){+a[e]===a[e]&&(s[e]=a[e],a[e]=t)}),t={my:a[0]+(0>s[0]?s[0]:"+"+s[0])+" "+a[1]+(0>s[1]?s[1]:"+"+s[1]),at:a.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.position(t),i||this.uiDialog.hide()},_setOptions:function(t){var i=this,n={},r=!1;e.each(t,function(e,t){i._setOption(e,t),e in a&&(r=!0),e in s&&(n[e]=t)}),r&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,a){var s,n,r=this.uiDialog;switch(t){case"buttons":this._createButtons(a);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+a);break;case"dialogClass":r.removeClass(this.options.dialogClass).addClass(i+a);break;case"disabled":a?r.addClass("ui-dialog-disabled"):r.removeClass("ui-dialog-disabled");break;case"draggable":s=r.is(":data(draggable)"),s&&!a&&r.draggable("destroy"),!s&&a&&this._makeDraggable();break;case"position":this._position(a);break;case"resizable":n=r.is(":data(resizable)"),n&&!a&&r.resizable("destroy"),n&&"string"==typeof a&&r.resizable("option","handles",a),n||a===!1||this._makeResizable(a);break;case"title":e(".ui-dialog-title",this.uiDialogTitlebar).html(""+(a||"&#160;"))}this._super(t,a)},_size:function(){var t,i,a,s=this.options,n=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),i=Math.max(0,s.minHeight-t),"auto"===s.height?e.support.minHeight?this.element.css({minHeight:i,height:"auto"}):(this.uiDialog.show(),a=this.element.css("height","auto").height(),n||this.uiDialog.hide(),this.element.height(Math.max(a,i))):this.element.height(Math.max(s.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(i){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(i){return e(i.target).zIndex()<e.ui.dialog.overlay.maxZ?!1:t})},1),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var a=this.oldInstances.pop()||e("<div>").addClass("ui-widget-overlay");return e(document).bind("keydown.dialog-overlay",function(t){var s=e.ui.dialog.overlay.instances;0!==s.length&&s[s.length-1]===a&&i.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE&&(i.close(t),t.preventDefault())}),a.appendTo(document.body).css({width:this.width(),height:this.height()}),e.fn.bgiframe&&a.bgiframe(),this.instances.push(a),a},destroy:function(t){var i=e.inArray(t,this.instances),a=0;-1!==i&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),e.each(this.instances,function(){a=Math.max(a,this.css("z-index"))}),this.maxZ=a},height:function(){var t,i;return e.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),i>t?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,i;return e.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),i>t?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(e){var t=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(i){var a=e(i.target).closest(".ui-menu-item");!t&&a.not(".ui-state-disabled").length&&(t=!0,this.select(i),a.has(".ui-menu").length?this.expand(i):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(i){e(i.target).closest(".ui-menu").length||this.collapseAll(i),t=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var a,s,n,r,o,h=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:h=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),n===s?r=!0:n=s+n,o=RegExp("^"+i(n),"i"),a=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())}),a=r&&-1!==a.index(this.active.next())?this.active.nextAll(".ui-menu-item"):a,a.length||(n=String.fromCharCode(t.keyCode),o=RegExp("^"+i(n),"i"),a=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())})),a.length?(this.focus(t,a),a.length>1?(this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,a=this.element.find(this.options.menus);a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),a=t.prev("a"),s=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);a.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",a.attr("id"))}),t=a.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var i,a;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),a=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",a.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,a,s,n,r,o;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-a,n=this.activeMenu.scrollTop(),r=this.activeMenu.height(),o=t.height(),0>s?this.activeMenu.scrollTop(n+s):s+o>r&&this.activeMenu.scrollTop(n+s-r+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var a=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));a.length||(a=this.element),this._close(a),this.blur(t),this.activeMenu=a},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var a;this.active&&(a="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),a&&a.length&&this.active||(a=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,a)},nextPage:function(t){var i,a,s;return this.active?(this.isLastItem()||(this._hasScroll()?(a=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-a-s}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(t),undefined)},previousPage:function(t){var i,a,s;return this.active?(this.isFirstItem()||(this._hasScroll()?(a=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-a+s>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(t),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})})(jQuery);(function(e,t){e.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(e,t)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}})})(jQuery);(function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i,s,a=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(a.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),a.range&&(a.range===!0&&(a.values||(a.values=[this._valueMin(),this._valueMin()]),a.values.length&&2!==a.values.length&&(a.values=[a.values[0],a.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:""))),s=a.values&&a.values.length||1,i=n.length;s>i;i++)o.push(r);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).mouseenter(function(){a.disabled||e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}).focus(function(){a.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(i){var s,a,n,r,o=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),s=this._start(i,o),s===!1))return}switch(r=this.options.step,a=n=this.options.values&&this.options.values.length?this.values(o):this.value(),i.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(a+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(a-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(a===this._valueMax())return;n=this._trimAlignValue(a+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(a===this._valueMin())return;n=this._trimAlignValue(a-r)}this._slide(i,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,a,n,r,o,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),a=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));a>i&&(a=i,n=e(this),r=t)}),d.range===!0&&this.values(1)===d.min&&(r+=1,n=e(this.handles[r])),o=this._start(t,r),o===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,n.addClass("ui-state-active").focus(),h=n.offset(),l=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-n.width()/2,top:t.pageY-h.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,a,n;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),a=this._valueMax()-this._valueMin(),n=this._valueMin()+s*a,this._trimAlignValue(n)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,a,n;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(a=this.values(),a[t]=i,n=this._trigger("slide",e,{handle:this.handles[t],value:i,values:a}),s=this.values(t?0:1),n!==!1&&this.values(t,i,!0))):i!==this.value()&&(n=this._trigger("slide",e,{handle:this.handles[t],value:i}),n!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(t,i){var s,a,n;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),undefined;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,a=arguments[0],n=0;s.length>n;n+=1)s[n]=this._trimAlignValue(a[n]),this._change(null,n);this._refreshValue()},_setOption:function(t,i){var s,a=0;switch(e.isArray(this.options.values)&&(a=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;a>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,s,a,n,r=this.options.range,o=this.options,h=this,l=this._animateOff?!1:o.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,o.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},o.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:o.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},o.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:o.animate}))),t=i}):(s=this.value(),a=this._valueMin(),n=this._valueMax(),i=n!==a?100*((s-a)/(n-a)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,o.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},o.animate),"max"===r&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:o.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},o.animate),"max"===r&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:o.animate}))}})})(jQuery);(function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var a=i.attr(s);void 0!==a&&a.length&&(t[s]=a)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._spin((e||1)*this.options.step)},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._spin((e||1)*-this.options.step)},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(t(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery);(function(e,t){function i(){return++a}function s(e){return e.hash.length>1&&e.href.replace(n,"")===location.href.replace(n,"").replace(/\s/g,"%20")}var a=0,n=/#.*$/;e.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var i=this,s=this.options,a=s.active,n=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",s.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===a&&(n&&this.tabs.each(function(i,s){return e(s).attr("aria-controls")===n?(a=i,!1):t}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===a||-1===a)&&(a=this.tabs.length?0:!1)),a!==!1&&(a=this.tabs.index(this.tabs.eq(a)),-1===a&&(a=s.collapsible?!1:0)),s.active=a,!s.collapsible&&s.active===!1&&this.anchors.length&&(s.active=0),e.isArray(s.disabled)&&(s.disabled=e.unique(s.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return i.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(this.options.active):e(),this._refresh(),this.active.length&&this.load(s.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(i){var s=e(this.document[0].activeElement).closest("li"),a=this.tabs.index(s),n=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:a++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,a--;break;case e.ui.keyCode.END:a=this.anchors.length-1;break;case e.ui.keyCode.HOME:a=0;break;case e.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(a),t;case e.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(a===this.options.active?!1:a),t;default:return}i.preventDefault(),clearTimeout(this.activating),a=this._focusNextTab(a,n),i.ctrlKey||(s.attr("aria-selected","false"),this.tabs.eq(a).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",a)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):t},_findNextTab:function(t,i){function s(){return t>a&&(t=0),0>t&&(t=a),t}for(var a=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,i){return"active"===e?(this._activate(i),t):"disabled"===e?(this._setupDisabled(i),t):(this._super(e,i),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(i),"heightStyle"===e&&this._setupHeightStyle(i),t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,a){var n,r,o,h=e(a).uniqueId().attr("id"),l=e(a).closest("li"),u=l.attr("aria-controls");s(a)?(n=a.hash,r=t.element.find(t._sanitizeSelector(n))):(o=t._tabId(l),n="#"+o,r=t.element.find(n),r.length||(r=t._createPanel(o),r.insertAfter(t.panels[i-1]||t.tablist)),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":n.substring(1),"aria-labelledby":h}),r.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s,a=this.element.parent();"fill"===t?(e.support.minHeight||(s=a.css("overflow"),a.css("overflow","hidden")),i=a.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),s&&a.css("overflow",s),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,a=e(t.currentTarget),n=a.closest("li"),r=n[0]===s[0],o=r&&i.collapsible,h=o?e():this._getPanelForTab(n),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:o?e():n,newPanel:h};t.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=o?!1:this.tabs.index(n),this.active=r?e():n,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(n),t),this._toggle(t,u))},_toggle:function(t,i){function s(){n.running=!1,n._trigger("activate",t,i)}function a(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,s):(r.show(),s())}var n=this,r=i.newPanel,o=i.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),a()),o.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&o.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;s!==!1&&(i===t?s=!1:(i=this._getIndex(i),s=e.isArray(s)?e.map(s,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(s!==!0){if(i===t)s=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,s))return;s=e.isArray(s)?e.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(t,i){t=this._getIndex(t);var a=this,n=this.tabs.eq(t),r=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),h={tab:n,panel:o};s(r[0])||(this.xhr=e.ajax(this._ajaxSettings(r,i,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){o.html(e),a._trigger("load",i,h)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&a.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===a.xhr&&delete a.xhr},1)})))},_ajaxSettings:function(t,i,s){var a=this;return{url:t.attr("href"),beforeSend:function(t,n){return a._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:n},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.uiBackCompat!==!1&&(e.ui.tabs.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},e.widget("ui.tabs",e.ui.tabs,{url:function(e,t){this.anchors.eq(e).attr("href",t)}}),e.widget("ui.tabs",e.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var i=this;this._on({tabsbeforeload:function(s,a){return e.data(a.tab[0],"cache.tabs")?(s.preventDefault(),t):(a.jqXHR.success(function(){i.options.cache&&e.data(a.tab[0],"cache.tabs",!0)}),t)}})},_ajaxSettings:function(t,i,s){var a=this.options.ajaxOptions;return e.extend({},a,{error:function(e,t){try{a.error(e,t,s.tab.closest("li").index(),s.tab[0])}catch(i){}}},this._superApply(arguments))},_setOption:function(e,t){"cache"===e&&t===!1&&this.anchors.removeData("cache.tabs"),this._super(e,t)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(e){this.anchors.eq(e).removeData("cache.tabs"),this._superApply(arguments)}}),e.widget("ui.tabs",e.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),e.widget("ui.tabs",e.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(e,t){if(e.target===this.element[0]&&this.options.spinner){var i=t.tab.find("span"),s=i.html();i.html(this.options.spinner),t.jqXHR.complete(function(){i.html(s)})}}})}}),e.widget("ui.tabs",e.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var i,s=this.options;(t&&s.disabled===!0||e.isArray(s.disabled)&&-1!==e.inArray(t,s.disabled))&&(i=!0),this._superApply(arguments),i&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var i,s=this.options;(t&&s.disabled===!1||e.isArray(s.disabled)&&-1===e.inArray(t,s.disabled))&&(i=!0),this._superApply(arguments),i&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),e.widget("ui.tabs",e.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(i,s,a){a===t&&(a=this.anchors.length);var n,r,o=this.options,h=e(o.tabTemplate.replace(/#\{href\}/g,i).replace(/#\{label\}/g,s)),l=i.indexOf("#")?this._tabId(h):i.replace("#","");return h.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),h.attr("aria-controls",l),n=a>=this.tabs.length,r=this.element.find("#"+l),r.length||(r=this._createPanel(l),n?a>0?r.insertAfter(this.panels.eq(-1)):r.appendTo(this.element):r.insertBefore(this.panels[a])),r.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),n?h.appendTo(this.tablist):h.insertBefore(this.tabs[a]),o.disabled=e.map(o.disabled,function(e){return e>=a?++e:e}),this.refresh(),1===this.tabs.length&&o.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[a],this.panels[a])),this},remove:function(t){t=this._getIndex(t);var i=this.options,s=this.tabs.eq(t).remove(),a=this._getPanelForTab(s).remove();return s.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(t+(this.anchors.length>t+1?1:-1)),i.disabled=e.map(e.grep(i.disabled,function(e){return e!==t}),function(e){return e>=t?--e:e}),this.refresh(),this._trigger("remove",null,this._ui(s.find("a")[0],a[0])),this}}),e.widget("ui.tabs",e.ui.tabs,{length:function(){return this.anchors.length}}),e.widget("ui.tabs",e.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var s=t.is("li")?t.find("a[href]"):t;return s=s[0],e(s).closest("li").attr("aria-controls")||s.title&&s.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+i()}}),e.widget("ui.tabs",e.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return e(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),e.widget("ui.tabs",e.ui.tabs,{_create:function(){var e=this.options;null===e.active&&e.selected!==t&&(e.active=-1===e.selected?!1:e.selected),this._super(),e.selected=e.active,e.selected===!1&&(e.selected=-1)},_setOption:function(e,t){if("selected"!==e)return this._super(e,t);var i=this.options;this._super("active",-1===t?!1:t),i.selected=i.active,i.selected===!1&&(i.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),e.widget("ui.tabs",e.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(e,t,i){var s,a,n=this._superApply(arguments);return n?("beforeActivate"===e?(s=i.newTab.length?i.newTab:i.oldTab,a=i.newPanel.length?i.newPanel:i.oldPanel,n=this._super("select",t,{tab:s.find(".ui-tabs-anchor")[0],panel:a[0],index:s.closest("li").index()})):"activate"===e&&i.newTab.length&&(n=this._super("show",t,{tab:i.newTab.find(".ui-tabs-anchor")[0],panel:i.newPanel[0],index:i.newTab.closest("li").index()})),n):!1}}),e.widget("ui.tabs",e.ui.tabs,{select:function(e){if(e=this._getIndex(e),-1===e){if(!this.options.collapsible||-1===this.options.selected)return;e=this.options.selected}this.anchors.eq(e).trigger(this.options.event+this.eventNamespace)}}),function(){var t=0;e.widget("ui.tabs",e.ui.tabs,{options:{cookie:null},_create:function(){var e,t=this.options;null==t.active&&t.cookie&&(e=parseInt(this._cookie(),10),-1===e&&(e=!1),t.active=e),this._super()},_cookie:function(i){var s=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++t)];return arguments.length&&(s.push(i===!1?-1:i),s.push(this.options.cookie)),e.cookie.apply(null,s)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),e.widget("ui.tabs",e.ui.tabs,{_trigger:function(t,i,s){var a=e.extend({},s);return"load"===t&&(a.panel=a.panel[0],a.tab=a.tab.find(".ui-tabs-anchor")[0]),this._super(t,i,a)}}),e.widget("ui.tabs",e.ui.tabs,{options:{fx:null},_getFx:function(){var t,i,s=this.options.fx;return s&&(e.isArray(s)?(t=s[0],i=s[1]):t=i=s),s?{show:i,hide:t}:null},_toggle:function(e,i){function s(){n.running=!1,n._trigger("activate",e,i)}function a(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&h.show?r.animate(h.show,h.show.duration,function(){s()}):(r.show(),s())}var n=this,r=i.newPanel,o=i.oldPanel,h=this._getFx();return h?(n.running=!0,o.length&&h.hide?o.animate(h.hide,h.hide.duration,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),a()),t):this._super(e,i)}}))})(jQuery);(function(e){function t(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))}function i(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),a=e.inArray(i,s);-1!==a&&s.splice(a,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")}var s=0;e.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return e(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var a=e.Event("blur");a.target=a.currentTarget=s[0],t.close(a,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,a=this,n=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){e.data("ui-tooltip-open")&&a._delay(function(){t&&(t.type=n),this._open(t,e,i)})}),i&&this._open(t,e,i),void 0)},_open:function(i,s,a){function n(e){l.of=e,r.is(":hidden")||r.position(l)}var r,o,h,l=e.extend({},this.options.position);if(a){if(r=this._find(s),r.length)return r.find(".ui-tooltip-content").html(a),void 0;s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),r=this._tooltip(s),t(s,r.attr("id")),r.find(".ui-tooltip-content").html(a),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:n}),n(i)):r.position(e.extend({of:s},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(h=setInterval(function(){r.is(":visible")&&(n(l.of),clearInterval(h))},e.fx.interval)),this._trigger("open",i,{tooltip:r}),o={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(r)}},i&&"mouseover"!==i.type||(o.mouseleave="close"),i&&"focusin"!==i.type||(o.focusout="close"),this._on(!0,s,o)}},close:function(t){var s=this,a=e(t?t.currentTarget:this.element),n=this._find(a);this.closing||(a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title")),i(a),n.stop(!0),this._hide(n,this.options.hide,function(){s._removeTooltip(e(this))}),a.removeData("ui-tooltip-open"),this._off(a,"mouseleave focusout keyup"),a[0]!==this.element[0]&&this._off(a,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:n}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+s++,a=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(a),a.appendTo(this.document[0].body),e.fn.bgiframe&&a.bgiframe(),this.tooltips[i]=t,a},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var a=e.Event("blur");a.target=a.currentTarget=s[0],t.close(a,!0),e("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})})(jQuery);jQuery.effects||function(e,t){var i=e.uiBackCompat!==!1,a="ui-effects-";e.effects={effect:{}},function(t,i){function a(e,t,i){var a=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=a.floor?~~e:parseFloat(e),isNaN(e)?t.def:a.mod?(e+a.mod)%a.mod:0>e?0:e>a.max?a.max:e)}function s(e){var a=u(),s=a._rgba=[];return e=e.toLowerCase(),m(l,function(t,n){var r,o=n.re.exec(e),h=o&&n.parse(o),l=n.space||"rgba";return h?(r=a[l](h),a[d[l].cache]=r[d[l].cache],s=a._rgba=r._rgba,!1):i}),s.length?("0,0,0,0"===s.join()&&t.extend(s,r.transparent),a):r[e]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var r,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),h=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=t.Color=function(e,i,a,s){return new t.Color.fn.parse(e,i,a,s)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=u.support={},f=t("<p>")[0],m=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,m(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(n,o,h,l){if(n===i)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(o),o=i);var c=this,p=t.type(n),f=this._rgba=[];return o!==i&&(n=[n,o,h,l],p="array"),"string"===p?this.parse(s(n)||r._default):"array"===p?(m(d.rgba.props,function(e,t){f[t.idx]=a(n[t.idx],t)}),this):"object"===p?(n instanceof u?m(d,function(e,t){n[t.cache]&&(c[t.cache]=n[t.cache].slice())}):m(d,function(t,i){var s=i.cache;m(i.props,function(e,t){if(!c[s]&&i.to){if("alpha"===e||null==n[e])return;c[s]=i.to(c._rgba)}c[s][t.idx]=a(n[e],t,!0)}),c[s]&&0>e.inArray(null,c[s].slice(0,3))&&(c[s][3]=1,i.from&&(c._rgba=i.from(c[s])))}),this):i},is:function(e){var t=u(e),a=!0,s=this;return m(d,function(e,n){var r,o=t[n.cache];return o&&(r=s[n.cache]||n.to&&n.to(s._rgba)||[],m(n.props,function(e,t){return null!=o[t.idx]?a=o[t.idx]===r[t.idx]:i})),a}),a},_space:function(){var e=[],t=this;return m(d,function(i,a){t[a.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var i=u(e),s=i._space(),n=d[s],r=0===this.alpha()?u("transparent"):this,o=r[n.cache]||n.to(r._rgba),h=o.slice();return i=i[n.cache],m(n.props,function(e,s){var n=s.idx,r=o[n],l=i[n],u=c[s.type]||{};null!==l&&(null===r?h[n]=l:(u.mod&&(l-r>u.mod/2?r+=u.mod:r-l>u.mod/2&&(r-=u.mod)),h[n]=a((l-r)*t+r,s)))}),this[s](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),a=i.pop(),s=u(e)._rgba;return u(t.map(i,function(e,t){return(1-a)*s[t]+a*e}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),a=i.pop();return e&&i.push(~~(255*a)),"#"+t.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,a=e[0]/255,s=e[1]/255,n=e[2]/255,r=e[3],o=Math.max(a,s,n),h=Math.min(a,s,n),l=o-h,u=o+h,d=.5*u;return t=h===o?0:a===o?60*(s-n)/l+360:s===o?60*(n-a)/l+120:60*(a-s)/l+240,i=0===d||1===d?d:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==r?1:r]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],a=e[2],s=e[3],r=.5>=a?a*(1+i):a+i-a*i,o=2*a-r;return[Math.round(255*n(o,r,t+1/3)),Math.round(255*n(o,r,t)),Math.round(255*n(o,r,t-1/3)),s]},m(d,function(e,s){var n=s.props,r=s.cache,o=s.to,l=s.from;u.fn[e]=function(e){if(o&&!this[r]&&(this[r]=o(this._rgba)),e===i)return this[r].slice();var s,h=t.type(e),d="array"===h||"object"===h?e:arguments,c=this[r].slice();return m(n,function(e,t){var i=d["object"===h?e:t.idx];null==i&&(i=c[t.idx]),c[t.idx]=a(i,t)}),l?(s=u(l(c)),s[r]=c,s):u(c)},m(n,function(i,a){u.fn[i]||(u.fn[i]=function(s){var n,r=t.type(s),o="alpha"===i?this._hsla?"hsla":"rgba":e,l=this[o](),u=l[a.idx];return"undefined"===r?u:("function"===r&&(s=s.call(this,u),r=t.type(s)),null==s&&a.empty?this:("string"===r&&(n=h.exec(s),n&&(s=u+parseFloat(n[2])*("+"===n[1]?1:-1))),l[a.idx]=s,this[o](l)))})})}),m(o,function(e,i){t.cssHooks[i]={set:function(e,a){var n,r,o="";if("string"!==t.type(a)||(n=s(a))){if(a=u(n||a),!p.rgba&&1!==a._rgba[3]){for(r="backgroundColor"===i?e.parentNode:e;(""===o||"transparent"===o)&&r&&r.style;)try{o=t.css(r,"backgroundColor"),r=r.parentNode}catch(h){}a=a.blend(o&&"transparent"!==o?o:"_default")}a=a.toRgbaString()}try{e.style[i]=a}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=u(e.elem,i),e.end=u(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return m(["Top","Right","Bottom","Left"],function(i,a){t["border"+a+"Color"]=e}),t}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t,i,a=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,s={};if(a&&a.length&&a[0]&&a[a[0]])for(i=a.length;i--;)t=a[i],"string"==typeof a[t]&&(s[e.camelCase(t)]=a[t]);else for(t in a)"string"==typeof a[t]&&(s[t]=a[t]);return s}function a(t,i){var a,s,r={};for(a in i)s=i[a],t[a]!==s&&(n[a]||(e.fx.step[a]||!isNaN(parseFloat(s)))&&(r[a]=s));return r}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.effects.animateClass=function(t,n,r,o){var h=e.speed(n,r,o);return this.queue(function(){var n,r=e(this),o=r.attr("class")||"",l=h.children?r.find("*").andSelf():r;l=l.map(function(){var t=e(this);return{el:t,start:i.call(this)}}),n=function(){e.each(s,function(e,i){t[i]&&r[i+"Class"](t[i])})},n(),l=l.map(function(){return this.end=i.call(this.el[0]),this.diff=a(this.start,this.end),this}),r.attr("class",o),l=l.map(function(){var t=this,i=e.Deferred(),a=jQuery.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,a),i.promise()}),e.when.apply(e,l.get()).done(function(){n(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,a,s){return i?e.effects.animateClass.call(this,{add:t},i,a,s):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,a,s){return i?e.effects.animateClass.call(this,{remove:t},i,a,s):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,a,s,n,r){return"boolean"==typeof a||a===t?s?e.effects.animateClass.call(this,a?{add:i}:{remove:i},s,n,r):this._toggleClass(i,a):e.effects.animateClass.call(this,{toggle:i},a,s,n)},switchClass:function(t,i,a,s,n){return e.effects.animateClass.call(this,{add:i,remove:t},a,s,n)}})}(),function(){function s(t,i,a,s){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(s=i,a=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=a,a=i,i={}),e.isFunction(a)&&(s=a,a=null),i&&e.extend(t,i),a=a||i.duration,t.duration=e.fx.off?0:"number"==typeof a?a:a in e.fx.speeds?e.fx.speeds[a]:e.fx.speeds._default,t.complete=s||i.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?!1:i&&e.effects[t]?!1:!0}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(a+t[i],e[0].style[t[i]])},restore:function(e,i){var s,n;for(n=0;i.length>n;n++)null!==i[n]&&(s=e.data(a+i[n]),s===t&&(s=""),e.css(i[n],s))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,a;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=e[1]/t.width}return{x:a,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},a=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},n=document.activeElement;try{n.id}catch(r){n=document.body}return t.wrap(a),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),a=t.parent(),"static"===t.css("position")?(a.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,a){i[a]=t.css(a),isNaN(parseInt(i[a],10))&&(i[a]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),a.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,a,s){return s=s||{},e.each(i,function(e,i){var n=t.cssUnit(i);n[0]>0&&(s[i]=n[0]*a+n[1])}),s}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(n)&&n.call(s[0]),e.isFunction(t)&&t()}var s=e(this),n=a.complete,r=a.mode;(s.is(":hidden")?"hide"===r:"show"===r)?i():o.call(s[0],a,i)}var a=s.apply(this,arguments),n=a.mode,r=a.queue,o=e.effects.effect[a.effect],h=!o&&i&&e.effects[a.effect];return e.fx.off||!o&&!h?n?this[n](a.duration,a.complete):this.each(function(){a.complete&&a.complete.call(this)}):o?r===!1?this.each(t):this.queue(r||"fx",t):h.call(this,{options:a,duration:a.duration,callback:a.complete,mode:a.mode})},_show:e.fn.show,show:function(e){if(n(e))return this._show.apply(this,arguments);var t=s.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(n(e))return this._hide.apply(this,arguments);var t=s.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(n(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var i=this.css(t),a=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(a=[parseFloat(i),t])}),a}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery);(function(e){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(a,s){var n,r,o,l=e(this),h=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,a.mode||"hide"),d=a.direction||"up",c=t.test(d),p=c?"height":"width",m=c?"top":"left",f=i.test(d),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),h):e.effects.save(l,h),l.show(),n=e.effects.createWrapper(l).css({overflow:"hidden"}),r=n[p](),o=parseFloat(n.css(m))||0,g[p]=v?r:0,f||(l.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[m]=v?o:r+o),v&&(n.css(p,0),f||n.css(m,o+r)),n.animate(g,{duration:a.duration,easing:a.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,h),e.effects.removeWrapper(l),s()}})}})(jQuery);(function(e){e.effects.effect.bounce=function(t,i){var a,s,n,r=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"effect"),h="hide"===l,u="show"===l,d=t.direction||"up",c=t.distance,p=t.times||5,m=2*p+(u||h?1:0),f=t.duration/m,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=r.queue(),_=b.length;for((u||h)&&o.push("opacity"),e.effects.save(r,o),r.show(),e.effects.createWrapper(r),c||(c=r["top"===v?"outerHeight":"outerWidth"]()/3),u&&(n={opacity:1},n[v]=0,r.css("opacity",0).css(v,y?2*-c:2*c).animate(n,f,g)),h&&(c/=Math.pow(2,p-1)),n={},n[v]=0,a=0;p>a;a++)s={},s[v]=(y?"-=":"+=")+c,r.animate(s,f,g).animate(n,f,g),c=h?2*c:c/2;h&&(s={opacity:0},s[v]=(y?"-=":"+=")+c,r.animate(s,f,g)),r.queue(function(){h&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,m+1))),r.dequeue()}})(jQuery);(function(e){e.effects.effect.clip=function(t,i){var a,s,n,r=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"hide"),h="show"===l,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",m={};e.effects.save(r,o),r.show(),a=e.effects.createWrapper(r).css({overflow:"hidden"}),s="IMG"===r[0].tagName?a:r,n=s[c](),h&&(s.css(c,0),s.css(p,n/2)),m[c]=h?n:0,m[p]=h?0:n/2,s.animate(m,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){h||r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})}})(jQuery);(function(e){e.effects.effect.drop=function(t,i){var a,s=e(this),n=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(s,t.mode||"hide"),o="show"===r,l=t.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:o?1:0};e.effects.save(s,n),s.show(),e.effects.createWrapper(s),a=t.distance||s["top"===h?"outerHeight":"outerWidth"](!0)/2,o&&s.css("opacity",0).css(h,"pos"===u?-a:a),d[h]=(o?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+a,s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,n),e.effects.removeWrapper(s),i()}})}})(jQuery);(function(e){e.effects.effect.explode=function(t,i){function a(){b.push(this),b.length===d*c&&s()}function s(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var n,r,o,l,h,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(n=0;d>n;n++)for(l=g.top+n*y,u=n-(d-1)/2,r=0;c>r;r++)o=g.left+r*v,h=r-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-n*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:o+(m?h*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:o+(m?0:h*v),top:l+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,a)}})(jQuery);(function(e){e.effects.effect.fade=function(t,i){var a=e(this),s=e.effects.setMode(a,t.mode||"toggle");a.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}})(jQuery);(function(e){e.effects.effect.fold=function(t,i){var a,s,n=e(this),r=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"hide"),l="show"===o,h="hide"===o,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=l!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(n,r),n.show(),a=e.effects.createWrapper(n).css({overflow:"hidden"}),s=p?[a.width(),a.height()]:[a.height(),a.width()],d&&(u=parseInt(d[1],10)/100*s[h?0:1]),l&&a.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?s[0]:u,v[f[1]]=l?s[1]:0,a.animate(g,m,t.easing).animate(v,m,t.easing,function(){h&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),i()})}})(jQuery);(function(e){e.effects.effect.highlight=function(t,i){var a=e(this),s=["backgroundImage","backgroundColor","opacity"],n=e.effects.setMode(a,t.mode||"show"),r={backgroundColor:a.css("backgroundColor")};"hide"===n&&(r.opacity=0),e.effects.save(a,s),a.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===n&&a.hide(),e.effects.restore(a,s),i()}})}})(jQuery);(function(e){e.effects.effect.pulsate=function(t,i){var a,s=e(this),n=e.effects.setMode(s,t.mode||"show"),r="show"===n,o="hide"===n,l=r||"hide"===n,h=2*(t.times||5)+(l?1:0),u=t.duration/h,d=0,c=s.queue(),p=c.length;for((r||!s.is(":visible"))&&(s.css("opacity",0).show(),d=1),a=1;h>a;a++)s.animate({opacity:d},u,t.easing),d=1-d;s.animate({opacity:d},u,t.easing),s.queue(function(){o&&s.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,h+1))),s.dequeue()}})(jQuery);(function(e){e.effects.effect.puff=function(t,i){var a=e(this),s=e.effects.setMode(a,t.mode||"hide"),n="hide"===s,r=parseInt(t.percent,10)||150,o=r/100,h={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:n?r:100,from:n?h:{height:h.height*o,width:h.width*o,outerHeight:h.outerHeight*o,outerWidth:h.outerWidth*o}}),a.effect(t)},e.effects.effect.scale=function(t,i){var a=e(this),s=e.extend(!0,{},t),n=e.effects.setMode(a,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===n?0:100),o=t.direction||"both",h=t.origin,l={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},u={y:"horizontal"!==o?r/100:1,x:"vertical"!==o?r/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==n&&(s.origin=h||["middle","center"],s.restore=!0),s.from=t.from||("show"===n?{height:0,width:0,outerHeight:0,outerWidth:0}:l),s.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},s.fade&&("show"===n&&(s.from.opacity=0,s.to.opacity=1),"hide"===n&&(s.from.opacity=1,s.to.opacity=0)),a.effect(s)},e.effects.effect.size=function(t,i){var a,s,n,r=e(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(r,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=r.css("position"),y=f?o:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&r.show(),a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===t.mode&&"show"===p?(r.from=t.to||b,r.to=t.from||a):(r.from=t.from||("show"===p?b:a),r.to=t.to||("hide"===p?b:a)),n={from:{y:r.from.height/a.height,x:r.from.width/a.width},to:{y:r.to.height/a.height,x:r.to.width/a.width}},("box"===m||"both"===m)&&(n.from.y!==n.to.y&&(y=y.concat(d),r.from=e.effects.setTransition(r,d,n.from.y,r.from),r.to=e.effects.setTransition(r,d,n.to.y,r.to)),n.from.x!==n.to.x&&(y=y.concat(c),r.from=e.effects.setTransition(r,c,n.from.x,r.from),r.to=e.effects.setTransition(r,c,n.to.x,r.to))),("content"===m||"both"===m)&&n.from.y!==n.to.y&&(y=y.concat(u).concat(l),r.from=e.effects.setTransition(r,u,n.from.y,r.from),r.to=e.effects.setTransition(r,u,n.to.y,r.to)),e.effects.save(r,y),r.show(),e.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(s=e.effects.getBaseline(g,a),r.from.top=(a.outerHeight-r.outerHeight())*s.y,r.from.left=(a.outerWidth-r.outerWidth())*s.x,r.to.top=(a.outerHeight-r.to.outerHeight)*s.y,r.to.left=(a.outerWidth-r.to.outerWidth)*s.x),r.css(r.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=o.concat(d).concat(c),r.find("*[width]").each(function(){var i=e(this),a={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,l),i.from={height:a.height*n.from.y,width:a.width*n.from.x,outerHeight:a.outerHeight*n.from.y,outerWidth:a.outerWidth*n.from.x},i.to={height:a.height*n.to.y,width:a.width*n.to.x,outerHeight:a.height*n.to.y,outerWidth:a.width*n.to.x},n.from.y!==n.to.y&&(i.from=e.effects.setTransition(i,d,n.from.y,i.from),i.to=e.effects.setTransition(i,d,n.to.y,i.to)),n.from.x!==n.to.x&&(i.from=e.effects.setTransition(i,c,n.from.x,i.from),i.to=e.effects.setTransition(i,c,n.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===p&&r.hide(),e.effects.restore(r,y),f||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):e.each(["top","left"],function(e,t){r.css(t,function(t,i){var a=parseInt(i,10),s=e?r.to.left:r.to.top;return"auto"===i?s+"px":a+s+"px"})})),e.effects.removeWrapper(r),i()}})}})(jQuery);(function(e){e.effects.effect.shake=function(t,i){var a,s=e(this),n=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"effect"),o=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===o||"down"===o?"top":"left",p="up"===o||"left"===o,f={},m={},g={},v=s.queue(),y=v.length;for(e.effects.save(s,n),s.show(),e.effects.createWrapper(s),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,s.animate(f,d,t.easing),a=1;l>a;a++)s.animate(m,d,t.easing).animate(g,d,t.easing);s.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===r&&s.hide(),e.effects.restore(s,n),e.effects.removeWrapper(s),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),s.dequeue()}})(jQuery);(function(e){e.effects.effect.slide=function(t,i){var a,s=e(this),n=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(s,t.mode||"show"),o="show"===r,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(s,n),s.show(),a=t.distance||s["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(s).css({overflow:"hidden"}),o&&s.css(l,u?isNaN(a)?"-"+a:-a:a),d[l]=(o?u?"+=":"-=":u?"-=":"+=")+a,s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,n),e.effects.removeWrapper(s),i()}})}})(jQuery);(function(e){e.effects.effect.transfer=function(t,i){var a=e(this),s=e(t.to),n="fixed"===s.css("position"),r=e("body"),o=n?r.scrollTop():0,h=n?r.scrollLeft():0,l=s.offset(),u={top:l.top-o,left:l.left-h,height:s.innerHeight(),width:s.innerWidth()},d=a.offset(),c=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:d.top-o,left:d.left-h,height:a.innerHeight(),width:a.innerWidth(),position:n?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})}})(jQuery);
/* END TrainingAssist.Presentation.Pages.Scripts.jquery-ui.custom.min.js */
/* START TrainingAssist.Presentation.Pages.Scripts.ecordia.js */
//////////////*******************      ecordia.js       ***********************************//////////////
//Depends on jQuery
//boot strap from query
jQuery.package = function (ns) {
    ns = ns.split('.');
    var cWindow = window, i;
    while (i = ns.shift()) {
        if (!cWindow[i]) {
            cWindow[i] = {};
        }
        cWindow = cWindow[i];
    }
}

//jQuery functions
$.fn.outerHTML = function () {

    // IE, Chrome & Safari will comply with the non-standard outerHTML, all others (FF) will have a fall-back for cloning
    return (!this.length) ? this : (this[0].outerHTML || (
      function (el) {
          var div = document.createElement('div');
          div.appendChild(el.cloneNode(true));
          var contents = div.innerHTML;
          div = null;
          return contents;
      })(this[0]));

  }

//toggle Panels : like jQuery Accordions but better - allow more than one section to remain open at once
$.fn.togglepanels = function () {
    return this.each(function () {
        $(this).addClass("ui-accordion ui-accordion-icons ui-widget ui-helper-reset")
      .find("h3")
        .addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-top ui-corner-bottom")
        .hover(function () { $(this).toggleClass("ui-state-hover"); })
        .prepend('<span class="ui-icon ui-icon-triangle-1-e" style="float:left;"></span>')
        .click(function () {
            $(this)
              .toggleClass("ui-accordion-header-active ui-state-active ui-state-default ui-corner-bottom")
              .find("> .ui-icon").toggleClass("ui-icon-triangle-1-e ui-icon-triangle-1-s").end()
              .next().slideToggle();
            return false;
        })
        .next()
          .addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom")
          .hide();
    });
};

$.fn.createCSSClass = function (selector, style) {
      if (!document.styleSheets) {
          return;
      }

      if (document.getElementsByTagName("head").length == 0) {
          return;
      }

      var stylesheet;
      var mediaType;
      if (document.styleSheets.length > 0) {
          for (i = 0; i < document.styleSheets.length; i++) {
              if (document.styleSheets[i].disabled) {
                  continue;
              }
              var media = document.styleSheets[i].media;
              mediaType = typeof media;

              if (mediaType == "string") {
                  if (media == "" || (media.indexOf("screen") != -1)) {
                      styleSheet = document.styleSheets[i];
                  }
              } else if (mediaType == "object") {
                  if (media.mediaText == "" || (media.mediaText.indexOf("screen") != -1)) {
                      styleSheet = document.styleSheets[i];
                  }
              }

              if (typeof styleSheet != "undefined") {
                  break;
              }
          }
      }

      if (typeof styleSheet == "undefined") {
          var styleSheetElement = document.createElement("style");
          styleSheetElement.type = "text/css";

          document.getElementsByTagName("head")[0].appendChild(styleSheetElement);

          for (i = 0; i < document.styleSheets.length; i++) {
              if (document.styleSheets[i].disabled) {
                  continue;
              }
              styleSheet = document.styleSheets[i];
          }

          var media = styleSheet.media;
          mediaType = typeof media;
      }

      if (mediaType == "string") {
          for (i = 0; i < styleSheet.rules.length; i++) {
              if (styleSheet.rules[i].selectorText.toLowerCase() == selector.toLowerCase()) {
                  styleSheet.rules[i].style.cssText = style;
                  return;
              }
          }

          styleSheet.addRule(selector, style);
      } else if (mediaType == "object") {
          if (styleSheet.cssRules != null){
              for (i = 0; i < styleSheet.cssRules.length; i++) {
                  if (styleSheet.cssRules[i].selectorText.toLowerCase() == selector.toLowerCase()) {
                      styleSheet.cssRules[i].style.cssText = style;
                      return;
                  }
              }
          }
    
          styleSheet.insertRule(selector + "{" + style + "}", 0);
      }
  }

/**
* ecordia v1.0.0 - Ecordia javascript library
*
* Copyright (c) 2012 Training Assisit Limited T/A Ecordia
*/

//register the namespace
jQuery.package("ecordia");
ecordia.version = function () { return "1.0.0" };
jQuery.package("ecordia.ui");
jQuery.package("ecordia.regex");
jQuery.package("ecordia.event");
ecordia.regex.guid = regex = /([a-z0-9\-]+)/i;
ecordia.regex.guidParameter = function (text, parameterName) {
    var regExp = new RegExp(parameterName + "=([a-z0-9\-]{36})", "i");
    return text.match(regExp)[1];
};
ecordia.ui.version = function () { return "1.0.1" };

ecordia.ui.ecordiaButton = {
    options: { text: 'button text' },
    setText: function (text) { this.options.text = text; },
    getText: function () { return this.options.text; },
    _init: function () { this.setText(this.getText()); },
    _create: function () {
        var self = this;
        var element = $(self.element);
        
        function buttonBuilder(button) {
            var inner = button.html();
            button.empty();
            button.append(
                $("<div>", { 'class': 'button_left' }),
                $("<div>", { 'class': 'button_middle' }).append(
                    $("<span>",{ text: inner})
                ),
                $("<div>", { 'class': 'button_right' })
            );
            var wrapper = $("<div></div>", { "class": "button accept_button" });
            button.wrap(wrapper);
            return wrapper;
        };
        self.element = buttonBuilder(element);
    }
};


ecordia.ui.ecordiaAutoCompleteComboBox = {
    _create: function () {
        var input,
		    self = this,
		    select = this.element.hide(),
		    selected = select.children(":selected"),
		    value = selected.val() ? selected.text() : "",
		    wrapper = this.wrapper = $("<span>")
			    .addClass("ui-combobox")
			    .insertAfter(select);

        input = $("<input>")
		    .appendTo(wrapper)
		    .val(value)
		    .addClass("ui-state-default ui-combobox-input")
        	//cause the text of the control to be selected when the user click into the control
		    .bind("click", function(event) {
		        this.select();
		    })
		    .autocomplete({
		        delay: 0,
		        minLength: 0,
		        source: function (request, response) {
		            var matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), "i");
		            var result = (select.children("option").map(function () {
		                var text = $(this).text();
		                if (this.value && (!request.term || matcher.test(text)))
		                    return {
		                        label: text.replace(
								    new RegExp(
									    "(?![^&;]+;)(?!<[^<>]*)(" +
									    $.ui.autocomplete.escapeRegex(request.term) +
									    ")(?![^<>]*>)(?![^&;]+;)", "gi"
								    ), "<strong>$1</strong>"),
		                        value: text,
		                        option: this
		                    };
		            }));
		            //drop down limited to 100 max rows to display in combobox as IE struggles with large data sets
		            response(result.slice(0, 100));
		        },
		        select: function (event, ui) {
		            ui.item.option.selected = true;
		            self._trigger("selected", event, {
		                item: ui.item.option
		            });
		        },
		        change: function (event, ui) {
		            if (!ui.item) {
		                var matcher = new RegExp("^" + $.ui.autocomplete.escapeRegex($(this).val()) + "$", "i"),
						    valid = false;
		                select.children("option").each(function () {
		                    if ($(this).text().match(matcher)) {
		                        this.selected = valid = true;
		                        return false;
		                    }
		                });
		                if (!valid) {
		                    // remove invalid value, as it didn't match anything
		                    $(this).val("");
		                    select.val("");
		                    input.data("autocomplete").term = "";
		                    return false;
		                }
		            }
		        }
		    })
		    .addClass("ui-widget ui-widget-content ui-corner-left");

        input.data("ui-autocomplete")._renderItem = function (ul, item) {
            return $("<li></li>")
			    .data("ui-autocomplete-item", item)
			    .append("<a>" + item.label + "</a>")
			    .appendTo(ul);
        };

        $("<a>")
		    .attr("tabIndex", -1)
		    .attr("title", "Show All Items")
		    .appendTo(wrapper)
		    .button({
		        icons: {
		            primary: "ui-icon-triangle-1-s"
		        },
		        text: false
		    })
		    .removeClass("ui-corner-all")
		    .addClass("ui-corner-right ui-combobox-toggle")
		    .click(function () {
		        // close if already visible
		        if (input.autocomplete("widget").is(":visible")) {
		            input.autocomplete("close");
		            return;
		        }

		        // work around a bug (likely same cause as #5265)
		        $(this).blur();

		        // pass empty string as value to search for, displaying all results
		        input.autocomplete("search", "");
		        input.focus();
		    });
    },

    destroy: function () {
        this.wrapper.remove();
        this.element.show();
        $.Widget.prototype.destroy.call(this);
    }
};

function getUrlParameter(sParam, sUrl) {
    var sPageURL = decodeURIComponent(sUrl.split('?')[1]);
    var sURLVariables = sPageURL.split('&'), sParameterName, i;
    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');
        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
        }
    }
}

//////////////**********HTML 5 FEATURE LOCAL CACHING (CLIENT SIDE BROWSER CACHING)************///////////////////////////////
function browserSupportsHTML5() {
    if (typeof (Storage) !== "undefined")
        return true;
    else
        return false;
}
function getDataFromLocalCache(key) {
    if (!browserSupportsHTML5()) {
        return null;
    }
    var data = localStorage.getItem(key);
    if (data != null)
        return JSON.parse(data);
    return null;
}
function addDataToLocalCache(key, data) {
    if (browserSupportsHTML5()) {
        localStorage.setItem(key, JSON.stringify(data));
    }
}
function removeDataFromLocalCache(key) {
    if (browserSupportsHTML5()) {
        localStorage.removeItem(key);
    }
}
function clearAllLocalStorageCache() {
    if (browserSupportsHTML5()) {
        localStorage.clear();
    }
}


////////////////**************FUNCTION TO CHECK IF USER IS LOGGING IN FOR FIRST TIME AND IF EMAIL SHOULD BE REQUESTED**************///////////////////
function CheckIfLoggingInFirstTimeAndPromptEmail(userApiUrl, userId) {
    var cacheKey = 'emailPopupAlreadyShown_' + userId;
    if (getDataFromLocalCache(cacheKey) == null) {
        // checking for first time since logged
        //check if ignore hasn't been ticked before
        $.ajax({
            url: userApiUrl + 'GetUserDoesNotWantToBeRemindedAboutEmail?userId=' + userId,
            type: "GET",
            contentType: "application/json",
            cache: false,
            success: function (userShouldntBeBothered) {
                addDataToLocalCache(cacheKey, true);//add key to cache so we don't keep checking against API
                if (!userShouldntBeBothered) {
                    //check if email on account exists
                    $.ajax({
                        url: userApiUrl + 'UserHasEmail?userId=' + userId,
                        type: "GET", contentType: "application/json", cache: false,
                        success: function (userHasEmail) {
                            if (!userHasEmail) //no email, prompt them for one.
                            {
                                var emailMsg = "<div class='ecordiaAppIcon' style='margin:10px;float:left;border:none;'></div>";
                                emailMsg += "Welcome to Ecordia! Seems like we haven't got an email address registered on your account. Please provide your email address for Security and Communication purposes.";
                                emailMsg += "<br />Email: <input id='popUpEmailInput' type='text'>";
                                emailMsg += "<br /><div id='invalidEmailErrorMsg' style='display:none; color: red;'>Please enter a valid email address</div>";
                                emailMsg += "<br /><div style='font-size:80%;color:gray;margin-left:121px;'><input id='chkDoNotMessage' style='vertical-align:sub;' type='checkbox'>I do not want to provide an email<div>";
                                $('<div title="Account Settings" />').html(emailMsg).dialog({
                                    width: "500px",
                                    buttons: {
                                        "Submit": function () {
                                            var newEmail = $("#popUpEmailInput").val();
                                            var doNotMessage = false;
                                            if ($("#chkDoNotMessage").prop('checked') == true) {
                                                doNotMessage = true;
                                            }
                                            if (doNotMessage == true && newEmail != '' && newEmail != null) {
                                                alert("Please untick 'Do not ask me for Email again' checkbox");
                                                return;
                                            }
                                            if (doNotMessage) {
                                                $.ajax({
                                                    url: userApiUrl + 'SetUserDoesNotWantToBeRemindedAboutEmail?userId=' + userId,
                                                    type: "GET", contentType: "application/json", cache: false
                                                });
                                                $(this).dialog("close");
                                            }
                                            if (newEmail != '' && newEmail != null);
                                            {
                                                if (validateEmail(newEmail)) {//post it to API for save
                                                    PostNewEmailToApi(userApiUrl, userId, newEmail);
                                                    $(this).dialog("close");
                                                } else {
                                                    $("#invalidEmailErrorMsg").show();
                                                }
                                            }
                                        },
                                        Cancel: function () {
                                            $(this).dialog("close");
                                        }
                                    }
                                });
                            }
                        }
                    });
                }
            }
        });
        return;
    }
}

function validateEmail($email) {
    if ($email == "")
        return false;
    var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
    return emailReg.test($email);
}

function PostNewEmailToApi(userApiUrl, userId, newEmail) {
    $.ajax({
        url: userApiUrl + 'AddEmailForUser/?userId=' + userId + '&email=' + newEmail,
        type: "POST",
        contentType: "application/json",
        cache: false,
        success: function () { return true; },
        error: function () { alert("error saving email. Please add email by navigating to: My Account\Preferences"); },
    });
}

function ConvertMinutesToHoursAndMinutesText(timeInMins) {
    var targetTime = timeInMins + " minutes";
    if (timeInMins > 60) {
        targetTime = Math.floor(timeInMins / 60) + "hr";
        var minutes = timeInMins % 60;
        if (minutes > 0)
            targetTime += " " + minutes + "mins";
    }
    return targetTime;
}

function GetUIProcessLinksFromBrowserCache() {
    return getDataFromLocalCache("uiProcessLinks");
}
function AddProcessLinkToBrowserCache(name, URL) {
    var processLinkObject = { name: name, url: URL };
    var currentList = GetUIProcessLinksFromBrowserCache();
    if (currentList != null) {
        currentList.push(processLinkObject);
    }
    else {
        currentList = [processLinkObject];
    }
    removeDataFromLocalCache("uiProcessLinks"); //replace value in cache with new list
    addDataToLocalCache("uiProcessLinks", currentList);
}
function RemoveProcessLinksForPage(name) {
    var currentList = GetUIProcessLinksFromBrowserCache();
    if (currentList != null) {
        var filteredList = $.grep(currentList, function (e) {
            return e.name != name;
        });
        removeDataFromLocalCache("uiProcessLinks"); //remove list from cache
        addDataToLocalCache("uiProcessLinks", filteredList);    //add the new filtered list into cache
    }
}
function RemoveAllProcessLinks() {
    removeDataFromLocalCache("uiProcessLinks"); //clear cache        
}

//*************Function to Lighten or Darken a Hex Colour**********/////////
//            eg usage
//            // Lighten
//            var NewColor = LightenDarkenColour("#F06D06", 20);

//            // Darken
//            var NewColor = LightenDarkenColour("#F06D06", -20); 
//***************************************************************************/////////
function LightenDarkenColour(col, amt) {
    var usePound = false;
    if (col[0] == "#") {
        col = col.slice(1);
        usePound = true;
    }
    var num = parseInt(col, 16);
    var r = (num >> 16) + amt;
    if (r > 255) r = 255;
    else if (r < 0) r = 0;
    var b = ((num >> 8) & 0x00FF) + amt;
    if (b > 255) b = 255;
    else if (b < 0) b = 0;
    var g = (num & 0x0000FF) + amt;
    if (g > 255) g = 255;
    else if (g < 0) g = 0;
    return (usePound ? "#" : "") + (g | (b << 8) | (r << 16)).toString(16);
}

/////****************Random Hex Colour Generator********************************////
function getRandomColour() {
    var letters = '0123456789ABCDEF';
    var color = '#';
    for (var i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
}

function linkify(inputText) {
    var replacedText, replacePattern1, replacePattern2, replacePattern3;

    //URLs starting with http://, https://, or ftp://
    replacePattern1 = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;
    replacedText = inputText.replace(replacePattern1, '<a href="$1" target="_blank">$1</a>');

    //URLs starting with "www." (without // before it, or it'd re-link the ones done above).
    replacePattern2 = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
    replacedText = replacedText.replace(replacePattern2, '$1<a href="http://$2" target="_blank">$2</a>');

    //Change email addresses to mailto:: links.
    replacePattern3 = /(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim;
    replacedText = replacedText.replace(replacePattern3, '<a href="mailto:$1">$1</a>');

    return replacedText;
}
/* END TrainingAssist.Presentation.Pages.Scripts.ecordia.js */
/* START TrainingAssist.Presentation.ServerControls.Resources.RadEditorHelper.js */
var RadEditorHelper_debug = false;

function RadEditorHelper_MultipleTextSource(sources)
{
    this.sources = sources;

    this.get_text = function()
    {
        var texts = [];
        for (var i = 0; i < this.sources.length; i++)
        {
            texts[texts.length] = this.sources[i].get_text();
        }
        return texts.join("<controlSeparator><hr></controlSeparator>");
    }

    this.set_text = function(text)
    {
        var texts = text.split("<controlSeparator><hr></controlSeparator>");
        for (var i = 0; i < this.sources.length; i++)
        {
            this.sources[i].set_text(texts[i]);
        }
    }
}

function RadEditorHelper_EditorAjaxSource(editor)
{
    this.editor = editor;

    this.get_text = function()
    {
        return this.editor.get_html();
    }

    this.set_text = function(text)
    {
        this.editor.set_html(text);
    }
}


function RadEditorHelper_SpellCheckAll(spell,editors)
{  
	try
	{
	var sources = [];
	for (var n = 0; n < editors.length; n++)
	{
	    sources[n] = new RadEditorHelper_EditorAjaxSource($find(editors[n]))
	}

	spell.set_textSource(new RadEditorHelper_MultipleTextSource(sources));
    spell.startSpellCheck();
    
    }
	catch (e)
	{
	if (RadEditorHelper_debug) alert("Exception in SpellCheckAll - "+e);
	}
    
}

/* END TrainingAssist.Presentation.ServerControls.Resources.RadEditorHelper.js */
/* START AjaxPro.prototype.js */
Object.extend = function(dest, source, replace) {
	for(prop in source) {
		if(replace == false && dest[prop] != null) continue;
		dest[prop] = source[prop];
	}
	return dest;
}

Object.extend(Function.prototype, {
	apply: function(o, a) {
		var r, x = "__fapply";
		if(typeof o != "object") o = {};
		o[x] = this;
		var s = "r = o." + x + "(";
		for(var i=0; i<a.length; i++) {
			if(i>0) s += ",";
			s += "a[" + i + "]";
		}
		s += ");";
		eval(s);
		delete o[x];
		return r;
	},
	bind: function(o) {
		if(!Function.__objs) {
			Function.__objs = [];
			Function.__funcs = [];
		}

		var objId = o.__oid;
		if(!objId)
			Function.__objs[objId = o.__oid = Function.__objs.length] = o;

		var me = this;
		var funcId = me.__fid;
		if(!funcId)
			Function.__funcs[funcId = me.__fid = Function.__funcs.length] = me;

		if(!o.__closures)
			o.__closures = [];

		var closure = o.__closures[funcId];
		if(closure)
			return closure;

		o = null;
		me = null;

		return Function.__objs[objId].__closures[funcId] = function() {
			return Function.__funcs[funcId].apply(Function.__objs[objId], arguments);
		};
	}
}, false);

Object.extend(Array.prototype, {
	push: function(o) {
		this[this.length] = o;
	},
	addRange: function(items) {
		if(items.length > 0)
			for(var i=0; i<items.length; i++)
				this.push(items[i]);
	},
	clear: function() {
		this.length = 0;
		return this;
	},
	shift: function() {
		if(this.length == 0) return null;
		var o = this[0];
		for(var i=0; i<this.length-1; i++)
			this[i] = this[i + 1];
		this.length--;
		return o;
	}
}, false);

Object.extend(String.prototype, {
	trimLeft: function() {
		return this.replace(/^\s*/,"");
	},
	trimRight: function() {
		return this.replace(/\s*$/,"");
	},
	trim: function() {
		return this.trimRight().trimLeft();
	},
	endsWith: function(s) {
		if(this.length == 0 || this.length < s.length) return false;
		return (this.substr(this.length - s.length) == s);
	},
	startsWith: function(s) {
		if(this.length == 0 || this.length < s.length) return false;
		return (this.substr(0, s.length) == s);
	},
	split: function(c) {
		var a = [];
		if(this.length == 0) return a;
		var p = 0;
		for(var i=0; i<this.length; i++) {
			if(this.charAt(i) == c) {
				a.push(this.substring(p, i));
				p = ++i;
			}
		}
		a.push(s.substr(p));
		return a;
	}
}, false);

Object.extend(String, {
	format: function(s) {
		for(var i=1; i<arguments.length; i++)
			s = s.replace("{" + (i -1) + "}", arguments[i]);
		return s;
	},
	isNullOrEmpty: function(s) {
		if(s == null || s.length == 0)
			return true;
		return false;
	}
}, false);

if(typeof addEvent == "undefined")
	addEvent = function(o, evType, f, capture) {
		if(o == null) return false;
		if(o.addEventListener) {
			o.addEventListener(evType, f, capture);
			return true;
		} else if (o.attachEvent) {
			var r = o.attachEvent("on" + evType, f);
			return r;
		} else {
			try{ o["on" + evType] = f; }catch(e){}
		}
	};
	
if(typeof removeEvent == "undefined")
	removeEvent = function(o, evType, f, capture) {
		if(o == null) return false;
		if(o.removeEventListener) {
			o.removeEventListener(evType, f, capture);
			return true;
		} else if (o.detachEvent) {
			o.detachEvent("on" + evType, f);
		} else {
			try{ o["on" + evType] = function(){}; }catch(e){}
		}
	};
/* END AjaxPro.prototype.js */
/* START AjaxPro.core.js */
Object.extend(Function.prototype, {
	getArguments: function() {
		var args = [];
		for(var i=0; i<this.arguments.length; i++)
			args.push(this.arguments[i]);
		return args;
	}
}, false);

var MS = {"Browser":{}};

Object.extend(MS.Browser, {
	isIE: navigator.userAgent.indexOf('MSIE') != -1,
	isFirefox: navigator.userAgent.indexOf('Firefox') != -1,
	isOpera: window.opera != null
}, false);

var AjaxPro = {};

AjaxPro.IFrameXmlHttp = function() {};
AjaxPro.IFrameXmlHttp.prototype = {
	onreadystatechange: null, headers: [], method: "POST", url: null, async: true, iframe: null,
	status: 0, readyState: 0, responseText: null,
	abort: function() {
	},
	readystatechanged: function() {
		var doc = this.iframe.contentDocument || this.iframe.document;
		if(doc != null && doc.readyState == "complete" && doc.body != null && doc.body.res != null) {
			this.status = 200;
			this.statusText = "OK";
			this.readyState = 4;
			this.responseText = doc.body.res;
			this.onreadystatechange();
			return;
		}
		setTimeout(this.readystatechanged.bind(this), 10);
	},
	open: function(method, url, async) {
		if(async == false) {
			alert("Synchronous call using IFrameXMLHttp is not supported.");
			return;
		}
		if(this.iframe == null) {
			var iframeID = "hans";
			if (document.createElement && document.documentElement &&
				(window.opera || navigator.userAgent.indexOf('MSIE 5.0') == -1))
			{
				var ifr = document.createElement('iframe');
				ifr.setAttribute('id', iframeID);
				ifr.style.visibility = 'hidden';
				ifr.style.position = 'absolute';
				ifr.style.width = ifr.style.height = ifr.borderWidth = '0px';

				this.iframe = document.getElementsByTagName('body')[0].appendChild(ifr);
			}
			else if (document.body && document.body.insertAdjacentHTML)
			{
				document.body.insertAdjacentHTML('beforeEnd', '<iframe name="' + iframeID + '" id="' + iframeID + '" style="border:1px solid black;display:none"></iframe>');
			}
			if (window.frames && window.frames[iframeID]) this.iframe = window.frames[iframeID];
			this.iframe.name = iframeID;
			this.iframe.document.open();
			this.iframe.document.write("<html><body></body></html>");
			this.iframe.document.close();
		}
		this.method = method;
		this.url = url;
		this.async = async;
	},
	setRequestHeader: function(name, value) {
		for(var i=0; i<this.headers.length; i++) {
			if(this.headers[i].name == name) {
				this.headers[i].value = value;
				return;
			}
		}
		this.headers.push({"name":name,"value":value});
	},
	getResponseHeader: function(name, value) {
		return null;
	},
	addInput: function(doc, form, name, value) {
		var ele;
		var tag = "input";
		if(value.indexOf("\n") >= 0) tag = "textarea";
		
		if(doc.all) {
			ele = doc.createElement("<" + tag + " name=\"" + name + "\" />");
		}else{
			ele = doc.createElement(tag);
			ele.setAttribute("name", name);
		}
		ele.setAttribute("value", value);
		form.appendChild(ele);
		ele = null;
	},
	send: function(data) {
		if(this.iframe == null) {
			return;
		}
		var doc = this.iframe.contentDocument || this.iframe.document;
		var form = doc.createElement("form");
		
		doc.body.appendChild(form);
		
		form.setAttribute("action", this.url);
		form.setAttribute("method", this.method);
		form.setAttribute("enctype", "application/x-www-form-urlencoded");
		
		for(var i=0; i<this.headers.length; i++) {
			switch(this.headers[i].name.toLowerCase()) {
				case "content-length":
				case "accept-encoding":
				case "content-type":
					break;
				default:
					this.addInput(doc, form, this.headers[i].name, this.headers[i].value);
			}
		}
		this.addInput(doc, form, "data", data);
		form.submit();
		setTimeout(this.readystatechanged.bind(this), 1);
	}
};

var progids = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP"];
var _progid = null;

if(typeof ActiveXObject != "undefined") {
	var ie7xmlhttp = false;
	if(typeof XMLHttpRequest == "object") {
		try{ var o = new XMLHttpRequest(); ie7xmlhttp = true; }catch(e){}
	}

	if(typeof XMLHttpRequest == "undefined" || !ie7xmlhttp) {
		XMLHttpRequest = function() {
			var xmlHttp = null;
			if(!AjaxPro.noActiveX) {
				if(_progid) return new ActiveXObject(_progid);
				for(var i=0; i<progids.length && xmlHttp == null; i++) {
					try {
						xmlHttp = new ActiveXObject(progids[i]);
						progid = progids[i];

					}catch(e){}
				}
			}
			if(xmlHttp == null && MS.Browser.isIE) {
				return new AjaxPro.IFrameXmlHttp();
			}
			return xmlHttp;
		};
	}
}

Object.extend(AjaxPro, {
	noOperation: function() {},
	onLoading: function() {},
	onError: function() {},
	onTimeout: function() {},
	onStateChanged: function() {},
	cryptProvider: null,
	queue: null,
	token: "",
	version: "6.9.20.1",
	ID: "AjaxPro",
	noActiveX: false,
	timeoutPeriod: 10*1000,
	queue: null,

	toJSON: function(o) {
		if(o == null)
			return "null";
		switch(o.constructor) {
			case String:
				var v = [];
				for(var i=0; i<o.length; i++) {
					var c = o.charAt(i);
					if(c >= " ") {
						if(c == "\\" || c == '"') v.push("\\");
						v.push(c);
					} else {
						switch(c) {
							case "\n": v.push("\\n"); break;
							case "\r": v.push("\\r"); break;
							case "\b": v.push("\\b"); break;
							case "\f": v.push("\\f"); break;
							case "\t": v.push("\\t"); break;
							default:
								v.push("\\u00");
								v.push(c.charCodeAt().toString(16));
						}
					}
				}
				return '"' + v.join('') + '"';
			case Array:
				var v = [];
				for(var i=0; i<o.length; i++)
					v.push(AjaxPro.toJSON(o[i])) ;
				return "[" + v.join(",") + "]";
			case Number:
				return isFinite(o) ? o.toString() : AjaxPro.toJSON(null);
			case Boolean:
				return o.toString();
			case Date:
				var d = new Object();
				d.__type = "System.DateTime";
				d.Year = o.getUTCFullYear();
				d.Month = o.getUTCMonth() +1;
				d.Day = o.getUTCDate();
				d.Hour = o.getUTCHours();
				d.Minute = o.getUTCMinutes();
				d.Second = o.getUTCSeconds();
				d.Millisecond = o.getUTCMilliseconds();
				return AjaxPro.toJSON(d);
			default:
				if(typeof o.toJSON == "function")
					return o.toJSON();
				if(typeof o == "object") {
					var v=[];
					for(attr in o) {
						if(typeof o[attr] != "function")
							v.push('"' + attr + '":' + AjaxPro.toJSON(o[attr]));
					}
					if(v.length>0)
						return "{" + v.join(",") + "}";
					return "{}";		
				}
				return o.toString();
		}
	},
	dispose: function() {
		if(AjaxPro.queue != null) {
			AjaxPro.queue.dispose();
		}
	}
}, false);

addEvent(window, "unload", AjaxPro.dispose);

AjaxPro.Request = function(url) {
	this.url = url;
	this.xmlHttp = null;
};

AjaxPro.Request.prototype = {
	url: null,
	callback: null,
	onLoading: AjaxPro.noOperation,
	onError: AjaxPro.noOperation,
	onTimeout: AjaxPro.noOperation,
	onStateChanged: AjaxPro.noOperation,
	args: null,
	context: null,
	isRunning: false,
	abort: function() {
		if(this.timeoutTimer != null) clearTimeout(this.timeoutTimer);
		if(this.xmlHttp) {
			this.xmlHttp.onreadystatechange = AjaxPro.noOperation;
			this.xmlHttp.abort();
		}
		if(this.isRunning) {
			this.isRunning = false;
			this.onLoading(false);
		}
	},
	dispose: function() {
		this.abort();
	},
	getEmptyRes: function() {
		return {
			error: null,
			value: null,
			request: {method:this.method, args:this.args},
			context: this.context,
			duration: this.duration
		};	
	},
	endRequest: function(res) {
		this.abort();
		if(res.error != null) this.onError(res.error, this);
		if(typeof this.callback == "function")
			this.callback(res, this);	
	},
	mozerror: function() {
		if(this.timeoutTimer != null) clearTimeout(this.timeoutTimer);
		var res = this.getEmptyRes();
		res.error = {Message:"Unknown",Type:"ConnectFailure",Status:0};
		this.endRequest(res);
	},
	doStateChange: function() {
		this.onStateChanged(this.xmlHttp.readyState, this);

		if(this.xmlHttp.readyState != 4 || !this.isRunning)
			return;

		this.duration = new Date().getTime() - this.__start;

		if(this.timeoutTimer != null) clearTimeout(this.timeoutTimer);

		var res = this.getEmptyRes();
		if(this.xmlHttp.status == 200 && this.xmlHttp.statusText == "OK") {
			res = this.createResponse(res);
		} else {
			res = this.createResponse(res, true);
			res.error = {Message:'['+this.xmlHttp.status+'] '+this.xmlHttp.statusText,Type:"ConnectFailure",Status:this.xmlHttp.status};
		}
		
		this.endRequest(res);
	},
	createResponse: function(r, noContent) {
		if(!noContent) {
			var responseText = new String(this.xmlHttp.responseText);

			if(AjaxPro.cryptProvider != null && typeof AjaxPro.cryptProvider == "function")
				responseText = AjaxPro.cryptProvider.decrypt(responseText);

			if(this.xmlHttp.getResponseHeader("Content-Type") == "text/xml")
				r.value = this.xmlHttp.responseXML;
			else {
				if(responseText != null && responseText.trim().length > 0) {
					r.json = responseText;
					eval("r.value = " + responseText + "*/");
				}
			}
		}
		/* if(this.xmlHttp.getResponseHeader("X-" + AjaxPro.ID + "-Cache") == "server") {
			r.isCached = true;
		} */
		return r;
	},
	timeout: function() {
		this.duration = new Date().getTime() - this.__start;
		var r = this.onTimeout(this.duration, this);
		if(typeof r == "undefined" || r != false) {
			this.abort();
		} else {
			this.timeoutTimer = setTimeout(this.timeout.bind(this), AjaxPro.timeoutPeriod);
		}
	},
	invoke: function(method, args, callback, context) {
		this.__start = new Date().getTime();

		if(this.xmlHttp == null)
			this.xmlHttp = new XMLHttpRequest();

		this.isRunning = true;
		this.method = method;
		this.args = args;
		this.callback = callback;
		this.context = context;
		
		var async = typeof callback == "function" && callback != AjaxPro.noOperation;
		
		if(async) {
			if(MS.Browser.isIE)
				this.xmlHttp.onreadystatechange = this.doStateChange.bind(this);
			else {
				this.xmlHttp.onload = this.doStateChange.bind(this);
				this.xmlHttp.onerror = this.mozerror.bind(this);
			}
			this.onLoading(true);
		}
		
		var json = AjaxPro.toJSON(args) + "";
		if(AjaxPro.cryptProvider != null)
			json = AjaxPro.cryptProvider.encrypt(json);
		
		this.xmlHttp.open("POST", this.url, async);
		this.xmlHttp.setRequestHeader("Content-Type", "text/plain; charset=utf-8");
		this.xmlHttp.setRequestHeader("X-" + AjaxPro.ID + "-Method", method);
		
		if(AjaxPro.token != null && AjaxPro.token.length > 0)
			this.xmlHttp.setRequestHeader("X-" + AjaxPro.ID + "-Token", AjaxPro.token);

		if(!MS.Browser.isIE) {
			this.xmlHttp.setRequestHeader("Connection", "close");		// Mozilla Bug #246651
		}

		this.timeoutTimer = setTimeout(this.timeout.bind(this), AjaxPro.timeoutPeriod);

		try{ this.xmlHttp.send(json); }catch(e){}	// IE offline exception

		if(!async) {
			return this.createResponse({error: null,value: null});
		}

		return true;	
	}
};

AjaxPro.RequestQueue = function(conc) {
	this.queue = [];
	this.requests = [];
	this.timer = null;
	
	if(isNaN(conc)) conc = 2;

	for(var i=0; i<conc; i++) {		// max 2 http connections
		this.requests[i] = new AjaxPro.Request();
		this.requests[i].callback = function(res) {
			var r = res.context;
			res.context = r[3][1];

			r[3][0](res, this);
		};
		this.requests[i].callbackHandle = this.requests[i].callback.bind(this.requests[i]);
	}
};

AjaxPro.RequestQueue.prototype = {
	process: function() {
		this.timer = null;
		if(this.queue.length == 0) return;

		for(var i=0; i<this.requests.length && this.queue.length > 0; i++) {
			if(this.requests[i].isRunning == false) {
				var r = this.queue.shift();

				this.requests[i].url = r[0];
				this.requests[i].onLoading = r[3].length >2 && r[3][2] != null && typeof r[3][2] == "function" ? r[3][2] : AjaxPro.onLoading;
				this.requests[i].onError = r[3].length >3 && r[3][3] != null && typeof r[3][3] == "function" ? r[3][3] : AjaxPro.onError;
				this.requests[i].onTimeout = r[3].length >4 && r[3][4] != null && typeof r[3][4] == "function" ? r[3][4] : AjaxPro.onTimeout;
				this.requests[i].onStateChanged = r[3].length >5 && r[3][5] != null && typeof r[3][5] == "function" ? r[3][5] : AjaxPro.onStateChanged;

				this.requests[i].invoke(r[1], r[2], this.requests[i].callbackHandle, r);
				r = null;
			}
		}
		if(this.queue.length > 0 && this.timer == null) {
			this.timer = setTimeout(this.process.bind(this), 10);
		}
	},
	add: function(url, method, args, e) {
		this.queue.push([url, method, args, e]);

		if(this.timer == null) {
			this.timer = setTimeout(this.process.bind(this), 1);
		}
	},
	abort: function() {
		this.queue.length = 0;
		if (this.timer != null) {
			clearTimeout(this.timer);
		}
		this.timer = null;
		for(var i=0; i<this.requests.length; i++) {
			if(this.requests[i].isRunning == true) {
				this.requests[i].abort();
			}
		}
	},
	dispose: function() {
		for(var i=0; i<this.requests.length; i++) {
			var r = this.requests[i];
			r.dispose();
		}
		this.requests.clear();
	}
};

AjaxPro.queue = new AjaxPro.RequestQueue(2);	// 2 http connections

AjaxPro.AjaxClass = function(url) {
	this.url = url;
};

AjaxPro.AjaxClass.prototype = {
	invoke: function(method, args, e) {
		if(e != null) {
			if(e.length != 6) for(;e.length<6;) e.push(null);
			if(e[0] != null && typeof e[0] == "function") {
				return AjaxPro.queue.add(this.url, method, args, e);
			}
		}
		var r = new AjaxPro.Request();
		r.url = this.url;
		return r.invoke(method, args);
	}
};
/* END AjaxPro.core.js */
/* START Telerik.Web.UI.Common.Helpers.IETouchActionManager.js */
(function(a,c){Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Helpers");
var b=Telerik.Web.UI.Helpers;
b.IETouchActionManager=function(d){this.element=d;
this.hasPointers="PointerEvent" in a||"MSPointerEvent" in a;
};
b.IETouchActionManager.prototype={allowUserTouch:function(){if(this.isPointerEnabled()){var d=this.getStyle();
this.touchActionProp="touchAction" in d?"touchAction":"msTouchAction";
this.cachedTouchAction=d[this.touchActionProp];
d[this.touchActionProp]="none";
}},restore:function(){if(this.isPointerEnabled()){this.getStyle()[this.touchActionProp]=this.cachedTouchAction;
}},getStyle:function(){return this.element?this.element.style:{};
},isPointerEnabled:function(){return this.hasPointers;
},dispose:function(){this.restore();
delete this.element;
}};
b.IETouchActionManager.registerClass("Telerik.Web.UI.Helpers.IETouchActionManager");
})(window);

/* END Telerik.Web.UI.Common.Helpers.IETouchActionManager.js */
/* START Telerik.Web.UI.Common.Core.js */
(function(z,k,x){var s,u=Object.prototype,b=u.toString,n="[object Function]",j="div",p="input",t=z.navigator,y=t.userAgent;
function q(A){return b.call(A)===n;
}function a(A,B){B();
}function h(A){return k.createElement(A);
}function o(B,A){return B.indexOf(A);
}function r(A,B){return A.match(B);
}function w(C){var A=k.createElement("div"),D="ms Moz webkit".split(" "),B=D.length;
if(C in A.style){return true;
}C=C.replace(/^[a-z]/,function(E){return E.toUpperCase();
});
while(B--){if(D[B]+C in A.style){return true;
}}return false;
}var m=function(){};
m.prototype={addTest:function d(A,D,C){var B=this;
C=C||B;
if(C[A]!==x){return;
}D=q(D)?D():D;
C[A]=D;
},addSuite:function c(C,D){var B=this;
C=B[C]={};
for(var A in D){if(D.hasOwnProperty(A)){B.addTest(A,D[A],C);
}}}};
var v=new m();
var l=new m();
var e=new m();
var f=new m();
var g=new m();
var i=new m();
a("Platform",function(){v.addTest("windows",function(){return(o(y,"Windows")>-1&&o(y,"Windows Phone")==-1);
});
v.addTest("mac",function(){return(o(y,"Macintosh")>-1);
});
v.addTest("linux",function(){return(o(y,"Linux")>-1&&o(y,"Android")==-1);
});
v.addTest("windowsphone",function(){return(o(y,"Windows Phone")>-1);
});
v.addTest("android",function(){return(o(y,"Android")>-1&&o(y,"Windows Phone")==-1);
});
v.addTest("ios",function(){return((o(y,"iPad")>-1||o(y,"iPhone")>-1||o(y,"iPod")>-1)&&o(y,"Windows Phone")==-1);
});
v.addTest("ipad",function(){return(o(y,"iPad")>-1&&o(y,"Windows Phone")==-1);
});
v.addTest("iphone",function(){return((o(y,"iPhone")>-1||o(y,"iPod")>-1)&&o(y,"Windows Phone")==-1);
});
});
a("Engine",function(){l.addTest("trident",function(){return(o(y," Trident/")>-1);
});
l.addTest("spartan",function(){return(o(y," Edge/")>-1);
});
l.addTest("presto",function(){return(o(y," Opera/")>-1);
});
l.addTest("gecko",function(){return(!l.trident&&o(y," Firefox/")>-1);
});
l.addTest("webkit",function(){return(!l.spartan&&!l.trident&&o(y," AppleWebKit/")>-1);
});
});
a("Browser",function(){e.addTest("ie",function(){return(v.windows&&(l.trident||o(y," MSIE ")>-1));
});
e.addTest("edge",function(){return(v.windows&&o(y," Edge/")>-1);
});
e.addTest("iemobile",function(){return(v.windowsphone&&o(y," IEMobile/")>-1);
});
e.addTest("edgemobile",function(){return(v.windowsphone&&o(y," Edge/")>-1);
});
e.addTest("ff",function(){return(!e.ie&&o(y," Firefox/")>-1);
});
e.addTest("opera",function(){return(o(y," OPR/")>-1)||(o(y," OPiOS/")>-1);
});
e.addTest("operaPresto",function(){return(o(y," Opera/")>-1);
});
e.addTest("operaMini",function(){return(o(y," Opera Mini/")>-1);
});
e.addTest("webkit",function(){return(l.webkit);
});
e.addTest("safari",function(){return(l.webkit&&o(y," Version/")>-1);
});
e.addTest("chrome",function(){return(l.webkit&&!e.opera&&(o(y," Chrome/")>-1||o(y," CriOS/")>-1));
});
e.addTest("fullVersion",function(){var A=null;
if(e.ie){A=o(y," rv:")>-1?/rv:([\d\.]+)/:/MSIE ([\d\.]+)/;
}if(e.edge){A=/Edge\/([\d\.]+)/;
}if(e.iemobile){A=/IEMobile\/([\d\.]+)/;
}if(e.edgemobile){A=/Edge\/([\d\.]+)/;
}if(e.ff){A=/Firefox\/([\d\.]+)/;
}if(e.opera){A=/OP(?:R|iOS)\/([\d\.]+)/;
}if(e.operaPresto){A=/Version\/([\d\.]+)/;
}if(e.safari){A=/Version\/([\d\.]+)/;
}if(e.chrome){A=/(?:Chrome|CriOS)\/([\d\.]+)/;
}if(A===null){return null;
}return r(y,A)[1];
});
e.addTest("version",function(){var A=e.fullVersion;
if(A===null){return null;
}return parseFloat(A);
});
e.addTest("documentMode",k.documentMode||null);
e.addTest("quirksMode",e.ie&&k.compatMode!=="CSS1Compat");
e.addTest("standardsMode",!e.quirksMode);
});
a("Canvas",function(){var A=h("canvas");
f.addTest("canvas",!!(A.getContext&&A.getContext("2d")));
});
a("Input",function(){var A=h(p);
f.addSuite("input",{autocomplete:!!("autocomplete" in A),autofocus:!!("autofocus" in A),list:!!("list" in A),max:!!("max" in A),min:!!("min" in A),multiple:!!("multiple" in A),pattern:!!("pattern" in A),placeholder:!!("placeholder" in A),required:!!("required" in A),step:!!("step" in A)});
});
a("Input types",function(){var A=h(p);
function B(C){A.setAttribute("type",C);
return A.type!=="text";
}f.addSuite("inputTypes",{color:B("color"),date:B("date"),datetime:B("datetime"),"datetime-local":B("datetime-local"),email:B("email"),month:B("month"),number:B("number"),range:B("range"),search:B("search"),tel:B("tel"),time:B("time"),url:B("url"),week:B("week")});
});
a("Observers",function(){f.addTest("propertychange","onpropertychange" in k);
});
a("CSS Features",function(){var C=z.document.documentElement;
var A=Sys.UI.DomElement.addCssClass;
function B(){var G=k.documentElement,F=k.createElement(j),D=k.body,E=D||k.createElement("body"),H;
F.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both";
F.innerHTML="&nbsp;";
E.appendChild(F);
if(!D){G.appendChild(E);
}H=F.offsetWidth-F.scrollWidth;
F.parentNode.removeChild(F);
if(!D){E.parentNode.removeChild(E);
}return H;
}e.addTest("scrollBarWidth",B);
i.addTest("boxShadow",function(){var D=w("boxShadow");
if(D===false){A(C,"t-no-boxshadow");
}return D;
});
i.addTest("flexbox",function(){var D=w("flex");
if(D===false){A(C,"t-no-flexbox");
}return D;
});
});
a("Events",function(){f.addTest("touchEvents",function(){return"ontouchstart" in z;
});
f.addTest("pointerEvents",function(){return"PointerEvent" in z;
});
f.addTest("msPointerEvents",function(){return"MSPointerEvent" in z;
});
f.addTest("touchAndMouseEvents",function(){return f.touchEvents&&!v.android&&!v.ios;
});
});
Type.registerNamespace("Telerik.Web");
s=Telerik.Web;
s.Platform=v;
s.Engine=l;
s.Browser=e;
s.BrowserFeatures=f;
s.BrowserPlugins=g;
s.CssFeatures=i;
})(window,document);
(function(f,c,e){var d=f.document.documentElement;
var a=Sys.UI.DomElement.addCssClass;
var b=Telerik.Web.Browser;
Array.forEach(["chrome","ff","ie","opera","safari"],function(h,g){if(b[h]){a(d,String.format("t-{0} t-{0}{1}",h,b.version));
}});
})(window,document);
try{if(Sys.Browser.agent==Sys.Browser.InternetExplorer){document.execCommand("BackgroundImageCache",false,true);
}}catch(err){}Type.registerNamespace("Telerik.Web.UI");
(function(a){a.Point=function(b,c){this.x=b;
this.y=c;
};
a.Point.registerClass("Telerik.Web.UI.Point");
a.Bounds=function(d,e,c,b){this.x=d;
this.y=e;
this.height=b;
this.width=c;
};
a.Bounds.registerClass("Telerik.Web.UI.Bounds");
})(Telerik.Web.UI);
var commonScripts={cloneJsObject:function(c,d){if(!d){d={};
}for(var a in c){var b=c[a];
d[a]=(b instanceof Array)?Array.clone(b):b;
}return d;
},isCloned:function(){return this._isCloned;
},cloneControl:function(f,d,a){if(!f){return null;
}if(!d){d=Object.getType(f);
}var e=f.__clonedProperties__;
if(null==e){e=f.__clonedProperties__=$telerik._getPropertiesParameter(f,d);
}if(!a){a=f.get_element().cloneNode(true);
a.removeAttribute("control");
a.removeAttribute("id");
}var c=$create(d,e,null,null,a);
if(f._observerContext){c._observerContext=f._observerContext;
}var b=$telerik.cloneJsObject(f.get_events());
c._events=b;
c._events._list=$telerik.cloneJsObject(c._events._list);
c._isCloned=true;
c.isCloned=$telerik.isCloned;
return c;
},_getPropertiesParameter:function(h,d){var c={};
var f=d.prototype;
for(var b in f){var a=h[b];
if(typeof(a)=="function"&&b.indexOf("get_")==0){var e=b.substring(4);
if(null==h["set_"+e]){continue;
}var g=a.call(h);
if(null==g){continue;
}c[e]=g;
}}delete c.clientStateFieldID;
delete c.id;
return c;
},getOuterSize:function(a){var c=$telerik.getSize(a);
var b=$telerik.getMarginBox(a);
return{width:c.width+b.left+b.right,height:c.height+b.top+b.bottom};
},getOuterBounds:function(a){var c=$telerik.getBounds(a);
var b=$telerik.getMarginBox(a);
return{x:c.x-b.left,y:c.y-b.top,width:c.width+b.left+b.right,height:c.height+b.top+b.bottom};
},getInvisibleParent:function(a){var b=function(c){return $telerik.getCurrentStyle(c,"display","")==="none";
};
return this.getParentBy(a,b);
},getHiddenParent:function(b){var a=function(c){return $telerik.getCurrentStyle(c,"visibility","")==="hidden";
};
return this.getParentBy(b,a);
},getParentBy:function(c,a){var b=c.nodeType==c.DOCUMENT_NODE?c:c.ownerDocument;
while(c&&c!=b){if(a(c)){return c;
}c=c.parentNode;
}return null;
},isScrolledIntoView:function(d){var a=d.ownerDocument;
var g=(a.defaultView)?a.defaultView:a.parentWindow;
var c=$telerik.$(g).scrollTop(),b=c+$telerik.$(g).height(),f=$telerik.$(d).offset().top,e=f+$telerik.$(d).height();
return((f+((e-f)/4))>=c&&((f+((e-f)/4))<=b));
},scrollIntoView:function(b){if(!b||!b.parentNode){return;
}var g=null,c=b.offsetParent,h=b.offsetTop,f=0;
var e=b.parentNode;
while(e!=null){var d=$telerik.getCurrentStyle(e,"overflowY");
if(d=="scroll"||d=="auto"){g=e;
break;
}if(e==c){h+=e.offsetTop;
c=e.offsetParent;
}if(e.tagName=="BODY"){var a=e.ownerDocument;
if(!$telerik.isIE&&a.defaultView&&a.defaultView.frameElement){f=a.defaultView.frameElement.offsetHeight;
}g=e;
break;
}e=e.parentNode;
}if(!g){return;
}if(!f){f=g.offsetHeight;
}if((g.scrollTop+f)<(h+b.offsetHeight)){g.scrollTop=(h+b.offsetHeight)-f;
}else{if(h<(g.scrollTop)){g.scrollTop=h;
}}},getScrollableParent:function(a){var c=a.parentNode,d=null,b;
while(c!=null){b=$telerik.getCurrentStyle(c,"overflowY");
if(b=="scroll"||b=="auto"){d=c;
break;
}c=c.parentNode;
}return d;
},getScrollableParents:function(a){var c=a.parentNode,d=[],b;
while(c!=null&&c.nodeType===1){b=$telerik.getCurrentStyle(c,"overflowY");
if(b=="scroll"||b=="auto"){d.push(c);
}c=c.parentNode;
}return d;
},withFrozenParentsScroll:function(b,a){var e=$telerik.getScrollableParents(b);
var f=[];
var g=$telerik.$(window).scrollTop();
for(var c=0;
c<e.length;
c++){f.push(e[c].scrollTop);
}a.apply();
for(var d=0;
d<e.length;
d++){e[d].scrollTop=f[d];
}$telerik.$(window).scrollTop(g);
},fixScrollableParentBehavior_OldIE:function(a){if(!($telerik.isIE6||$telerik.isIE7)||(!a||a.nodeType!==1)){return;
}var c=$telerik.getScrollableParent(a),b=$telerik.getComputedStyle(c,"position");
if(b=="static"){c.style.position="relative";
}},isRightToLeft:function(b){while(b&&b.nodeType!==9){var a=$telerik.getCurrentStyle(b,"direction");
if(b.dir=="rtl"||a=="rtl"){return true;
}if(b.dir=="ltr"||a=="ltr"){return false;
}b=b.parentNode;
}return false;
},getCorrectScrollLeft:function(a){if($telerik.isRightToLeft(a)){return -(a.scrollWidth-a.offsetWidth-Math.abs(a.scrollLeft));
}else{return a.scrollLeft;
}},scrollLeft:function(b,e){var c=$telerik.isRightToLeft(b);
var a=Telerik.Web.Browser;
var f=a.webkit;
var d=a.ff;
if(e!==undefined){if(c&&f){b.scrollLeft=b.scrollWidth-b.clientWidth-e;
}else{if(c&&d){b.scrollLeft=-e;
}else{b.scrollLeft=e;
}}}else{if(c&&f){return b.scrollWidth-b.clientWidth-b.scrollLeft;
}else{return Math.abs(b.scrollLeft);
}}},_borderStyleNames:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],_borderWidthNames:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],_paddingWidthNames:["paddingTop","paddingRight","paddingBottom","paddingLeft"],_marginWidthNames:["marginTop","marginRight","marginBottom","marginLeft"],radControls:[],registerControl:function(a){if(!Array.contains(this.radControls,a)){Array.add(this.radControls,a);
}},unregisterControl:function(a){Array.remove(this.radControls,a);
},repaintChildren:function(d){var e=d.get_element?d.get_element():d;
for(var b=0,c=this.radControls.length;
b<c;
b++){var a=this.radControls[b];
if(a.repaint&&this.isDescendant(e,a.get_element())){a.repaint();
}}},_borderThickness:function(){$telerik._borderThicknesses={};
var b=document.createElement("div");
var d=document.createElement("div");
b.style.visibility="hidden";
b.style.position="absolute";
b.style.top="-9999px";
b.style.fontSize="1px";
d.style.height="0px";
d.style.overflow="hidden";
document.body.appendChild(b).appendChild(d);
var a=b.offsetHeight;
d.style.borderTop="solid black";
b.style.borderLeft="1px solid red";
d.style.borderTopWidth="thin";
$telerik._borderThicknesses.thin=b.offsetHeight-a;
d.style.borderTopWidth="medium";
$telerik._borderThicknesses.medium=b.offsetHeight-a;
d.style.borderTopWidth="thick";
$telerik._borderThicknesses.thick=b.offsetHeight-a;
var c=$telerik.getComputedStyle(b,"border-left-color",null);
var e=$telerik.getComputedStyle(d,"border-top-color",null);
if(c&&e&&c==e){document.documentElement.className+=" _Telerik_a11y";
}if(typeof(b.removeChild)!=="undefined"){b.removeChild(d);
}document.body.removeChild(b);
if(!$telerik.isSafari&&!$telerik.isIE10Mode){d.outerHTML=null;
}if(!$telerik.isSafari&&!$telerik.isIE10Mode){b.outerHTML=null;
}b=null;
d=null;
},getLocation:function(g){var d=g&&g.ownerDocument?g.ownerDocument:document;
if(g===d.documentElement){return new Telerik.Web.UI.Point(0,0);
}var C;
if(Sys.Browser.agent==Sys.Browser.InternetExplorer){if(g.window===g||g.nodeType===9||!g.getClientRects||!g.getBoundingClientRect||g.parentElement==null){return new Telerik.Web.UI.Point(0,0);
}var H=g.getClientRects();
if(!H||!H.length){return new Telerik.Web.UI.Point(0,0);
}var k=H[0];
var c=0;
var f=0;
var p=false;
try{p=d.parentWindow.frameElement;
}catch(j){p=true;
}if(p){var b=g.getBoundingClientRect();
if(!b){return new Telerik.Web.UI.Point(0,0);
}var t=k.left;
var u=k.top;
for(var o=1;
o<H.length;
o++){var F=H[o];
if(F.left<t){t=F.left;
}if(F.top<u){u=F.top;
}}c=t-b.left;
f=u-b.top;
}var I=0;
if(($telerik.isIE6||$telerik.isIE7)||$telerik.quirksMode){var n=1;
if(p&&p.getAttribute){var a=p.getAttribute("frameborder");
if(a!=null){n=parseInt(a,10);
if(isNaN(n)){n=a.toLowerCase()=="no"?0:1;
}}}I=2*n;
}var e=d.documentElement;
var D=k.left-I-c+$telerik.getCorrectScrollLeft(e);
var E=k.top-I-f+e.scrollTop;
C=new Telerik.Web.UI.Point(Math.round(D),Math.round(E));
if($telerik.quirksMode){C.x+=$telerik.getCorrectScrollLeft(d.body);
C.y+=d.body.scrollTop;
}return C;
}C=$telerik.originalGetLocation(g);
if($telerik.isOpera){var z=null;
var h=$telerik.getCurrentStyle(g,"display");
if(h!="inline"){z=g.parentNode;
}else{z=g.offsetParent;
}while(z){var B=z.tagName.toUpperCase();
if(B=="BODY"||B=="HTML"){break;
}if(B=="TABLE"&&z.parentNode&&z.parentNode.style.display=="inline-block"){var w=z.offsetLeft;
var v=z.style.display;
z.style.display="inline-block";
if(z.offsetLeft>w){C.x+=z.offsetLeft-w;
}z.style.display=v;
}C.x-=$telerik.getCorrectScrollLeft(z);
C.y-=z.scrollTop;
if(h!="inline"){z=z.parentNode;
}else{z=z.offsetParent;
}}}var y=Math.max(d.documentElement.scrollTop,d.body.scrollTop);
var x=Math.max(d.documentElement.scrollLeft,d.body.scrollLeft);
if($telerik.isSafari||$telerik.isSpartan){if(y>0||x>0){var m=d.documentElement.getElementsByTagName("form");
if(m&&m.length>0){var l=$telerik.originalGetLocation(m[0]);
if(l.y&&l.y<0){C.y+=y;
}if(l.x&&l.x<0){C.x+=x;
}}else{var G=g.parentNode,s=false,q=false;
while(G&&G.tagName){var A=$telerik.originalGetLocation(G);
if(A.y<0){s=true;
}if(A.x<0){q=true;
}G=G.parentNode;
}if(s){C.y+=y;
}if(q){C.x+=x;
}}}}return C;
},setLocation:function(a,b){var c=a.style;
c.position="absolute";
c.left=b.x+"px";
c.top=b.y+"px";
},getElementQuery:function(d){var f=[];
while(d.parentNode){if(d.id){f.unshift("#"+d.id);
break;
}else{if(d==d.ownerDocument.documentElement){f.unshift(d.tagName);
}else{for(var a=1,b=d;
b.previousElementSibling;
b=b.previousElementSibling,a++){}f.unshift(String.format("{0}:nth-child({1})",d.tagName,a));
}d=d.parentNode;
}}return f.join(" > ");
},findControl:function(f,d){var b=f.getElementsByTagName("*");
for(var c=0,e=b.length;
c<e;
c++){var a=b[c].id;
if(a&&a.endsWith(d)){return $find(a);
}}return null;
},findElement:function(f,d){var b=f.getElementsByTagName("*");
for(var c=0,e=b.length;
c<e;
c++){var a=b[c].id;
if(a&&a.endsWith(d)){return $get(a);
}}return null;
},getContentSize:function(b){if(!b){throw Error.argumentNull("element");
}var d=$telerik.getSize(b);
var a=$telerik.getBorderBox(b);
var c=$telerik.getPaddingBox(b);
return{width:d.width-a.horizontal-c.horizontal,height:d.height-a.vertical-c.vertical};
},getSize:function(a){if(!a){throw Error.argumentNull("element");
}return{width:a.offsetWidth,height:a.offsetHeight};
},setContentSize:function(b,d){if(!b){throw Error.argumentNull("element");
}if(!d){throw Error.argumentNull("size");
}if($telerik.getCurrentStyle(b,"MozBoxSizing")=="border-box"||$telerik.getCurrentStyle(b,"BoxSizing")=="border-box"){var a=$telerik.getBorderBox(b);
var c=$telerik.getPaddingBox(b);
d={width:d.width+a.horizontal+c.horizontal,height:d.height+a.vertical+c.vertical};
}b.style.width=d.width.toString()+"px";
b.style.height=d.height.toString()+"px";
},setSize:function(c,e){if(!c){throw Error.argumentNull("element");
}if(!e){throw Error.argumentNull("size");
}var a=$telerik.getBorderBox(c);
var d=$telerik.getPaddingBox(c);
var b={width:e.width-a.horizontal-d.horizontal,height:e.height-a.vertical-d.vertical};
$telerik.setContentSize(c,b);
},getBounds:function(a){var b=$telerik.getLocation(a);
return new Telerik.Web.UI.Bounds(b.x,b.y,a.offsetWidth||0,a.offsetHeight||0);
},setBounds:function(b,a){if(!b){throw Error.argumentNull("element");
}if(!a){throw Error.argumentNull("bounds");
}$telerik.setSize(b,a);
$telerik.setLocation(b,a);
},getClientBounds:function(){var a=Telerik.Web.Browser;
var c;
var b;
if(a.ie||a.edge){c=document.documentElement.clientWidth;
b=document.documentElement.clientHeight;
if(c==0&&b==0){c=document.body.clientWidth;
b=document.body.clientHeight;
}}else{if(a.safari){c=window.innerWidth;
b=window.innerHeight;
}else{if(a.opera&&a.version<9.5){c=Math.min(window.innerWidth,document.body.clientWidth);
b=Math.min(window.innerHeight,document.body.clientHeight);
}else{c=Math.min(window.innerWidth,document.documentElement.clientWidth);
b=Math.min(window.innerHeight,document.documentElement.clientHeight);
}}}return new Telerik.Web.UI.Bounds(0,0,c,b);
},getMarginBox:function(b){if(!b){throw Error.argumentNull("element");
}var a={top:$telerik.getMargin(b,Telerik.Web.BoxSide.Top),right:$telerik.getMargin(b,Telerik.Web.BoxSide.Right),bottom:$telerik.getMargin(b,Telerik.Web.BoxSide.Bottom),left:$telerik.getMargin(b,Telerik.Web.BoxSide.Left)};
a.horizontal=a.left+a.right;
a.vertical=a.top+a.bottom;
return a;
},getPaddingBox:function(b){if(!b){throw Error.argumentNull("element");
}var a={top:$telerik.getPadding(b,Telerik.Web.BoxSide.Top),right:$telerik.getPadding(b,Telerik.Web.BoxSide.Right),bottom:$telerik.getPadding(b,Telerik.Web.BoxSide.Bottom),left:$telerik.getPadding(b,Telerik.Web.BoxSide.Left)};
a.horizontal=a.left+a.right;
a.vertical=a.top+a.bottom;
return a;
},getBorderBox:function(b){if(!b){throw Error.argumentNull("element");
}var a={top:$telerik.getBorderWidth(b,Telerik.Web.BoxSide.Top),right:$telerik.getBorderWidth(b,Telerik.Web.BoxSide.Right),bottom:$telerik.getBorderWidth(b,Telerik.Web.BoxSide.Bottom),left:$telerik.getBorderWidth(b,Telerik.Web.BoxSide.Left)};
a.horizontal=a.left+a.right;
a.vertical=a.top+a.bottom;
return a;
},isBorderVisible:function(b,a){if(!b){throw Error.argumentNull("element");
}if(a<Telerik.Web.BoxSide.Top||a>Telerik.Web.BoxSide.Left){throw Error.argumentOutOfRange(String.format(Sys.Res.enumInvalidValue,a,"Telerik.Web.BoxSide"));
}var c=$telerik._borderStyleNames[a];
var d=$telerik.getCurrentStyle(b,c);
return d!="none";
},getMargin:function(b,a){if(!b){throw Error.argumentNull("element");
}if(a<Telerik.Web.BoxSide.Top||a>Telerik.Web.BoxSide.Left){throw Error.argumentOutOfRange(String.format(Sys.Res.enumInvalidValue,a,"Telerik.Web.BoxSide"));
}var d=$telerik._marginWidthNames[a];
var e=$telerik.getCurrentStyle(b,d);
try{return $telerik.parsePadding(e);
}catch(c){return 0;
}},getBorderWidth:function(b,a){if(!b){throw Error.argumentNull("element");
}if(a<Telerik.Web.BoxSide.Top||a>Telerik.Web.BoxSide.Left){throw Error.argumentOutOfRange(String.format(Sys.Res.enumInvalidValue,a,"Telerik.Web.BoxSide"));
}if(!$telerik.isBorderVisible(b,a)){return 0;
}var c=$telerik._borderWidthNames[a];
var d=$telerik.getCurrentStyle(b,c);
return $telerik.parseBorderWidth(d);
},getPadding:function(b,a){if(!b){throw Error.argumentNull("element");
}if(a<Telerik.Web.BoxSide.Top||a>Telerik.Web.BoxSide.Left){throw Error.argumentOutOfRange(String.format(Sys.Res.enumInvalidValue,a,"Telerik.Web.BoxSide"));
}var c=$telerik._paddingWidthNames[a];
var d=$telerik.getCurrentStyle(b,c);
return $telerik.parsePadding(d);
},parseBorderWidth:function(a){if(a){switch(a){case"thin":case"medium":case"thick":return $telerik._borderThicknesses[a];
case"inherit":return 0;
}var b=$telerik.parseUnit(a);
return b.size;
}return 0;
},parsePadding:function(a){if(a){if(a=="auto"||a=="inherit"){return 0;
}var b=$telerik.parseUnit(a);
return b.size;
}return 0;
},parseUnit:function(g){if(!g){throw Error.argumentNull("value");
}g=g.trim().toLowerCase();
var c=g.length;
var d=-1;
for(var b=0;
b<c;
b++){var a=g.substr(b,1);
if((a<"0"||a>"9")&&a!="-"&&a!="."&&a!=","){break;
}d=b;
}if(d==-1){throw Error.create("No digits");
}var f;
var e;
if(d<(c-1)){f=g.substring(d+1).trim();
}else{f="px";
}e=parseFloat(g.substr(0,d+1));
if(f=="px"){e=Math.floor(e);
}return{size:e,type:f};
},containsPoint:function(a,b,c){return b>=a.x&&b<=(a.x+a.width)&&c>=a.y&&c<=(a.y+a.height);
},isDescendant:function(a,b){try{for(var d=b.parentNode;
d!=null;
d=d.parentNode){if(d==a){return true;
}}}catch(c){}return false;
},isDescendantOrSelf:function(a,b){if(a===b){return true;
}return $telerik.isDescendant(a,b);
},addCssClasses:function(b,a){for(var c=0;
c<a.length;
c++){Sys.UI.DomElement.addCssClass(b,a[c]);
}},removeCssClasses:function(b,a){for(var c=0;
c<a.length;
c++){Sys.UI.DomElement.removeCssClass(b,a[c]);
}},getScrollOffset:function(b,e){var c=0;
var f=0;
var d=b;
var a=b&&b.ownerDocument?b.ownerDocument:document;
while(d!=null&&d.scrollLeft!=null){c+=$telerik.getCorrectScrollLeft(d);
f+=d.scrollTop;
if(!e||(d==a.body&&(d.scrollLeft!=0||d.scrollTop!=0))){break;
}d=d.parentNode;
}return{x:c,y:f};
},getElementByClassName:function(d,c,g){if(d.getElementsByClassName){return d.getElementsByClassName(c)[0];
}var b=null;
if(g){b=d.getElementsByTagName(g);
}else{b=d.getElementsByTagName("*");
}for(var e=0,f=b.length;
e<f;
e++){var a=b[e];
if(Sys.UI.DomElement.containsCssClass(a,c)){return a;
}}return null;
},getElementsByClassName:function(b,a,d){var c;
b=b||document;
if(b.getElementsByClassName){c=function(e,n,h){var g=h.getElementsByClassName(e),l=(n)?new RegExp("\\b"+n+"\\b","i"):null,m=[],f;
for(var j=0,k=g.length;
j<k;
j+=1){f=g[j];
if(!l||l.test(f.nodeName)){m.push(f);
}}return m;
};
}else{if(document.evaluate){c=function(h,r,l){r=r||"*";
var f=h.split(" "),g="",s="http://www.w3.org/1999/xhtml",o=(document.documentElement.namespaceURI===s)?s:null,q=[],k,p;
for(var m=0,n=f.length;
m<n;
m+=1){g+="[contains(concat(' ', @class, ' '), ' "+f[m]+" ')]";
}try{k=document.evaluate(".//"+r+g,l,o,0,null);
}catch(i){k=document.evaluate(".//"+r+g,l,null,0,null);
}while((p=k.iterateNext())){q.push(p);
}return q;
};
}else{c=function(g,v,j){v=v||"*";
var e=g.split(" "),f=[],i=(v==="*"&&j.all)?j.all:j.getElementsByTagName(v),h,u=[],s;
for(var n=0,o=e.length;
n<o;
n+=1){f.push(new RegExp("(^|\\s)"+e[n]+"(\\s|$)"));
}for(var p=0,q=i.length;
p<q;
p+=1){h=i[p];
s=false;
for(var r=0,t=f.length;
r<t;
r+=1){s=f[r].test(h.className);
if(!s){break;
}}if(s){u.push(h);
}}return u;
};
}}return c(a,d,b);
},nextElement:function(b){if(!b){return b;
}var a=b.nextSibling;
while(a&&a.nodeType!=1){a=a.nextSibling;
}return a;
},previousElement:function(b){if(!b){return b;
}var a=b.previousSibling;
while(a&&a.nodeType!=1){a=a.previousSibling;
}return a;
},_getWindow:function(b){var a=b.ownerDocument||b.document||b;
return a.defaultView||a.parentWindow;
},useAttachEvent:function(a){return(a.attachEvent&&!$telerik.isOpera);
},useDetachEvent:function(a){return(a.detachEvent&&!$telerik.isOpera);
},addHandler:function(e,g,h,a){if(!e._events){e._events={};
}var f=e._events[g];
if(!f){e._events[g]=f=[];
}var b;
if($telerik.useAttachEvent(e)){b=function(){var d={};
try{d=$telerik._getWindow(e).event;
}catch(i){}return h.call(e,new Sys.UI.DomEvent(d));
};
e.attachEvent("on"+g,b);
}else{if(e.addEventListener){b=function(d){return h.call(e,new Sys.UI.DomEvent(d));
};
e.addEventListener(g,b,false);
}}f[f.length]={handler:h,browserHandler:b,autoRemove:a};
if(a){var c=e.dispose;
if(c!==$telerik._disposeHandlers){e.dispose=$telerik._disposeHandlers;
if(typeof(c)!=="undefined"){e._chainDispose=c;
}}}},addHandlers:function(b,c,e,a){for(var f in c){var d=c[f];
if(e){d=Function.createDelegate(e,d);
}$telerik.addHandler(b,f,d,a||false);
}},clearHandlers:function(a){$telerik._clearHandlers(a,false);
},_clearHandlers:function(c,a){if(c._events){var b=c._events;
for(var g in b){var e=b[g];
for(var f=e.length-1;
f>=0;
f--){var d=e[f];
if(!a||d.autoRemove){$telerik.removeHandler(c,g,d.handler);
}}}c._events=null;
}},_disposeHandlers:function(){$telerik._clearHandlers(this,true);
var a=this._chainDispose,b=typeof(a);
if(b!=="undefined"){this.dispose=a;
this._chainDispose=null;
if(b==="function"){this.dispose();
}}},removeHandler:function(a,b,c){$telerik._removeHandler(a,b,c);
},_removeHandler:function(d,f,g){var a=null;
var b=d._events[f]||[];
for(var h=0,j=b.length;
h<j;
h++){if(b[h].handler===g){a=b[h].browserHandler;
break;
}}if($telerik.useDetachEvent(d)){d.detachEvent("on"+f,a);
}else{if(d.removeEventListener){try{d.removeEventListener(f,a,false);
}catch(c){}}}b.splice(h,1);
},_emptySrc:function(){return"about:blank";
},addExternalHandler:function(a,b,c){if(!a){return;
}if($telerik.useAttachEvent(a)){a.attachEvent("on"+b,c);
}else{if(a.addEventListener){a.addEventListener(b,c,false);
}}},removeExternalHandler:function(a,b,c){if(!a){return;
}if($telerik.useDetachEvent(a)){a.detachEvent("on"+b,c);
}else{if(a.addEventListener){a.removeEventListener(b,c,false);
}}},addMobileHandler:function(g,b,c,d,f,e){if(!b||!g){return;
}var a=Function.createDelegate(g,$telerik.isTouchDevice?(f||d):d);
if($telerik.isTouchDevice){if($telerik.$){$telerik.$(b).bind($telerik.getMobileEventCounterpart(c),a);
}else{$telerik.addExternalHandler(b,$telerik.getMobileEventCounterpart(c),a);
}}else{if(e){$telerik.addExternalHandler(b,c,a);
}else{$addHandler(b,c,a);
}}return a;
},removeMobileHandler:function(a,b,c,e,d){if(!a){return;
}if($telerik.isTouchDevice){if($telerik.$){$telerik.$(a).unbind($telerik.getMobileEventCounterpart(b),(e||c));
}else{$telerik.removeExternalHandler(a,$telerik.getMobileEventCounterpart(b),(e||c));
}}else{if(d){$telerik.removeExternalHandler(a,b,c);
}else{$removeHandler(a,b,c);
}}},getMobileEventCounterpart:function(a){switch(a){case"mousedown":return $telerik.isMobileIE10?"MSPointerDown":"touchstart";
case"mouseup":return $telerik.isMobileIE10?"MSPointerUp":"touchend";
case"mousemove":return $telerik.isMobileIE10?"MSPointerMove":"touchmove";
}return a;
},getTouchEventLocation:function(b){var d=arguments[1],f=d?[d+"X"]:"pageX",g=d?[d+"Y"]:"pageY",c={x:b[f],y:b[g]},a=b.changedTouches||(b.originalEvent?b.originalEvent.changedTouches:b.rawEvent?b.rawEvent.changedTouches:false);
if($telerik.isTouchDevice&&a&&a.length<2){c.x=a[0][f];
c.y=a[0][g];
}if($telerik.isMobileIE10&&b.originalEvent){c.x=b.originalEvent[f];
c.y=b.originalEvent[g];
}return c;
},getTouchTarget:function(a){if($telerik.isTouchDevice){var b="originalEvent" in a?a.originalEvent.changedTouches:"rawEvent" in a?a.rawEvent.changedTouches:a.changedTouches;
return b?document.elementFromPoint(b[0].clientX,b[0].clientY):a.target;
}else{return a.target;
}},cancelRawEvent:function(a){if(!a){return false;
}$telerik.stopPropagation(a);
$telerik.preventDefault(a);
return false;
},preventDefault:function(a){if(a.preventDefault){a.preventDefault();
}a.returnValue=false;
},stopPropagation:function(a){if(a.stopPropagation){a.stopPropagation();
}a.cancelBubble=true;
},getOuterHtml:function(a){if(a.outerHTML){return a.outerHTML;
}else{var b=a.cloneNode(true);
var c=a.ownerDocument.createElement("div");
c.appendChild(b);
return c.innerHTML;
}},setVisible:function(a,b){if(!a){return;
}if(b!=$telerik.getVisible(a)){if(b){if(a.style.removeAttribute){a.style.removeAttribute("display");
}else{a.style.removeProperty("display");
}}else{a.style.display="none";
}a.style.visibility=b?"visible":"hidden";
}},getVisible:function(a){if(!a||!a.parentNode){return false;
}return("none"!=$telerik.getCurrentStyle(a,"display"))&&("hidden"!=$telerik.getCurrentStyle(a,"visibility"));
},getViewPortSize:function(){var c=0;
var b=0;
var a=document.body;
if((!$telerik.quirksMode&&!$telerik.isSafari)||(Telerik.Web.Browser.chrome&&Telerik.Web.Browser.version>=61)||(Telerik.Web.Browser.opera&&Telerik.Web.Browser.version>=48)){a=document.documentElement;
if(Telerik.Web.Browser.edge){a=document.body;
}}if(window.innerWidth){c=Math.max(document.documentElement.clientWidth,document.body.clientWidth);
b=Math.max(document.documentElement.clientHeight,document.body.clientHeight);
if(c>window.innerWidth){c=document.documentElement.clientWidth;
}if(b>window.innerHeight){b=document.documentElement.clientHeight;
}}else{c=a.clientWidth;
b=a.clientHeight;
}c+=a.scrollLeft;
b+=a.scrollTop;
if($telerik.isMobileSafari){c+=window.pageXOffset;
b+=window.pageYOffset;
}return{width:c-6,height:b-6};
},elementOverflowsTop:function(b,a){var c=a||$telerik.getLocation(b);
return c.y<0;
},elementOverflowsLeft:function(b,a){var c=a||$telerik.getLocation(b);
return c.x<0;
},elementOverflowsBottom:function(e,c,b){var d=b||$telerik.getLocation(c);
var a=d.y+c.offsetHeight;
return a>e.height;
},elementOverflowsRight:function(e,b,a){var c=a||$telerik.getLocation(b);
var d=c.x+b.offsetWidth;
return d>e.width;
},getDocumentRelativeCursorPosition:function(c){var b=document.documentElement,a=document.body,f=($telerik.quirksMode||a.scrollLeft>b.scrollLeft)?$telerik.getCorrectScrollLeft(a):$telerik.getCorrectScrollLeft(b),d=c.clientX+f,g=c.clientY+$telerik.getDocumentElementScrollTop();
if($telerik.isIE6||$telerik.isIE7){d-=2;
g-=2;
}return{left:d,top:g};
},getDocumentElementScrollTop:function(){var b=document.documentElement,a=document.body;
return($telerik.quirksMode||a.scrollTop>b.scrollTop)?a.scrollTop:b.scrollTop;
},getDocumentElementScrollLeft:function(){var b=document.documentElement,a=document.body;
return($telerik.quirksMode||a.scrollLeft>b.scrollLeft)?a.scrollLeft:b.scrollLeft;
},evalScriptCode:function(b){if($telerik.isSafari){b=b.replace(/^\s*<!--((.|\n)*)-->\s*$/mi,"$1");
}var a=document.createElement("script");
a.setAttribute("type","text/javascript");
a.text=b;
var c=document.getElementsByTagName("head")[0];
c.appendChild(a);
a.parentNode.removeChild(a);
},isScriptRegistered:function(k,a){if(!k){return 0;
}if(!a){a=document;
}if($telerik._uniqueScripts==null){$telerik._uniqueScripts={};
}var h=document.getElementsByTagName("script");
var f=0;
var c=k.indexOf("?d=");
var d=k.indexOf("&");
var j=c>0&&d>c?k.substring(c+3,d):k;
if($telerik._uniqueScripts[j]!=null){return 2;
}for(var b=0,e=h.length;
b<e;
b++){var g=h[b];
if(g.src){if(g.getAttribute("src",2).indexOf(j)!=-1){$telerik._uniqueScripts[j]=true;
if(!$telerik.isDescendant(a,g)){f++;
}}}}return f;
},evalScripts:function(b,a){$telerik.registerSkins(b);
var g=b.getElementsByTagName("script");
var j=0,h=0;
var e=function(n,o){if(n-h>0&&($telerik.isIE||$telerik.isSafari)){window.setTimeout(function(){e(n,o);
},5);
}else{var i=document.createElement("script");
i.setAttribute("type","text/javascript");
document.getElementsByTagName("head")[0].appendChild(i);
i.loadFinished=false;
i.onload=function(){if(!this.loadFinished){this.loadFinished=true;
h++;
}};
i.onreadystatechange=function(){if("loaded"===this.readyState&&!this.loadFinished){this.loadFinished=true;
h++;
}};
i.setAttribute("src",o);
}};
var k=[];
for(var c=0,d=g.length;
c<d;
c++){var f=g[c];
if(f.src){var m=f.getAttribute("src",2);
if(!$telerik.isScriptRegistered(m,b)){e(j++,m);
}}else{Array.add(k,f.innerHTML);
}}var l=function(){if(j-h>0){window.setTimeout(l,20);
}else{for(var i=0;
i<k.length;
i++){$telerik.evalScriptCode(k[i]);
}if(a){a();
}}};
l();
},registerSkins:function(c){if(!c){c=document.body;
}var h=c.getElementsByTagName("link");
if(h&&h.length>0){var a=document.getElementsByTagName("head")[0];
if(a){for(var d=0,g=h.length;
d<g;
d++){var k=h[d];
if(k.className=="Telerik_stylesheet"){var l=a.getElementsByTagName("link");
if(k.href.indexOf("ie7CacheFix")>=0){try{k.href=k.href.replace("&ie7CacheFix","");
k.href=k.href.replace("?ie7CacheFix","");
}catch(b){}}if(l&&l.length>0){var f=l.length-1;
while(f>=0&&l[f--].href!=k.href){continue;
}if(f>=0){continue;
}}if($telerik.isIE&&!$telerik.isIE9Mode){k.parentNode.removeChild(k);
k=k.cloneNode(true);
}a.appendChild(k);
if(g>h.length){g=h.length;
d--;
}}}}}},getFirstChildByTagName:function(b,d,c){if(!b||!b.childNodes){return null;
}var a=b.childNodes[c]||b.firstChild;
while(a){if(a.nodeType==1&&a.tagName.toLowerCase()==d){return a;
}a=a.nextSibling;
}return null;
},getChildByClassName:function(c,a,d){var b=c.childNodes[d]||c.firstChild;
while(b){if(b.nodeType==1&&b.className.indexOf(a)>-1){return b;
}b=b.nextSibling;
}return null;
},getChildrenByTagName:function(d,g){var c=[];
var b=d.childNodes;
if($telerik.isIE){b=d.children;
}for(var e=0,f=b.length;
e<f;
e++){var a=b[e];
if(a.nodeType==1&&a.tagName.toLowerCase()==g){Array.add(c,a);
}}return c;
},getChildrenByClassName:function(e,d){var c=[];
var b=e.childNodes;
if($telerik.isIE){b=e.children;
}for(var f=0,g=b.length;
f<g;
f++){var a=b[f];
if(a.nodeType==1&&a.className.indexOf(d)>-1){Array.add(c,a);
}}return c;
},mergeElementAttributes:function(d,e,b){if(!d||!e){return;
}if(d.mergeAttributes){e.mergeAttributes(d,b);
}else{for(var a=0;
a<d.attributes.length;
a++){var c=d.attributes[a].nodeValue;
e.setAttribute(d.attributes[a].nodeName,c);
}if(""==e.getAttribute("style")){e.removeAttribute("style");
}}},isMouseOverElement:function(c,b){var d=$telerik.getBounds(c);
var a=$telerik.getDocumentRelativeCursorPosition(b);
return $telerik.containsPoint(d,a.left,a.top);
},isMouseOverElementEx:function(c,b){var g=null;
try{g=$telerik.getOuterBounds(c);
}catch(d){return false;
}if(b&&b.target){var h=b.target.tagName;
if(h=="SELECT"||h=="OPTION"){return true;
}if(b.clientX<0||b.clientY<0){return true;
}}var f=$telerik.getDocumentRelativeCursorPosition(b);
var a=$telerik.getBorderBox(c);
g.x+=a.left;
g.y+=a.top;
g.width-=a.horizontal;
g.height-=a.vertical;
return $telerik.containsPoint(g,f.left,f.top);
},getPreviousHtmlNode:function(a){if(!a||!a.previousSibling){return null;
}while(a.previousSibling){if(a.previousSibling.nodeType==1){return a.previousSibling;
}a=a.previousSibling;
}},getNextHtmlNode:function(a){if(!a||!a.nextSibling){return null;
}while(a.nextSibling){if(a.nextSibling.nodeType==1){return a.nextSibling;
}a=a.nextSibling;
}},disposeElement:function(a){if(typeof(Sys.WebForms)=="undefined"){return;
}var b=Sys.WebForms.PageRequestManager.getInstance();
if(b&&b._destroyTree){b._destroyTree(a);
}else{if(Sys.Application.disposeElement){Sys.Application.disposeElement(a,true);
}}},htmlEncode:function(d){var a=/&/g,c=/</g,b=/>/g;
return(""+d).replace(a,"&amp;").replace(c,"&lt;").replace(b,"&gt;");
},htmlDecode:function(d){var a=/&amp;/g,c=/&lt;/g,b=/&gt;/g;
return(""+d).replace(b,">").replace(c,"<").replace(a,"&");
}};
if(window.$telerik==undefined){window.$telerik=commonScripts;
}else{if($telerik.$!=undefined&&$telerik.$.extend){$telerik.$.extend(window.$telerik,commonScripts);
}}window.TelerikCommonScripts=Telerik.Web.CommonScripts=window.$telerik;
(function(i,g){function b(k,j){return k.indexOf(j);
}function c(j,k){return j.match(k);
}var e=i.navigator,h=e.userAgent,f,d,a;
$telerik.isTrident=b(h," Trident/")>-1;
$telerik.isSpartan=b(h," Edge/")>-1;
$telerik.isIE=(b(h," MSIE ")>-1||$telerik.isTrident);
$telerik.isFirefox=b(h," Firefox/")>-1&&!$telerik.isIE;
if($telerik.isIE){f=/MSIE ([\d\.]+)/;
d=c(h,f);
if(d){a=d[1];
}else{f=/rv:([\d\.]+)/;
d=c(h,f);
if(d){a=d[1];
}}$telerik.isIE6=a<7;
$telerik.isIE7=a==7||(document.documentMode&&document.documentMode==7);
$telerik.isIE8=document.documentMode&&document.documentMode==8;
$telerik.isIE9=document.documentMode&&document.documentMode==9;
$telerik.isIE9Mode=document.documentMode&&document.documentMode>=9;
$telerik.isIE10=document.documentMode&&document.documentMode==10;
$telerik.isIE10Mode=document.documentMode&&document.documentMode>=10;
}})(window);
if(typeof(Sys.Browser.WebKit)=="undefined"){Sys.Browser.WebKit={};
}if(typeof(Sys.Browser.Chrome)=="undefined"){Sys.Browser.Chrome={};
}if(navigator.userAgent.indexOf("Chrome")>-1&&!($telerik.isTrident||$telerik.isSpartan)){Sys.Browser.version=parseFloat(navigator.userAgent.match(/WebKit\/(\d+(\.\d+)?)/i)[1]);
Sys.Browser.agent=Sys.Browser.Chrome;
Sys.Browser.name="Chrome";
}else{if(navigator.userAgent.indexOf("WebKit/")>-1&&!($telerik.isTrident||$telerik.isSpartan)){Sys.Browser.version=parseFloat(navigator.userAgent.match(/WebKit\/(\d+(\.\d+)?)/i)[1]);
if(Sys.Browser.version<500){Sys.Browser.agent=Sys.Browser.Safari;
Sys.Browser.name="Safari";
}else{Sys.Browser.agent=Sys.Browser.WebKit;
Sys.Browser.name="WebKit";
}}}$telerik.isMobileSafari=(navigator.userAgent.search(/like\sMac\sOS\sX.*Mobile\/\S+/)!=-1);
$telerik.isChrome=Sys.Browser.agent==Sys.Browser.Chrome;
$telerik.isSafari6=Sys.Browser.agent==Sys.Browser.WebKit&&Sys.Browser.version>=536;
$telerik.isSafari5=Sys.Browser.agent==Sys.Browser.WebKit&&Sys.Browser.version>=534&&Sys.Browser.version<536;
$telerik.isSafari4=Sys.Browser.agent==Sys.Browser.WebKit&&Sys.Browser.version>=526&&Sys.Browser.version<534;
$telerik.isSafari3=Sys.Browser.agent==Sys.Browser.WebKit&&Sys.Browser.version<526&&Sys.Browser.version>500;
$telerik.isSafari2=false;
$telerik.isSafari=$telerik.isSafari2||$telerik.isSafari3||$telerik.isSafari4||$telerik.isSafari5||$telerik.isSafari6||$telerik.isChrome;
$telerik.isAndroid=(navigator.userAgent.search(/Android/i)!=-1)&&!($telerik.isTrident||$telerik.isSpartan);
$telerik.isBlackBerry4=(navigator.userAgent.search(/BlackBerry\d+\/4[\d\.]+/i)!=-1);
$telerik.isBlackBerry5=(navigator.userAgent.search(/BlackBerry\d+\/5[\d\.]+/i)!=-1);
$telerik.isBlackBerry6=(navigator.userAgent.search(/BlackBerry.*Safari\/\S+/i)!=-1);
$telerik.isBlackBerry=$telerik.isBlackBerry4||$telerik.isBlackBerry5||$telerik.isBlackBerry6;
$telerik.isOpera=Sys.Browser.agent==Sys.Browser.Opera;
$telerik.isFirefox2=$telerik.isFirefox&&Sys.Browser.version<3;
$telerik.isFirefox3=$telerik.isFirefox&&Sys.Browser.version>=3;
$telerik.quirksMode=$telerik.isIE&&document.compatMode!="CSS1Compat";
$telerik.standardsMode=!$telerik.quirksMode;
$telerik.OperaEngine=0;
$telerik.OperaVersionString=window.opera?window.opera.version():0;
$telerik.OperaVersion=$telerik.OperaVersionString?(parseInt($telerik.OperaVersionString*10,10)/10):0;
if($telerik.isOpera){$telerik._prestoVersion=navigator.userAgent.match(/Presto\/(\d+\.(\d+)?)/);
if($telerik._prestoVersion){$telerik.OperaEngine=parseInt($telerik._prestoVersion[1],10)+(parseInt($telerik._prestoVersion[2],10)/100);
}}$telerik.isOpera9=$telerik.isOpera&&$telerik.OperaVerNumber<10;
$telerik.isOpera10=$telerik.isOpera&&$telerik.OperaVersion>=10&&$telerik.OperaVersion<10.5;
$telerik.isOpera105=$telerik.isOpera&&$telerik.OperaVersion>=10.5;
$telerik.isOpera11=$telerik.isOpera&&$telerik.OperaVersion>11;
$telerik.isMobileOpera=$telerik.isOpera&&(navigator.userAgent.search(/opera (?:mobi|tablet)/i)!=-1);
$telerik.isMobileIE10=$telerik.isIE10Mode&&(navigator.userAgent.search(/\bARM\b;|\bTouch\b/i)!=-1);
$telerik.isTouchDevice=$telerik.isMobileSafari||$telerik.isAndroid||$telerik.isBlackBerry6||$telerik.isMobileOpera;
if($telerik.isIE9Mode){document.documentElement.className+=" _Telerik_IE9";
}if($telerik.isOpera11){document.documentElement.className+=" _Telerik_Opera11";
}else{if($telerik.isOpera105){document.documentElement.className+=" _Telerik_Opera105";
}}$telerik.cssVendorPrefix=(function(){var c=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,d="",a=document.createElement("div");
for(var b in a.style){if(c.test(b)){d=b.match(c)[0];
}}if(!d&&"WebkitOpacity" in a.style){d="Webkit";
}if(!d&&"KhtmlOpacity" in a.style){d="Khtml";
}a=null;
return d;
})();
(function(k,i){var b,a;
var c=/-([\da-z])/gi,d=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/,e=new RegExp("^("+d.source+")(?!px)[a-z%]+$","i"),g=/^(top|right|bottom|left)$/;
function h(l){return l.replace(c,f);
}function f(m,l){return l.toUpperCase();
}function j(o,n){if(n in o){return n;
}var l=n.charAt(0).toUpperCase()+n.slice(1),m=n;
n=$telerik.cssVendorPrefix+l;
if(n in o){return n;
}return m;
}if(k.getComputedStyle){b=function(l){return l.ownerDocument.defaultView.getComputedStyle(l,null);
};
a=function(m,n){var l=b(m);
return l?l.getPropertyValue(n)||l[n]:i;
};
}else{if(document.documentElement.currentStyle){b=function(l){return l.currentStyle;
};
a=function(m,p){var l=b(m),n=m.style,s,r,o,q;
q=l?l[p]:i;
if(q===null&&n&&n[p]){q=n[p];
}if(e.test(q)&&!g.test(p)){o=n.left;
s=m.runtimeStyle;
r=s&&s.left;
if(r){s.left=m.currentStyle.left;
}n.left=p==="fontSize"?"1em":q;
q=n.pixelLeft+"px";
n.left=o;
if(r){s.left=r;
}}return q;
};
}}$telerik.getComputedStyle=function(m,o,l){var n=h(o),p=null;
if(m){o=j(m.style,n);
p=a(m,o);
if(!p&&p!==0){p=(typeof(l)!="undefined")?l:null;
}}return p;
};
$telerik.getCurrentStyle=function(m,n,l){return $telerik.getComputedStyle(m,n,l);
};
})(window);
if(document.documentElement.getBoundingClientRect){$telerik.originalGetLocation=function(g){var d=Function._validateParams(arguments,[{name:"element",domElement:true}]);
if(d){throw d;
}if(g.self||g.nodeType===9||(g===document.documentElement)||(g.parentNode===g.ownerDocument.documentElement)){return new Telerik.Web.UI.Point(0,0);
}var b=g.getBoundingClientRect();
if(!b){return new Telerik.Web.UI.Point(0,0);
}var c=g.ownerDocument.documentElement,k=Math.round(b.left)+c.scrollLeft,l=Math.round(b.top)+c.scrollTop;
if(Sys.Browser.agent===Sys.Browser.InternetExplorer){try{var i=g.ownerDocument.parentWindow.frameElement||null;
if(i){var j=(i.frameBorder==="0"||i.frameBorder==="no")?2:0;
k+=j;
l+=j;
}}catch(h){}if(Sys.Browser.version===7&&!document.documentMode){var a=document.body,m=a.getBoundingClientRect(),n=(m.right-m.left)/a.clientWidth;
n=Math.round(n*100);
n=(n-n%5)/100;
if(!isNaN(n)&&(n!==1)){k=Math.round(k/n);
l=Math.round(l/n);
}}if((document.documentMode||0)<8){k-=c.clientLeft;
l-=c.clientTop;
}}return new Telerik.Web.UI.Point(k,l);
};
}else{if($telerik.isSafari){$telerik.originalGetLocation=function(c){var b=Function._validateParams(arguments,[{name:"element",domElement:true}]);
if(b){throw b;
}if((c.window&&(c.window===c))||c.nodeType===9){return new Telerik.Web.UI.Point(0,0);
}var f=0,g=0,h,j=null,k=null,a,l;
for(h=c;
h;
j=h,k=a,h=h.offsetParent){a=Sys.UI.DomElement._getCurrentStyle(h);
l=h.tagName?h.tagName.toUpperCase():null;
if((h.offsetLeft||h.offsetTop)&&((l!=="BODY")||(!k||k.position!=="absolute"))){f+=h.offsetLeft;
g+=h.offsetTop;
}if(j&&Sys.Browser.version>=3){f+=parseInt(a.borderLeftWidth,10);
g+=parseInt(a.borderTopWidth,10);
}}a=Sys.UI.DomElement._getCurrentStyle(c);
var d=a?a.position:null;
if(!d||(d!=="absolute")){for(h=c.parentNode;
h;
h=h.parentNode){l=h.tagName?h.tagName.toUpperCase():null;
if((l!=="BODY")&&(l!=="HTML")&&(h.scrollLeft||h.scrollTop)){f-=(h.scrollLeft||0);
g-=(h.scrollTop||0);
}a=Sys.UI.DomElement._getCurrentStyle(h);
var i=a?a.position:null;
if(i&&(i==="absolute")){break;
}}}return new Telerik.Web.UI.Point(f,g);
};
}else{$telerik.originalGetLocation=function(c){var b=Function._validateParams(arguments,[{name:"element",domElement:true}]);
if(b){throw b;
}if((c.window&&(c.window===c))||c.nodeType===9){return new Telerik.Web.UI.Point(0,0);
}var f=0,g=0,h,i=null,j=null,a=null,k;
for(h=c;
h;
i=h,j=a,h=h.offsetParent){k=h.tagName?h.tagName.toUpperCase():null;
a=Sys.UI.DomElement._getCurrentStyle(h);
if((h.offsetLeft||h.offsetTop)&&!((k==="BODY")&&(!j||j.position!=="absolute"))){f+=h.offsetLeft;
g+=h.offsetTop;
}if(i!==null&&a){if((k!=="TABLE")&&(k!=="TD")&&(k!=="HTML")){f+=parseInt(a.borderLeftWidth,10)||0;
g+=parseInt(a.borderTopWidth,10)||0;
}if(k==="TABLE"&&(a.position==="relative"||a.position==="absolute")){f+=parseInt(a.marginLeft,10)||0;
g+=parseInt(a.marginTop,10)||0;
}}}a=Sys.UI.DomElement._getCurrentStyle(c);
var d=a?a.position:null;
if(!d||(d!=="absolute")){for(h=c.parentNode;
h;
h=h.parentNode){k=h.tagName?h.tagName.toUpperCase():null;
if((k!=="BODY")&&(k!=="HTML")&&(h.scrollLeft||h.scrollTop)){f-=(h.scrollLeft||0);
g-=(h.scrollTop||0);
a=Sys.UI.DomElement._getCurrentStyle(h);
if(a){f+=parseInt(a.borderLeftWidth,10)||0;
g+=parseInt(a.borderTopWidth,10)||0;
}}}}return new Telerik.Web.UI.Point(f,g);
};
}}Sys.Application.add_init(function(){try{$telerik._borderThickness();
}catch(a){}});
Telerik.Web.UI.Orientation=function(){throw Error.invalidOperation();
};
Telerik.Web.UI.Orientation.prototype={Horizontal:0,Vertical:1};
Telerik.Web.UI.Orientation.registerEnum("Telerik.Web.UI.Orientation",false);
Telerik.Web.UI.RenderMode=function(){throw Error.invalidOperation();
};
Telerik.Web.UI.RenderMode.prototype={Auto:0,Classic:1,Lite:2,Native:3,Mobile:4};
Telerik.Web.UI.RenderMode.registerEnum("Telerik.Web.UI.RenderMode",false);
Telerik.Web.UI.DayOfWeek=function(){throw Error.invalidOperation();
};
Telerik.Web.UI.DayOfWeek.prototype={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};
Telerik.Web.UI.DayOfWeek.registerEnum("Telerik.Web.UI.DayOfWeek",false);
Telerik.Web.UI.RadWebControl=function(a){Telerik.Web.UI.RadWebControl.initializeBase(this,[a]);
this._clientStateFieldID=null;
this._renderMode=Telerik.Web.UI.RenderMode.Classic;
this._shouldUpdateClientState=true;
this._invisibleParents=[];
this._enableRippleEffect=false;
};
Telerik.Web.UI.RadWebControl.prototype={initialize:function(){Telerik.Web.UI.RadWebControl.callBaseMethod(this,"initialize");
$telerik.registerControl(this);
this._registerToMaterialRippleManager();
if(!this.get_clientStateFieldID()){return;
}var a=$get(this.get_clientStateFieldID());
if(!a){return;
}a.setAttribute("autocomplete","off");
},dispose:function(){$telerik.unregisterControl(this);
this._disposeMaterialRipples();
var c=this.get_element();
this._clearParentShowHandlers();
Telerik.Web.UI.RadWebControl.callBaseMethod(this,"dispose");
if(c){c.control=null;
var a=true;
if(c._events){for(var b in c._events){if(c._events[b].length>0){a=false;
break;
}}if(a){c._events=null;
}}}},raiseEvent:function(b,a){var c=this.get_events().getHandler(b);
if(c){if(!a){a=Sys.EventArgs.Empty;
}c(this,a);
}},updateClientState:function(){if(this._shouldUpdateClientState){this.set_clientState(this.saveClientState());
}},saveClientState:function(){return null;
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(a){if(this._clientStateFieldID!=a){this._clientStateFieldID=a;
this.raisePropertyChanged("ClientStateFieldID");
}},get_renderMode:function(){return this._renderMode;
},set_renderMode:function(a){if(this._renderMode!=a){this._renderMode=a;
this.raisePropertyChanged("RenderMode");
}},get_clientState:function(){if(this._clientStateFieldID){var a=document.getElementById(this._clientStateFieldID);
if(a){return a.value;
}}return null;
},set_clientState:function(b){if(this._clientStateFieldID){var a=document.getElementById(this._clientStateFieldID);
if(a){a.value=b;
}}},get_enabled:function(){return this._enabled;
},set_enabled:function(a){this._enabled=a;
},repaint:function(){},canRepaint:function(){return this.get_element()&&(this.get_element().offsetWidth>0);
},add_parentShown:function(a){var b=$telerik.getInvisibleParent(a);
if(!b){return;
}if(!Array.contains(this._invisibleParents,b)){Array.add(this._invisibleParents,b);
this._handleHiddenParent(true,b);
}},remove_parentShown:function(a){Array.remove(this._invisibleParents,a);
this._handleHiddenParent(false,a);
},_registerToMaterialRippleManager:function(){if(this._enableRippleEffect&&Telerik.Web.UI.MaterialRippleManager){var a=Telerik.Web.UI.MaterialRippleManager.getInstance();
if(a){this._materialRippleManager=a;
a.get_controls().push(this);
}}},_disposeMaterialRipples:function(){if(this._enableRippleEffect&&Telerik.Web.UI.MaterialRippleManager&&Telerik.Web.UI.MaterialRippleManager.getInstance()){Telerik.Web.UI.MaterialRippleManager.getInstance().disposeControl(this);
}},_handleHiddenParent:function(e,d){if(!d){return;
}if(!this._parentShowDelegate){this._parentShowDelegate=Function.createDelegate(this,this._parentShowHandler);
}var a=this._parentShowDelegate;
if(typeof(MutationObserver)!=="undefined"){if(e){if(!this.parentShownObserver){this.parentShownObserver=new Telerik.Web.UI.NodeMutationObserver(a);
}this.parentShownObserver.observe(d,{attributes:true,attributeOldValue:true,attributeFilter:["style","class"],subtree:false});
}else{if(this.parentShownObserver){this.parentShownObserver.disconnect(d);
if(this.parentShownObserver.isEmpty()){this.parentShownObserver.dispose();
this.parentShownObserver=null;
}}}return;
}var b="DOMAttrModified";
if($telerik.isIE){b="propertychange";
}var c=e?$telerik.addExternalHandler:$telerik.removeExternalHandler;
c(d,b,a);
},_parentShowHandler:function(c){if(c.length!==null&&!isNaN(c.length)){var a=this;
Array.forEach(c,function(g){if(g.attributeName=="style"||g.attributeName=="class"){var e=g.target;
if("none"!=$telerik.getCurrentStyle(e,"display")){a._runWhenParentShows(g);
}}});
}else{if($telerik.isIE){if(c.rawEvent){c=c.rawEvent;
}if(!c||!c.srcElement||!c.propertyName){return;
}var f=c.srcElement;
if(c.propertyName=="style.display"||c.propertyName=="className"){var b=$telerik.getCurrentStyle(f,"display");
if(b!="none"){c.target=f;
this._runWhenParentShows(c);
}}}else{if(c.attrName=="style"||c.attrName=="class"){var d=c.target;
if((c.currentTarget==c.target)&&("none"!=$telerik.getCurrentStyle(d,"display"))){window.setTimeout(Function.createDelegate(this,function(){this._runWhenParentShows(c);
}),0);
}}}}},_runWhenParentShows:function(a){var b=a.target;
this.remove_parentShown(b);
this.repaint();
},_clearParentShowHandlers:function(){var a=this._invisibleParents;
for(var b=0;
b<a.length;
b++){this.remove_parentShown(a[b]);
}this._invisibleParents=[];
this._parentShowDelegate=null;
},_getChildElement:function(a){return $get(this.get_id()+"_"+a);
},_findChildControl:function(a){return $find(this.get_id()+"_"+a);
}};
Telerik.Web.UI.RadWebControl.registerClass("Telerik.Web.UI.RadWebControl",Sys.UI.Control);
Telerik.Web.Timer=function(){Telerik.Web.Timer.initializeBase(this);
this._interval=1000;
this._enabled=false;
this._timer=null;
this._timerCallbackDelegate=Function.createDelegate(this,this._timerCallback);
};
Telerik.Web.Timer.prototype={get_interval:function(){return this._interval;
},set_interval:function(a){if(this._interval!==a){this._interval=a;
this.raisePropertyChanged("interval");
if(!this.get_isUpdating()&&(this._timer!==null)){this._stopTimer();
this._startTimer();
}}},get_enabled:function(){return this._enabled;
},set_enabled:function(a){if(a!==this.get_enabled()){this._enabled=a;
this.raisePropertyChanged("enabled");
if(!this.get_isUpdating()){if(a){this._startTimer();
}else{this._stopTimer();
}}}},add_tick:function(a){this.get_events().addHandler("tick",a);
},remove_tick:function(a){this.get_events().removeHandler("tick",a);
},dispose:function(){this.set_enabled(false);
this._stopTimer();
Telerik.Web.Timer.callBaseMethod(this,"dispose");
},updated:function(){Telerik.Web.Timer.callBaseMethod(this,"updated");
if(this._enabled){this._stopTimer();
this._startTimer();
}},_timerCallback:function(){var a=this.get_events().getHandler("tick");
if(a){a(this,Sys.EventArgs.Empty);
}},_startTimer:function(){this._timer=window.setInterval(this._timerCallbackDelegate,this._interval);
},_stopTimer:function(){window.clearInterval(this._timer);
this._timer=null;
}};
Telerik.Web.Timer.registerClass("Telerik.Web.Timer",Sys.Component);
Telerik.Web.BoxSide=function(){};
Telerik.Web.BoxSide.prototype={Top:0,Right:1,Bottom:2,Left:3};
Telerik.Web.BoxSide.registerEnum("Telerik.Web.BoxSide",false);
Telerik.Web.UI.WebServiceLoaderEventArgs=function(a){Telerik.Web.UI.WebServiceLoaderEventArgs.initializeBase(this);
this._context=a;
};
Telerik.Web.UI.WebServiceLoaderEventArgs.prototype={get_context:function(){return this._context;
}};
Telerik.Web.UI.WebServiceLoaderEventArgs.registerClass("Telerik.Web.UI.WebServiceLoaderEventArgs",Sys.EventArgs);
Telerik.Web.UI.WebServiceLoaderSuccessEventArgs=function(b,a){Telerik.Web.UI.WebServiceLoaderSuccessEventArgs.initializeBase(this,[a]);
this._data=b;
};
Telerik.Web.UI.WebServiceLoaderSuccessEventArgs.prototype={get_data:function(){return this._data;
}};
Telerik.Web.UI.WebServiceLoaderSuccessEventArgs.registerClass("Telerik.Web.UI.WebServiceLoaderSuccessEventArgs",Telerik.Web.UI.WebServiceLoaderEventArgs);
Telerik.Web.UI.WebServiceLoaderErrorEventArgs=function(b,a){Telerik.Web.UI.WebServiceLoaderErrorEventArgs.initializeBase(this,[a]);
this._message=b;
};
Telerik.Web.UI.WebServiceLoaderErrorEventArgs.prototype={get_message:function(){return this._message;
}};
Telerik.Web.UI.WebServiceLoaderErrorEventArgs.registerClass("Telerik.Web.UI.WebServiceLoaderErrorEventArgs",Telerik.Web.UI.WebServiceLoaderEventArgs);
Telerik.Web.UI.WebServiceLoader=function(a){this._webServiceSettings=a;
this._events=null;
this._onWebServiceSuccessDelegate=Function.createDelegate(this,this._onWebServiceSuccess);
this._onWebServiceErrorDelegate=Function.createDelegate(this,this._onWebServiceError);
this._currentRequest=null;
};
Telerik.Web.UI.WebServiceLoader.prototype={get_webServiceSettings:function(){return this._webServiceSettings;
},get_events:function(){if(!this._events){this._events=new Sys.EventHandlerList();
}return this._events;
},loadData:function(b,a){var c=this.get_webServiceSettings();
this.invokeMethod(c.get_method(),b,a);
},invokeMethod:function(d,b,a){var f=this.get_webServiceSettings();
if(f.get_isEmpty()){alert("Please, specify valid web service and method.");
return;
}this._raiseEvent("loadingStarted",new Telerik.Web.UI.WebServiceLoaderEventArgs(a));
var e=f.get_path();
var c=f.get_useHttpGet();
this._currentRequest=Sys.Net.WebServiceProxy.invoke(e,d,c,b,this._onWebServiceSuccessDelegate,this._onWebServiceErrorDelegate,a);
},add_loadingStarted:function(a){this.get_events().addHandler("loadingStarted",a);
},add_loadingError:function(a){this.get_events().addHandler("loadingError",a);
},add_loadingSuccess:function(a){this.get_events().addHandler("loadingSuccess",a);
},_serializeDictionaryAsKeyValuePairs:function(a){var c=[];
for(var b in a){c[c.length]={Key:b,Value:a[b]};
}return c;
},_onWebServiceSuccess:function(b,a){var c=new Telerik.Web.UI.WebServiceLoaderSuccessEventArgs(b,a);
this._raiseEvent("loadingSuccess",c);
},_onWebServiceError:function(b,a){var c=new Telerik.Web.UI.WebServiceLoaderErrorEventArgs(b.get_message(),a);
this._raiseEvent("loadingError",c);
},_raiseEvent:function(b,a){var c=this.get_events().getHandler(b);
if(c){if(!a){a=Sys.EventArgs.Empty;
}c(this,a);
}}};
Telerik.Web.UI.WebServiceLoader.registerClass("Telerik.Web.UI.WebServiceLoader");
Telerik.Web.UI.WebServiceSettings=function(a){this._path=null;
this._method=null;
this._useHttpGet=false;
this._odata=false;
if(!a){a={};
}if(typeof(a.path)!="undefined"){this._path=a.path;
}if(typeof(a.method)!="undefined"){this._method=a.method;
}if(typeof(a.useHttpGet)!="undefined"){this._useHttpGet=a.useHttpGet;
}};
Telerik.Web.UI.WebServiceSettings.prototype={get_isWcf:function(){return/\.svc($|\/)/.test(this._path)&&!this.get_isOData();
},get_isOData:function(){return this._odata;
},get_path:function(){return this._path;
},set_path:function(a){this._path=a;
},get_method:function(){return this._method;
},set_method:function(a){this._method=a;
},get_useHttpGet:function(){return this._useHttpGet;
},set_useHttpGet:function(a){this._useHttpGet=a;
},get_isEmpty:function(){var b=this.get_path();
var a=this.get_method();
return(!(b&&a));
}};
Telerik.Web.UI.WebServiceSettings.registerClass("Telerik.Web.UI.WebServiceSettings");
Telerik.Web.UI.CallbackLoader=function(a){this._callbackSettings=a;
};
Telerik.Web.UI.CallbackLoader.prototype={invokeCallbackMethod:function(){WebForm_DoCallback(this._callbackSettings._id,this._callbackSettings._arguments,this._callbackSettings._onCallbackSuccess,this._callbackSettings._context,this._callbackSettings._onCallbackError,this._callbackSettings._isAsync);
}};
Telerik.Web.UI.CallbackLoader.registerClass("Telerik.Web.UI.CallbackLoader");
Telerik.Web.UI.CallbackSettings=function(a){this._id=a.id;
this._arguments=a["arguments"];
this._onCallbackSuccess=a.onCallbackSuccess;
this._context=a.context;
this._onCallbackError=a.onCallbackError;
this._isAsync=a.isAsync;
};
Telerik.Web.UI.CallbackSettings.registerClass("Telerik.Web.UI.CallbackSettings");
Telerik.Web.UI.WaiAriaDecorator=function(b,a){this._element=b;
this._ariaSettings=a;
};
Telerik.Web.UI.WaiAriaDecorator.prototype={setAttributes:function(){var b=this.get_ariaSettings();
for(var a in b){var c=b[a];
if(c){this.get_element().setAttribute(a,c);
}}},get_element:function(){return this._element;
},set_element:function(a){this._element=a;
},get_ariaSettings:function(){return this._ariaSettings;
},set_ariaSettings:function(a){this._ariaSettings=a;
}};
Telerik.Web.UI.WaiAriaDecorator.registerClass("Telerik.Web.UI.WaiAriaDecorator");
Telerik.Web.UI.KeyboardNavigationSettings=function(a,b){this._element=a;
this._navigationSettings=b;
};
Telerik.Web.UI.KeyboardNavigationSettings.prototype={initialize:function(){var c=this;
var b=Sys.Serialization.JavaScriptSerializer.deserialize(this._navigationSettings);
var a=this._keyboardNavigationHandler=function(f){if(c.isModifierSatisfied(b.commandKey,f)&&f.keyCode===b.focusKey){var d=$telerik.$(c.get_element());
if(!d.is("a,input,select,button,iframe")&&!d.attr("tabindex")){d.attr("tabindex","0");
}d.focus();
}};
$telerik.$(document.body).on("keydown",a);
},dispose:function(){$telerik.$(document.body).off("keydown",this._keyboardNavigationHandler);
},get_element:function(){return this._element;
},set_element:function(a){this._element=a;
},get_navigationSettings:function(){return this._navigationSettings;
},set_navigationSettings:function(a){this._navigationSettings=a;
},isModifierSatisfied:function(d,c){var f=Telerik.Web.UI.KeyboardModifier;
var a=c.altKey===((4&d)>0);
var b=c.ctrlKey===((2&d)>0);
var h=c.shiftKey===((8&d)>0);
var g=a&&b&&h;
if(d&f.None){g=false;
}if(d&f.Cmd){g=c.metaKey;
}return g;
}};
Telerik.Web.UI.KeyboardNavigationSettings.registerClass("Telerik.Web.UI.KeyboardNavigationSettings");
Telerik.Web.UI.KeyboardModifier=function(){throw Error.invalidOperation();
};
Telerik.Web.UI.KeyboardModifier.prototype={None:1,Ctrl:2,Alt:4,AltCtrl:6,Shift:8,CtrlShift:10,AltShift:12,Cmd:16};
Telerik.Web.UI.KeyboardModifier.registerEnum("Telerik.Web.UI.KeyboardModifier",false);
Telerik.Web.UI.ActionsManager=function(a){Telerik.Web.UI.ActionsManager.initializeBase(this);
this._actions=[];
this._currentActionIndex=-1;
};
Telerik.Web.UI.ActionsManager.prototype={get_actions:function(){return this._actions;
},shiftPointerLeft:function(){this._currentActionIndex--;
},shiftPointerRight:function(){this._currentActionIndex++;
},get_currentAction:function(){return this.get_actions()[this._currentActionIndex];
},get_nextAction:function(){return this.get_actions()[this._currentActionIndex+1];
},addAction:function(a){if(a){var b=new Telerik.Web.UI.ActionsManagerEventArgs(a);
this.raiseEvent("executeAction",b);
this._clearActionsToRedo();
Array.add(this._actions,a);
this._currentActionIndex=this._actions.length-1;
return true;
}return false;
},undo:function(d){if(d==null){d=1;
}if(d>this._actions.length){d=this._actions.length;
}var c=0;
var a=null;
while(0<d--&&0<=this._currentActionIndex&&this._currentActionIndex<this._actions.length){a=this._actions[this._currentActionIndex--];
if(a){var b=new Telerik.Web.UI.ActionsManagerEventArgs(a);
this.raiseEvent("undoAction",b);
c++;
}}},redo:function(e){if(e==null){e=1;
}if(e>this._actions.length){e=this._actions.length;
}var d=0;
var a=null;
var b=this._currentActionIndex+1;
while(0<e--&&0<=b&&b<this._actions.length){a=this._actions[b];
if(a){var c=new Telerik.Web.UI.ActionsManagerEventArgs(a);
this.raiseEvent("redoAction",c);
this._currentActionIndex=b;
d++;
}b++;
}},removeActionAt:function(a){this._actions.splice(a,1);
if(this._currentActionIndex>=a){this._currentActionIndex--;
}},canUndo:function(){return(-1<this._currentActionIndex);
},canRedo:function(){return(this._currentActionIndex<this._actions.length-1);
},getActionsToUndo:function(){if(this.canUndo()){return(this._actions.slice(0,this._currentActionIndex+1)).reverse();
}return[];
},getActionsToRedo:function(){if(this.canRedo()){return this._actions.slice(this._currentActionIndex+1);
}return[];
},_clearActionsToRedo:function(){if(this.canRedo()){var a=this._currentActionIndex+2;
if(a<this._actions.length){this._actions.splice(a,this._actions.length-a);
}}},add_undoAction:function(a){this.get_events().addHandler("undoAction",a);
},remove_undoAction:function(a){this.get_events().removeHandler("undoAction",a);
},add_redoAction:function(a){this.get_events().addHandler("redoAction",a);
},remove_redoAction:function(a){this.get_events().removeHandler("redoAction",a);
},add_executeAction:function(a){this.get_events().addHandler("executeAction",a);
},remove_executeAction:function(a){this.get_events().removeHandler("executeAction",a);
},raiseEvent:function(b,a){var c=this.get_events().getHandler(b);
if(c){c(this,a);
}}};
Telerik.Web.UI.ActionsManager.registerClass("Telerik.Web.UI.ActionsManager",Sys.Component);
Telerik.Web.UI.ActionsManagerEventArgs=function(a){Telerik.Web.UI.ActionsManagerEventArgs.initializeBase(this);
this._action=a;
};
Telerik.Web.UI.ActionsManagerEventArgs.prototype={get_action:function(){return this._action;
}};
Telerik.Web.UI.ActionsManagerEventArgs.registerClass("Telerik.Web.UI.ActionsManagerEventArgs",Sys.CancelEventArgs);
Telerik.Web.StringBuilder=function(a){this._buffer=a||[];
};
Telerik.Web.StringBuilder.prototype={append:function(b){for(var a=0;
a<arguments.length;
a++){this._buffer[this._buffer.length]=arguments[a];
}return this;
},toString:function(){return this._buffer.join("");
},get_buffer:function(){return this._buffer;
}};
Telerik.Web.UI.RadTemplateBoundEventArgs=function(a,c,b){Telerik.Web.UI.RadTemplateBoundEventArgs.initializeBase(this);
this._dataItem=a;
this._template=c;
this._html=b;
};
Telerik.Web.UI.RadTemplateBoundEventArgs.prototype={get_dataItem:function(){return this._dataItem;
},set_html:function(a){this._html=a;
},get_html:function(a){return this._html;
},get_template:function(a){return this._template;
}};
Telerik.Web.UI.RadTemplateBoundEventArgs.registerClass("Telerik.Web.UI.RadTemplateBoundEventArgs",Sys.EventArgs);
(function(){function g(){if($telerik.$){return $telerik.$.extend.apply($telerik.$,arguments);
}var n=arguments[0]&&typeof(arguments[0])==="object"?arguments[0]:{};
for(var k=1;
k<arguments.length;
k++){var m=arguments[k];
if(m!=null){for(var l in m){var j=m[l];
if(typeof(j)!=="undefined"){n[l]=j;
}}}}return n;
}function b(j,l){if(l){return"'"+j.split("'").join("\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";
}else{var i=j.charAt(0),k=j.substring(1);
if(i==="="){return"+("+k+")+";
}else{if(i===":"){return"+e("+k+")+";
}else{return";"+j+";o+=";
}}}}var a=/^\w+/,d=/\${([^}]*)}/g,e=/\\}/g,c=/__CURLY__/g,f=/\\#/g,h=/__SHARP__/g;
Telerik.Web.UI.Template={paramName:"data",useWithBlock:true,render:function(m,i){var k,l,j="";
for(k=0,l=i.length;
k<l;
k++){j+=m(i[k]);
}return j;
},compile:function(q,m){var p=g({},this,m),n=p.paramName,i=n.match(a)[0],r=p.useWithBlock,k="var o,e=$telerik.htmlEncode;",o,l;
if(typeof(q)==="function"){if(q.length===2){return function(s){return q($telerik.$||jQuery,{data:s}).join("");
};
}return q;
}k+=r?"with("+n+"){":"";
k+="o=";
o=q.replace(e,"__CURLY__").replace(d,"#=e($1)#").replace(c,"}").replace(f,"__SHARP__").split("#");
for(l=0;
l<o.length;
l++){k+=b(o[l],l%2===0);
}k+=r?";}":";";
k+="return o;";
k=k.replace(h,"#");
try{return new Function(i,k);
}catch(j){throw new Error(String.format("Invalid template:'{0}' Generated code:'{1}'",q,k));
}}};
})();
(function(){var a=$telerik;
var n="touch";
var j="pointer";
var f="mouse";
var o=/touch/gi;
var k=/pointer/gi;
var g=/mouse/gi;
var d=1;
var h="pageX";
var i="pageY";
var b="clientX";
var c="clientY";
var l="screenX";
var m="screenY";
var e=[h,i,b,c,l,m];
a.getEventLocation=function(q){var w=q.originalEvent||null;
var p=(w&&w.changedTouches)?w.changedTouches:[];
var s=w||q;
var r={};
var u=e.length;
var t=null;
var v=null;
if(p&&p.length===1){s=p[0];
}for(t=0;
t<u;
t++){v=e[t];
r[v]=s[v]||q[v];
}return r;
};
a.getTouchLocation=function(t){var q={};
var s=null;
var r=e.length;
var p=null;
for(p=0;
p<r;
p++){s=e[p];
q[s]=t[s];
}return q;
};
a.getTouches=function(t){var w=t.type;
var v=null;
var u=t.currentTarget;
var y=t.originalEvent||null;
var z=[];
var p=null;
var s=null;
var q=(y&&y.changedTouches)?y.changedTouches:[];
var r=q.length;
var x=null;
v=a.getEventLocation(t);
if(w.match(o)){for(x=0;
x<r;
x++){p=q[x];
s=a.getTouchLocation(p);
z.push({type:n,target:p.target,currentTarget:u,id:p.identifier,location:s,event:t});
}}else{if(w.match(k)){z.push({type:j,target:t.target,currentTarget:u,id:y.pointerId,location:v,event:t});
}else{if(w.match(g)){z.push({type:f,target:t.target,currentTarget:u,id:d,location:v,event:t});
}else{z.push({type:w,target:t.target,currentTarget:u,id:d,location:v,event:t});
}}}return z;
};
})();
(function(){if(Sys&&Sys.WebForms&&Sys.WebForms.PageRequestManager){Sys.WebForms.PageRequestManager.prototype._onFormElementClick=function(a){if(window.navigator.msPointerEnabled){this._activeDefaultButtonClicked=(a.target===this._activeDefaultButton);
this._onFormElementActive(a.target,parseInt(a.offsetX,10),parseInt(a.offsetY,10));
}else{this._activeDefaultButtonClicked=(a.target===this._activeDefaultButton);
this._onFormElementActive(a.target,a.offsetX,a.offsetY);
}};
}}());
(function(e){Type.registerNamespace("Telerik.Web.UI.Events");
var a=Telerik.Web.UI;
var c=a.Events;
a.NodeMutationObserver=function(f){this.callback=f;
this.mutations=[];
};
a.NodeMutationObserver.prototype={observe:function(g,h){if(typeof(MutationObserver)==="undefined"){return;
}var f=new MutationObserver(this.callback);
f.observe(g,h);
this.mutations.push({node:g,mutation:f});
},disconnect:function(g){var f=this.findMutationIndex(g);
if(f==-1){return;
}var h=this.mutations[f];
h.mutation.disconnect();
Array.removeAt(this.mutations,f);
},findMutationIndex:function(h){var g=this.mutations;
for(var f=0;
f<g.length;
f++){var j=g[f];
if(j.node===h){return f;
}}return -1;
},isEmpty:function(){return this.mutations.length===0;
},dispose:function(){while(this.mutations.length){this.mutations.pop().mutation.disconnect();
}this.callback=null;
}};
function d(g,h,f){var i=$telerik.$.extend({},f||{});
var j;
if(document.createEvent){j=document.createEvent("MouseEvents");
j.initMouseEvent(h,i.bubbles,i.cancelable,document.defaultView,i.button,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,g);
}else{if("MouseEvent" in window){j=new MouseEvent("click",i);
}}j&&g.dispatchEvent(j);
if(!j){j=b(document.createEventObject(),i);
g.fireEvent("on"+h,j);
}return g;
}function b(f,h){for(var g in h){f[g]=h[g];
}return f;
}c.simulateMouseEvent=d;
})();
(function(e){Type.registerNamespace("Telerik.Web.UI");
var a=Telerik.Web.UI;
a.NodeDataStorage=function(f){this.options=$telerik.$.extend({getNodes:function(){return[];
},getNodeValue:function(g){},setNodeValue:function(g){},onStore:function(){}},f||{});
this.storage=[];
};
a.NodeDataStorage.prototype={store:function(){var k=this.options;
var j=k.getNodes();
this.cleanUp();
for(var f=0,g=j.length;
f<g;
f++){var h=j[f];
this.storage.push({node:h,value:k.getNodeValue(h)});
k.onStore(h);
}},restore:function(){var g=this.options;
var h=this.storage;
while(h.length){var f=h.pop();
g.setNodeValue(f.node,f.value);
}},cleanUp:function(){this.storage=[];
}};
a.NodeDataStorage.registerClass("Telerik.Web.UI.NodeDataStorage");
function b(f){if(typeof(f)==="function"){return f;
}else{if(typeof(f)==="string"){return function(){return $telerik.$(f);
};
}}}function d(f,g){if(g&&typeof(g.onStore)==="function"){f.getNodes=b(g.getNodes);
f.onStore=g.onStore;
}else{f.getNodes=b(g);
}return f;
}a.NodeAttributeDataStorage=function(f,h){var g=d(c(f),h);
return new a.NodeDataStorage(g);
};
function c(f){return{getNodeValue:function(g){return g.getAttribute(f);
},setNodeValue:function(g,h){if(h===null||h===e){g.removeAttribute(f);
}else{g.setAttribute(f,h);
}}};
}})();

/* END Telerik.Web.UI.Common.Core.js */
/* START Telerik.Web.UI.Common.jQuery.js */
/*! jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="1.12.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(!l.ownFirst)for(b in a)return k.call(a,b);for(b in a);return void 0===b||k.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(h)return h.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=e.call(arguments,2),d=function(){return a.apply(b||this,c.concat(e.call(arguments)))},d.guid=a.guid=a.guid||n.guid++,d):void 0},now:function(){return+new Date},support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(f=d.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return A.find(a);this.length=1,this[0]=f}return this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||(e=n.uniqueSort(e)),D.test(a)&&(e=e.reverse())),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=!0,c||j.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.addEventListener?(d.removeEventListener("DOMContentLoaded",K),a.removeEventListener("load",K)):(d.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(d.addEventListener||"load"===a.event.type||"complete"===d.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll)a.setTimeout(n.ready);else if(d.addEventListener)d.addEventListener("DOMContentLoaded",K),a.addEventListener("load",K);else{d.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&d.documentElement}catch(e){}c&&c.doScroll&&!function f(){if(!n.isReady){try{c.doScroll("left")}catch(b){return a.setTimeout(f,50)}J(),n.ready()}}()}return I.promise(b)},n.ready.promise();var L;for(L in n(l))break;l.ownFirst="0"===L,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c,e;c=d.getElementsByTagName("body")[0],c&&c.style&&(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(e))}),function(){var a=d.createElement("div");l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}a=null}();var M=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b},N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0;
}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(M(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),"object"!=typeof b&&"function"!=typeof b||(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(M(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}}),function(){var a;l.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,e;return c=d.getElementsByTagName("body")[0],c&&c.style?(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(d.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(e),a):void 0}}();var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],W=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function X(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&U.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var Y=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)Y(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Z=/^(?:checkbox|radio)$/i,$=/<([\w:-]+)/,_=/^$|\/(?:java|ecma)script/i,aa=/^\s+/,ba="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ca(a){var b=ba.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}!function(){var a=d.createElement("div"),b=d.createDocumentFragment(),c=d.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=3===a.firstChild.nodeType,l.tbody=!a.getElementsByTagName("tbody").length,l.htmlSerialize=!!a.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==d.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),l.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=d.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),l.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!!a.addEventListener,a[n.expando]=1,l.attributes=!a.getAttribute(n.expando)}();var da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};da.optgroup=da.option,da.tbody=da.tfoot=da.colgroup=da.caption=da.thead,da.th=da.td;function ea(a,b){var c,d,e=0,f="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,ea(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function fa(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}var ga=/<|&#?\w+;/,ha=/<tbody/i;function ia(a){Z.test(a.type)&&(a.defaultChecked=a.checked)}function ja(a,b,c,d,e){for(var f,g,h,i,j,k,m,o=a.length,p=ca(b),q=[],r=0;o>r;r++)if(g=a[r],g||0===g)if("object"===n.type(g))n.merge(q,g.nodeType?[g]:g);else if(ga.test(g)){i=i||p.appendChild(b.createElement("div")),j=($.exec(g)||["",""])[1].toLowerCase(),m=da[j]||da._default,i.innerHTML=m[1]+n.htmlPrefilter(g)+m[2],f=m[0];while(f--)i=i.lastChild;if(!l.leadingWhitespace&&aa.test(g)&&q.push(b.createTextNode(aa.exec(g)[0])),!l.tbody){g="table"!==j||ha.test(g)?"<table>"!==m[1]||ha.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;while(f--)n.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k)}n.merge(q,i.childNodes),i.textContent="";while(i.firstChild)i.removeChild(i.firstChild);i=p.lastChild}else q.push(b.createTextNode(g));i&&p.removeChild(i),l.appendChecked||n.grep(ea(q,"input"),ia),r=0;while(g=q[r++])if(d&&n.inArray(g,d)>-1)e&&e.push(g);else if(h=n.contains(g.ownerDocument,g),i=ea(p.appendChild(g),"script"),h&&fa(i),c){f=0;while(g=i[f++])_.test(g.type||"")&&c.push(g)}return i=null,p}!function(){var b,c,e=d.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b]=c in a)||(e.setAttribute(c,"t"),l[b]=e.attributes[c].expando===!1);e=null}();var ka=/^(?:input|select|textarea)$/i,la=/^key/,ma=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,na=/^(?:focusinfocus|focusoutblur)$/,oa=/^([^.]*)(?:\.(.+)|)/;function pa(){return!0}function qa(){return!1}function ra(){try{return d.activeElement}catch(a){}}function sa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)sa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=qa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return"undefined"==typeof n||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(G)||[""],h=b.length;while(h--)f=oa.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=oa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(i=m=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!na.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),h=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),l=n.event.special[q]||{},f||!l.trigger||l.trigger.apply(e,c)!==!1)){if(!f&&!l.noBubble&&!n.isWindow(e)){for(j=l.delegateType||q,na.test(j+q)||(i=i.parentNode);i;i=i.parentNode)p.push(i),m=i;m===(e.ownerDocument||d)&&p.push(m.defaultView||m.parentWindow||a)}o=0;while((i=p[o++])&&!b.isPropagationStopped())b.type=o>1?j:l.bindType||q,g=(n._data(i,"events")||{})[b.type]&&n._data(i,"handle"),g&&g.apply(i,c),g=h&&i[h],g&&g.apply&&M(i)&&(b.result=g.apply(i,c),b.result===!1&&b.preventDefault());if(b.type=q,!f&&!b.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),c)===!1)&&M(e)&&h&&e[q]&&!n.isWindow(e)){m=e[h],m&&(e[h]=null),n.event.triggered=q;try{e[q]()}catch(s){}n.event.triggered=void 0,m&&(e[h]=m)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ma.test(f)?this.mouseHooks:la.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=g.srcElement||d),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||d,f=e.documentElement,c=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ra()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ra()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=d.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?pa:qa):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:qa,isPropagationStopped:qa,isImmediatePropagationStopped:qa,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=pa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=pa,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=pa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submit||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?n.prop(b,"form"):void 0;c&&!n._data(c,"submit")&&(n.event.add(c,"submit._submit",function(a){a._submitBubble=!0}),n._data(c,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.change||(n.event.special.change={setup:function(){return ka.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),n.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),n.event.simulate("change",this,a)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;ka.test(b.nodeName)&&!n._data(b,"change")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a)}),n._data(b,"change",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!ka.test(this.nodeName)}}),l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d){return sa(this,a,b,c,d)},one:function(a,b,c,d){return sa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=qa),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ta=/ jQuery\d+="(?:null|\d+)"/g,ua=new RegExp("<(?:"+ba+")[\\s/>]","i"),va=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wa=/<script|<style|<link/i,xa=/checked\s*(?:[^=]|=\s*.checked.)/i,ya=/^true\/(.*)/,za=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Aa=ca(d),Ba=Aa.appendChild(d.createElement("div"));function Ca(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function Da(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function Ea(a){var b=ya.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Fa(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Ga(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(Da(b).text=a.text,Ea(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Z.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function Ha(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&xa.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),Ha(f,b,c,d)});if(o&&(k=ja(b,a[0].ownerDocument,!1,a,d),e=k.firstChild,1===k.childNodes.length&&(k=e),e||d)){for(i=n.map(ea(k,"script"),Da),h=i.length;o>m;m++)g=k,m!==p&&(g=n.clone(g,!0,!0),h&&n.merge(i,ea(g,"script"))),c.call(a[m],g,m);if(h)for(j=i[i.length-1].ownerDocument,n.map(i,Ea),m=0;h>m;m++)g=i[m],_.test(g.type||"")&&!n._data(g,"globalEval")&&n.contains(j,g)&&(g.src?n._evalUrl&&n._evalUrl(g.src):n.globalEval((g.text||g.textContent||g.innerHTML||"").replace(za,"")));k=e=null}return a}function Ia(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(ea(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&fa(ea(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(va,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!ua.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Ba.innerHTML=a.outerHTML,Ba.removeChild(f=Ba.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=ea(f),h=ea(a),g=0;null!=(e=h[g]);++g)d[g]&&Ga(e,d[g]);if(b)if(c)for(h=h||ea(a),d=d||ea(f),g=0;null!=(e=h[g]);g++)Fa(e,d[g]);else Fa(a,f);return d=ea(f,"script"),d.length>0&&fa(d,!i&&ea(a,"script")),d=h=e=null,f},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.attributes,m=n.event.special;null!=(d=a[h]);h++)if((b||M(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k||"undefined"==typeof d.removeAttribute?d[i]=void 0:d.removeAttribute(i),c.push(f))}}}),n.fn.extend({domManip:Ha,detach:function(a){return Ia(this,a,!0)},remove:function(a){return Ia(this,a)},text:function(a){return Y(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||d).createTextNode(a))},null,a,arguments.length)},append:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.appendChild(a)}})},prepend:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(ea(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return Y(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(ta,""):void 0;if("string"==typeof a&&!wa.test(a)&&(l.htmlSerialize||!ua.test(a))&&(l.leadingWhitespace||!aa.test(a))&&!da[($.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ea(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ha(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(ea(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],f=n(a),h=f.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(f[d])[b](c),g.apply(e,c.get());return this.pushStack(e)}});var Ja,Ka={HTML:"block",BODY:"block"};function La(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function Ma(a){var b=d,c=Ka[a];return c||(c=La(a,b),"none"!==c&&c||(Ja=(Ja||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ja[0].contentWindow||Ja[0].contentDocument).document,b.write(),b.close(),c=La(a,b),Ja.detach()),Ka[a]=c),c}var Na=/^margin/,Oa=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Pa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Qa=d.documentElement;!function(){var b,c,e,f,g,h,i=d.createElement("div"),j=d.createElement("div");if(j.style){j.style.cssText="float:left;opacity:.5",l.opacity="0.5"===j.style.opacity,l.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===j.style.backgroundClip,i=d.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),l.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,n.extend(l,{reliableHiddenOffsets:function(){return null==b&&k(),f},boxSizingReliable:function(){return null==b&&k(),e},pixelMarginRight:function(){return null==b&&k(),c},pixelPosition:function(){return null==b&&k(),b},reliableMarginRight:function(){return null==b&&k(),g},reliableMarginLeft:function(){return null==b&&k(),h}});function k(){var k,l,m=d.documentElement;m.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",b=e=h=!1,c=g=!0,a.getComputedStyle&&(l=a.getComputedStyle(j),b="1%"!==(l||{}).top,h="2px"===(l||{}).marginLeft,e="4px"===(l||{width:"4px"}).width,j.style.marginRight="50%",c="4px"===(l||{marginRight:"4px"}).marginRight,k=j.appendChild(d.createElement("div")),k.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",k.style.marginRight=k.style.width="0",j.style.width="1px",g=!parseFloat((a.getComputedStyle(k)||{}).marginRight),j.removeChild(k)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",j.childNodes[0].style.borderCollapse="separate",k=j.getElementsByTagName("td"),k[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===k[0].offsetHeight,f&&(k[0].style.display="",k[1].style.display="none",f=0===k[0].offsetHeight)),m.removeChild(i)}}}();var Ra,Sa,Ta=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ra=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Oa.test(g)&&Na.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+""}):Qa.currentStyle&&(Ra=function(a){return a.currentStyle},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Oa.test(g)&&!Ta.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Ua(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Va=/alpha\([^)]*\)/i,Wa=/opacity\s*=\s*([^)]*)/i,Xa=/^(none|table(?!-c[ea]).+)/,Ya=new RegExp("^("+T+")(.*)$","i"),Za={position:"absolute",visibility:"hidden",display:"block"},$a={letterSpacing:"0",fontWeight:"400"},_a=["Webkit","O","Moz","ms"],ab=d.createElement("div").style;function bb(a){if(a in ab)return a;var b=a.charAt(0).toUpperCase()+a.slice(1),c=_a.length;while(c--)if(a=_a[c]+b,a in ab)return a}function cb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&W(d)&&(f[g]=n._data(d,"olddisplay",Ma(d.nodeName)))):(e=W(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function db(a,b,c){var d=Ya.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function eb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+V[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+V[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+V[f]+"Width",!0,e))):(g+=n.css(a,"padding"+V[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+V[f]+"Width",!0,e)));return g}function fb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g=l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Sa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Oa.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+eb(a,b,c||(g?"border":"content"),d,f)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Sa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=U.exec(c))&&e[1]&&(c=X(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Sa(a,b,d)),"normal"===f&&b in $a&&(f=$a[b]),""===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Xa.test(n.css(a,"display"))&&0===a.offsetWidth?Pa(a,Za,function(){return fb(a,b,d)}):fb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return db(a,c,d?eb(a,b,d,l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Wa.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Va,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Va.test(f)?f.replace(Va,e):f+" "+e)}}),n.cssHooks.marginRight=Ua(l.reliableMarginRight,function(a,b){return b?Pa(a,{display:"inline-block"},Sa,[a,"marginRight"]):void 0}),n.cssHooks.marginLeft=Ua(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Sa(a,"marginLeft"))||(n.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Pa(a,{
marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px":void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+V[d]+b]=f[d]||f[d-2]||f[0];return e}},Na.test(a)||(n.cssHooks[a+b].set=db)}),n.fn.extend({css:function(a,b){return Y(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return cb(this,!0)},hide:function(){return cb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){W(this)?n(this).show():n(this).hide()})}});function gb(a,b,c,d,e){return new gb.prototype.init(a,b,c,d,e)}n.Tween=gb,gb.prototype={constructor:gb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=gb.propHooks[this.prop];return a&&a.get?a.get(this):gb.propHooks._default.get(this)},run:function(a){var b,c=gb.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):gb.propHooks._default.set(this),this}},gb.prototype.init.prototype=gb.prototype,gb.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},gb.propHooks.scrollTop=gb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=gb.prototype.init,n.fx.step={};var hb,ib,jb=/^(?:toggle|show|hide)$/,kb=/queueHooks$/;function lb(){return a.setTimeout(function(){hb=void 0}),hb=n.now()}function mb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=V[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function nb(a,b,c){for(var d,e=(qb.tweeners[b]||[]).concat(qb.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ob(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&W(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k="none"===j?n._data(a,"olddisplay")||Ma(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Ma(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],jb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(o))"inline"===("none"===j?Ma(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=nb(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function pb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function qb(a,b,c){var d,e,f=0,g=qb.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=hb||lb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:hb||lb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(pb(k,j.opts.specialEasing);g>f;f++)if(d=qb.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,nb,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(qb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return X(c.elem,a,U.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],qb.tweeners[c]=qb.tweeners[c]||[],qb.tweeners[c].unshift(b)},prefilters:[ob],prefilter:function(a,b){b?qb.prefilters.unshift(a):qb.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(W).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=qb(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&kb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(mb(b,!0),a,d,e)}}),n.each({slideDown:mb("show"),slideUp:mb("hide"),slideToggle:mb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(hb=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),hb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ib||(ib=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(ib),ib=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a,b=d.createElement("input"),c=d.createElement("div"),e=d.createElement("select"),f=e.appendChild(d.createElement("option"));c=d.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==c.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=f.selected,l.enctype=!!d.createElement("form").enctype,e.disabled=!0,l.optDisabled=!f.disabled,b=d.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value}();var rb=/\r/g,sb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(sb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>-1)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var tb,ub,vb=n.expr.attrHandle,wb=/^(?:checked|selected)$/i,xb=l.getSetAttribute,yb=l.input;n.fn.extend({attr:function(a,b){return Y(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ub:tb)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?yb&&xb||!wb.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(xb?c:d)}}),ub={set:function(a,b,c){return b===!1?n.removeAttr(a,c):yb&&xb||!wb.test(c)?a.setAttribute(!xb&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=vb[b]||n.find.attr;yb&&xb||!wb.test(b)?vb[b]=function(a,b,d){var e,f;return d||(f=vb[b],vb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,vb[b]=f),e}:vb[b]=function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),yb&&xb||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):tb&&tb.set(a,b,c)}}),xb||(tb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},vb.id=vb.name=vb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:tb.set},n.attrHooks.contenteditable={set:function(a,b,c){tb.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var zb=/^(?:input|select|textarea|button|object)$/i,Ab=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return Y(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var Bb=/[\t\r\n\f]/g;function Cb(a){return n.attr(a,"class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,Cb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,Cb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,Cb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=Cb(this),b&&n._data(this,"__className__",b),n.attr(this,"class",b||a===!1?"":n._data(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+Cb(c)+" ").replace(Bb," ").indexOf(b)>-1)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Db=a.location,Eb=n.now(),Fb=/\?/,Gb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(Gb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser,c=d.parseFromString(b,"text/xml")):(c=new a.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var Hb=/#.*$/,Ib=/([?&])_=[^&]*/,Jb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lb=/^(?:GET|HEAD)$/,Mb=/^\/\//,Nb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ob={},Pb={},Qb="*/".concat("*"),Rb=Db.href,Sb=Nb.exec(Rb.toLowerCase())||[];function Tb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Ub(a,b,c,d){var e={},f=a===Pb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Vb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Wb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Xb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rb,type:"GET",isLocal:Kb.test(Sb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Vb(Vb(a,n.ajaxSettings),b):Vb(n.ajaxSettings,a)},ajaxPrefilter:Tb(Ob),ajaxTransport:Tb(Pb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var d,e,f,g,h,i,j,k,l=n.ajaxSetup({},c),m=l.context||l,o=l.context&&(m.nodeType||m.jquery)?n(m):n.event,p=n.Deferred(),q=n.Callbacks("once memory"),r=l.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!k){k={};while(b=Jb.exec(g))k[b[1].toLowerCase()]=b[2]}b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return j&&j.abort(b),y(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,l.url=((b||l.url||Rb)+"").replace(Hb,"").replace(Mb,Sb[1]+"//"),l.type=c.method||c.type||l.method||l.type,l.dataTypes=n.trim(l.dataType||"*").toLowerCase().match(G)||[""],null==l.crossDomain&&(d=Nb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Sb[1]&&d[2]===Sb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Sb[3]||("http:"===Sb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=n.param(l.data,l.traditional)),Ub(Ob,l,c,w),2===u)return w;i=n.event&&l.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Lb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ib.test(f)?f.replace(Ib,"$1_="+Eb++):f+(Fb.test(f)?"&":"?")+"_="+Eb++)),l.ifModified&&(n.lastModified[f]&&w.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&w.setRequestHeader("If-None-Match",n.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Qb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)w.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,w,l)===!1||2===u))return w.abort();v="abort";for(e in{success:1,error:1,complete:1})w[e](l[e]);if(j=Ub(Pb,l,c,w)){if(w.readyState=1,i&&o.trigger("ajaxSend",[w,l]),2===u)return w;l.async&&l.timeout>0&&(h=a.setTimeout(function(){w.abort("timeout")},l.timeout));try{u=1,j.send(s,y)}catch(x){if(!(2>u))throw x;y(-1,x)}}else y(-1,"No Transport");function y(b,c,d,e){var k,s,t,v,x,y=c;2!==u&&(u=2,h&&a.clearTimeout(h),j=void 0,g=e||"",w.readyState=b>0?4:0,k=b>=200&&300>b||304===b,d&&(v=Wb(l,w,d)),v=Xb(l,v,w,k),k?(l.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(n.lastModified[f]=x),x=w.getResponseHeader("etag"),x&&(n.etag[f]=x)),204===b||"HEAD"===l.type?y="nocontent":304===b?y="notmodified":(y=v.state,s=v.data,t=v.error,k=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),w.status=b,w.statusText=(c||y)+"",k?p.resolveWith(m,[s,y,w]):p.rejectWith(m,[w,y,t]),w.statusCode(r),r=void 0,i&&o.trigger(k?"ajaxSuccess":"ajaxError",[w,l,k?s:t]),q.fireWith(m,[w,y]),i&&(o.trigger("ajaxComplete",[w,l]),--n.active||n.event.trigger("ajaxStop")))}return w},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}});function Yb(a){return a.style&&a.style.display||n.css(a,"display")}function Zb(a){if(!n.contains(a.ownerDocument||d,a))return!0;while(a&&1===a.nodeType){if("none"===Yb(a)||"hidden"===a.type)return!0;a=a.parentNode}return!1}n.expr.filters.hidden=function(a){return l.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:Zb(a)},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var $b=/%20/g,_b=/\[\]$/,ac=/\r?\n/g,bc=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;function dc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||_b.test(a)?d(a,e):dc(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)dc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)dc(c,a[c],b,e);return d.join("&").replace($b,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&cc.test(this.nodeName)&&!bc.test(a)&&(this.checked||!Z.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(ac,"\r\n")}}):{name:b.name,value:c.replace(ac,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?ic():d.documentMode>8?hc():/^(get|post|head|put|delete|options)$/i.test(this.type)&&hc()||ic()}:hc;var ec=0,fc={},gc=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in fc)fc[a](void 0,!0)}),l.cors=!!gc&&"withCredentials"in gc,gc=l.ajax=!!gc,gc&&n.ajaxTransport(function(b){if(!b.crossDomain||l.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++ec;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(b.hasContent&&b.data||null),c=function(a,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete fc[h],c=void 0,g.onreadystatechange=n.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText}catch(k){i=""}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=j.text?200:404}j&&e(f,i,j,g.getAllResponseHeaders())},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=fc[h]=c:c()},abort:function(){c&&c(void 0,!0)}}}});function hc(){try{return new a.XMLHttpRequest}catch(b){}}function ic(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=d.head||n("head")[0]||d.documentElement;return{send:function(e,f){b=d.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var jc=[],kc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=jc.pop()||n.expando+"_"+Eb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(kc.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&kc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(kc,"$1"+e):b.jsonp!==!1&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,jc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ja([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var lc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&lc)return lc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h,a.length)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function mc(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?("undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=mc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Qa})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return Y(this,function(a,d,e){var f=mc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ua(l.pixelPosition,function(a,c){return c?(c=Sa(a,b),Oa.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({
padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Y(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var nc=a.jQuery,oc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=oc),b&&a.jQuery===n&&(a.jQuery=nc),n},b||(a.jQuery=a.$=n),n});

// Move jQuery to $telerik
$telerik.$ = jQuery.noConflict(true);
$telerik.$.ajaxPrefilter(function(s){if(s.crossDomain){s.contents.script=false;}});
/* END Telerik.Web.UI.Common.jQuery.js */
/* START Telerik.Web.UI.Common.jQueryPlugins.js */
if(typeof $telerik.$==="undefined"){$telerik.$=jQuery;
/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright � 2008 George McGinley Smith
 * All rights reserved.
*/
/*
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright � 2001 Robert Penner
 * All rights reserved.
 */
}(function(a){a.easing.jswing=a.easing.swing;
a.extend(a.easing,{def:"easeOutQuad",swing:function(i,h,e,f,g){return a.easing[a.easing.def](i,h,e,f,g);
},easeLinear:function(i,h,e,f,g){return f*h/g+e;
},easeInQuad:function(i,h,e,f,g){return f*(h/=g)*h+e;
},easeOutQuad:function(i,h,e,f,g){return -f*(h/=g)*(h-2)+e;
},easeInOutQuad:function(i,h,e,f,g){if((h/=g/2)<1){return f/2*h*h+e;
}return -f/2*((--h)*(h-2)-1)+e;
},easeInCubic:function(i,h,e,f,g){return f*(h/=g)*h*h+e;
},easeOutCubic:function(i,h,e,f,g){return f*((h=h/g-1)*h*h+1)+e;
},easeInOutCubic:function(i,h,e,f,g){if((h/=g/2)<1){return f/2*h*h*h+e;
}return f/2*((h-=2)*h*h+2)+e;
},easeInQuart:function(i,h,e,f,g){return f*(h/=g)*h*h*h+e;
},easeOutQuart:function(i,h,e,f,g){return -f*((h=h/g-1)*h*h*h-1)+e;
},easeInOutQuart:function(i,h,e,f,g){if((h/=g/2)<1){return f/2*h*h*h*h+e;
}return -f/2*((h-=2)*h*h*h-2)+e;
},easeInQuint:function(i,h,e,f,g){return f*(h/=g)*h*h*h*h+e;
},easeOutQuint:function(i,h,e,f,g){return f*((h=h/g-1)*h*h*h*h+1)+e;
},easeInOutQuint:function(i,h,e,f,g){if((h/=g/2)<1){return f/2*h*h*h*h*h+e;
}return f/2*((h-=2)*h*h*h*h+2)+e;
},easeInSine:function(i,h,e,f,g){return -f*Math.cos(h/g*(Math.PI/2))+f+e;
},easeOutSine:function(i,h,e,f,g){return f*Math.sin(h/g*(Math.PI/2))+e;
},easeInOutSine:function(i,h,e,f,g){return -f/2*(Math.cos(Math.PI*h/g)-1)+e;
},easeInExpo:function(i,h,e,f,g){return(h==0)?e:f*Math.pow(2,10*(h/g-1))+e;
},easeOutExpo:function(i,h,e,f,g){return(h==g)?e+f:f*(-Math.pow(2,-10*h/g)+1)+e;
},easeInOutExpo:function(i,h,e,f,g){if(h==0){return e;
}if(h==g){return e+f;
}if((h/=g/2)<1){return f/2*Math.pow(2,10*(h-1))+e;
}return f/2*(-Math.pow(2,-10*--h)+2)+e;
},easeInCirc:function(i,h,e,f,g){return -f*(Math.sqrt(1-(h/=g)*h)-1)+e;
},easeOutCirc:function(i,h,e,f,g){return f*Math.sqrt(1-(h=h/g-1)*h)+e;
},easeInOutCirc:function(i,h,e,f,g){if((h/=g/2)<1){return -f/2*(Math.sqrt(1-h*h)-1)+e;
}return f/2*(Math.sqrt(1-(h-=2)*h)+1)+e;
},easeInElastic:function(l,k,f,g,h){var j=1.70158;
var i=0;
var e=g;
if(k==0){return f;
}if((k/=h)==1){return f+g;
}if(!i){i=h*0.3;
}if(e<Math.abs(g)){e=g;
var j=i/4;
}else{var j=i/(2*Math.PI)*Math.asin(g/e);
}return -(e*Math.pow(2,10*(k-=1))*Math.sin((k*h-j)*(2*Math.PI)/i))+f;
},easeOutElastic:function(l,k,f,g,h){var j=1.70158;
var i=0;
var e=g;
if(k==0){return f;
}if((k/=h)==1){return f+g;
}if(!i){i=h*0.3;
}if(e<Math.abs(g)){e=g;
var j=i/4;
}else{var j=i/(2*Math.PI)*Math.asin(g/e);
}return e*Math.pow(2,-10*k)*Math.sin((k*h-j)*(2*Math.PI)/i)+g+f;
},easeInOutElastic:function(l,k,f,g,h){var j=1.70158;
var i=0;
var e=g;
if(k==0){return f;
}if((k/=h/2)==2){return f+g;
}if(!i){i=h*(0.3*1.5);
}if(e<Math.abs(g)){e=g;
var j=i/4;
}else{var j=i/(2*Math.PI)*Math.asin(g/e);
}if(k<1){return -0.5*(e*Math.pow(2,10*(k-=1))*Math.sin((k*h-j)*(2*Math.PI)/i))+f;
}return e*Math.pow(2,-10*(k-=1))*Math.sin((k*h-j)*(2*Math.PI)/i)*0.5+g+f;
},easeInBack:function(j,i,e,f,g,h){if(h==undefined){h=1.70158;
}return f*(i/=g)*i*((h+1)*i-h)+e;
},easeOutBack:function(j,i,e,f,g,h){if(h==undefined){h=1.70158;
}return f*((i=i/g-1)*i*((h+1)*i+h)+1)+e;
},easeInOutBack:function(j,i,e,f,g,h){if(h==undefined){h=1.70158;
}if((i/=g/2)<1){return f/2*(i*i*(((h*=(1.525))+1)*i-h))+e;
}return f/2*((i-=2)*i*(((h*=(1.525))+1)*i+h)+2)+e;
},easeInBounce:function(i,h,e,f,g){return f-a.easing.easeOutBounce(i,g-h,0,f,g)+e;
},easeOutBounce:function(i,h,e,f,g){if((h/=g)<(1/2.75)){return f*(7.5625*h*h)+e;
}else{if(h<(2/2.75)){return f*(7.5625*(h-=(1.5/2.75))*h+0.75)+e;
}else{if(h<(2.5/2.75)){return f*(7.5625*(h-=(2.25/2.75))*h+0.9375)+e;
}else{return f*(7.5625*(h-=(2.625/2.75))*h+0.984375)+e;
}}}},easeInOutBounce:function(i,h,e,f,g){if(h<g/2){return a.easing.easeInBounce(i,h*2,0,f,g)*0.5+e;
}return a.easing.easeOutBounce(i,h*2-g,0,f,g)*0.5+f*0.5+e;
}});
})($telerik.$);
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(d,c){var a=$telerik.$||d.Cowboy||(d.Cowboy={}),b;
a.throttle=b=function(g,i,e,f){var j,h=0;
if(typeof i!=="boolean"){f=e;
e=i;
i=c;
}function k(){var p=this,n=+new Date()-h,l=arguments;
function o(){h=+new Date();
e.apply(p,l);
}function m(){j=c;
}if(f&&!j){o();
}j&&clearTimeout(j);
if(f===c&&n>g){o();
}else{if(i!==true){j=setTimeout(f?m:o,f===c?g-n:g);
}}}if(a.guid){k.guid=e.guid=e.guid||a.guid++;
}return k;
};
a.debounce=function(g,e,f){return f===c?b(g,e,false):b(g,f,e!==false);
};
})(window);
(function(b){b.fx.step.height=function(e){var f=$telerik.quirksMode?1:0;
var g=e.now>f?e.now:f;
e.elem.style[e.prop]=Math.round(g)+e.unit;
};
function c(f,e){return["live",f,e.replace(/\./g,"`").replace(/ /g,"|")].join(".");
}function a(f,e){b.each(e,function(g,h){if(g.indexOf("et_")>0){f[g]=h;
return;
}if(g=="domEvent"&&h){f["get_"+g]=function(){return new Sys.UI.DomEvent(h.originalEvent||h.rawEvent||h);
};
}else{f["get_"+g]=function(i){return function(){return i;
};
}(h);
}});
return f;
}b.extend({registerControlEvents:function(e,f){b.each(f,function(h,g){e.prototype["add_"+g]=function(i){this.get_events().addHandler(g,i);
};
e.prototype["remove_"+g]=function(i){this.get_events().removeHandler(g,i);
};
});
},registerKendoWidgetEvents:function(e,f){b.each(f,function(h,g){e.prototype["add_"+g]=function(i){this.kendoWidget.bind(g,i);
};
e.prototype["remove_"+g]=function(i){this.kendoWidget.unbind(g,i);
};
});
},registerControlProperties:function(e,f){b.each(f,function(h,g){e.prototype["get_"+h]=function(){var i=this["_"+h];
return typeof i=="undefined"?g:i;
};
e.prototype["set_"+h]=function(i){this["_"+h]=i;
};
});
},extendControlProperties:function(e,f,g){b.each(f,function(l,k){var i=e.prototype;
var h="_"+l;
var j="get"+h;
var m="set"+h;
i[j]||(i[j]=function(){var n=this[h];
return n===g?k:n;
});
i[m]||(i[m]=function(n){this[h]=n;
});
});
},registerEnum:function(f,e,h,g){g=g||false;
f[e]=function(){};
f[e].prototype=h;
f[e].registerEnum(f.getName()+"."+e,g);
},raiseControlEvent:function(f,g,e){var h=f.get_events().getHandler(g);
if(h){h(f,a(new Sys.EventArgs(),e));
}},raiseCancellableControlEvent:function(g,h,e){var i=g.get_events().getHandler(h);
if(i){var f=a(new Sys.CancelEventArgs(),e);
i(g,f);
return f.get_cancel();
}return false;
},extendEventArgs:function(e,f){return a(e,f);
},isBogus:function(e){try{var g=e.parentNode;
return false;
}catch(f){return true;
}}});
b.eachCallback=function(e,g){var f=0;
function h(){if(e.length==0){return;
}var i=e[f];
g.apply(i);
f++;
if(f<e.length){setTimeout(h,1);
}}setTimeout(h,1);
};
b.fn.eachCallback=function(g){var e=0;
var f=this;
function h(){if(f.length==0){return;
}var i=f.get(e);
g.apply(i);
e++;
if(e<f.length){setTimeout(h,1);
}}setTimeout(h,1);
};
if($telerik.isTouchDevice){var d;
b.each(["t_touchover","t_touchout"],function(e,f){b.fn[f]=function(g){return this.bind(f,g);
};
});
b(document.body).bind("touchstart",function(f){d=f.originalEvent.currentTarget;
}).bind("touchmove",function(f){var i=f.originalEvent.changedTouches[0],h=document.elementFromPoint(i.clientX,i.clientY);
if(d!=h){var g={target:d,relatedTarget:d,CtrlKey:false,AltKey:false,ShiftKey:false};
b(d).trigger("t_touchout",g);
d=h;
b(d).trigger("t_touchover",b.extend(g,{target:d,relatedTarget:d}));
}});
}})($telerik.$);
/*
* jQuery Double Tap Plugin.
*
* Copyright (c) 2010 Raul Sanchez (http://www.appcropolis.com)
*
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*/
(function(a){a.fn.doubletap=function(e,f,c){var d,b;
c=c==null?500:c;
d=$telerik.isTouchDevice?"touchend":"click";
a(this).bind(d,function(h){var j=new Date().getTime();
var i=a(this).data("lastTouch")||j+1;
var g=j-i;
clearTimeout(b);
if(g<500&&g>0){if(e!=null&&typeof e=="function"){e(h);
}}else{a(this).data("lastTouch",j);
b=setTimeout(function(k){if(f!=null&&typeof f=="function"){f(k);
}clearTimeout(b);
},c,[h]);
}a(this).data("lastTouch",j);
});
};
})($telerik.$);
(function(a){a.observable=function(d){var c={};
a.extend(d,{trigger:function(g){var h=c[g];
if(!h){return;
}for(var j=0;
j<h.length;
j++){var f=Array.prototype.slice.call(arguments);
f.shift();
h[j].handler.apply(h[j].context,f);
}},on:function(g,f){a.each(g,function(h,i){b(h,i,f);
});
},off:function(g,f){a.each(g,function(h,i){e(h,i,f);
});
},disposeObservable:function(){for(var f in c){delete c[f];
}c=null;
}});
function b(g,h,f){var i=c[g]||[];
i.push({handler:h,context:f});
c[g]=i;
}function e(g,h,f){var k=c[g];
if(!k){return;
}var m=-1;
for(var l=0;
l<k.length;
l++){var j=k[l];
if(j.func===h&&j.context===f){m=l;
break;
}}if(m>-1){k=k.splice(m,1);
}c[g]=k;
}};
})($telerik.$);
(function(a,D){var k=window;
var e=k.document;
var c=k.$telerik;
var x=k.setTimeout;
var d=k.clearTimeout;
var b=Telerik.Web.UI;
var o=a.fn;
var n=a.isNumeric;
var A=[].splice;
var y=[].slice;
var h=[];
var r=".telerik";
var C="touchstart";
var B="touchend";
var f=".";
var z=" ";
var g="";
var u="on";
var s="off";
var p=/mouse/gi;
b.EventType=function(){throw Error.invalidOperation();
};
b.EventType.prototype={Up:0,Down:1,Move:2,Leave:3};
b.EventType.registerEnum("Telerik.Web.UI.EventType",false);
function j(){var G=[];
var F=b.EventType;
for(var E in F){if(n(F[E])){G.push(E.toLowerCase());
}}return G;
}h=j();
function m(){var E=Telerik.Web;
var J=E.Platform;
var I=J.ios;
var F=J.android;
var G=E.BrowserFeatures;
var H={up:"mouseup",down:"mousedown",move:"mousemove",leave:"mouseleave"};
if(G.pointerEvents){H={up:"pointerup",down:"pointerdown",move:"pointermove",leave:"pointercancel pointerleave"};
}else{if(G.msPointerEvents){H={up:"MSPointerUp",down:"MSPointerDown",move:"MSPointerMove",leave:"MSPointerCancel MSPointerLeave"};
}else{if(G.touchEvents){if(I||F){H={up:"touchend touchcancel",down:"touchstart",move:"touchmove",leave:"touchcancel"};
}else{H={up:"mouseup touchend touchcancel",down:"mousedown touchstart",move:"mousemove touchmove",leave:"mouseleave touchcancel"};
}}}}return H;
}b.EventNamesMap=m();
var q=function(){var E=["mousedown","mousemove","mouseup","mouseenter","mouseover","mouseleave","mouseout"];
if(q._instance){return q._instance;
}q._instance=this;
this.options={mouseEventDelay:400,enabled:false,captureMouseEvents:false};
this.mouseEventTimeout=null;
this.enable=function(){var G=0;
var H=E.length;
var F=e.documentElement;
var I=function(J){if(q._instance.options.captureMouseEvents){J.stopPropagation();
}};
if(q._instance.options.enabled||!F.addEventListener){return;
}q._instance.options.enabled=true;
q._instance.options.captureMouseEvents=false;
for(G=0;
G<H;
G++){F.addEventListener(E[G],I,true);
}};
this.disableMouseEventPropagation=function(F){q._instance.options.captureMouseEvents=true;
d(q._instance.mouseEventTimeout);
};
this.enableMouseEventPropagation=function(){d(q._instance.mouseEventTimeout);
q._instance.mouseEventTimeout=x(function(){q._instance.options.captureMouseEvents=false;
},q._instance.options.mouseEventDelay);
};
};
q.getInstance=function(){return(q._instance||new q());
};
function v(E,F){return l(u,E,F);
}function t(E,F){return l(s,E,F);
}function l(I,E,F){var H=i(F);
var K;
var G;
var J=q.getInstance();
if(Telerik.Web.BrowserFeatures.touchAndMouseEvents&&H.search(p)>-1){if(I===u){J.enable();
}K=F.length===2?D:F[1];
E[I](C+r,K,G,J.disableMouseEventPropagation);
E[I](B+r,K,G,J.enableMouseEventPropagation);
}if(F.length>0){F[0]=H;
}return o[I].apply(E,F);
}function i(E){var F=E.length>0?E[0]:g;
var J=n(F)?h[F]:F;
var H=[];
var G;
var L;
var K;
var I=J.split(f);
if(I.length==2){G=w(I[0]).split(z);
L=I[I.length-1];
for(K=0;
K<G.length;
K++){H.push(G[K]+f+L);
}return H.join(z);
}else{return w(I[0]);
}}function w(F){var E=b.EventNamesMap;
return(E[F]||E[h[F]]||F);
}o.onEvent=function(){var E=this;
var F=y.call(arguments);
return v(E,F);
};
o.offEvent=function(){var E=this;
var F=y.call(arguments);
return t(E,F);
};
c.onEvent=function(){var F=arguments[0];
var E=A.call(arguments,1,arguments.length);
return v(a(F),E);
};
c.offEvent=function(){var F=arguments[0];
var E=A.call(arguments,1,arguments.length);
return t(a(F),E);
};
})($telerik.$);

/* END Telerik.Web.UI.Common.jQueryPlugins.js */
/* START Telerik.Web.UI.Common.Popup.PopupScripts.js */
(function(a,c){Type.registerNamespace("Telerik.Web");
Type.registerNamespace("Telerik.Web.UI");
var b=Telerik.Web.UI;
b.ModalExtender=function(d,e){this._windowResizeDelegate=null;
this._windowScrollDelegate=null;
this._xCoordinate=-1;
this._yCoordinate=-1;
this._backgroundElement=null;
this._foregroundElement=d;
this._saveTabIndexes=[];
this._saveAccessKeys=[];
this._saveDisabledElements=[];
this._tagWithTabIndex=new Array("A","AREA","BUTTON","INPUT","OBJECT","SELECT","TEXTAREA","IFRAME","SPAN");
this._tagWithAcessKey=this._tagWithTabIndex;
this._elementsToDisable=[];
if(e&&e.enableAriaSupport){this._ariaHiddenStorage=new b.NodeAttributeDataStorage("aria-hidden",{getNodes:e.getNodesToHide,onStore:function(f){f.setAttribute("aria-hidden","true");
}});
if(e.trapTabKey){this._tabKeyTrap=new b.TabKeyTrap(d);
}}};
b.ModalExtender.prototype={dispose:function(){this.hide();
this._backgroundElement=null;
this._foregroundElement=null;
this._tabKeyTrap&&this._tabKeyTrap.dispose();
this._tabKeyTrap=c;
},show:function(){var e=this._getModalOverlay();
if($telerik.getVisible(e)){return;
}this._attachWindowHandlers(true);
var f=this._foregroundElement;
f.parentNode.appendChild(e);
this.updateModalOverlayZIndex();
e.style.display="";
this._disableElements(this._elementsToDisable);
this._disableTab();
this._disableAccesskey();
var d=this._ariaHiddenStorage;
var g=this._tabKeyTrap;
d&&d.store();
g&&g.trap();
this._updatePageLayout();
this._updatePageLayout();
},updateModalOverlayZIndex:function(){var d=this._getModalOverlay();
var e=this._foregroundElement;
var f=$telerik.getCurrentStyle(e,"zIndex");
if(!isNaN(parseInt(f,10))&&parseInt(f,10)!=0){d.style.zIndex=f-1;
}},hide:function(){var d=this._ariaHiddenStorage;
var f=this._tabKeyTrap;
d&&d.restore();
f&&f.removeTrap();
this._restoreTab();
this._restoreAccessKey();
this._restoreDisabledElements();
this._attachWindowHandlers(false);
var e=this._backgroundElement;
if(e){if(e.parentNode){e.parentNode.removeChild(e);
}this._backgroundElement=null;
}},_getModalOverlay:function(){if(!this._backgroundElement){var d=document.createElement("div");
d.style.display="none";
d.style.position="absolute";
if($telerik.isRightToLeft(this._foregroundElement)){d.style.right="0px";
}else{d.style.left="0px";
}d.style.top="0px";
d.style.zIndex=10000;
d.style.backgroundColor="#aaaaaa";
d.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=50)";
d.style.opacity=".5";
d.style.MozOpacity=".5";
d.setAttribute("unselectable","on");
d.className="TelerikModalOverlay";
this._backgroundElement=d;
}return this._backgroundElement;
},_attachWindowHandlers:function(d){var e=window;
if(true==d){this._windowResizeDelegate=Function.createDelegate(this,this._updatePageLayout);
$addHandler(e,"resize",this._windowResizeDelegate);
this._windowScrollDelegate=Function.createDelegate(this,this._updatePageLayout);
$addHandler(e,"scroll",this._windowScrollDelegate);
}else{if(this._windowResizeDelegate){$removeHandler(e,"resize",this._windowResizeDelegate);
}this._windowResizeDelegate=null;
if(this._windowScrollDelegate){$removeHandler(e,"scroll",this._windowScrollDelegate);
}this._windowScrollDelegate=null;
}},_updatePageLayout:function(){var d=$telerik.getClientBounds();
var f=d.width;
var e=d.height;
var g=this._getModalOverlay();
g.style.width=Math.max(Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),f)+"px";
g.style.height=Math.max(Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),e)+"px";
},_getElementsWithTabIndexes:function(e,f){var g=this;
var d=$telerik.$(e).find(this._tagWithTabIndex.join(",")).filter(function(){if(this.tabIndex==-1||this.disabled||this===f||$telerik.$.contains(f,this)){return false;
}if(!$telerik.getVisible(this)){return false;
}if(this.nodeName=="SPAN"&&!g._hasTabIndexAttribute(this)){return false;
}return true;
});
return $telerik.$.makeArray(d);
},_getElementsWithAccessKey:function(e,f){var d=$telerik.$(e).find(this._tagWithAcessKey.join(",")).filter(function(){if(!this.accessKey||this.disabled||this===f||$telerik.$.contains(f,this)){return false;
}if(!$telerik.getVisible(this)){return false;
}return true;
});
return $telerik.$.makeArray(d);
},_hasTabIndexAttribute:function(e){if(e.hasAttribute){return e.hasAttribute("tabIndex");
}var d=e.getAttribute("tabIndex");
if(d==null||d=="undefined"||d===-32768){return false;
}if(typeof d=="number"&&d!=0){return true;
}if(d==0){var g=$telerik.getOuterHtml(e),f=g.replace(e.innerHTML);
return/tabindex=/i.test(f);
}return false;
},_getElementsToDisable:function(f,e,g){var d=$telerik.$(e).find(f.join(",")).filter(function(){if(this.disabled||!$telerik.getVisible(this)||this===g||$telerik.$.contains(g,this)){return false;
}return true;
});
return $telerik.$.makeArray(d);
},_disableElements:function(e){this._saveDisabledElements=[];
if(!e||e.length==0){return;
}var d=this._getElementsToDisable(e,document,this._foregroundElement);
for(var f=0;
f<d.length;
f++){d[f].disabled=true;
this._saveDisabledElements.push(d[f]);
}},_restoreDisabledElements:function(){for(var d=0;
d<this._saveDisabledElements.length;
d++){this._saveDisabledElements[d].disabled=false;
}},_disableTab:function(){var e=this._getElementsWithTabIndexes(document,this._foregroundElement);
this._saveTabIndexes=[];
var g;
for(g=0;
g<e.length;
g++){var d=e[g],h=d.tabIndex,f=this._hasTabIndexAttribute(d);
this._saveTabIndexes.push({tag:d,index:h,hasAttribute:f});
d.tabIndex="-1";
}},_restoreTab:function(){for(var d=0;
d<this._saveTabIndexes.length;
d++){var e=this._saveTabIndexes[d].tag;
e.tabIndex=this._saveTabIndexes[d].index;
if(!this._saveTabIndexes[d].hasAttribute&&this._hasTabIndexAttribute(e)){e.removeAttribute("tabIndex");
}}},_disableAccesskey:function(){this._saveAccessKeys=[];
var e=this._getElementsWithAccessKey(document,this._foregroundElement);
for(var g=0;
g<e.length;
g++){var f=e[g],d=f.accessKey;
this._saveAccessKeys.push({element:f,accessKey:d});
f.accessKey="";
}},_restoreAccessKey:function(){for(var d=0;
d<this._saveAccessKeys.length;
d++){this._saveAccessKeys[d].element.accessKey=this._saveAccessKeys[d].accessKey;
}}};
b.ModalExtender.registerClass("Telerik.Web.UI.ModalExtender",null);
})($telerik.$);
(function(c){Type.registerNamespace("Telerik.Web");
var a=Telerik.Web;
var b="";
Telerik.Web.PositioningMode=function(){throw Error.invalidOperation();
};
Telerik.Web.PositioningMode.prototype={Absolute:0,Center:1,BottomLeft:2,BottomRight:3,TopLeft:4,TopRight:5,None:6};
Telerik.Web.PositioningMode.registerEnum("Telerik.Web.PositioningMode");
a.PopupAnimation=function(f,g){var d=this;
var e={easing:b,duration:0,properties:{},callback:null};
d._element=f||null;
d.options=$telerik.$.extend(e,g);
d._inProgress=false;
};
a.PopupAnimation.prototype={get_easing:function(){return this.options.easing;
},set_easing:function(d){this.options.easing=d;
},get_duration:function(){return this.options.duration;
},set_duration:function(d){this.options.easing=d;
},get_properties:function(){return this.options.properties;
},set_properties:function(d){this.options.properties=d;
},get_callback:function(){return this.options.callback;
},set_callback:function(d){this.options.callback=d;
},get_element:function(){return this._element;
},set_element:function(d){this._element=d;
},get_options:function(d){return this.options;
},set_options:function(d){$telerik.$.extend(this.options,d);
},isInProgress:function(){return this._inProgress;
},play:function(){var e=this;
var d=$telerik.$(e.get_element());
d.stopTransition();
e._inProgress=true;
d.transition(e.get_properties(),e.get_duration(),e.get_easing(),function(g){var f=e.get_callback();
e._inProgress=false;
if($telerik.$.isFunction(f)){f();
}});
},stop:function(){var d=this;
$telerik.$(d.get_element()).stopTransition();
d._inProgress=false;
}};
a.PopupAnimation.registerClass("Telerik.Web.PopupAnimation");
Telerik.Web.PopupBehavior=function(d){var e=this;
Telerik.Web.PopupBehavior.initializeBase(this,[d]);
this._x=0;
this._y=0;
this._positioningMode=Telerik.Web.PositioningMode.Absolute;
this._parentElement=null;
this._parentElementID=null;
this._moveHandler=null;
this._firstPopup=true;
this._originalParent=null;
this._overlay=false;
this._keepInScreenBounds=true;
this._manageVisibility=true;
e._showAnimation=null;
e._hideAnimation=null;
e._useAnimation=false;
};
Telerik.Web.PopupBehavior.prototype={initialize:function(){var e=this;
Telerik.Web.PopupBehavior.callBaseMethod(e,"initialize");
if(e._useAnimation){var d=e.get_elementToShow();
e._showAnimation=new a.PopupAnimation(d);
e._hideAnimation=new a.PopupAnimation(d,{callback:$telerik.$.proxy(e._hide,e)});
e.hide();
}e.hide();
},getPageOffset:function(){var d={x:($telerik.getCorrectScrollLeft(document.documentElement)||$telerik.getCorrectScrollLeft(document.body)),y:(document.documentElement.scrollTop||document.body.scrollTop)};
return d;
},pin:function(h){var e=this.get_elementToShow();
var g=this.getPageOffset();
var d;
var f=h?"fixed":"absolute";
if(e.style.position==f){return;
}d=$telerik.getBounds(e);
if(h&&(g.x||g.y)){this._x=d.x-g.x;
this._y=d.y-g.y;
$telerik.setLocation(e,{x:this._x,y:this._y});
}e.style.position=f;
},center:function(){var e=this.get_elementToShow();
if(this._manageVisibility){$telerik.setVisible(e,true);
}var g=$telerik.getClientBounds();
var f=$telerik.getBounds(e);
var h=parseInt((g.width-f.width)/2,10);
var i=parseInt((g.height-f.height)/2,10);
var d=this.get_parentElement();
this.set_parentElement(document.documentElement);
this.set_x(h);
this.set_y(i);
this.show();
this.set_parentElement(d);
},get_parentElement:function(){if(!this._parentElement&&this._parentElementID){this.set_parentElement($get(this._parentElementID));
Sys.Debug.assert(this._parentElement!=null,String.format('Couldn\'t find parent element "{0}"',this._parentElementID));
}return this._parentElement;
},set_parentElement:function(d){this._parentElement=d;
},get_parentElementID:function(){if(this._parentElement){return this._parentElement.id;
}return this._parentElementID;
},set_parentElementID:function(d){this._parentElementID=d;
if(this.get_isInitialized()){this.set_parentElement($get(d));
}},get_positioningMode:function(){return this._positioningMode;
},set_positioningMode:function(d){this._positioningMode=d;
},get_x:function(){return this._x;
},set_x:function(d){if(d!=this._x){this._x=d;
if($telerik.getVisible(this.get_elementToShow())&&this._manageVisibility){this.show();
}}},get_y:function(){return this._y;
},set_y:function(d){if(d!=this._y){this._y=d;
if($telerik.getVisible(this.get_elementToShow())&&this._manageVisibility){this.show();
}}},get_overlay:function(){return this._overlay;
},set_overlay:function(f){this._overlay=f;
this._attachWindowHandlers(false);
if(this._overlay){this._attachWindowHandlers(true);
}else{var e=this.get_elementToShow();
var d=e._hideWindowedElementsIFrame;
if(d){d.style.display="none";
}}},get_manageVisibility:function(){return this._manageVisibility;
},set_manageVisibility:function(d){this._manageVisibility=d;
},get_keepInScreenBounds:function(){return this._keepInScreenBounds;
},set_keepInScreenBounds:function(d){this._keepInScreenBounds=d;
},get_elementToShow:function(){return this._elementToShow?this._elementToShow:this.get_element();
},set_elementToShow:function(d){if(this._elementToShow){this._detachElementToShow();
}this._elementToShow=d;
},get_showAnimation:function(){return this._showAnimation;
},set_showAnimation:function(d){if(this._showAnimation){this._showAnimation.set_options(d);
}},get_hideAnimation:function(){return this._hideAnimation;
},set_hideAnimation:function(d){if(this._hideAnimation){this._hideAnimation.set_options(d);
}},_detachElementToShow:function(){var d=this.get_elementToShow();
if(this._moveHandler){$telerik.removeExternalHandler(d,"move",this._moveHandler);
this._moveHandler=null;
}var f=d._hideWindowedElementsIFrame;
if(f){var g=f.parentNode;
var e=f.nextSibling;
if(g){g.removeChild(f);
if(e){g.insertBefore(document.createElement("span"),e);
}else{g.appendChild(document.createElement("span"));
}}}},show:function(){var o=this;
var f=this.get_elementToShow();
var q=$telerik.getVisible(f);
if(o.get_positioningMode()!==Telerik.Web.PositioningMode.None){f.style.position="absolute";
}var e=document.documentElement;
if($telerik.isFirefox){var m=$telerik.getCurrentStyle(e,"overflow");
if("hidden"==m){f.style.left=e.scrollLeft+"px";
f.style.top=e.scrollLeft+"px";
}}var h=this._manageVisibility;
if(h&&!q){$telerik.setVisible(f,true);
}var j=f.offsetParent||e;
var k=$telerik.getBounds(j);
if(h&&!q){$telerik.setVisible(f,false);
}var d;
var n;
if(this._parentElement){n=$telerik.getBounds(this._parentElement);
var l=this._getOffsetParentLocation(j);
d={x:n.x-l.x,y:n.y-l.y};
}else{n=k;
d={x:0,y:0};
}if(h){$telerik.setVisible(f,true);
}if(o._useAnimation){o.get_showAnimation().play();
return;
}var r=Math.max(f.offsetWidth-(f.clientLeft?f.clientLeft*2:0),0);
var g=Math.max(f.offsetHeight-(f.clientTop?f.clientTop*2:0),0);
var p;
switch(this._positioningMode){case Telerik.Web.PositioningMode.Center:p={x:Math.round(n.width/2-r/2),y:Math.round(n.height/2-g/2)};
break;
case Telerik.Web.PositioningMode.BottomLeft:p={x:0,y:n.height};
break;
case Telerik.Web.PositioningMode.BottomRight:p={x:n.width-r,y:n.height};
break;
case Telerik.Web.PositioningMode.TopLeft:p={x:0,y:-f.offsetHeight};
break;
case Telerik.Web.PositioningMode.TopRight:p={x:n.width-r,y:-f.offsetHeight};
break;
default:p={x:0,y:0};
}p.x+=this._x+d.x;
p.y+=this._y+d.y;
$telerik.setLocation(f,p);
if(this._firstPopup){f.style.width=r+"px";
}this._firstPopup=false;
var i=this._fixPositionInBounds();
this._createOverlay(i);
},hide:function(){var d=this;
var e=d.get_showAnimation();
if(d._useAnimation){if(!e.isInProgress()){d._hideAnimation.play();
}}else{this._hide();
}},_hide:function(){var e=this.get_elementToShow();
if(this._manageVisibility){$telerik.setVisible(e,false);
}if(e.originalWidth){e.style.width=e.originalWidth+"px";
e.originalWidth=null;
}if(Sys.Browser.agent===Sys.Browser.InternetExplorer||this._overlay){var d=e._hideWindowedElementsIFrame;
if(d){d.style.display="none";
}}},_getViewportBounds:function(){var e=$telerik.getClientBounds();
var f=document.documentElement;
var d=document.body;
e.scrollLeft=$telerik.isMobileSafari?window.pageXOffset:($telerik.getCorrectScrollLeft(f)||$telerik.getCorrectScrollLeft(d));
e.scrollTop=$telerik.isMobileSafari?window.pageYOffset:(f.scrollTop||d.scrollTop);
return e;
},_getOffsetParentLocation:function(d){if(d&&d.tagName.toUpperCase()!="BODY"&&d.tagName.toUpperCase()!="HTML"){var f=$telerik.getLocation(d);
var e=$telerik.getBorderBox(d);
f.x+=e.top;
f.y+=e.left;
f.x-=$telerik.getCorrectScrollLeft(d);
f.y-=d.scrollTop;
return f;
}return{x:0,y:0};
},_fixPositionInBounds:function(){var f=this.get_elementToShow();
var m=$telerik.getBounds(f);
if(!this._keepInScreenBounds){return m;
}var e=this._getViewportBounds();
var p=false;
var h=(e.width>m.width);
var g=(e.height>m.height);
var o=e.scrollTop;
var d=e.height+o;
var j=e.scrollLeft;
var n=e.width+j;
if(($telerik.isIE8||$telerik.isOpera||$telerik.isSafari)&&$telerik.isRightToLeft(document.body)){var l=f.style.display;
if($telerik.isOpera){f.style.display="none";
}var i=document.documentElement.scrollWidth;
n=i?i:document.body.scrollWidth;
if($telerik.isOpera){f.style.display=l;
}}if(m.x<j||!h){m.x=j;
p=true;
}if(m.y<o||!g){m.y=o;
p=true;
}if(h&&(m.x+m.width>n)){m.x=n-m.width;
p=true;
}if(g&&(d<m.y+m.height)){m.y=d-m.height;
p=true;
}if(p){var k=this._getOffsetParentLocation(f.offsetParent);
m.y-=k.y;
m.x-=k.x;
$telerik.setLocation(f,m);
}return m;
},_createOverlay:function(g){if(!this._overlay){return;
}var f=this.get_elementToShow();
var e=f._hideWindowedElementsIFrame;
if(!e){e=document.createElement("iframe");
e.src="javascript:'<html></html>';";
e.style.position="absolute";
e.style.display="none";
e.scrolling="no";
e.frameBorder="0";
e.tabIndex="-1";
e.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";
f.parentNode.insertBefore(e,f);
f._hideWindowedElementsIFrame=e;
this._moveHandler=Function.createDelegate(this,this._onMove);
$telerik.addExternalHandler(f,"move",this._moveHandler);
}if($telerik.previousElement(e)===f){f.parentNode.insertBefore(e,f);
}$telerik.setBounds(e,g);
if($telerik.isFirefox){var d=this._getViewportBounds();
e.style.top=parseInt(g.y,10)-d.scrollTop+"px";
e.style.left=parseInt(g.x,10)-d.scrollLeft+"px";
e.style.position="fixed";
if($telerik.isFirefox3){e.style.backgroundColor="#fff";
}}if($telerik.quirksMode){return;
}e.style.display=f.style.display;
var h=$telerik.getCurrentStyle(f,"zIndex");
if(h){e.style.zIndex=h;
}},_setCoordinates:function(e,f){var d=false;
if(e!=this._x){this._x=e;
d=true;
}if(f!=this._y){this._y=f;
d=true;
}if($telerik.getVisible(this.get_elementToShow())&&d&&this._manageVisibility){this.show();
}},dispose:function(){var d=this.get_elementToShow();
if(d){this._attachWindowHandlers(false);
if($telerik.getVisible(d)&&this._manageVisibility){this.hide();
}if(this._originalParent){d.parentNode.removeChild(d);
this._originalParent.appendChild(d);
this._originalParent=null;
}this._detachElementToShow();
}this._parentElement=null;
Telerik.Web.PopupBehavior.callBaseMethod(this,"dispose");
if(d&&d._behaviors&&d._behaviors.length==0){d._behaviors=null;
}d=null;
},_onMove:function(){var e=this.get_elementToShow();
var f=e._hideWindowedElementsIFrame;
if(f){if(Sys.Browser.agent===Sys.Browser.Firefox){var d=this._getViewportBounds();
f.style.top=parseInt(e.style.top,10)-d.scrollTop+"px";
f.style.left=parseInt(e.style.left,10)-d.scrollLeft+"px";
f.style.position="fixed";
}else{f.style.top=e.style.top;
f.style.left=e.style.left;
}}},_handleElementResize:function(){var d=this.get_elementToShow();
var f=d._hideWindowedElementsIFrame;
if(f){var e=$telerik.getBounds(d);
$telerik.setBounds(f,e);
}},_attachWindowHandlers:function(d){if(Sys.Browser.agent!==Sys.Browser.Firefox){return;
}var e=window;
if(true==d){this._windowResizeDelegate=Function.createDelegate(this,this._onMove);
$telerik.addExternalHandler(e,"resize",this._windowResizeDelegate);
this._windowScrollDelegate=Function.createDelegate(this,this._onMove);
$telerik.addExternalHandler(e,"scroll",this._windowScrollDelegate);
}else{if(this._windowResizeDelegate){$telerik.removeExternalHandler(e,"resize",this._windowResizeDelegate);
}this._windowResizeDelegate=null;
if(this._windowScrollDelegate){$telerik.removeExternalHandler(e,"scroll",this._windowScrollDelegate);
}this._windowScrollDelegate=null;
}}};
Telerik.Web.PopupBehavior.registerClass("Telerik.Web.PopupBehavior",Sys.UI.Behavior);
})();
Type.registerNamespace("Telerik.Web");
Type.registerNamespace("Telerik.Web.UI");
(function(l){var a=Telerik.Web.UI,i="pageX",j="pageY",b="clientX",c="clientY",n="x",o="y",f=Math,e=f.floor,k=!!window.PointerEvent,g=!!window.MSPointerEvent;
var h=".telerikResizeExtender";
var d="dragstart";
var m=(function(){var p={};
p.hasTouch="ontouchstart" in window;
p.hasPointer=k||g;
p.hasPointerTouch=!!navigator.msMaxTouchPoints;
p.isTouch=p.hasTouch||p.hasPointerTouch;
p._pointers=[];
return p;
})();
a.ResizeExtender=function(s,r,v,w,q,t,p,u){this._document=q?q:document;
this._documentMouseMoveDelegate=null;
this._documentMouseUpDelegate=null;
this._jsOwner=null;
this._element=null;
this._tableElement=null;
this._saveDelegates={};
this._moveCursorType="move";
this._moveToMouseLocation=false;
this._hideIframes=true;
this._iframeToSkip=null;
this._enabled=true;
this._startX=0;
this._startY=0;
this._cancelResize=true;
this._startCursorLocation=null;
this._autoScrollEnabled=true;
this._ieTouchActionManager=new a.Helpers.IETouchActionManager(r);
this._touchEventIdentifier=null;
this._utils=m;
this.initialize(s,r,v,w,t,p,u);
};
a.ResizeExtender.containsBounds=function(r,p){if(!r||!p){return false;
}var q=$telerik.containsPoint(r,p.x,p.y);
if(q){var s=p.x+p.width;
var t=p.y+p.height;
q=$telerik.containsPoint(r,s,t);
}return q;
};
a.ResizeExtender.prototype={initialize:function(q,t,u,v,r,p,s){if(!t){return;
}if(this._element){alert("Element "+t.getAttribute("id")+" cannot be made resizable, as the resizeExtender already has the element "+this._element.getAttribute("id")+" associated with it. You must create a new extender resizer object");
return;
}this._jsOwner=q;
this._element=t;
this._tableElement=v;
this._handles=u;
this._ieTouchActionManager.allowUserTouch();
if(r){this._moveCursorType=r;
}if(p!=null){this._autoScrollEnabled=p;
}if(s!=null){this._moveToMouseLocation=s;
}this._configureHandleElements(true);
},dispose:function(){this._ieTouchActionManager.dispose();
this._attachDocumentHandlers(false);
this._configureHandleElements(false);
this._startCursorLocation=null;
this._iframeToSkip=null;
this._jsOwner=null;
this._element=null;
this._handles=null;
this._saveDelegates=null;
this._constraints=null;
},enable:function(p){this._enabled=p;
},set_hideIframes:function(p){this._hideIframes=p;
},get_hideIframes:function(){return this._hideIframes;
},set_iframeToSkip:function(p){this._iframeToSkip=p;
},get_iframeToSkip:function(){return this._iframeToSkip;
},get_constraints:function(){return this._constraints;
},set_constraints:function(p){this._constraints=p;
},get_useCssTransform:function(){return this._useCssTransform;
},set_useCssTransform:function(p){this._useCssTransform=p;
},_raiseDragEvent:function(r,q,t){var u=this,s=u._jsOwner;
if(s&&s["on"+r]){var p=q;
if(!p){p={};
}p.element=u._element;
p.ownerEvent=t;
p.eventIdetifier=u._getTouchEventIdentifier(t);
return s["on"+r](p);
}return true;
},_raiseEvent:function(q,p){var r=this._jsOwner;
if(r&&r["on"+q]){if(!p){p=new Sys.EventArgs();
}else{if(q=="Resize"){p=this._resizeDir;
}else{if(q=="Resizing"){p=this._getProposedBounds(p);
}}}return r["on"+q](p);
}return true;
},_getProposedBounds:function(p){var q=$telerik.getBounds(this._element);
return{x:p.x||q.x,y:p.y||q.y,width:p.width||q.width,height:p.height||q.height};
},getPositionedParent:function(){var p=this._element.parentNode;
while(p&&p!=document){if("static"!=$telerik.getCurrentStyle(p,"position","static")){return p;
}p=p.parentNode;
}return null;
},_storeStartCoords:function(r){var A=this,C=A._utils;
if(!A._enabled){return;
}A._cancelResize=false;
var B=A._getTouchEventLocation(r,A._touchEventIdentifier);
if(C.isTouch&&B&&B.x&&B.y){A._startX=B.x;
A._startY=B.y;
}else{if(r.originalEvent){A._startX=e(r.originalEvent[b]);
A._startY=e(r.originalEvent[c]);
}else{A._startX=e(r.clientX);
A._startY=e(r.clientY);
}}var t=A._element;
var s=$telerik.getBounds(t);
var u=(t.id!=null&&a.RadDock&&a.RadDock.isInstanceOfType($find(t.id)));
if($telerik.isIE&&u!=true){var y=A.getPositionedParent();
if(y){s.x+=y.scrollLeft;
s.y+=y.scrollTop;
}}A._originalBounds=s;
var z=r.target?r.target:r.srcElement;
if(z&&z.type==3){z=z.parentNode;
}A._resizeType=$telerik.getCurrentStyle(z,"cursor");
if(!A._resizeType&&r.currentTarget){A._resizeType=$telerik.getCurrentStyle(r.currentTarget,"cursor");
}A._resizeDir={north:A._resizeType.match(/n.?-/)?1:0,east:A._resizeType.match(/e-/)?1:0,south:A._resizeType.match(/s.?-/)?1:0,west:A._resizeType.match(/w-/)?1:0,move:new RegExp(A._moveCursorType).test(this._resizeType)?1:0};
A._leftHandleMouseDelta=0;
if(A._resizeDir.west){A._leftHandleMouseDelta=Math.abs(s.x-this._startX);
}var q=A._resizeDir.move?A._raiseDragEvent("DragStart",null,r):A._raiseEvent("ResizeStart");
A._cancelResize=(q==false);
var x=$telerik.getCurrentStyle(t.parentNode,"position");
var v=("relative"==x)||("absolute"==x);
A._offsetLocation=v?$telerik.getLocation(t.parentNode):{x:0,y:0};
if(A._moveToMouseLocation){var w=$telerik.isTouchDevice?{left:A._startX,top:A._startY}:$telerik.getDocumentRelativeCursorPosition({clientX:this._startX,clientY:this._startY});
if(v){var p=$telerik.getBorderBox(t.parentNode);
w.left-=p.left;
w.top-=p.top;
}A._startCursorLocation={x:w.left-Math.floor(s.width/2),y:w.top-Math.floor(s.height/2)};
}if(!A._cancelResize){A._clearSelection();
A._setIframesVisible(false);
A._attachDocumentHandlers(false);
A._attachDocumentHandlers(true);
}},_getTouchEventLocation:function(q,x){var w=this,u=q.originalEvent?q.originalEvent:null,p=q.changedTouches||(u?u.changedTouches:q.rawEvent?q.rawEvent.changedTouches:false),t=null;
m._pointers=w._getUniquePointerIds();
var v=m._pointers;
var s;
var r;
if(m.isTouch){if(u){if(m.hasPointer){s=false;
for(r=0;
r<v.length;
r++){if(v[r].pointerId===x){t={x:v[r][i],y:v[r][j]};
s=true;
break;
}}if(!s){t={x:e(u[i]),y:e(u[j])};
}}else{if(p&&p[0]){s=false;
for(r=0;
r<p.length;
r++){if(p[r].identifier===x){t={x:p[r][i],y:p[r][j]};
s=true;
break;
}}if(!s){t={x:p[0][i],y:p[0][j]};
}}else{t={x:e(q.clientX),y:e(q.clientY)};
}}}else{t={x:e(q.clientX),y:e(q.clientY)};
}}return t;
},_getEventClientCoordinates:function(p){if(p.originalEvent){return{x:p.originalEvent[b],y:p.originalEvent[c]};
}else{return{x:p[b],y:p[c]};
}},_getIntegerCoordinates:function(p){if(!p||!p.hasOwnProperty(n)||!p.hasOwnProperty(o)){return null;
}else{return{x:e(p.x),y:e(p.y)};
}},_getIntegerEventCoordinates:function(q){var s=this,p=s._getEventClientCoordinates(q),r=s._getIntegerCoordinates(p);
return r;
},_getTouchEventIdentifier:function(p){var r=this,s=r._utils,q=p.originalEvent?p.originalEvent:null;
if(s.isTouch){if(q){if(q.targetTouches&&q.targetTouches[0]){return q.targetTouches[0].identifier;
}else{if(q.pointerId){return q.pointerId;
}}}else{return null;
}}return null;
},_resize:function(s){var C=this,D=C._utils;
if(!C._enabled||C._cancelResize){return false;
}var p=C._originalBounds;
var y=new Telerik.Web.UI.Bounds(0,0,0,0);
var u=null;
if(D.isTouch){u=C._getTouchEventLocation(s,C._touchEventIdentifier);
}else{u=C._getIntegerEventCoordinates(s);
}if(u===null){return false;
}var E=u.x-C._startX;
var F=u.y-C._startY;
var r=C._resizeDir;
var v=r.move;
if(v){var w=C._startCursorLocation;
if(w){p.x=w.x;
p.y=w.y;
C._originalBounds=p;
C._startCursorLocation=null;
}y.x=p.x+E;
y.y=p.y+F;
var x=C._getMoveConstraints(p);
if(x){y.x=C._constrainPosition(y.x,x.x,x.width);
y.y=C._constrainPosition(y.y,x.y,x.height);
}}else{if(r.east){y.x=p.x;
y.width=p.width+E;
}else{if(r.west){y.x=u.x-C._leftHandleMouseDelta;
y.width=p.width-E;
}}if(r.south){y.y=p.y;
y.height=p.height+F;
}else{if(r.north){y.y=p.y+F;
y.height=p.height-F;
}}var B=C._getSizeConstraints(p);
if(B){y.x=C._constrainPosition(y.x,B.x,Math.min(y.x+y.width,B.width-y.width));
y.y=C._constrainPosition(y.y,B.y,Math.min(y.y+y.height,B.height-y.height));
y.width=C._constrainDimension(y.width,B.width-y.x);
y.height=C._constrainDimension(y.height,B.height-y.y);
}}var z=C._offsetLocation;
if(z){y.x-=z.x;
y.y-=z.y;
}var A=v?C._raiseDragEvent("Drag",y,s):C._raiseEvent("Resizing",y);
if(false==A){return true;
}var t=C._element;
if(C._useCssTransform&&v){C._lastTouchDelta={x:y.x-p.x+z.x,y:y.y-p.y+z.y};
var q={x:y.x?C._lastTouchDelta.x:0,y:y.y?C._lastTouchDelta.y:0};
C._setTranslate(t,q.x,q.y);
}else{if(v||y.x>0){t.style.left=y.x+"px";
}if(v||y.y>0){t.style.top=y.y+"px";
}}if(y.width>0){t.style.width=y.width+"px";
}if(y.height>0){t.style.height=y.height+"px";
}if(!v){C._updateInnerTableSize();
}return true;
},_setTranslate:function(p,r,t){var q=p.style;
q.webkitTransform=q.mozTransform=q.OTransform="translate("+r+"px,"+t+"px)";
},_updateInnerTableSize:function(){var p=this._resizeDir;
if(p.south||p.north){var q=this._element.style.height;
var r=this._tableElement;
if(r){r.style.height=q;
this._fixIeHeight(r,q);
}}},_getMoveConstraints:function(p){var q=this._getSizeConstraints();
if(q){q.width-=p.width;
q.height-=p.height;
}return q;
},_getSizeConstraints:function(p){var q=this._constraints;
if(!q){return null;
}var r=q.x+this._offsetLocation.x;
var s=q.y+this._offsetLocation.y;
return new Telerik.Web.UI.Bounds(r,s,r+q.width,s+q.height);
},_constrainPosition:function(r,q,p){return Math.max(q,Math.min(p,r));
},_constrainDimension:function(q,p){return this._constrainPosition(q,0,p);
},_fixIeHeight:function(s,q){if("CSS1Compat"==document.compatMode){var p=(s.offsetHeight-parseInt(q,10));
if(p>0){var r=(parseInt(s.style.height,10)-p);
if(r>0){s.style.height=r+"px";
}}}},_setIframesVisible:function(p){if(!this.get_hideIframes()){return;
}var t=this._document.getElementsByTagName("iframe");
var u=this.get_iframeToSkip();
for(var s=0,v=t.length;
s<v;
s++){var r=t[s];
if(u&&(u===r||u==r)){u=null;
}else{r.style.visibility=p?"":"hidden";
if($telerik.isIE){try{r.contentWindow.document.body.style.visibility=p?"":"hidden";
}catch(q){}}}}},_configureHandleElements:function(p){var r=this._handles;
var s=["nw","n","ne","w","e","sw","s","se",this._moveCursorType];
for(var t=0,v=s.length;
t<v;
t++){var w=s[t];
var q=r[w];
if(q){if(Object.prototype.toString.call(q)==="[object Array]"){for(var u=0;
u<q.length;
u++){this._configureHandle("id"+t+"_"+u,p,q[u],w);
}}else{this._configureHandle("id"+t,p,q,w);
}}}},_configureHandle:function(x,q,t,w){var v=this;
var p=$telerik.$(t);
var s=this._saveDelegates;
var r=s[x]?s[x].delegate:null;
if(q){if(!r){var u=$telerik.$.proxy(v._onHandleMouseDown,v);
p.onEvent(a.EventType.Down+h,u);
p.on(d+h,function(y){y.preventDefault();
});
t.style.cursor=(w==this._moveCursorType)?w:w+"-resize";
s[x]={element:t,delegate:u};
}}else{if(r){p.offEvent(a.EventType.Down+h,v.delegate);
p.off(d+h);
t.style.cursor="";
delete s[x];
}}},_attachDocumentHandlers:function(q){var t=this;
var p=$telerik.$(t._document);
if(q){t._documentMouseMoveDelegate=$telerik.$.proxy(t._onDocumentMouseMove,t);
p.onEvent(a.EventType.Move+h,t._documentMouseMoveDelegate);
t._documentMouseUpDelegate=$telerik.$.proxy(t._onDocumentMouseUp,t);
p.onEvent(a.EventType.Up+h,t._documentMouseUpDelegate);
}else{var s=t._documentMouseMoveDelegate;
if(s){p.offEvent(a.EventType.Move+h,s);
}var r=t._documentMouseUpDelegate;
if(r){p.offEvent(a.EventType.Up+h,r);
}t._documentMouseMoveDelegate=null;
t._documentMouseUpDelegate=null;
}},_canExecuteTouchEvent:function(p){var s=this,t=s._utils,r=p.originalEvent?p.originalEvent:null,q=null;
if(t.isTouch){if(r){if(t.hasPointer){if(r.pointerId){q=r.pointerId;
}}else{if(r.targetTouches&&r.targetTouches[0]){q=r.targetTouches[0].identifier;
}}if(s._touchEventIdentifier!==null){if(s._touchEventIdentifier!==q){return false;
}}else{s._touchEventIdentifier=q;
}return true;
}else{return true;
}}else{return true;
}},_cleanUpPointerTracking:function(p){var s=this;
if(!m.hasPointer){return;
}m._pointers=s._getUniquePointerIds();
var r=m._pointers;
var q=p.originalEvent?this._indexOfPointer(p.originalEvent.pointerId):null;
if(q!==null&&q!==-1){r.splice(q,1);
}},_getUniquePointerIds:function(){var r=m._pointers,s=[],q=null,p=[];
s=$telerik.$.grep(r,function(t,u){if(!t.pointerId){return false;
}q=t.pointerId;
if($telerik.$.inArray(q,p)===-1){p.push(q);
return true;
}return false;
});
return s;
},_indexOfPointer:function(q){var r=m._pointers,s=r.length;
for(var p=0;
p<s;
p++){if(q===r[p].pointerId){return p;
}}return -1;
},_updatePointer:function(p){var r=this;
if(!m.hasPointer){return;
}var q=p.originalEvent?r._indexOfPointer(p.originalEvent.pointerId):null;
if(q!==null&&q!==-1){if(p.originalEvent.pointerId===r._touchEventIdentifier){m._pointers[q].pageX=e(p.originalEvent.pageX);
m._pointers[q].pageY=e(p.originalEvent.pageY);
}}},_onHandleMouseDown:function(q){var s=this,u=s._utils,t=null,r=q.originalEvent,p=true;
if(u.isTouch){if(r){t=s._getTouchEventIdentifier(q);
if(t!==null){m._pointers.push({pageX:e(r[i]),pageY:e(r[j]),pointerId:t});
}p=s._canExecuteTouchEvent(q);
}else{s._resetTouchIdentifier();
}}if(p){s._updatePointer(q);
s._storeStartCoords(q);
}if(!u.isTouch){return $telerik.cancelRawEvent(q);
}if(u.isTouch&&u.hasPointer){s._onDocumentMouseMove(q);
}},_onDocumentMouseMove:function(q){var r=this,t=r._utils,p=true,s;
if(t.isTouch){p=r._canExecuteTouchEvent(q);
r._updatePointer(q);
}if(p){s=r._resize(q);
}if(r._autoScrollEnabled){r._autoScroll(q);
}if(s){return $telerik.cancelRawEvent(q);
}},_onDocumentMouseUp:function(p){var r=this;
var s=!r._cancelResize;
r._cancelResize=true;
r._startCursorLocation=null;
var q=r._resizeDir&&r._resizeDir.move;
if(r._useCssTransform&&q){r._moveBoxBy(r._lastTouchDelta);
}if(s){r._clearSelection();
r._setIframesVisible(true);
if(q){r._raiseDragEvent("DragEnd",null,p);
}else{r._raiseEvent("ResizeEnd");
}r._attachDocumentHandlers(false);
if(r._scroller){r._scroller.set_enabled(false);
}}r._touchEventIdentifier=null;
if(m.isTouch){var t=r._getTouchEventIdentifier(p);
if(t!==null){r._cleanUpPointerTracking(p);
}}},_getTouchIdentifier:function(){return this._touchEventIdentifier;
},_resetTouchIdentifier:function(){var p=this;
p._touchEventIdentifier=null;
},_moveBoxBy:function(r,p){var q=this._originalBounds;
var s=this._offsetLocation;
p=p||this._element;
this._resetBoxTransform(p);
p.style.left=q.x+r.x-s.x+"px";
p.style.top=q.y+r.y-s.y+"px";
},_resetBoxTransform:function(p){var q=p.style;
q.webkitTransform=q.mozTransform=q.OTransform=q.msTranslate="translate(0,0)";
},_clearSelection:function(){if(this._document.selection&&this._document.selection.empty){try{this._document.selection.empty();
}catch(p){}}},_initializeAutoScroll:function(){if(this._autoScrollInitialized){return;
}this._scrollEdgeConst=40;
this._scrollByConst=10;
this._scroller=null;
this._scrollDeltaX=0;
this._scrollDeltaY=0;
this._scrollerTickHandler=Function.createDelegate(this,this._onScrollerTick);
this._scroller=new Telerik.Web.Timer();
this._scroller.set_interval(10);
this._scroller.add_tick(this._scrollerTickHandler);
this._autoScrollInitialized=true;
},_autoScroll:function(q){this._initializeAutoScroll();
var p=$telerik.getClientBounds();
if(p.width>0){this._scrollDeltaX=this._scrollDeltaY=0;
if(q.clientX<p.x+this._scrollEdgeConst){this._scrollDeltaX=-this._scrollByConst;
}else{if(q.clientX>p.width-this._scrollEdgeConst){this._scrollDeltaX=this._scrollByConst;
}}if(q.clientY<p.y+this._scrollEdgeConst){this._scrollDeltaY=-this._scrollByConst;
}else{if(q.clientY>p.height-this._scrollEdgeConst){this._scrollDeltaY=this._scrollByConst;
}}var r=this._scroller;
if(this._scrollDeltaX!=0||this._scrollDeltaY!=0){this._originalStartX=this._startX;
this._originalStartY=this._startY;
r.set_enabled(true);
}else{if(r.get_enabled()){this._startX=this._originalStartX;
this._startY=this._originalStartY;
}r.set_enabled(false);
}}},_onScrollerTick:function(){var v=document.documentElement.scrollLeft||document.body.scrollLeft;
var w=document.documentElement.scrollTop||document.body.scrollTop;
window.scrollBy(this._scrollDeltaX,this._scrollDeltaY);
var t=document.documentElement.scrollLeft||document.body.scrollLeft;
var u=document.documentElement.scrollTop||document.body.scrollTop;
var p=t-v;
var q=u-w;
var r=this._element;
var x={x:parseInt(r.style.left,10)+p,y:parseInt(r.style.top,10)+q};
this._startX-=p;
this._startY-=q;
try{$telerik.setLocation(r,x);
}catch(s){}}};
a.ResizeExtender.registerClass("Telerik.Web.UI.ResizeExtender",null,Sys.IDisposable);
})();
(function(a,d){Type.registerNamespace("Telerik.Web.UI");
var b=Telerik.Web.UI;
var c="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]";
b.TabKeyTrap=function(e){this.element=e;
this.trapDelegate=Function.createDelegate(this,this._keepInTrap);
};
b.TabKeyTrap.prototype={trap:function(){$telerik.onEvent(this.element,"keydown",this.trapDelegate);
},removeTrap:function(){$telerik.offEvent(this.element,"keydown",this.trapDelegate);
},dispose:function(){this.element=d;
},_keepInTrap:function(g){if(g.which!==9){return;
}var f=a(this.element);
var l=g.target;
var h=f.find(c).filter(":visible[tabindex!=-1]");
var i=h.length;
var k=i-1;
var j=h.index(l);
if(g.shiftKey){if(j===0){h.get(k).focus();
g.preventDefault();
}}else{if(j===k){h.get(0).focus();
g.preventDefault();
}}}};
b.TabKeyTrap.registerClass("Telerik.Web.UI.TabKeyTrap");
})($telerik.$);

/* END Telerik.Web.UI.Common.Popup.PopupScripts.js */
/* START Telerik.Web.UI.Spell.SpellCheckService.js */
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.SpellCheckService=function(){Telerik.Web.UI.SpellCheckService.initializeBase(this);
this._url="Telerik.Web.UI.SpellCheckHandler.axd";
this._language="en-US";
this._configuration=null;
};
Telerik.Web.UI.SpellCheckService.prototype={spellCheck:function(a){this._sendRequest(this._getPostData("SpellCheck",a));
},addCustomWord:function(a){this._sendRequest(this._getPostData("AddCustom",a));
},_processResponse:function(b,a){var d=b.get_statusCode();
if(b.get_responseAvailable()&&200==d&&b.get_responseData().length>0){var c=b.get_object();
if(c.badWords!=null){c.badWords=eval(c.badWords);
}if(c.wordOffsets!=null){c.wordOffsets=eval(c.wordOffsets);
}this.raise_complete(b.get_object());
}else{if(b.get_timedOut()){alert("Spell Check Request time out");
}else{if(b.get_aborted()){alert("Spell Check Request aborted");
}else{if(404==d){window.alert("Web.config registration missing!\n The spellchecking functionality requires a HttpHandler registration in web.config. Please, use the control Smart Tag to add the handler automatically, or see the help for more information.\n\n"+this.get_url());
}else{if(d>0&&d!=200){window.alert("Spell Check Handler Server Error:"+d+"\n"+b.get_responseData());
}}}}}},_sendRequest:function(b,a){var c=new Sys.Net.WebRequest();
c.set_url(this.get_url());
c.set_httpVerb("POST");
c.set_body(b);
c.add_completed(Function.createDelegate(this,this._processResponse));
c.invoke();
},_getPostData:function(b,a){return"DictionaryLanguage="+this._encode(this._language)+"&Configuration="+this._encode(this._configuration)+"&CommandArgument="+this.encodePostbackContent(a).replace(/%/g,"~")+"&CommandName="+b;
},_encode:function(f){var d=true;
var c=window.escape;
try{var a=$telerik.isIE?document.charset:document.characterSet;
a=a+"";
if(a&&a.toLowerCase().indexOf("utf")==-1){d=false;
}}catch(b){}return(encodeURIComponent&&d)?encodeURIComponent(f):c(f);
},initialize:function(){Telerik.Web.UI.SpellCheckService.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Web.UI.SpellCheckService.callBaseMethod(this,"dispose");
},get_url:function(){return this._url;
},set_url:function(a){this._url=a;
},get_language:function(){return this._language;
},set_language:function(a){this._language=a;
},get_configuration:function(){return this._configuration;
},set_configuration:function(a){this._configuration=a;
},add_complete:function(a){this.get_events().addHandler("complete",a);
},remove_complete:function(a){this.get_events().removeHandler("complete",a);
},raise_complete:function(a){var b=this.get_events().getHandler("complete");
if(b){if(!a){a=Sys.EventArgs.Empty;
}b(this,a);
}},_encodeHtmlContent:function(b,e){var a=new Array("%","<",">","!",'"',"#","$","&","'","(",")",",",":",";","=","?","[","]","\\","^","`","{","|","}","~","+");
var d=b;
var c;
if(e){for(c=0;
c<a.length;
c++){d=d.replace(new RegExp("\\x"+a[c].charCodeAt(0).toString(16),"ig"),"%"+a[c].charCodeAt(0).toString(16));
}}else{for(c=a.length-1;
c>=0;
c--){d=d.replace(new RegExp("%"+a[c].charCodeAt(0).toString(16),"ig"),a[c]);
}}return d;
},encodePostbackContent:function(a){return this._encodeHtmlContent(a,true);
},decodePostbackContent:function(a){return this._encodeHtmlContent(a,false);
}};
Telerik.Web.UI.SpellCheckService.registerClass("Telerik.Web.UI.SpellCheckService",Sys.Component);

/* END Telerik.Web.UI.Spell.SpellCheckService.js */
/* START Telerik.Web.UI.Common.LayoutBuilder.LayoutBuilderEngine.js */
(function(a){Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.LayoutBuilderEngine=function(b){this._selectedTable=null;
this._selectedCell=null;
this._selectedRow=null;
this._selectedRowCells=[];
this._selectedRowIndex=null;
this._tableState=[];
this._tableStateRowsCount=0;
this._tableStateColsCount=0;
this._tableStateId="LayoutBuilder_tableState_dump";
this._tableStateTableStyle="radtblder_stateMatrixTable";
this._tableStateCellStyle="radtblder_stateMatrixCell";
this._selectedCellClassName="";
this._states=[];
this._currentStateIndex=-1;
this.set_selectedTable(b);
if(this._selectedTable){this.set_selectedCell();
}if(!b){b=document.createElement("table");
}Telerik.Web.UI.LayoutBuilderEngine.initializeBase(this,[b]);
};
Telerik.Web.UI.LayoutBuilderEngine.prototype={get_selectedTable:function(){return this._selectedTable;
},set_selectedTable:function(b){this._selectedTable=null;
if(b&&b.tagName=="TABLE"){this._selectedTable=b;
this._setTableState();
}},get_selectedCell:function(){return this._selectedCell;
},set_selectedCell:function(d,c){if(!this._selectedTable||this._selectedTable.tagName!="TABLE"){return;
}if(!d){d=this._selectedTable.rows[0].cells[0];
}if(d.tagName=="TD"||d.tagName=="TH"){if(this._selectedCell!=d){this._selectedCellClassName=d.className;
}this._selectedCell=d;
}else{this._selectedCell=null;
}if(this._selectedCell){this.set_selectedRow();
}if(this._selectedCell&&(false!=c)&&this._currentStateIndex==-1){if(this._states.length==1&&this._states[0]["commandName"]=="selection"){this._states=[];
}var b={commandName:"selection",selectedColIndex:this._selectedCell.cellIndex,selectedRowIndex:this._selectedRowIndex,nextSelectedColIndex:this._selectedCell.cellIndex,nextSelectedRowIndex:this._selectedRowIndex};
this._storeState(b);
}},set_selectedRow:function(){if(this._selectedCell){this._selectedRow=this._selectedCell.parentNode;
if(this._selectedRow){this._selectedRowCells=this._selectedRow.cells;
this._selectedRowIndex=this._selectedRow.rowIndex;
}else{this._selectedRowCells=null;
this._selectedRowIndex=null;
}}},_raiseException:function(b){},_initializesTableStateCounts:function(){var k=this._selectedTable.rows;
var h=k.length;
var d=0;
for(var e=0;
e<h;
e++){var g=0;
var b=k[e].cells;
var c=b.length;
for(var f=0;
f<c;
f++){g+=this._getColSpan(b[f]);
}if(d<g){d=g;
}}this._tableStateRowsCount=h;
this._tableStateColsCount=d;
},dumpState:function(){var g=document.createElement("Table");
var e=$get(this._tableStateId);
if(e){e.parentNode.removeChild(e);
}g.id=this._tableStateId;
g.className=this._tableStateTableStyle;
var f=this._tableState.length;
for(var c=0;
c<f;
c++){var b=this._tableState[c].length;
var k=g.insertRow(c);
for(var d=0;
d<b;
d++){var h=k.insertCell(d);
h.className=this._tableStateCellStyle;
h.innerHTML=this._tableState[c][d];
}}this._selectedTable.parentNode.appendChild(g);
},_initializesTableState:function(e,b){for(var c=0;
c<e;
c++){this._tableState[c]=[];
for(var d=0;
d<b;
d++){this._tableState[c][d]="";
}}},_processTD:function(k,g,b){var h=this._getRowSpan(k);
var c=this._getColSpan(k);
for(var d=0;
d<h;
d++){for(var f=0;
f<c;
f++){var e=g+d;
if(this._tableState[e]==a){this._tableState[e]=[];
}this._tableState[e][b+f]=k.parentNode.rowIndex+","+k.cellIndex;
}}},_setTableState:function(){this._tableState=[];
this._initializesTableStateCounts();
this._initializesTableState(this._tableStateRowsCount,this._tableStateColsCount);
var g=this._selectedTable.rows;
var h=g.length;
for(var f=0;
f<h;
f++){var e=0;
var c=g[f].cells;
var d=c.length;
for(var b=0;
b<d;
b++){while(this._tableState[f][e]){e++;
}this._processTD(c[b],f,e);
}}},_getStateValueIndexes:function(f,c){var g={};
var e=this._tableState.length-1;
if(f>e){f=e;
}var d=this._tableState[f][c];
if(d){var b=d.split(",");
if(b.length==2){g.rowIndex=parseInt(b[0],10);
g.colIndex=parseInt(b[1],10);
}}return g;
},_getSelectedTableCellByStateIndexes:function(g,c){try{var b=this._getStateValueIndexes(g,c);
var f=this._selectedTable.rows[b.rowIndex];
return(f!=a)?f.cells[b.colIndex]:null;
}catch(d){return null;
}},_getLeftTopStateIndexes:function(f,d){var g={};
var h=f+","+d;
for(var e=0;
e<this._tableStateRowsCount;
e++){var b=false;
for(var c=0;
c<this._tableStateColsCount;
c++){if(this._tableState[e][c]==h){g.rowIndex=e;
g.colIndex=c;
b=true;
break;
}}if(b){break;
}}return g;
},_getRightTopStateIndexes:function(f,d){var g={};
var h=f+","+d;
for(var e=0;
e<this._tableStateRowsCount;
e++){var b=false;
for(var c=this._tableStateColsCount-1;
c>-1;
c--){if(this._tableState[e][c]==h){g.rowIndex=e;
g.colIndex=c;
b=true;
break;
}}if(b){break;
}}return g;
},_getLeftBottomStateIndexes:function(f,d){var g={};
var h=f+","+d;
for(var e=(this._tableStateRowsCount-1);
e>-1;
e--){var b=false;
for(var c=0;
c<this._tableStateColsCount;
c++){if(this._tableState[e][c]==h){g.rowIndex=e;
g.colIndex=c;
b=true;
break;
}}if(b){break;
}}return g;
},_insertRow:function(c){var b=null;
if(this._selectedCell.tagName=="TH"){if(this._selectedRow){b=this._selectedRow.parentNode.insertRow(c);
}}else{b=this._selectedTable.insertRow(c);
}return b;
},_insertCell:function(g,c,d,i){if(!c){c=0;
}var b=null;
if(g&&g.tagName=="TR"){var f=g.parentNode;
if(f.tagName=="THEAD"){var e=g.document?g.document:g.ownerDocument;
b=e.createElement("th");
if(d){b.innerHTML=d;
}if(g.cells.length==c){g.appendChild(b);
}else{var h=g.cells[c];
if(h){g.insertBefore(b,h);
}}}else{b=g.insertCell(c);
if(d){b.innerHTML=d;
}}$telerik.mergeElementAttributes(i,b);
this._cleanNewCellAttributes(b);
}return b;
},_cleanNewCellAttributes:function(b){if(!b){return;
}b.removeAttribute("rowSpan");
b.removeAttribute("colSpan");
b.removeAttribute("name");
b.removeAttribute("ID");
},_getRowSpan:function(b){if(b){var c=parseInt(b.getAttribute("rowSpan"),10);
if(isNaN(c)){c=1;
}return c;
}return 0;
},_getColSpan:function(c){if(c){var b=parseInt(c.getAttribute("colSpan"),10);
if(isNaN(b)){b=1;
}return b;
}return 0;
},_setRowSpan:function(b,c){if(!b){return;
}c=parseInt(c,10);
if(isNaN(c)||c<2){b.removeAttribute("rowSpan");
}else{b.setAttribute("rowSpan",c);
}},_setColSpan:function(c,b){if(!c){return;
}b=parseInt(b,10);
if(isNaN(b)||b<2){c.removeAttribute("colSpan");
}else{c.setAttribute("colSpan",b);
}},_alterRowSpan:function(d,b){var e=this._getRowSpan(d)+b;
var c=true;
if(e>0){this._setRowSpan(d,e);
}else{c=false;
}return c;
},canUndo:function(){return(0<this._currentStateIndex);
},canRedo:function(){return(this._currentStateIndex<this._states.length-1);
},undo:function(){var e=this._currentStateIndex-1;
var c=this._states[this._currentStateIndex];
if(e<this._states.length){var d=this._states[e];
if(d){this._replaceSelectedTable(d);
this._currentStateIndex--;
var b={commandName:"undo "+c.commandName,selectedColIndex:c.selectedColIndex,selectedRowIndex:c.selectedRowIndex};
this._raiseEvent("onCommand",b);
}}},redo:function(){var e=this._currentStateIndex+1;
var c=this._states[this._currentStateIndex];
if(e<this._states.length){var d=this._states[e];
if(d){this._replaceSelectedTable(d);
this._currentStateIndex++;
var b={commandName:"redo "+c.commandName,selectedColIndex:c.selectedColIndex,selectedRowIndex:c.selectedRowIndex};
this._raiseEvent("onCommand",b);
}}},_replaceSelectedTable:function(c){var b=this._selectedTable.parentNode;
var e=c.table.cloneNode(true);
b.insertBefore(e,this._selectedTable);
b.removeChild(this._selectedTable);
this.set_selectedTable(e);
var d=e.rows[c.nextSelectedRowIndex].cells[c.nextSelectedColIndex];
this._selectedCellClassName=c.selectedCellClassName;
this.set_selectedCell(d,false);
},_storeState:function(b){if(!this._selectedTable){return false;
}this._currentStateIndex++;
if(this._states.length!=0){this._states=this._states.slice(0,this._currentStateIndex);
}var c={table:this._selectedTable.cloneNode(true),selectedRowIndex:b.selectedRowIndex,selectedColIndex:b.selectedColIndex,nextSelectedRowIndex:b.nextSelectedRowIndex,nextSelectedColIndex:b.nextSelectedColIndex,selectedCellClassName:this._selectedCellClassName,commandName:b.commandName};
this._states.push(c);
},_removeEptyTrElements:function(){if(!this._selectedTable){return false;
}var n=this._selectedTable.rows;
var o=n.length;
var p=[];
var e=0,f,m;
for(f=0;
f<o;
f++){m=n[f];
var d=m.cells.length;
if(d==0){p[e++]=m;
if(f!=0){var h=n[f-1];
var k=h.cells;
var l=k.length;
for(var g=0;
g<l;
g++){var b=k[g];
var c=this._getRowSpan(b);
if(c>1){this._setRowSpan(b,c-1);
}}}}}for(f=0;
f<e;
f++){m=p[0];
m.parentNode.removeChild(m);
}},executeCommand:function(d,c){if(!this._selectedTable||!this._selectedCell||!d){return false;
}var e=true;
var b={commandName:d,selectedColIndex:this._selectedCell.cellIndex,selectedRowIndex:this._selectedRowIndex,nextSelectedColIndex:this._selectedCell.cellIndex,nextSelectedRowIndex:this._selectedRowIndex};
switch(d){case"deleteColumn":case"deleteRow":case"deleteCell":case"insertRowAbove":case"insertRowBelow":case"insertColumnToTheLeft":case"insertColumnToTheRight":case"mergeLeft":case"mergeTop":case"mergeRight":case"mergeDown":case"setAsContentCell":case"splitCellHorizontally":case"splitCellVertically":e=this[d](c);
break;
default:this._raiseException(d+" is not implemented!");
return false;
}if(e){this._setTableState();
this._raiseEvent("onCommand",b);
this.set_selectedRow();
if(d!="deleteColumn"&&d!="deleteRow"&&d!="deleteCell"){b.nextSelectedColIndex=this._selectedCell.cellIndex;
b.nextSelectedColIndex=this._selectedRowIndex;
}this._storeState(b);
this._removeEptyTrElements();
}return e;
},_alterNonCurrentRowCellsRowspan:function(f,b){var c=";";
for(var h=0;
h<this._tableStateColsCount;
h++){var d=this._getStateValueIndexes(f,h);
var g=d.rowIndex;
var e=d.colIndex;
if(d.rowIndex!=f){var i=g+","+e+";";
if(c.indexOf(";"+i)==-1){c+=i;
this._alterRowSpan(this._selectedTable.rows[g].cells[e],b);
}}}},_getNewCellIndex:function(j,c,e){var g=j+1;
var m=j+","+c;
var f=(e)?e:0;
for(var k=0;
k<this._tableStateColsCount;
k++){if(this._tableState[g][k]==m){if(k!=0){var h=k-1;
for(var d=h;
d>0;
d--){var b=this._getStateValueIndexes(g,h);
var l=b.rowIndex;
if(l==g){var n=b.colIndex;
f=parseInt(n,10);
break;
}}}break;
}}return f;
},deleteRow:function(c){if(!this._selectedTable){return false;
}var d=this._getLeftTopStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
var p=d.rowIndex;
var s=p-1;
var f=this._selectedRowIndex+1;
var e=this._selectedTable.rows[f];
if(typeof(p)!="undefined"&&typeof(d.colIndex)!="undefined"){var n=";";
var l=0;
for(var o=0;
o<this._tableStateColsCount;
o++){var q=this._tableState[p][o]+";";
if(n.indexOf(";"+q)==-1){n+=q;
var g=this._getSelectedTableCellByStateIndexes(p,o);
var h=this._getRowSpan(g);
if(h!=1){if(s>=0&&this._tableState[p][o]==this._tableState[s][o]){var r=this._getSelectedTableCellByStateIndexes(s,o);
this._alterRowSpan(r,-1);
}else{for(var j=o;
j>-1;
j--){var b=this._getStateValueIndexes(f,j);
if(f==b.rowIndex){l=parseInt(b.colIndex,10)+1;
break;
}}var k=this._insertCell(e,l,g.innerHTML,g);
this._setColSpan(k,this._getColSpan(g));
this._setRowSpan(k,h-1);
l++;
}}}}var m=this._selectedRow.parentNode;
if(m){m.removeChild(this._selectedRow);
}return true;
}},insertRowBelow:function(b){if(!this._selectedTable){return false;
}var c=this._getLeftBottomStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
if(typeof(c.rowIndex)!="undefined"&&typeof(c.colIndex)!="undefined"){var k=c.rowIndex;
var i=k+1;
var h=this._insertRow(i);
$telerik.mergeElementAttributes(this._selectedRow,h);
var j=";";
for(var f=0;
f<this._tableStateColsCount;
f++){var l=this._tableState[k][f];
if(j.indexOf(";"+l+";")==-1){j+=l+";";
var d=this._getSelectedTableCellByStateIndexes(k,f);
if(this._getRowSpan(d)>1&&i!=this._tableStateRowsCount&&this._tableState[k][f]==this._tableState[i][f]){this._alterRowSpan(d,1);
}else{var g=this._insertCell(h,h.cells.length,"&nbsp;",d);
var e=this._getColSpan(d);
if(e>1){this._setColSpan(g,e);
}}}}}return true;
},insertRowAbove:function(b){if(!this._selectedTable){return false;
}var j=this._insertRow(this._selectedRowIndex);
$telerik.mergeElementAttributes(this._selectedRow,j);
var h=0;
var f=this._selectedRowCells.length;
this._alterNonCurrentRowCellsRowspan(this._selectedRowIndex,1);
for(var e=0;
e<f;
e++){var c=this._selectedRowCells[e];
var d=this._getColSpan(this._selectedRowCells[e]);
var g=this._insertCell(j,h++,"&nbsp;",c);
if(d>1){this._setColSpan(g,d);
}}return true;
},insertColumnToTheLeft:function(b){if(!this._selectedTable){return false;
}var d=this._getLeftTopStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
var g,j;
if(typeof(d.colIndex)!="undefined"){var o=parseInt(d.colIndex,10);
if(isNaN(o)){o=0;
}for(var l=0;
l<this._tableStateRowsCount;
l++){var n=this._selectedTable.rows[l];
var c=this._getStateValueIndexes(l,o);
var q=c.rowIndex;
var p=c.colIndex;
if(q==l){var f=false;
if(o==0){f=true;
}else{g=this._selectedTable.rows[q].cells[p];
var h=this._getColSpan(g);
if(this._tableState[l][o]==this._tableState[l][o-1]&&h>1&&l!=this._selectedRowIndex){g.setAttribute("colSpan",h+1);
var m=this._getRowSpan(g);
if(m>1){for(j=1;
j<m;
j++){l++;
}}}else{f=true;
}}if(f){this._insertCell(n,p,"&nbsp;",n.cells[p]);
}}else{var k=0;
for(j=o-1;
j>-1;
j--){var e=this._getStateValueIndexes(l,j);
if(e.rowIndex==l){k=e.colIndex+1;
break;
}}g=this._getSelectedTableCellByStateIndexes(l,o);
this._insertCell(n,k,"&nbsp;",g);
}}}return true;
},insertColumnToTheRight:function(b){if(!this._selectedTable){return false;
}var d=this._getRightTopStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
var g,j;
if(typeof(d.colIndex)!="undefined"){var o=parseInt(d.colIndex,10);
if(isNaN(o)){o=0;
}for(var l=0;
l<this._tableStateRowsCount;
l++){var n=this._selectedTable.rows[l];
var c=this._getStateValueIndexes(l,o);
var q=c.rowIndex;
var p=parseInt(c.colIndex,10);
if(isNaN(p)){p=0;
}if(q==l){var f=false;
if(o==this._tableStateColsCount-1){f=true;
}else{g=this._selectedTable.rows[q].cells[p];
var h=this._getColSpan(g);
if(this._tableState[l][o]==this._tableState[l][o+1]&&h>1&&l!=this._selectedRowIndex){g.setAttribute("colSpan",h+1);
var m=this._getRowSpan(g);
if(m>1){for(j=1;
j<m;
j++){l++;
}}}else{f=true;
}}if(f){this._insertCell(n,p+1,"&nbsp;",n.cells[p]);
}}else{var k=this._selectedTable.rows[l].cells.length;
for(j=o+1;
j<this._tableStateColsCount;
j++){var e=this._getStateValueIndexes(l,j);
if(e.rowIndex==l){k=parseInt(e.colIndex,10);
if(isNaN(k)){k=0;
}break;
}}g=this._getSelectedTableCellByStateIndexes(l,o);
this._insertCell(n,k,"&nbsp;",g);
}}}return true;
},deleteColumn:function(b){if(!this._selectedTable){return false;
}var d=this._getLeftTopStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
var l=d.colIndex;
if(typeof(l)!="undefined"){for(var h=0;
h<this._tableStateRowsCount;
h++){var k=this._selectedTable.rows[h];
var c=this._getStateValueIndexes(h,l);
var m=parseInt(c.colIndex,10);
var e=k.cells[m];
var j=this._getRowSpan(e);
var f=this._getColSpan(e);
if(f>1){this._setColSpan(e,f-1);
}else{k.removeChild(e);
}if(j>1){for(var g=1;
g<j;
g++){h++;
}}}return true;
}return false;
},canMergeLeft:function(d){if(!d){d=this._selectedCell;
}if(!d||!d.parentNode){return false;
}var c=true;
var h=d.cellIndex;
var e=d.parentNode;
var f=e.rowIndex;
if(h==0||h==-1){c=false;
}else{var b=this._getLeftTopStateIndexes(f,h);
if(typeof(b.rowIndex)=="undefined"||typeof(b.colIndex)=="undefined"){return false;
}var g=this._getSelectedTableCellByStateIndexes(b.rowIndex,b.colIndex-1);
if(g){if(g.parentNode.rowIndex!=f||this._getRowSpan(d)!=this._getRowSpan(g)){c=false;
}}}return c;
},mergeLeft:function(b){var d=(b&&b.cell)?b.cell:this._selectedCell;
if(!d||!d.parentNode){return false;
}var c=true;
var e=d.parentNode;
if(this.canMergeLeft(d)){var f=e.cells[d.cellIndex-1];
this._setColSpan(d,this._getColSpan(d)+this._getColSpan(f));
var g=f.innerHTML;
if(g!=" "&&g!="&nbsp;"){d.innerHTML=g+"<br />"+d.innerHTML;
}e.removeChild(f);
}else{this._raiseException("The cell can not be merged left!");
c=false;
}return c;
},canMergeTop:function(d){if(!d){d=this._selectedCell;
}if(!d||!d.parentNode){return false;
}var c=true;
var e=d.parentNode.rowIndex;
if(e==0){c=false;
}else{var b=this._getLeftTopStateIndexes(e,d.cellIndex);
if(typeof(b.rowIndex)=="undefined"||typeof(b.colIndex)=="undefined"){return false;
}var f=this._getSelectedTableCellByStateIndexes(b.rowIndex-1,b.colIndex);
c=this.canMergeDown(f);
}return c;
},mergeTop:function(b){var e=(b&&b.cell)?b.cell:this._selectedCell;
if(!e||!e.parentNode){return false;
}var d=true;
if(this.canMergeTop(e)){var g=e.parentNode;
var c=this._getLeftTopStateIndexes(g.rowIndex,e.cellIndex);
var h=this._getSelectedTableCellByStateIndexes(c.rowIndex-1,c.colIndex);
var f=e.innerHTML;
if(f!=" "&&f!="&nbsp;"){h.innerHTML+="<br />"+f;
}this.set_selectedCell(h,false);
this._alterRowSpan(h,this._getRowSpan(e));
g.removeChild(e);
}else{this._raiseException("The cell cannot be merged top!");
d=false;
}return d;
},canMergeRight:function(d){if(!d){d=this._selectedCell;
}if(!d||!d.parentNode){return false;
}var c=true;
var e=d.cellIndex;
var h=d.parentNode;
var i=h.rowIndex;
if(typeof(i)=="undefined"){return false;
}var f=h.cells.length;
if(e==f-1){c=false;
}else{var b=this._getRightTopStateIndexes(i,e);
if(typeof(b.rowIndex)=="undefined"||typeof(b.colIndex)=="undefined"){return false;
}var g=this._getSelectedTableCellByStateIndexes(b.rowIndex,b.colIndex+1);
if(g&&(g.parentNode.rowIndex!=i||this._getRowSpan(d)!=this._getRowSpan(g))){c=false;
}}return c;
},mergeRight:function(b){var d=(b&&b.cell)?b.cell:this._selectedCell;
if(!d||!d.parentNode){return false;
}var c=true;
if(this.canMergeRight(d)){var e=d.parentNode;
var f=e.cells[d.cellIndex+1];
var g=f.innerHTML;
if(g!=" "&&g!="&nbsp;"){d.innerHTML+="<br />"+g;
}this._setColSpan(d,this._getColSpan(d)+this._getColSpan(f));
e.removeChild(f);
}else{this._raiseException("The cell can not be merged right!");
c=false;
}return c;
},canMergeDown:function(e){if(!e){e=this._selectedCell;
}if(!e||!e.parentNode){return false;
}var d=true;
var i=this._getRowSpan(e);
var h=this._getColSpan(e);
var f=e.parentNode.rowIndex;
var g=f+i;
if(g==this._tableStateRowsCount){d=false;
}else{var c=this._getLeftTopStateIndexes(f,e.cellIndex);
if(typeof(c.colIndex)!="undefined"){var j=c.colIndex;
var b=this._getStateValueIndexes(g,j);
var n=b.rowIndex;
var m=parseInt(b.colIndex,10);
if(this._selectedTable.rows[n]==a){return false;
}var k=this._selectedTable.rows[n].cells[m];
if(k.parentNode.parentNode.tagName!=e.parentNode.parentNode.tagName){return false;
}var l=this._getColSpan(k);
if(h!=l){d=false;
}else{if(j!=0){if(this._tableState[g]==a||this._tableState[g][j-1]==this._tableState[g][j]){d=false;
}}}}}return d;
},mergeDown:function(b){var e=(b&&b.cell)?b.cell:this._selectedCell;
if(!e||!e.parentNode){return false;
}var d=true;
if(this.canMergeDown(e)){var c=this._getLeftBottomStateIndexes(e.parentNode.rowIndex,e.cellIndex);
var f=this._getSelectedTableCellByStateIndexes(c.rowIndex+1,c.colIndex);
var g=f.innerHTML;
if(g!=" "&&g!="&nbsp;"){e.innerHTML+="<br />"+g;
}this._alterRowSpan(e,this._getRowSpan(f));
f.parentNode.removeChild(f);
}else{this._raiseException("The cell can not be merged down!");
d=false;
}return d;
},canDeleteCell:function(b){if(!b){b=this._selectedCell;
}if(!b||!b.parentNode){return false;
}var d=0;
var e=this._getRowSpan(b);
var c=this._getColSpan(b);
if(e==this._tableStateRowsCount){d=1;
}else{if(c==this._tableStateColsCount){d=2;
}else{if(this.canMergeLeft(b)){d=3;
}else{if(this.canMergeRight(b)){d=4;
}else{if(this.canMergeDown(b)){d=5;
}else{if(this.canMergeTop(b)){d=6;
}}}}}}return d;
},deleteCell:function(b){var f=(b&&b.cell)?b.cell:this._selectedCell;
if(!f||!f.parentNode){return false;
}var d=true;
var j=f.parentNode;
var e=this.canDeleteCell(f);
var c;
switch(e){case 1:j.removeChild(f);
break;
case 2:j.parentNode.removeChild(j);
break;
case 3:var h=j.cells[f.cellIndex-1];
this.set_selectedCell(h,false);
d=this.mergeRight();
break;
case 4:var i=j.cells[f.cellIndex+1];
this.set_selectedCell(i,false);
d=this.mergeLeft();
break;
case 5:c=this._getLeftBottomStateIndexes(j.rowIndex,f.cellIndex);
var g=this._getSelectedTableCellByStateIndexes(c.rowIndex+1,c.colIndex);
this.set_selectedCell(g,false);
d=this.mergeTop();
break;
case 6:c=this._getLeftBottomStateIndexes(j.rowIndex,f.cellIndex);
var k=this._getSelectedTableCellByStateIndexes(c.rowIndex-1,c.colIndex);
this.set_selectedCell(k,false);
d=this.mergeDown();
break;
default:this._raiseException("The cell can not be deleted!");
d=false;
break;
}if(d&&j&&j.cells.length==0){j.parentNode.removeChild(j);
}return d;
},splitCellHorizontally:function(d){if(!this._selectedCell){return false;
}var g=this._selectedCell;
var f=true;
var k=this._getColSpan(g);
var i=g.cellIndex;
var q=this._selectedRow;
var r=this._selectedRowIndex;
var t=r+","+i;
var n=this._insertCell(q,i+1,"&nbsp;",g);
this._setRowSpan(n,this._getRowSpan(g));
if(k==1){var e=this._getLeftTopStateIndexes(r,i);
var j=e.colIndex;
var c=";";
for(var s=0;
s<this._tableStateRowsCount;
s++){var m=this._tableState[s][j];
if(s!=r&&m!=t&&c.indexOf(";"+m+";")){c+=m+";";
var b=this._getSelectedTableCellByStateIndexes(s,j);
this._setColSpan(b,this._getColSpan(b)+1);
}}}else{var p=(d)?parseInt(d.rightColSpan,10):null;
var h;
var o;
if(!p||isNaN(p)||p>=k){var l=Math.ceil(k/2);
if(k%2==0){h=l;
o=l;
}else{h=l;
o=l-1;
}}else{h=k-p;
o=p;
}this._setColSpan(g,h);
this._setColSpan(n,o);
}return f;
},splitCellVertically:function(e){var i=this._selectedCell;
if(!i){return false;
}if(!i.parentNode){return false;
}var h=true;
var s=this._getRowSpan(i);
var j=i.cellIndex;
var q=this._selectedRow;
var r=this._selectedRowIndex;
var c=";";
var b=null;
var w;
var f=[];
var m;
if(s==1){for(var u=0;
u<this._tableStateColsCount;
u++){b=this._getSelectedTableCellByStateIndexes(r,u);
w=this._tableState[r][u];
f=this._getStateValueIndexes(r,u);
if((b.cellIndex!=j||r!=f.rowIndex)&&c.indexOf(";"+w+";")==-1){c+=w+";";
this._alterRowSpan(b,1);
}}var p=this._insertRow(r+1);
$telerik.mergeElementAttributes(q,p);
m=this._insertCell(p,p.cells.length,"&nbsp;",i);
this._setColSpan(m,this._getColSpan(i));
}else{var t=Math.ceil(s/2),k,o;
var l=(e)?parseInt(e.downRowSpan,10):null;
if(!l||isNaN(l)||l>=s){if(s%2==0){k=t;
o=t;
}else{k=t;
o=t-1;
}}else{k=s-l;
o=l;
}this._setRowSpan(i,k);
var g=this._getLeftTopStateIndexes(r,j);
var d=r+k;
var n=0;
for(var v=g.colIndex;
v>-1;
v--){f=this._getStateValueIndexes(d,v);
if(f.rowIndex==d){n=f.colIndex+1;
break;
}}m=this._insertCell(this._selectedTable.rows[d],n,"&nbsp;",i);
this._setColSpan(m,this._getColSpan(i));
this._setRowSpan(m,o);
}return h;
},setAsContentCell:function(b){var c=this._selectedCell;
if(!c){return false;
}if(!c.parentNode){return false;
}c.style.width="100%";
c.style.height="100%";
return true;
},add_onCommand:function(b){this.get_events().addHandler("onCommand",b);
},_raiseEvent:function(c,b){var d=this.get_events().getHandler(c);
if(d){if(!b){b=Sys.EventArgs.Empty;
}d(this,b);
}}};
Telerik.Web.UI.LayoutBuilderEngine.registerClass("Telerik.Web.UI.LayoutBuilderEngine",Telerik.Web.UI.RadWebControl);
})();

/* END Telerik.Web.UI.Common.LayoutBuilder.LayoutBuilderEngine.js */
/* START Telerik.Web.UI.Common.Widgets.Draggable.js */
Type.registerNamespace("Telerik.Web.UI.Widgets");
(function(a,b,i){var f=function(k){(function(){var m={};
a.extend(k,{trigger:function(p){var q=m[p];
if(!q){return;
}for(var r=0;
r<q.length;
r++){var o=Array.prototype.slice.call(arguments);
o.shift();
o.unshift(this);
q[r].handler.apply(q[r].context,o);
}},_bind:function(p,o){a.each(p,function(q,r){l(q,r,o);
});
},_unbind:function(p,o){a.each(p,function(q,r){n(q,r,o);
});
},_disposeEvents:function(){m=null;
}});
function l(p,q,o){var r=m[p]||[];
r.push({handler:q,context:o});
m[p]=r;
}function n(p,q,o){var r=m[p];
if(!r){return;
}var t=-1;
for(var s=0;
s<r.length;
s++){if(r[s].func==q&&r[s].context==o){t=s;
break;
}}if(t>-1){r=r.splice(t,1);
}m[p]=r;
}})();
};
var e=b.EventType,h=".telerikDraggableWidget",c=e.Down+h,j=e.Up+h,g=e.Move+h,d="dragstart"+h;
b.Widgets.Draggable=function(k,l){this._element=k;
this._options=a.extend({useTransformations:false,shouldPreventDefault:true,enableFrameOverlay:false,enableDelay:false,validateNestedElementsAsTriggers:false,mouseButtonTrigger:b.Widgets.MouseButton.Left,touchHoldDelay:l&&l.touchHoldDelay?Math.min(1000,l.touchHoldDelay):1000,touchHoldDelta:l&&l.touchHoldDelta?Math.min(20,l.touchHoldDelta):20,customScrollingEvaluator:null,useExternalHandle:!!(l&&l.handle),cursorType:"move",handle:k,ownerDocument:document,constraints:{minX:null,minY:null,maxX:null,maxY:null}},l||{});
this._ieTouchActionManager=new b.Helpers.IETouchActionManager(this._options.handle);
this._isScrolling=false;
f(this);
this.initialize();
};
b.Widgets.Draggable.prototype={initialize:function(k,l){this._initStyleVars(true);
this._checkTransformationAvailability();
this._ieTouchActionManager.allowUserTouch();
this._toggleHandleCursor(true);
this._attachEventHandlers();
this._enabled=true;
},dispose:function(){this._ieTouchActionManager.dispose();
this._detachEventHandlers();
this._initStyleVars(false);
this._disposeEvents();
this._toggleHandleCursor(false);
this._options=null;
this._element=null;
},get_handle:function(){return this._options.handle;
},set_handle:function(k){this._options.handle=k;
},get_useExternalHandle:function(){return this._options.useExternalHandle;
},get_position:function(){var k=this._element;
var n=a(k).offset();
var l={x:n.left,y:n.top};
var m=this._options.offsetElement;
if(m){var o=a(m).offset();
l.x-=o.left-m.scrollLeft;
l.y-=o.top-m.scrollTop;
}l.x=Math.round(l.x);
l.y=Math.round(l.y);
return l;
},get_handlePosition:function(){var k=a(this._options.handle);
return{x:k.offset().left,y:k.offset().top};
},get_useTransform:function(){return this._options.useTransformations;
},set_useTransform:function(k){if(k){this._checkTransformationAvailability();
if(k&&!this._options.useTransformations){alert("The browser does not support CSS3 transformations");
}}else{this._options.useTransformations=false;
}},get_constraints:function(){return this._options.constraints;
},set_constraints:function(k){if(k){if((k.minX&&k.maxX&&k.minX>k.maxX)||(k.minY&&k.maxY&&k.minY>k.maxY)){throw Error("Invalid Parameters");
}}a.extend(this._options.constraints,k||{maxX:null,minX:null,maxY:null,minY:null});
},get_minX:function(){this._options.constraints.minX;
},set_minX:function(l){var k=this._options.constraints;
if((isNaN(l)&&l!==null&&l!=="")||(k.maxX&&l!==null&&k.maxX<l)){throw Error("Invalid Parameters");
}k.minX=Math.floor(l);
},get_maxX:function(){this._options.constraints.maxX;
},set_maxX:function(l){var k=this._options.constraints;
if((isNaN(l)&&l!==null&&l!=="")||(k.minX&&l!==null&&k.minX>l)){throw Error("Invalid Parameters");
}k.maxX=Math.ceil(l);
},get_minY:function(){this._options.constraints.minY;
},set_minY:function(l){var k=this._options.constraints;
if((isNaN(l)&&l!==null&&l!=="")||(k.maxY&&l!==null&&k.maxY<l)){throw Error("Invalid Parameters");
}k.minY=Math.floor(l);
},get_maxY:function(){this._options.constraints.maxY;
},set_maxY:function(l){var k=this._options.constraints;
if((isNaN(l)&&l!==null&&l!=="")||(k.minY&&l!==null&&k.minY>l)){throw Error("Invalid Parameters");
}k.maxY=Math.ceil(l);
},get_enabled:function(){return this._enabled;
},set_enabled:function(k){this._enabled=k;
},moveTo:function(k){this._moveWithDelta(k);
},add_dragStarting:function(k){this._bind({dragStarting:k});
},remove_dragStarting:function(k){this._unbind({dragStarting:k});
},add_dragStart:function(k){this._bind({dragStart:k});
},remove_dragStart:function(k){this._unbind({dragStart:k});
},add_dragging:function(k){this._bind({dragging:k});
},remove_dragging:function(k){this._unbind({dragging:k});
},add_dragEnd:function(k){this._bind({dragEnd:k});
},remove_dragEnd:function(k){this._unbind({dragEnd:k});
},updateScroll:function(m){if(!this.startCoords){return;
}this.startCoords.x-=m.x;
this.startCoords.y-=m.y;
var l=this._options.constraints;
var o=this._options.useTransformations;
var n=o?new b.Point(this.startPosition.x+this.transformPos.x,this.startPosition.y+this.transformPos.y):this.get_position();
var k=this._calcConstraints(m,n,l);
if(this._options.useTransformations){this.transformPos.x+=k.x;
this.transformPos.y+=k.y;
this._dragTransform(this.transformPos);
}else{this._dragClassic(k);
}if(this._options.enableFrameOverlay){this._resizeOverlay();
}},_initStyleVars:function(l){this._elStyle=l?this._element.style:null;
var k=this._getStylePrefix("Transform");
this._transfPropName=l?(k?k+"Transform":"transform"):null;
},_checkTransformationAvailability:function(){this._options.useTransformations=this._transfPropName in document.body.style;
},_getStylePrefix:function(o){var k=document.body.style;
var n=["webkit","Moz","ms","O","Khtml","Icab"];
for(var l=0;
l<n.length;
l++){var m=n[l];
if(m+o in k){return m;
}}},_getBounds:function(){return $telerik.getBounds(this._element);
},_attachEventHandlers:function(){var l=this;
var k=a(l._options.handle);
l._mouseDownHandlerProxy=a.proxy(l._mouseDownHandler,this);
k.onEvent(c,l._mouseDownHandlerProxy);
k.onEvent(d,l._dragStartHandle);
},_detachEventHandlers:function(){var m=this;
var n=m._options||{};
var l=a(n.handle);
var k=a(n.ownerDocument);
l.offEvent(c,m._mouseDownHandlerProxy);
l.offEvent(d,m._dragStartHandle);
k.offEvent(g,m._mouseMoveHandlerProxy);
k.offEvent(g,m._touchMoveHandlerProxy);
k.offEvent(j,m._mouseUpOnceProxy);
},_dragStartHandle:function(k){$telerik.cancelRawEvent(k.originalEvent);
},_mouseDownHandler:function(m){var q=this;
if(!q._enabled){return;
}q._draggingTriggered=false;
var o=q._isTouchEvent(m);
var p=q._options;
if(p.shouldPreventDefault){m.preventDefault();
}if(o){a(p.handle).offEvent(c,q._mouseDownHandlerProxy);
}if((!o&&!q._validateButtonTrigger(m))||(p.validateNestedElementsAsTriggers&&!q._validateTargetElemCursor(m))){return;
}var n=q._getEventLocation(m);
q.startCoords=q.deltaHelper={x:n.x,y:n.y};
q.startPosition=q.initialPosition=q.get_position();
q.transformPos=q.startPosition;
var l=new b.Widgets.DraggableEventArgs(q.initialPosition,null,m);
q.trigger("dragStarting",l);
if(!l._cancel){q._mouseMoveHandlerProxy=a.proxy(q._mouseMoveHandler,q);
q._mouseUpOnceProxy=a.proxy(q._mouseUpHandlerOnce,q);
var k=a(p.ownerDocument);
k.onEvent(g,q._mouseMoveHandlerProxy);
k.onEvent(j,q._mouseUpOnceProxy);
if(o&&p.enableDelay){q._touchHoldSimulator(m);
}else{q._triggerDragStart(m,q);
q._cancelDragSelection(m);
}if(p.enableFrameOverlay){q._showOverlay();
}}},_mouseUpHandlerOnce:function(k){if(!this._options){return;
}a(this._options.ownerDocument).offEvent(j,this._mouseUpOnceProxy);
this._mouseUpHandler(k);
},_validateTargetElemCursor:function(k){return $telerik.getComputedStyle(k.target||k.srcElement,"cursor")==this._options.cursorType;
},_validateButtonTrigger:function(k){var l=!("button" in k)&&"originalEvent" in k?k.originalEvent:k;
return((this._options.mouseButtonTrigger&this._eventButtonToMouseButton(l.button))!=0);
},_cancelDragSelection:function(k){$telerik.cancelRawEvent(k);
},_touchHoldSimulator:function(k){this._touchMoveHandlerProxy=a.proxy(this._touchMoveHandler,this);
a(this._options.ownerDocument).onEvent(g,this._touchMoveHandlerProxy);
var l=this;
this.touchHoldTimeout=window.setTimeout(function(){if(!l._isScrolling){l._triggerDragStart(k);
}},this._options.touchHoldDelay);
},_touchMoveHandler:function(l){var m=this._getEventLocation(l);
var k={x:this.startCoords.x-m.x,y:this.startCoords.y-m.y};
if(this._options.customScrollingEvaluator){this._isScrolling=this._options.customScrollingEvaluator(this,l);
}else{this._isScrolling=Math.abs(k.x)>this._options.touchHoldDelta||Math.abs(k.y)>this._options.touchHoldDelta;
}},_triggerDragStart:function(l){this._clearTouchHoldTimeout();
var k=new b.Widgets.DraggableEventArgs(this.initialPosition,null,l.originalEvent);
this.trigger("dragStart",k);
if(!k._cancel){if(this._isTouchEvent(l)&&this._touchMoveHandlerProxy){a(this._options.ownerDocument).offEvent(g,this._touchMoveHandlerProxy);
}this._mouseMoveHandlerProxy=a.proxy(this._mouseMoveHandler,this);
a(this._options.ownerDocument).onEvent(g,this._mouseMoveHandlerProxy);
this._draggingTriggered=true;
}},_clearTouchHoldTimeout:function(){window.clearTimeout(this.touchHoldTimeout);
},_mouseUpHandler:function(m){this._isScrolling=false;
this._clearTouchHoldTimeout();
var n=this._options;
if(n.useTransformations){this._applyTransformation();
}var k=a(n.ownerDocument);
k.offEvent(g,this._mouseMoveHandlerProxy);
k.offEvent(g,this._touchMoveHandler);
if(this._isTouchEvent(m)){this.eventTimer=window.setTimeout(a.proxy(this._reatachMouseDownHandlers,this),500);
}if(n.enableFrameOverlay){this._hideOverlay();
}var o=this.get_position();
var p=this.startPosition;
var l=new b.Widgets.DraggableEventArgs(p,{x:o.x-p.x,y:o.y-p.y},m.originalEvent);
this.trigger("dragEnd",l);
},_reatachMouseDownHandlers:function(){if(this._options){var k=a(this._options.handle);
k.offEvent(c,this._mouseDownHandlerProxy);
k.onEvent(c,this._mouseDownHandlerProxy);
}},_mouseMoveHandler:function(k){if(this._draggingTriggered){this._drag(k);
this._cancelDragSelection(k);
}},_drag:function(n){var o=this._getEventLocation(n),l=this._options.constraints,m=this._calcConstraints({x:o.x-this.startCoords.x,y:o.y-this.startCoords.y},this.startPosition,l),k=new b.Widgets.DraggableEventArgs(this.startPosition,m,n.originalEvent);
if(!this._options.useTransformations){this.initialPosition=this.get_position();
this.deltaHelper={x:o.x-this.deltaHelper.x,y:o.y-this.deltaHelper.y};
this.deltaHelper=this._calcConstraintsClassic(this.deltaHelper,this.initialPosition,o,this._options.constraints);
}else{this.deltaHelper=m;
this.transformPos=m;
}this.trigger("dragging",k);
if(k._cancel==true){return;
}if(this._options.useTransformations){this._dragTransform(this.deltaHelper);
}else{this._dragClassic(this.deltaHelper);
}this.deltaHelper={x:o.x,y:o.y};
if(this._options.enableFrameOverlay){this._resizeOverlay();
}},_dragTransform:function(k){if(a(this._element).hasClass("rdwDoNotTransfrom")){return;
}this._clearDragTranslation();
this._elStyle[this._transfPropName]+=" translate("+k.x+"px, "+k.y+"px)";
a(this._element).addClass("rdwTransformed");
},_dragClassic:function(k){if(a(this._element).hasClass("rdwDoNotTransfrom")){return;
}this._moveWithDelta(k);
},_applyTransformation:function(){var o=this._elStyle[this._transfPropName];
var q="translate(";
var n=q.length;
var m=o.substr(o.lastIndexOf(q));
var p=m.substr(n,m.indexOf(")")-n);
var l=p.split(",");
var k={x:parseFloat(l[0]),y:parseFloat(l[1])};
this._clearDragTranslation();
this._moveWithDelta(k);
},_clearDragTranslation:function(){if(!a(this._element).hasClass("rdwTransformed")){return;
}var k=this._elStyle[this._transfPropName];
this._elStyle[this._transfPropName]=k.substr(0,k.lastIndexOf("translate("));
a(this._element).removeClass("rdwTransformed");
},_getEventLocation:function(k){if(this._isTouchEvent(k)){return this._getTouchEventLocation(k);
}else{if(!("clientX" in k)&&"originalEvent" in k){k=k.originalEvent;
}return{x:k.clientX,y:k.clientY};
}},_moveWithDelta:function(k){a(this._element).css({top:parseFloat(a(this._element).css("top"))+parseFloat(k.y)+"px",left:parseFloat(a(this._element).css("left"))+parseFloat(k.x)+"px"});
},_calcConstraints:function(l,o,k){var p=l;
var n=this._element.offsetWidth;
var m=this._element.offsetHeight;
if((k.maxX!=null&&o.x+n>k.maxX)||(k.minX!=null&&o.x<k.minX)||(k.maxY!=null&&o.y+m>k.maxY)||(k.minY!=null&&o.y<k.minY)){return{x:0,y:0};
}if(l.x<0){p.x=k.minX!==null&&!isNaN(k.minX)?Math.max(l.x,k.minX-o.x):l.x;
}else{p.x=k.maxX!==null&&!isNaN(k.maxX)?Math.min(l.x,k.maxX-o.x-n):l.x;
}if(l.y<0){p.y=k.minY!==null&&!isNaN(k.minY)?Math.max(l.y,k.minY-o.y):l.y;
}else{p.y=k.maxY!==null&&!isNaN(k.maxY)?Math.min(l.y,k.maxY-o.y-m):l.y;
}return p;
},_calcConstraintsClassic:function(l,n,m,k){var o=l;
if((k.maxX&&n.x>k.maxX)||(k.minX&&n.x<k.minX)||(k.maxY&&n.y>k.maxY)||(k.minY&&n.y<k.minY)){return{x:0,y:0};
}if(l.x<0){o.x=n.x+l.x<k.minX?k.minX-n.x:k.maxX&&m.x>k.maxX?0:l.x;
}else{o.x=k.maxX&&n.x+a(this._element).width()+l.x>=k.maxX?k.maxX-n.x-a(this._element).width():k.minX&&m.x<k.minX?0:l.x;
}if(l.y<0){o.y=n.y+this.deltaHelper.y<k.minY?k.minY-n.y:k.maxY&&m.y>k.maxY?0:l.y;
}else{o.y=k.maxY&&n.y+a(this._element).height()+l.y>=k.maxY?k.maxY-n.y-a(this._element).height():k.minY&&m.y<k.minY?0:l.y;
}return o;
},_showOverlay:function(){var k=this._getIFrames(this._options.ownerDocument);
for(var l=0;
l<k.length;
l++){this._createOverlay(k[l]);
}},_hideOverlay:function(){a(".rrFrameOverlay").remove();
a(this._options.ownerDocument).find("iframe").removeData("rrFrameOverlayData");
},_resizeOverlay:function(){a(this._options.ownerDocument).find("iframe").each(function(){var k=a(this);
a("#"+k.data("rrFrameOverlayData")).width(k.width()).height(k.height());
});
},_createOverlay:function(k){var l=$telerik.getBounds(k),m=this._options.ownerDocument.createElement("div");
m.id="rrOverlay_"+this._generateString(6)+(+new Date()%1000000);
m.className="rrFrameOverlay";
m.style.cssText="position:absolute; top:"+l.y+"px;left:"+l.x+"px;width:"+l.width+"px;height:"+l.height+"px;background-color: white; opacity: 0; filter: alpha(opacity=0)";
a(k).data("rrFrameOverlayData",m.id);
this._options.ownerDocument.body.appendChild(m);
},_getIFrames:function(k){return k.getElementsByTagName("iframe");
},_generateString:function(m){var k="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");
if(!m){m=Math.floor(Math.random()*k.length);
}var n="";
for(var l=0;
l<m;
l++){n+=k[Math.floor(Math.random()*k.length)];
}return n;
},_toggleHandleCursor:function(l){var k=this.get_handle();
if(l){this._origCursor=k.style.cursor;
k.style.cursor=this._options.cursorType;
}else{k.style.cursor=this._origCursor;
this._origCursor=null;
}},_isTouchEvent:function(k){return b.Widgets.Draggable.isTouchEvent(k);
},_getTouchEventLocation:function(l){var n=arguments[1],o=n?[n+"X"]:"pageX",p=n?[n+"Y"]:"pageY",m={x:l[o],y:l[p]},k=l.changedTouches||(l.originalEvent?l.originalEvent.changedTouches:l.rawEvent?l.rawEvent.changedTouches:false);
if(k&&k.length<2){m.x=k[0][o];
m.y=k[0][p];
}if(m.x===i&&l.originalEvent&&l.originalEvent[o]!=i){m.x=l.originalEvent[o];
m.y=l.originalEvent[p];
}return m;
},_eventButtonToMouseButton:function(k){var l=Telerik.Web.UI.Widgets.MouseButton;
if($telerik.isIE&&!$telerik.isIE9Mode){switch(k){case 1:return l.Left;
case 4:return l.Middle;
case 2:return l.Right;
default:return l.None;
}}else{switch(k){case 0:return l.Left;
case 1:return l.Middle;
case 2:return l.Right;
default:return l.None;
}}}};
b.Widgets.Draggable.isTouchEvent=function(k){var l=k.originalEvent||k.rawEvent||k;
var n=l?l.type:"";
if(/touch/i.test(n)){return true;
}else{if(/pointer/i.test(n)&&"pointerType" in l){var m=l.pointerType;
return m==="touch"||("MSPOINTER_TYPE_TOUCH" in l?m===l.MSPOINTER_TYPE_TOUCH:false);
}}return false;
};
b.Widgets.DraggableEventArgs=function(m,k,l){this._cancel=false;
this._position=m;
this._delta=k||{x:0,y:0};
this._domEvent=l;
this._newPosition={x:this._position.x+this._delta.x,y:this._position.y+this._delta.y};
};
b.Widgets.DraggableEventArgs.prototype={get_position:function(){return this._position;
},get_newPosition:function(){return this._newPosition;
},get_domEvent:function(){return this._domEvent;
},get_cancel:function(){return this._cancel;
},set_cancel:function(k){this._cancel=(k===true||k==="true");
}};
a.registerEnum(b.Widgets,"MouseButton",{None:0,Left:1,Middle:2,Right:4});
})($telerik.$,Telerik.Web.UI);

/* END Telerik.Web.UI.Common.Widgets.Draggable.js */
/* START Telerik.Web.UI.Common.Widgets.Resizable.js */
Type.registerNamespace("Telerik.Web.UI.Widgets");
(function(a,b,f){var e=function(g){(function(){var i={};
a.extend(g,{trigger:function(l){var m=i[l];
if(!m){return;
}for(var n=0;
n<m.length;
n++){var k=Array.prototype.slice.call(arguments);
k.shift();
k.unshift(this);
m[n].handler.apply(m[n].context,k);
}},_bind:function(l,k){a.each(l,function(m,n){h(m,n,k);
});
},_unbind:function(l,k){a.each(l,function(m,n){j(m,n,k);
});
},_disposeEvents:function(){i=null;
}});
function h(l,m,k){var n=i[l]||[];
n.push({handler:m,context:k});
i[l]=n;
}function j(l,m,k){var n=i[l];
if(!n){return;
}var p=-1;
for(var o=0;
o<n.length;
o++){if(n[o].func==m&&n[o].context==k){p=o;
break;
}}if(p>-1){n=n.splice(p,1);
}i[l]=n;
}})();
};
var c=b.Widgets;
c.Resizable=function(g,h){this._element=g;
this._handlesCollection={};
this.options=a.extend({handleSize:7,liveResize:false,enableFrameOverlay:false,appendHandleToElement:false,useTinyHandles:false,constraints:{minWidth:null,minHeight:null,maxWidth:null,maxHeight:null},ownerDocument:document,handles:[{direction:"W",element:null},{direction:"NW",element:null},{direction:"N",element:null},{direction:"NE",element:null},{direction:"E",element:null},{direction:"SE",element:null},{direction:"S",element:null},{direction:"SW",element:null}]},h||{});
e(this);
this.initialize();
};
c.Resizable.prototype={initialize:function(){this._initHandles();
},add_resizeStart:function(g){this._bind({resizeStart:g});
},remove_resizeStart:function(g){this._unbind({resizeStart:g});
},add_resizing:function(g){this._bind({resizing:g});
},remove_resizing:function(g){this._unbind({resizing:g});
},add_resize:function(g){this._bind({resize:g});
},remove_resize:function(g){this._unbind({resize:g});
},add_resizeEnd:function(g){this._bind({resizeEnd:g});
},remove_resizeEnd:function(g){this._unbind({resizeEnd:g});
},add_destroy:function(g){this._bind({destroy:g});
},remove_destroy:function(g){this._unbind({destroy:g});
},get_element:function(){return this._element;
},get_constraints:function(){return this.options.constraints;
},set_constraints:function(g){if(g){if((g.minWidth&&g.maxWidth&&g.minWidth>g.maxWidth)||(g.minHeight&&g.maxHeight&&g.minHeight>g.maxHeight)){throw Error("Invalid Parameters");
}}a.extend(this.options.constraints,g||{maxWidth:null,minWidth:null,maxHeight:null,minHeight:null});
for(var h in this._handlesCollection){this._setHandleConstraints(this._handlesCollection[h]);
}},get_minWidth:function(){return this.options.constraints.minWidth;
},set_minWidth:function(i){var g=this.options.constraints;
if((isNaN(i)&&i!==null&&i!=="")||(g.maxWidth&&g.maxWidth<i)){throw Error("Invalid Parameters");
}g.minWidth=i;
for(var h in this._handlesCollection){this._setHandleConstraints(this._handlesCollection[h]);
}},get_maxWidth:function(){return this.options.constraints.maxWidth;
},set_maxWidth:function(i){var g=this.options.constraints;
if((isNaN(i)&&i!==null&&i!=="")||(g.minWidth&&g.minWidth>i)){throw Error("Invalid Parameters");
}g.maxWidth=i;
for(var h in this._handlesCollection){this._setHandleConstraints(this._handlesCollection[h]);
}},get_minHeight:function(){return this.options.constraints.minHeight;
},set_minHeight:function(i){var g=this.options.constraints;
if((isNaN(i)&&i!==null&&i!=="")||(g.maxHeight&&g.maxHeight<i)){throw Error("Invalid Parameters");
}g.minHeight=i;
for(var h in this._handlesCollection){this._setHandleConstraints(this._handlesCollection[h]);
}},get_maxHeight:function(){return this.options.constraints.maxHeight;
},set_maxHeight:function(i){var g=this.options.constraints;
if((isNaN(i)&&i!==null&&i!=="")||(g.minHeight&&g.minHeight>i)){throw Error("Invalid Parameters");
}g.maxHeight=i;
for(var h in this._handlesCollection){this._setHandleConstraints(this._handlesCollection[h]);
}},hideHandles:function(){for(var g in this._handlesCollection){var h=this._handlesCollection[g];
h._element.style.display="none";
}},showHandles:function(){for(var g in this._handlesCollection){var h=this._handlesCollection[g];
h._element.style.display="";
}},repositionHandles:function(){for(var g in this._handlesCollection){this._positionHandle(this._handlesCollection[g]);
}},repaint:function(){this._configureHandles();
},_initHandles:function(){var h=this.options.handles;
for(var j=0;
j<h.length;
j++){var g=null;
if(h[j].element){g=this._initExternalHandle(h[j]);
}else{g=this._initHandle(h[j]);
}g.add_dragStart(a.proxy(this._handleDragStart,this));
g.add_dragging(a.proxy(this._handleDragging,this));
g.add_dragEnd(a.proxy(this._handleDragEnd,this));
this._handlesCollection[g._direction]=g;
}this._configureHandles();
},_initExternalHandle:function(h){var g=new c.Handle(h.element,h.direction,{handle:h.element,cursorType:this._getCursorFromDirection(h.direction),enableFrameOverlay:this.options.enableFrameOverlay});
return g;
},_initHandle:function(i){var h=this._createHandleElement(i);
var g=new c.Handle(h,i.direction,{ownerDocument:this.options.ownerDocument,cursorType:this._getCursorFromDirection(i.direction),enableFrameOverlay:this.options.enableFrameOverlay});
return g;
},_createHandleElement:function(h){var g=this.options.ownerDocument.createElement("div");
g.style.position="absolute";
g.setAttribute("unselectable","on");
g.className="rrHandle rr"+h.direction;
return g;
},_configureHandles:function(){for(var g in this._handlesCollection){var h=this._handlesCollection[g];
if(h.get_useExternalHandle()){this._setHandleConstraints(h);
continue;
}this._appendHandleToDOM(h);
this._applyElementsZIndex(h);
this._sizeHandle(h);
this._positionHandle(h);
h._element.style.cssText=h._element.style.cssText;
this._setHandleConstraints(h);
}},_appendHandleToDOM:function(g){if(!this._element.parentNode){throw Error("Resizable element should be part of the DOM tree");
}if(this.options.appendHandleToElement){this._element.appendChild(g._element);
}else{this.options.ownerDocument.body.appendChild(g._element);
}},_applyElementsZIndex:function(g){var h=this._element.style.zIndex||$telerik.getComputedStyle(this._element,"z-index");
g._element.style.zIndex=h||"";
},_setHandleConstraints:function(h){var l=!!h.get_useExternalHandle();
var i=l?0:this.options.handleSize;
var j=a(h._element);
var k=j.offset();
var g;
if(l){g={minWidth:this.options.constraints.minWidth?this.options.constraints.minWidth-Math.ceil(a(this._element).innerWidth()):null,maxWidth:this.options.constraints.maxWidth?this.options.constraints.maxWidth-Math.floor(a(this._element).innerWidth()):null,minHeight:this.options.constraints.minHeight?this.options.constraints.minHeight-Math.ceil(a(this._element).innerHeight()):null,maxHeight:this.options.constraints.maxHeight?this.options.constraints.maxHeight-Math.floor(a(this._element).innerHeight()):null};
}else{g={minWidth:this.options.constraints.minWidth?this.options.constraints.minWidth-this._element.offsetWidth:null,maxWidth:this.options.constraints.maxWidth?this.options.constraints.maxWidth-this._element.offsetWidth:null,minHeight:this.options.constraints.minHeight?this.options.constraints.minHeight-this._element.offsetHeight:null,maxHeight:this.options.constraints.maxHeight?this.options.constraints.maxHeight-this._element.offsetHeight:null};
}h.set_constraints(null);
if(h._direction=="E"||h._direction=="W"){h.set_minY(k.top);
h.set_maxY(k.top+j.outerHeight());
}else{if(h._direction=="N"||h._direction=="S"){h.set_minX(k.left);
h.set_maxX(k.left+j.outerWidth());
}}if(h._direction.indexOf("W")>-1){if(g.maxWidth!==null){h.set_minX(null);
h.set_minX(h.get_position().x-g.maxWidth);
}h.set_maxX(null);
if(g.minWidth!==null){h.set_maxX(h.get_position().x-g.minWidth+i);
}else{h.set_maxX(this._getHandleOpositeConstraints(h._direction,l).x);
}}else{if(h._direction.indexOf("E")>-1){if(g.maxWidth!==null){h.set_maxX(null);
h.set_maxX(h.get_position().x+g.maxWidth+i);
}h.set_minX(null);
if(g.minWidth!==null){h.set_minX(h.get_position().x+g.minWidth);
}else{h.set_minX(this._getHandleOpositeConstraints(h._direction,l).x);
}}}if(h._direction.indexOf("N")>-1){if(g.maxHeight!==null){h.set_minY(null);
h.set_minY(h.get_position().y-g.maxHeight);
}h.set_maxY(null);
if(g.minHeight!==null){h.set_maxY(h.get_position().y-g.minHeight+i);
}else{h.set_maxY(this._getHandleOpositeConstraints(h._direction,l).y);
}}else{if(h._direction.indexOf("S")>-1){if(g.maxHeight!==null){h.set_maxY(null);
h.set_maxY(h.get_position().y+g.maxHeight+i);
}h.set_minY(null);
if(g.minHeight!==null){h.set_minY(h.get_position().y+g.minHeight);
}else{h.set_minY(this._getHandleOpositeConstraints(h._direction,l).y);
}}}},_getHandleOpositeConstraints:function(g,i){var j={x:null,y:null};
var h=i?0:d(this.options.handleSize);
if(g.toLowerCase().indexOf("w")>-1){j.x=a(this._element).offset().left+a(this._element).width()+h;
}else{if(g.toLowerCase().indexOf("e")>-1){j.x=a(this._element).offset().left-h;
}}if(g.toLowerCase().indexOf("n")>-1){j.y=a(this._element).offset().top+a(this._element).height()+h;
}else{if(g.toLowerCase().indexOf("s")>-1){j.y=a(this._element).offset().top-h;
}}return j;
},_sizeHandle:function(h){var g=h.get_direction();
if(this.options.useTinyHandles){h._element.style.width=h._element.style.height=this.options.handleSize+"px";
}else{if(g.indexOf("W")>-1||g.indexOf("E")>-1){h._element.style.width=this.options.handleSize+"px";
}else{h._element.style.width=Math.max(this.options.handleSize,parseFloat(this._element.clientWidth)-this.options.handleSize)+"px";
}if(g.indexOf("N")>-1||g.indexOf("S")>-1){h._element.style.height=this.options.handleSize+"px";
}else{h._element.style.height=Math.max(this.options.handleSize,parseFloat(this._element.clientHeight)-this.options.handleSize)+"px";
}}},_positionHandle:function(p){var t=this;
var s=t.options;
var g=s.appendHandleToElement&&t._isRootPositioned();
if(g&&s.useTinyHandles){return t._positionHandleStatic(p);
}var l=p.get_direction();
var m=t._element;
var h=m.clientHeight;
var i=m.clientWidth;
var r=l.indexOf("S")>-1?parseFloat(h):0;
var u=l.indexOf("E")>-1?parseFloat(i):0;
var q=p._element.style;
var k=parseFloat(h)>s.handleSize/2&&(l=="E"||l=="W")?1:-1;
var j=parseFloat(i)>s.handleSize/2&&(l=="N"||l=="S")?1:-1;
var o=d(s.handleSize);
var n=g?{top:0,left:0}:t._getPosition(m);
q.top=(n.top+r+k*o)+"px";
q.left=(n.left+u+j*o)+"px";
if(s.useTinyHandles){if(l=="S"||l=="N"){q.left=(n.left+d(i)-o)+"px";
}if(l=="E"||l=="W"){q.top=(n.top+d(h)-o)+"px";
}}},_positionHandleStatic:function(h){if(h._positioned){return;
}var g=h.get_direction();
var i="-"+d(this.options.handleSize)+"px";
var j={};
if(g.indexOf("N")>-1){j.top=0;
}if(g.indexOf("W")>-1){j.left=0;
}if(g.indexOf("E")>-1){j.right=0;
}if(g.indexOf("S")>-1){j.bottom=0;
}if(g=="N"||g=="S"){j.left="50%";
j.marginLeft=i;
}if(g=="W"||g=="E"){j.top="50%";
j.marginTop=i;
}a(h._element).css(j);
h._positioned=true;
},_isRootPositioned:function(){var g=this._isRootIndirectlyPositioned()||$telerik.getComputedStyle(this._element,"position")!="static";
return g;
},_isRootIndirectlyPositioned:function(){var g=this._element;
return($telerik.getComputedStyle(g,"transform")!="none"&&$telerik.getComputedStyle(g,"MozTransform")!="none"&&$telerik.getComputedStyle(g,"webkitTransform")!="none"&&$telerik.getComputedStyle(g,"OTransform")!="none"&&$telerik.getComputedStyle(g,"msTransform")!="none");
},_getPosition:function(g){var k={top:g.offsetTop,left:g.offsetLeft},h=g.offsetParent;
while(h){k.top+=h.offsetTop;
k.left+=h.offsetLeft;
var i=$telerik.getComputedStyle(h,"overflowX");
var j=$telerik.getComputedStyle(h,"overflowY");
if(j==="auto"||j==="scroll"){k.top-=h.scrollTop;
}if(i==="auto"||i==="scroll"){k.left-=h.scrollLeft;
}h=h.offsetParent;
}return k;
},_toggleDocumentCursor:function(g){if(typeof(g)=="string"){this.options.ownerDocument.body.style.cursor=this._getCursorFromDirection(g);
}else{this.options.ownerDocument.body.style.cursor="";
}},_getCursorFromDirection:function(g){if(g){return g.toLowerCase()+"-resize";
}else{return null;
}},_handleDragStart:function(i,g){this._setHandleConstraints(i);
var k=new c.Resizable.ResizeableEventArgs(i.get_direction(),null,g.get_domEvent());
this.trigger("resizeStart",k);
if(!k._cancel){this._toggleDocumentCursor(i.get_direction());
}g.set_cancel(k._cancel);
var j=this.options;
if(j.liveResize&&!k._cancel){var h=this._element;
this.resizeHelper={width:h.clientWidth,height:h.clientHeight,offset:j.appendHandleToElement?{left:h.offsetLeft,top:h.offsetTop}:a(h).offset()};
}delete this._positionChangedX;
delete this._positionChangedY;
},_handleDragging:function(k,g){var h={x:g._delta.x,y:g._delta.y},i=k.get_direction(),m=this.options,j=this._element,l=m.appendHandleToElement;
if(k.get_useExternalHandle()){if(i=="N"||i=="S"){h.x=0;
h.y=Math.min(h.y,j.clientHeight);
}if(i=="E"||i=="W"){h.x=Math.min(h.x,j.clientWidth);
h.y=0;
}}var o=new c.Resizable.ResizeableEventArgs(i,h,g.get_domEvent());
this.trigger("resizing",o);
g.set_cancel(o._cancel||l);
if(m.liveResize&&!o._cancel){var n;
if(!l){n=this._getCornerHandesPositions();
}this._applyElementSizing(i,h);
this.trigger("resize",o);
if(n){this._validateHandlesPositions(n,g._delta,i);
}}},_validateHandlesPositions:function(j,g,h){var i=this._getCornerHandesPositions();
if(h=="E"||h=="W"){this._validateDeltaX(g,j,i,h=="E"?"se":"sw");
}else{if(h=="S"||h=="N"){this._validateDeltaY(g,j,i,h=="S"?"se":"ne");
}else{if(h=="SW"){this._validateDeltaX(g,j,i,"nw");
this._validateDeltaY(g,j,i,"se");
}else{if(h=="NW"){this._validateDeltaX(g,j,i,"sw");
this._validateDeltaY(g,j,i,"ne");
}else{if(h=="NE"){this._validateDeltaX(g,j,i,"se");
this._validateDeltaY(g,j,i,"nw");
}else{if(h=="SE"){this._validateDeltaX(g,j,i,"ne");
this._validateDeltaY(g,j,i,"sw");
}}}}}}},_validateDeltaX:function(g,j,i,h){var k="_positionChangedX" in this;
if(!k&&g.x!=0){this._positionChangedX=j[h]["left"]!=i[h]["left"];
}if(this._positionChangedX===false){g.x=0;
}},_validateDeltaY:function(g,j,i,h){var k="_positionChangedY" in this;
if(!k&&g.y!=0){this._positionChangedY=j[h]["top"]!=i[h]["top"];
}if(this._positionChangedY===false){g.y=0;
}},_getCornerHandesPositions:function(){var i=this._getHandleElement("SE");
var g=this._getHandleElement("NE");
var j=this._getHandleElement("SW");
var h=this._getHandleElement("NW");
return i&&g&&j&&h?{se:{top:i.offsetTop,left:i.offsetLeft},ne:{top:g.offsetTop,left:g.offsetLeft},sw:{top:j.offsetTop,left:j.offsetLeft},nw:{top:h.offsetTop,left:h.offsetLeft}}:f;
},_getHandleElement:function(g){var h=this._handlesCollection[g];
return h&&h._element?h._element:f;
},_handleDragEnd:function(j,g){var h=g._delta,i=j.get_direction();
if(j.get_useExternalHandle()){if(i=="N"||i=="S"){h.x=0;
h.y=Math.min(h.y,this._element.clientHeight);
}if(i=="E"||i=="W"){h.x=Math.min(h.x,this._element.clientWidth);
h.y=0;
}}this._toggleDocumentCursor();
this._configureHandles();
var k=new c.Resizable.ResizeableEventArgs(j.get_direction(),h,g.get_domEvent());
this.trigger("resizeEnd",k);
},_applyElementSizing:function(i,g){var j=1,k=1;
if(i.indexOf("W")>-1){k=-1;
$telerik.$(this._element).css("left",parseFloat(this.resizeHelper.offset.left)+g.x);
}if(i.indexOf("N")>-1){j=-1;
$telerik.$(this._element).css("top",parseFloat(this.resizeHelper.offset.top)+g.y);
}a(this._element).innerWidth(parseFloat(this.resizeHelper.width)+k*g.x).innerHeight(parseFloat(this.resizeHelper.height)+j*g.y);
for(var h in this._handlesCollection){if(h!=i){this._positionHandle(this._handlesCollection[h]);
}}},dispose:function(){this.trigger("destroy",Sys.EventArgs.Empty);
for(var g in this._handlesCollection){var h=this._handlesCollection[g];
if(!h.get_useExternalHandle()){if(h._element.parentNode){h._element.parentNode.removeChild(h._element);
}}h.dispose();
}this._element=null;
this._handlesCollection=null;
this.options=null;
}};
function d(g){return(g/2);
}c.Resizable.ResizeableEventArgs=function(h,g,i){this._cancel=false;
this._delta=g;
this._direction=h;
this._domEvent=i;
};
c.Resizable.ResizeableEventArgs.prototype={get_delta:function(){return this._delta;
},get_direction:function(){return this._direction;
},get_domEvent:function(){return this._domEvent;
},get_cancel:function(){return this._cancel;
},set_cancel:function(g){this._cancel=(g===true||g==="true");
}};
c.Handle=function(h,g,i){this._direction=g;
this.options=a.extend(this.options,i||{});
Telerik.Web.UI.Widgets.Handle.initializeBase(this,[h,i]);
};
c.Handle.prototype={get_direction:function(){return this._direction;
}};
Telerik.Web.UI.Widgets.Draggable.registerClass("Telerik.Web.UI.Widgets.Draggable");
Telerik.Web.UI.Widgets.Handle.registerClass("Telerik.Web.UI.Widgets.Handle",Telerik.Web.UI.Widgets.Draggable);
})($telerik.$,Telerik.Web.UI);

/* END Telerik.Web.UI.Common.Widgets.Resizable.js */
/* START Telerik.Web.UI.Common.AnimationFramework.AnimationFramework.js */
(function(b,a){var e="cID",f="completeCallback",d="key",g="display",p="random",k=50,r=document.createElement("p").style,s="transition" in r,v={queue:true,specialEasing:true,step:true,progress:true,start:true,done:true,fail:true,always:true},u={ease:"easeInQuad",easeIn:"easeInQuad",easeOut:"easeOutQuad",easeInOut:"easeInOutQuad"},l=["linear","ease","easeIn","easeOut","easeInOut","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutQuad","easeInOutQuad","easeInBack","easeOutBack","easeInOutBack"],m={easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out"},i={linear:true,ease:true,"ease-in":true,"ease-out":true,"ease-in-out":true,easeIn:true,easeOut:true,easeInOut:true},h={easeInQuad:[0.55,0.08500000000000001,0.6800000000000001,0.53],easeOutQuad:[0.25,0.46,0.45,0.94],easeInOutQuad:[0.455,0.03,0.515,0.955],easeInCubic:[0.55,0.055,0.675,0.19],easeOutCubic:[0.215,0.61,0.355,1],easeInOutCubic:[0.645,0.045,0.355,1],easeInQuart:[0.895,0.03,0.6850000000000001,0.22],easeOutQuart:[0.165,0.84,0.44,1],easeInOutQuart:[0.77,0,0.175,1],easeInQuint:[0.755,0.05,0.855,0.06],easeOutQuint:[0.23,1,0.32,1],easeInOutQuint:[0.86,0,0.07000000000000001,1],easeInSine:[0.47,0,0.745,0.715],easeOutSine:[0.39,0.575,0.565,1],easeInOutSine:[0.445,0.05,0.55,0.95],easeInExpo:[0.95,0.05,0.795,0.035],easeOutExpo:[0.19,1,0.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[0.6,0.04,0.98,0.335],easeOutCirc:[0.075,0.82,0.165,1],easeInOutCirc:[0.785,0.135,0.15,0.86],easeInBack:[0.6,-0.28,0.735,0.045],easeOutBack:[0.175,0.885,0.32,1.275],easeInOutBack:[0.6800000000000001,-0.55,0.265,1.55]},t,j={transition:"none"};
Array.forEach(["Moz","webkit","O","ms"],function(z){var y=z,w=(y+"Transition" in r)?y:null,x;
if(w){x=w.toLowerCase();
t=(x==="o"||x==="webkit")?x+"TransitionEnd":"transitionend";
return false;
}});
b.transition=function(A,D,y,z,x){var w,B,C;
if(z&&z.toLowerCase()==p){z=l[Math.round(Math.random()*(l.length-1))];
}if(s&&(i[z]||h[z])){w=a(A);
if(a.isPlainObject(y)){C=y;
for(B in v){if(B in C){n(arguments);
return;
}}}else{C={duration:y,easing:z,complete:x};
}c(w,D,C);
}else{n(arguments);
}};
a.fn.transition=function(z,x,y,w){b.transition(this,z,x,y,w);
};
b.stopTransition=function(x,w,y){return q(a(x),w||false,y||false);
};
a.fn.stopTransition=function(w,x){return b.stopTransition(this,w||false,x||false);
};
function n(y){var w=a(y[0]),B=1,C=y.length,x=[],A=y[3];
var z=y[4];
y[3]=u[A]||A;
for(;
B<C-1;
B++){x[B-1]=y[B];
}w.animate.apply(w,x).promise().done(z);
}function c(w,D,C){var z=m[C.easing]||C.easing||"easeOutQuad",E=[],y=parseFloat(C.duration),B,x;
for(B in D){B=B.replace(/[A-Z]/g,function(F){return"-"+F.toLowerCase();
});
E.push(B);
}if(h[z]){z="cubic-bezier("+h[z].join(",")+")";
}w.data(d,E);
var A=function(){var F=w.data(e),G=typeof arguments[0]==="boolean"?arguments[0]:true;
if(F){clearTimeout(F);
F=null;
}w.off(t,A).removeData(d).removeData(e).removeData(f).css(j);
if(C.complete&&G){C.complete.call(w.eq(0));
}};
w.data(f,A);
w.on(t,A);
x=setTimeout(A,Math.ceil(y+k));
w.data(e,x);
w.css(g);
w.css(a.extend({"transition-duration":y/1000+"s","transition-timing-function":z,"transition-property":E.join(", ")},D));
}function q(w,z,B){var y=w.data(f),x=w.data(d),D=(!B&&x),C,A;
if(s){if(D){A=getComputedStyle(w[0]);
C=o(x,A);
}if(y){y.call(w,B);
}if(D){w.css(C);
}return w;
}else{return w.stop(z,B);
}}function o(w){var x={},y=arguments[1];
Array.forEach(w,function(z){x[z]=y[z];
});
return x;
}})($telerik,$telerik.$);

/* END Telerik.Web.UI.Common.AnimationFramework.AnimationFramework.js */
/* START Telerik.Web.UI.Common.Widgets.Polling.js */
(function(a,i){Type.registerNamespace("Telerik.Web.UI.Widgets");
var j=Telerik.Web.UI.Widgets;
var h=3000;
var e=15;
var b=window.clearInterval;
var g=function(k){return window.setInterval(k,e);
};
var c=window.clearTimeout;
var f=window.setTimeout;
var d=$telerik.getComputedStyle;
j.Polling={waitFor:function(k,p){var l=a.Deferred();
var n,m;
var o=function(){b(n);
c(m);
};
n=g(function(){if(k()){o();
l.resolve();
}});
m=f(function(){o();
l.reject();
},p||h);
return l.promise();
},css:function(m,n,l){if(!m||!m.style){var k=a.Deferred();
k.reject();
return k.promise();
}return this.waitFor(function(){return m.style[n]===l||d(m,n)===l;
});
}};
})($telerik.$);

/* END Telerik.Web.UI.Common.Widgets.Polling.js */
/* START Telerik.Web.UI.Common.ShortCutManager.ShortCutManagerScripts.js */
(function(){Type.registerNamespace("Telerik.Web.UI");
var a=Telerik.Web.UI;
a.ShortCut=function(c,d,b){this._name=c;
this._shortcutString="";
this._callBack=b;
this.CtrlKey=false;
this.LeftCtrlKey=false;
this.ShiftKey=false;
this.LeftShiftKey=false;
this.AltKey=false;
this.LeftAltKey=false;
this.CmdKey=false;
this.KeyCode=0;
this.setShortCut(d);
};
a.ShortCut.prototype={get_name:function(){return this._name;
},set_name:function(b){this._name=b;
},get_shortCutString:function(){return this._shortcutString;
},setShortCut:function(b){this._parseShortcutString(b);
this._shortcutString=b;
},get_callBack:function(){return this._callBack;
},set_callBack:function(b){this._callBack=b;
},_parseShortcutString:function(c){if("string"==typeof(c)){this.CtrlKey=false;
this.LeftCtrlKey=false;
this.ShiftKey=false;
this.LeftShiftKey=false;
this.AltKey=false;
this.LeftAltKey=false;
this.CmdKey=false;
this.KeyCode=0;
c=c.replace(/\s*/gi,"");
c=c.replace(/\+\+/gi,"+PLUS");
var e=c.split("+");
var d="";
for(var b=0;
b<e.length;
b++){d=e[b].toUpperCase();
switch(d){case"LCTRL":this.LeftCtrlKey=true;
case"CTRL":this.CtrlKey=true;
break;
case"LSHIFT":this.LeftShiftKey=true;
case"SHIFT":this.ShiftKey=true;
break;
case"LALT":this.LeftAltKey=true;
case"ALT":this.AltKey=true;
break;
case"COMMAND":case"CMD":this.CmdKey=true;
break;
case"F1":this.KeyCode=112;
break;
case"F2":this.KeyCode=113;
break;
case"F3":this.KeyCode=114;
break;
case"F4":this.KeyCode=115;
break;
case"F5":this.KeyCode=116;
break;
case"F6":this.KeyCode=117;
break;
case"F7":this.KeyCode=118;
break;
case"F8":this.KeyCode=119;
break;
case"F9":this.KeyCode=120;
break;
case"F10":this.KeyCode=121;
break;
case"F11":this.KeyCode=122;
break;
case"F12":this.KeyCode=123;
break;
case"ENTER":this.KeyCode=13;
break;
case"HOME":this.KeyCode=36;
break;
case"END":this.KeyCode=35;
break;
case"LEFT":this.KeyCode=37;
break;
case"RIGHT":this.KeyCode=39;
break;
case"UP":this.KeyCode=38;
break;
case"DOWN":this.KeyCode=40;
break;
case"PAGEUP":this.KeyCode=33;
break;
case"PAGEDOWN":this.KeyCode=34;
break;
case"SPACE":this.KeyCode=32;
break;
case"TAB":this.KeyCode=9;
break;
case"BACK":this.KeyCode=8;
break;
case"CONTEXT":this.KeyCode=93;
break;
case"ESCAPE":case"ESC":this.KeyCode=27;
break;
case"DELETE":case"DEL":this.KeyCode=46;
break;
case"INSERT":case"INS":this.KeyCode=45;
break;
case"PLUS":this.KeyCode="+".charCodeAt(0);
break;
default:this.KeyCode=d.charCodeAt(0);
break;
}}}else{throw {description:"Invalid shortcut string"};
}}};
a.ShortCut.registerClass("Telerik.Web.UI.ShortCut",null);
})();
(function(){Type.registerNamespace("Telerik.Web.UI");
var a=Telerik.Web.UI;
a.ShortCutManager=function(b){this._shortcuts=[];
this.addShortCuts(b);
};
a.ShortCutManager.prototype={addShortCuts:function(c){if(!c){return;
}if(typeof(c)=="string"){c=Sys.Serialization.JavaScriptSerializer.deserialize(c);
}for(var b=0;
b<c.length;
b++){this.addShortCut(c[b][0],c[b][1],c[b][2]);
}},addShortCut:function(d,e,b){var c=new a.ShortCut(d,e,b);
c.HashValue=this._getShortCutHashValue(c);
this._shortcuts[c.HashValue]=c;
},removeShortCut:function(c){var b=this.findShortCutByName(c);
if(b){this._shortcuts[b.HashValue]=null;
}},setShortCut:function(b,c){this.removeShortCut(b);
this.addShortCut(b,c);
},isShortCutHit:function(b){var d=(null!=b.ctrlLeft?b.ctrlLeft:b.ctrlKey);
var f=(null!=b.shiftLeft?b.shiftLeft:b.shiftKey);
var c=(null!=b.altLeft?b.altLeft:b.altKey);
return this._hitTest(b.keyCode,b.ctrlKey,d,b.shiftKey,f,b.altKey,c,!!b.metaKey);
},_hitTest:function(f,d,h,j,i,b,g,c){var e=this._getHashValue(f,d,h,j,i,b,g,c);
return this._shortcuts[e];
},_getHashValue:function(f,d,h,j,i,b,g,c){var k=f&65535;
var e=0;
e|=(d?(1<<0):0);
e|=(j?(1<<2):0);
e|=(b?(1<<4):0);
e|=(c?(1<<8):0);
k|=(e<<16);
return k;
},_getShortCutHashValue:function(b){return this._getHashValue(b.KeyCode,b.CtrlKey,b.LeftCtrlKey,b.ShiftKey,b.LeftShiftKey,b.AltKey,b.LeftAltKey,b.CmdKey);
},findShortCutByName:function(d){var b;
for(var c in this._shortcuts){b=this._shortcuts[c];
if(null!=b&&b._name==d){return b;
}}return null;
}};
a.ShortCutManager.registerClass("Telerik.Web.UI.ShortCutManager",null);
})();

/* END Telerik.Web.UI.Common.ShortCutManager.ShortCutManagerScripts.js */
/* START Telerik.Web.UI.Common.MaterialRipple.MaterialRippleScripts.js */
(function(G){Type.registerNamespace("Telerik.Web.UI");
var a=Telerik.Web.UI,f=Telerik.Web.BrowserFeatures,g=Math.ceil,l="scale(0.0001, 0.0001)",j="",k=0.6,B="t-ripple-effect-icon",x="t-ripple-effect-button",z="t-ripple-container",A="t-ripple-effect",y="t-ripple-center",w="t-ripple",C="t-ripple-white",c="t-ripple-animating",H="t-ripple-visible",n="mousedown",p="mouseup",o="mouseleave",s="pointerdown",u="pointerup",t="pointerleave",q="MSPointerDown",r="MSPointerUp",F="touchstart",E="touchend",e="blur",b=Sys.UI.DomElement.addCssClass,v=Sys.UI.DomElement.removeCssClass,h=Sys.UI.DomElement.containsCssClass,D='<span class="t-ripple"></span>',i=Function.createDelegate,d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(I){setTimeout(I,1000/60);
},m=function(I){return I?I.tagName=="BUTTON":false;
};
a.MaterialRippleConstants={RIPPLE_ICON:B,RIPPLE_BUTTON:x,RIPPLE_ELEMENT:A,RIPPLE_CONTAINER:z,VISIBLE:H};
a.MaterialRippleType=function(){throw Error.invalidOperation();
};
a.MaterialRippleType.prototype={Element:0,Icon:1};
a.MaterialRippleType.registerEnum("Telerik.Web.UI.MaterialRippleType",false);
a.MaterialRipple=function(I,J){this._element=I;
this._frameCount=0;
this._rippleSize=0;
this._x=0;
this._y=0;
this._ignoringMouseDown=false;
this._options=J||{};
this.initialize();
};
a.MaterialRipple.prototype={initialize:function(){var I=this._element;
this._applyElementClasses();
if(h(I,B)){this._isIconRipple=true;
b(I,y);
}this._initializeRippleElement();
this._attachEvents();
},_applyElementClasses:function(){var I=this._element;
var J=this._options;
if(J&&J.rippleType==a.MaterialRippleType.Icon){b(I,B);
if(J.hasButtonParent){b(I,x);
}}else{b(I,A);
}},_initializeRippleElement:function(){var J=this._element;
var K;
var I;
var L=J.getElementsByClassName(w);
if(L.length===0){I=document.createElement("span");
b(I,z);
I.innerHTML=D;
J.appendChild(I);
K=I.firstChild;
}else{K=L[0];
}this._rippleElement=K;
},_attachEvents:function(){var I=this._getButton();
var J=I||this._element;
if(I){this._downDelegate=i(this,this._buttonDownHandler);
this._upDelegate=i(this,this._buttonUpHandler);
this._downHandlerDelegate=i(this,this._downHandler);
this._upHandlerDelegate=i(this,this._upHandler);
}else{this._downDelegate=i(this,this._downHandler);
this._upDelegate=i(this,this._upHandler);
}if(J.addEventListener){if(f.pointerEvents){J.addEventListener(s,this._downDelegate);
J.addEventListener(u,this._upDelegate);
J.addEventListener(t,this._upDelegate);
}else{if(f.msPointerEvents){J.addEventListener(q,this._downDelegate);
J.addEventListener(r,this._upDelegate);
J.addEventListener(o,this._upDelegate);
}else{J.addEventListener(n,this._downDelegate);
J.addEventListener(F,this._downDelegate);
J.addEventListener(p,this._upDelegate);
J.addEventListener(E,this._upDelegate);
J.addEventListener(o,this._upDelegate);
}}J.addEventListener(e,this._upDelegate);
}},_getButton:function(){var J=this._element;
var I;
if(($telerik.isIE||$telerik.isFirefox)&&h(J,x)){I=$telerik.getParentBy(J,m);
if(I){this._button=I;
this._buttonIsRightToLeft=$telerik.isRightToLeft(I);
}}return I;
},_detachEvents:function(){var I=this._button||this._element;
if(I.removeEventListener){if(f.pointerEvents){I.removeEventListener(s,this._downDelegate);
I.removeEventListener(u,this._upDelegate);
I.removeEventListener(t,this._upDelegate);
}else{if(f.msPointerEvents){I.removeEventListener(q,this._downDelegate);
I.removeEventListener(r,this._upDelegate);
I.removeEventListener(o,this._upDelegate);
}else{I.removeEventListener(n,this._downDelegate);
I.removeEventListener(F,this._downDelegate);
I.removeEventListener(p,this._upDelegate);
I.removeEventListener(E,this._upDelegate);
I.removeEventListener(o,this._upDelegate);
}}I.removeEventListener(e,this._upDelegate);
}},get_frameCount:function(){return this._frameCount;
},set_frameCount:function(I){this._frameCount=I;
},get_rippleElement:function(){return this._rippleElement;
},set_rippleXY:function(I,J){this._x=I;
this._y=J;
},set_rippleStyles:function(P){var K=this._element;
var N=this._rippleElement;
var M=h(K,y);
if(N!==null){var Q;
var O;
var L="translate("+g(this._x)+"px, "+g(this._y)+"px)";
if(P){O=l;
}else{O=j;
if(M){var I=(this.boundWidth/2);
var J=(this.boundHeight/2);
L="translate("+g(I)+"px, "+g(J)+"px)";
}}Q="translate(-50%, -50%) "+L+" "+O;
N.style.webkitTransform=Q;
N.style.msTransform=Q;
N.style.transform=Q;
if(P){v(N,c);
}else{b(N,c);
}}},animFrameHandler:function(){if(this._frameCount-->0){d(i(this,this.animFrameHandler));
}else{this.set_rippleStyles(false);
}},_downHandler:function(L){var M=this._element;
var T=this._rippleElement;
var U=L.currentTarget||L.target;
var S=this._options;
if(this._isEnabled()){this._setRippleElementBackgroundColor();
var W=M.offsetWidth;
var Q=M.offsetHeight;
this.boundWidth=W;
this.boundHeight=Q;
if(!S.boundToElementSize){this._rippleSize=Math.sqrt(W*W+Q*Q)*2+2;
var R=S.maxRippleSize;
if(R){this._rippleSize=Math.min(this._rippleSize,R);
}if(this._isIconRipple){this._rippleSize*=S.iconRippleSizeFactor||k;
}W=g(this._rippleSize);
Q=W;
}T.style.width=W+"px";
T.style.height=Q+"px";
b(T,H);
if(L.type==="mousedown"&&this._ignoringMouseDown){this._ignoringMouseDown=false;
}else{if(L.type==="touchstart"){this._ignoringMouseDown=true;
}var P=this.get_frameCount();
if(P>0){return;
}this.set_frameCount(1);
var X;
var Y;
var N=L.clientX||0;
var O=L.clientY||0;
if(!L.touches&&N===0&&O===0){X=g(U.offsetWidth/2);
Y=g(U.offsetHeight/2);
}else{var V=L.touches;
var J=N||(V?V[0].clientX:0);
var K=O||(V?V[0].clientY:0);
var I;
if(U.getBoundingClientRect){I=U.getBoundingClientRect();
}else{I={left:U.offsetLeft,top:U.offsetTop};
}X=g(J-I.left);
Y=g(K-I.top);
}this.set_rippleXY(X,Y);
this.set_rippleStyles(true);
d(i(this,this.animFrameHandler));
}if(S.autoHide){window.setTimeout(this._upDelegate,310);
}if(S.cancelBubble){L.cancelBubble=true;
}}},_buttonDownHandler:function(I){var J=this._element;
var O=$telerik.getComputedStyle(this._button,"position");
var L=$telerik.getComputedStyle(this._element,"position");
var N=O=="absolute"||L=="absolute"?I.offsetX:I.offsetX-J.offsetLeft+this._button.offsetLeft;
var K=N>=0&&N<=J.offsetWidth;
if(K){var M=$telerik.cloneJsObject(I);
M.currentTarget=J;
this._downHandlerDelegate(M);
}},_isEnabled:function(){var I=this._element;
var J=this._enabledCheck(I);
var K=I.parentNode;
while(K&&K.tagName!="BODY"&&K.tagName.toLowerCase()!="html"&&J){J=this._enabledCheck(K);
K=K.parentNode;
}return J;
},_enabledCheck:function(J){var K=!J.getAttribute("disabled");
var I=this._options.disabledClass;
if(K&&I){K=!h(J,I);
}return K;
},_setRippleElementBackgroundColor:function(){var I=$telerik.getComputedStyle(this._element,"color");
var J=this._rippleElement;
if(I==="rgb(255, 255, 255)"){b(J,C);
}else{v(J,C);
}J.style.backgroundColor=I;
},_upHandler:function(I){var J=this._rippleElement;
if(I&&I.detail!==2){v(J,H);
}window.setTimeout(function(){v(J,H);
},0);
window.setTimeout(function(){v(J,c);
},300);
},_buttonUpHandler:function(I){this._upHandlerDelegate(I);
},dispose:function(){this._detachEvents();
var I=$telerik.getElementByClassName(this._element,z);
if(I&&I.parentNode){I.parentNode.removeChild(I);
}}};
})();
(function(n){Type.registerNamespace("Telerik.Web.UI");
var a=Telerik.Web.UI,b=Telerik.Web.Browser,e=b.ie&&b.version<10,h=Telerik.Web.Platform,m=h.android||h.iphone,f=!m&&b.opera,d=e||f,g=".Telerik.Web.UI.MaterialRippleManager",c="mousedown"+g,l="touchstart"+g,i=a.MaterialRippleConstants.RIPPLE_ELEMENT,k=a.MaterialRippleConstants.VISIBLE,j=a.MaterialRippleConstants.RIPPLE_ICON;
a.MaterialRippleManager=(function(){var p;
var o=function(){this._ripples=[];
this._rippleDelegatedZones=[];
this._controls=[];
Sys.Application.add_load(Function.createDelegate(this,this._initializeRippleZones));
Sys.Application.add_unload(Function.createDelegate(this,this.dispose));
};
o.prototype={initializeRipple:function(q,r){if(!d&&!this._getRippleByElement(q)){return this._createRipple(q,r);
}return null;
},_getRippleByElement:function(q){var t=this._ripples;
for(var r=0;
r<t.length;
r++){var s=t[r];
if(s._element===q){return s;
}}return null;
},_createRipple:function(q,r){var s=new a.MaterialRipple(q,r);
this._ripples.push(s);
return s;
},_initializeRippleZones:function(){var r=this._controls;
for(var s=0;
s<r.length;
s++){var q=r[s];
if(q.get_rippleZonesConfiguration){var u=q.get_rippleZonesConfiguration();
for(var t=0;
t<u.length;
t++){this.initializeRippleZone(u[t]);
}}}},initializeRippleZone:function(q){if(d||!q.element){return;
}if(q.initializeRipples){this._initializeRipplesInZone(q);
}else{this._initializeRippleZoneDownDelegate(q);
}},_initializeRipplesInZone:function(w){var u=w.rippleConfigurations;
for(var q=0;
q<u.length;
q++){var t=u[q];
if(w.element){var v=w.element.querySelectorAll(t.containerSelector);
var s=this._getRippleOptions(t);
for(var r=0;
r<v.length;
r++){this.initializeRipple(v[r],s);
}}}},_getRippleOptions:function(q){return{rippleType:q.rippleType||a.MaterialRippleType.Element,maxRippleSize:q.maxRippleSize,autoHide:q.autoHide,cancelBubble:q.cancelBubble,disabledClass:q.disabledClass,iconRippleSizeFactor:q.iconRippleSizeFactor,boundToElementSize:q.boundToElementSize};
},_initializeRippleZoneDownDelegate:function(w){var q=$telerik.$;
var r=w.element;
var t=w.rippleConfigurations;
var v=t.map(function(x){return x.containerSelector;
}).join(",");
var u=this._getRippleZoneDownHandlerDelegate();
var s=function(x){u(x,w,v);
};
if(q){this._rippleDelegatedZones.push(r);
if(m){q(r).on(l,v,s);
}else{q(r).on(c,v,s);
}}},removeRippleZoneDownDelegate:function(r){var q=$telerik.$;
if(q){if(m){q(r).off(l);
}else{q(r).off(c);
}var t=this._rippleDelegatedZones;
for(var s=0;
s<t.length;
s++){if(r===t[s]){this._rippleDelegatedZones.splice(s,1);
return;
}}}},disposeControl:function(q){var r=this._controls;
for(var s=0;
s<r.length;
s++){var t=r[s];
if(t===q){if(t.get_rippleZonesConfiguration){var w=t.get_rippleZonesConfiguration();
for(var u=0;
u<w.length;
u++){var v=w[u];
this.disposeRippleZone(v.element);
}}r.splice(s,1);
return;
}}},_getRippleZoneDownHandlerDelegate:function(){if(!this._rippleZoneDownHandlerDelegate){this._rippleZoneDownHandlerDelegate=Function.createDelegate(this,this._rippleZoneDownHandler);
}return this._rippleZoneDownHandlerDelegate;
},_rippleZoneDownHandler:function(r,D,B){var q=$telerik.$;
var s=D.element;
var z=D.rippleConfigurations;
var t=r.target;
for(var u=0;
u<z.length;
u++){var y=z[u];
var A=y.containerSelector;
var C=$telerik.$(t).closest(A).get(0);
if(C){var v=this._getRippleOptions(y);
var x=this.initializeRipple(C,v);
if(x){var w=t;
while(w&&w!=s){if(q(w).is(B)){if(C===w){this._callRippleDownDelegate(r,x);
if(!y.cancelBubble){this._initChildCancelBubbleRipples(C,D,u);
}}break;
}else{w=w.parentNode;
}}}}}},_callRippleDownDelegate:function(q,t){var r=$telerik.cloneJsObject(q.originalEvent);
r.currentTarget=t._element;
var s=window.setInterval(function(){if(!$telerik.$(t._rippleElement).hasClass(k)){t._downDelegate(r);
}else{window.clearInterval(s);
if(m){window.setTimeout(t._upDelegate,310);
}}},4);
},_initChildCancelBubbleRipples:function(s,y,u){var x=y.rippleConfigurations;
var r=s.children;
for(var t=0;
t<x.length;
t++){if(t!=u){var w=x[t];
if(w.cancelBubble){for(var v=0;
v<r.length;
v++){var q=r[v];
if($telerik.$(q).is(w.containerSelector)){this.initializeRipple(q,this._getRippleOptions(w));
}}}}}},disposeRippleZone:function(q){this.removeRippleZoneDownDelegate(q);
this.disposeRipplesInElement(q);
},disposeRipplesInElement:function(r){var s=this;
var q=$telerik.$;
if(q){q("."+i+", ."+j,r).each(function(){var v=this;
for(var t=0;
t<s._ripples.length;
t++){var u=s._ripples[t];
if(v===u._element){s._ripples.splice(t,1);
u.dispose();
return;
}}});
}},dispose:function(){var q=$telerik.$;
var s;
var t=this._rippleDelegatedZones;
if(q){for(s=0;
s<t.length;
s++){var r=t[s];
if(m){q(r).off(l);
}else{q(r).off(c);
}}}var u=this._ripples;
for(s=0;
s<u;
s++){u[s].ripple.dispose();
}},get_controls:function(q){return this._controls;
}};
return{getInstance:function(){if(!p){p=new o();
}return p;
}};
})();
})();

/* END Telerik.Web.UI.Common.MaterialRipple.MaterialRippleScripts.js */
/* START Telerik.Web.UI.Editor.RadEditor.js */
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(c,b,a){var d=["body","p","div","ul","ol","li","table","thead","tbody","tr","th","td","h[1-6]","form","fieldset","dl","dd","blockquote","address","hr","caption"];
var e=["article","aside","audio","canvas","details","figcaption","figure","footer","header","hgroup","nav","output","section","video"];
var f=new RegExp("^(?:"+d.concat(e).join("|")+")$","i");
var h={euro:"\u20ac",cent:"\u00a2",pound:"\u00a3",yen:"\u00a5",sect:"\u00a7",copy:"\u00a9",reg:"\u00ae",plusmn:"\u00b1",ne:"\u2260",asymp:"\u2248",le:"\u2264",ge:"\u2265",divide:"\u00f7",times:"\u00d7",iexcl:"\u00a1",curren:"\u00a4",brvbar:"\u00a6",uml:"\u00a8",ordf:"\u00aa",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lArr:"\u21d0",uArr:"\u21d1",rArr:"\u21d2",dArr:"\u21d3",hArr:"\u21d4",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a","int":"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",equiv:"\u2261",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",laquo:"\u00ab",not:"\u00ac",macr:"\u00af",deg:"\u00b0",sup2:"\u00b2",sup3:"\u00b3",acute:"\u00b4",micro:"\u00b5",para:"\u00b6",middot:"\u00b7",cedil:"\u00b8",sup1:"\u00b9",ordm:"\u00ba",raquo:"\u00bb",frac14:"\u00bc",frac12:"\u00bd",frac34:"\u00be",iquest:"\u00bf",Agrave:"\u00c0",Aacute:"\u00c1",Acirc:"\u00c2",Atilde:"\u00c3",Auml:"\u00c4",Aring:"\u00c5",AElig:"\u00c6",Ccedil:"\u00c7",Egrave:"\u00c8",Eacute:"\u00c9",Ecirc:"\u00ca",Euml:"\u00cb",Igrave:"\u00cc",Iacute:"\u00cd",Icirc:"\u00ce",Iuml:"\u00cf",ETH:"\u00d0",Ntilde:"\u00d1",Ograve:"\u00d2",Oacute:"\u00d3",Ocirc:"\u00d4",Otilde:"\u00d5",Ouml:"\u00d6",Oslash:"\u00d8",Ugrave:"\u00d9",Uacute:"\u00da",Ucirc:"\u00db",Uuml:"\u00dc",Yacute:"\u00dd",THORN:"\u00de",szlig:"\u00df",agrave:"\u00e0",aacute:"\u00e1",acirc:"\u00e2",atilde:"\u00e3",auml:"\u00e4",aring:"\u00e5",aelig:"\u00e6",ccedil:"\u00e7",egrave:"\u00e8",eacute:"\u00e9",ecirc:"\u00ea",euml:"\u00eb",igrave:"\u00ec",iacute:"\u00ed",icirc:"\u00ee",iuml:"\u00ef",eth:"\u00f0",ntilde:"\u00f1",ograve:"\u00f2",oacute:"\u00f3",ocirc:"\u00f4",otilde:"\u00f5",ouml:"\u00f6",oslash:"\u00f8",ugrave:"\u00f9",uacute:"\u00fa",ucirc:"\u00fb",uuml:"\u00fc",yacute:"\u00fd",thorn:"\u00fe",yuml:"\u00ff",fnof:"\u0192",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",bull:"\u2022",hellip:"\u2026",prime:"\u2032",Prime:"\u2033",oline:"\u203e",frasl:"\u2044",weierp:"\u2118",image:"\u2111",real:"\u211c",alefsym:"\u2135",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",lang:"\u2329",rang:"\u232a",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",permil:"\u2030",lsaquo:"\u2039",rsaquo:"\u203a",nbsp:"\u00a0",lt:"\u003c",gt:"\u003e"};
var g=Telerik.Web.Browser;
var i=/^[\u200b]+$/;
var j=b.Utils={setElementClassName:function(k,m){if(!k){return"";
}if(!m){k.className="";
k.removeAttribute("class",0);
k.removeAttribute("classname",0);
}else{var l=k.className;
k.className=m;
return l;
}},addElementsToSelection:function(l,k){if($telerik.isIE){b.Utils.selectElement(l,k[0]);
return 1;
}var n=l.getSelection();
var m=new b.Selection(l);
var o=m.getRange();
if(!o||!o.selectNodeContents){return -1;
}if(n.removeAllRanges){n.removeAllRanges();
}if(k.length>0){o.setStart(k[0],0);
o.setEnd(k[k.length-1],1);
}n.addRange(o);
return k.length;
},getFullySelectedElement:function(k){return $telerik.isIE&&!$telerik.isIE9Mode?b.Utils._getFullySelectedElementIE(k):b.Utils._getFullySelectedElementMoz(k);
},_isListFullySelected:function(k,m){if(k.tagName=="UL"||k.tagName=="OL"){var l=m.match(/<LI\/?>/gi);
if(l.length==k.getElementsByTagName("LI").length){return true;
}}return false;
},_getFullySelectedElementIE:function(k){var n=new b.Selection(k);
var t=n.getRange();
var s=(t.length>0?t.item(0):t.parentElement());
if(t.length>0){return s;
}else{if(s.tagName=="A"){var m=t.duplicate();
m.moveToElementText(s);
if(t.inRange(m)){return s;
}}else{if(b.Utils._isListFullySelected(s,n.getHtml())){return s;
}else{if(!t.htmlText){return null;
}}}}var v=t.duplicate();
var p=t.duplicate();
v.collapse(true);
p.collapse(false);
var u=v.parentElement();
if(u.parentNode==s){u=s;
}var o=p.parentElement();
if(u==o){var l=k.document;
var x=l.body.createTextRange();
x.moveToElementText(u);
var w=t.htmlText;
var y=false;
var r=u.outerHTML.replace(/[\r\n\t]/ig,"");
var q=u.innerHTML.replace(/[\r\n\t]/ig,"");
w=w.replace(/[\r\n\t]/ig,"");
if(r==w||q==w){y=true;
}if(y||(0==x.compareEndPoints("StartToStart",t)&&0==x.compareEndPoints("EndToEnd",t))){if("BODY"!=s.tagName){return s;
}}}},_getFullySelectedElementMoz:function(l){var n=l.document;
var p=l.getSelection();
if(p.rangeCount<1){return null;
}var r=p.getRangeAt(0);
var m=r.commonAncestorContainer;
var k=m.parentNode;
var o=new b.Selection(l);
if($telerik.isFirefox){var s=this._tryGetFullySelectedElementInFF(o);
if(s){return s;
}}if(m.tagName=="BODY"){var q=o.getParentElement();
if(q&&q.tagName!="BODY"){return q;
}}else{var t=n.createElement("span");
t.appendChild(r.cloneContents());
if(t.innerHTML==k.innerHTML&&k.tagName!="BODY"){return k;
}}if(b.Utils._isListFullySelected(m,o.getHtml())){return m;
}},_tryGetFullySelectedElementInFF:function(k){var l=a("<div>").html(k.getHtml()).contents();
if(l.length==1&&l.is(function(){return this.nodeType==1;
})){return k.getParentElement();
}else{return null;
}},_getCharactersCount:function(k){return k.length;
},_setCursor:function(k,m){var p=m.nodesTracker;
var o=p.isTracked(k.firstChild)?k.firstChild:p.createTrackedNode();
var n=b.DomRange.rangeFromWindow(m.get_contentWindow());
var l=k.parentNode;
l.insertBefore(o,k);
l.removeChild(k);
p.selectTrackedNode(n,o);
},_setCursorInTextNode:function(n,o,m,l){var k=b.DomRange.toDomRange(n);
k.setStart(o,m);
k.setEnd(o,l);
k.setStart(o,m);
if(m==l){k.collapse(!$telerik.isIE||$telerik.isIE9Mode);
}k.select();
},_setCursorAroundList:function(m,l,o,q){var n=o.get_document();
var k,r;
if($telerik.isFirefox){if(m.nextSibling&&m.nextSibling.nodeName=="BR"){a(m.nextSibling).remove();
}this._setCursor(m,o);
}else{if($telerik.isSafari||$telerik.isOpera){r=m.firstChild;
if($telerik.isSafari){k=n.createElement("br");
a(k).insertAfter(m);
a(m).remove();
var p=k.parentNode;
if(k.nextSibling&&k.nextSibling.nodeName=="BR"){a(k).remove();
}o.getSelection().moveToElementText(p);
}else{this.removeNode(m);
o.getSelection().moveToElementText(r);
r.nodeValue="";
}}else{k=n.createElement("br");
a(k).insertAfter(m);
r=n.createTextNode(" ");
a(r).insertBefore(k);
this._setCursorInTextNode(q,r,0,0);
a(k).remove();
}}a(m).remove();
},deleteContents:function(l,k){if(l.collapsed===false||!!l.text||(k.selection&&k.selection.type=="Control")){k.execCommand("delete",false,null);
return true;
}return false;
},scrollTo:function(p,o){if(o._shouldAutoResizeHeight()){return o._resizeContentArea();
}var k=o.get_contentArea(),l=j._getScrollElement(k),n=l.scrollTop,m=o.get_contentAreaElement().offsetHeight;
var s;
if(!j.canHaveChildren(p)){s=o.get_document().createElement("span");
s.innerHTML="&#8203;";
a(s).insertAfter(p);
p=s;
}var q=p.offsetHeight;
var r=j.getOffset(p,k).top;
var t=q+r;
if(t>=n+m){l.scrollTop=t-m+2;
}else{if(r<l.scrollTop){l.scrollTop=r-q;
}}if(s){s.parentNode.removeChild(s);
}},_getScrollElement:function(k){return(g.ie&&g.version<=9&&j.isTag(k,"body"))?k.ownerDocument.documentElement||k:k;
},getOffset:function(k,l){var n={top:k.offsetTop,left:k.offsetLeft};
var m=k.offsetParent;
while(m&&(!l||j.isAncestorOf(l,m))){n.top+=m.offsetTop;
n.left+=m.offsetLeft;
m=m.offsetParent;
}return n;
},getScrollOffset:function(k,l){var n={top:k.scrollTop,left:k.scrollLeft};
var m=k.parentNode;
while(m&&(!l||j.isAncestorOrSelf(l,m))){n.top+=m.scrollTop;
n.left+=m.scrollLeft;
m=m.parentNode;
}return n;
},cleanPastedContent:function(m,q,p,k,n){var l=m;
if(q==c.StripFormattingOptions.None){if(this.isPastedFromWord(m)){if(window.confirm(p)){m=b.Utils.convertWordLists(m);
l=b.Utils.stripFormatting(m,"WORD_NO_MARGINS");
}else{l=b.Utils.clearMSWordJunkContent(m);
}}}else{if(q&c.StripFormattingOptions.All){l=b.Utils.stripFormatting(m,"ALL");
}else{if(q&c.StripFormattingOptions.AllExceptNewLines){l=b.Utils.stripFormatting(m,"ALL_NO_BRAKES",n);
}else{if(q&c.StripFormattingOptions.ConvertWordLists){m=b.Utils.convertWordLists(m);
}var o=[];
if(q&c.StripFormattingOptions.MSWordRemoveAll){o.push("WORD_ALL");
}if(q&c.StripFormattingOptions.MSWordNoFonts){o.push("WORD_NO_FONTS");
}if(q&c.StripFormattingOptions.MSWordNoMargins){o.push("WORD_NO_MARGINS");
}if(q&c.StripFormattingOptions.MSWord){o.push("WORD");
}if(o.length>0){m=b.Utils.stripWordFormatting(m,o);
}if(q&c.StripFormattingOptions.Css){m=b.Utils.stripFormatting(m,"CSS");
}if(q&c.StripFormattingOptions.Font){m=b.Utils.stripFormatting(m,"FONT");
}if(q&c.StripFormattingOptions.Span){m=b.Utils.stripFormatting(m,"SPAN");
}l=m;
}}}if(null!=k&&false==k){l=b.Utils.stripFormatting(l,"SCRIPT");
}return l;
},isPastedFromWord:function(n){if(/<o:p><\/o:p>/i.test(n)||($telerik.isFirefox&&/<!--\[if gte mso /i.test(n)&&/<w:LsdException/i.test(n)&&/mso-[a-z]/i.test(n))){return true;
}var l=document.createElement("DIV");
l.innerHTML=n;
var k=l.getElementsByTagName?l.getElementsByTagName("*"):l.all;
for(var o=k.length-1;
o>=0;
o--){var m=k[o];
if(m.href||m.src||(m.nodeType==1&&!this.canHaveChildren(m))){continue;
}this.removeChildren(m);
if(/mso/i.test(this.getOuterHtml(m))){return true;
}}return false;
},isCursorMovingKey:function(k){if(k>=33&&k<=40){return true;
}return false;
},isSystemKey:function(k){return(k>=112&&k<=123)||(k>=8&&k<=27)||(k>=32&&k<=46)||(k==12)||(k==91)||(k==93)||(k==144)||(k==145)||(k==224);
},isTypingKey:function(k){if(k.ctrlKey||k.altKey||k.metaKey){return false;
}var l=k.keyCode;
if(l==27||(l>=112&&l<=123)||l==44||l==144||l==145||l==19||l==45||l==46||l==8||(l>=33&&l<=40)||l==20||l==13||(l>=16&&l<=18)||l==12||l==91||l==93||l==224){return false;
}return true;
},storeBrowserPosition:function(){var k=document.body;
var l=document.documentElement;
this._browserTop=k.scrollTop>l.scrollTop?k.scrollTop:l.scrollTop;
this._browserLeft=k.scrollLeft>l.scrollLeft?k.scrollTop:l.scrollLeft;
return{x:this._browserLeft,y:this._browserTop};
},restoreBrowserPosition:function(l,o){try{if(null==l){l=this._browserLeft;
}if(null==o){o=this._browserTop;
}var m=document.body;
var n=document.documentElement;
m.scrollTop=o;
m.scrollLeft=l;
n.scrollTop=o;
n.scrollLeft=l;
}catch(k){}},containsHtmlAtClipboard:function(k){var l=k&&k.clipboardData&&k.clipboardData.getData&&k.clipboardData.types&&k.clipboardData.types.length&&Telerik.Web.UI.Editor.Utils.containsElement(/text\/html/i,k.clipboardData.types);
return l;
},getPasteContainer:function(k){var l=k.ownerDocument||document,m=l.createElement("div");
k.appendChild(m);
m.className="telerik_paste_container";
this._setPasteContainerStyles(m,k);
if($telerik.isFirefox){m.appendChild(l.createTextNode("\u00a0"));
}else{if($telerik.isSafari){m.appendChild(l.createElement("br"));
}}return m;
},_setPasteContainerStyles:function(r,l){var s=r.style,m=r.ownerDocument||document;
s.borderWidth="0px";
s.position="absolute";
s.overflow="hidden";
s.margin="0";
s.padding="0";
if(!$telerik.isIE){var q=j.getCursorOffset(l);
s.left=$telerik.isFirefox?"-10000px":q.left+"px";
s.top=q.top+"px";
}s.width=$telerik.isIE?"0px":"1px";
s.height=$telerik.isIE?"0px":"1px";
if($telerik.isIE){var n=m.documentElement,k=$telerik.getComputedStyle(n,"color"),o=$telerik.getComputedStyle(n,"fontFamily"),p=$telerik.getComputedStyle(n,"fontSize");
if(k){s.color=k;
}if(o){s.fontFamily=o;
}if(p){s.fontSize=p;
}s.fontVariant="normal";
s.fontWeight="normal";
s.lineSpacing="normal";
s.lineHeight="normal";
s.textDecoration="none";
}},getCursorOffset:function(k){var l=k.ownerDocument;
var s=b.DomRange.rangeFromWindow(l.defaultView||l.parentWindow);
var u=l.createElement("span");
var v=s.startContainer;
var t;
u.appendChild(l.createTextNode("\u200b"));
if(s.collapsed){var m=j.isTextNode(v);
if(m&&(j.isZwspTextNode(v)||s.startOffset==0)){v.parentNode.insertBefore(u,v);
}else{if(m&&s.startOffset==v.length){v.parentNode.insertBefore(u,v.nextSibling);
}else{s.insertNode(u);
t=true;
}}}else{v=v==k?v.childNodes[s.startOffset]:v;
v.parentNode.insertBefore(u,v);
}var o=j.getOffset(u,k);
var q=u.previousSibling;
var n=u.nextSibling;
var p=u.parentNode;
p.removeChild(u);
if(t&&j.isTextNode(q)&&j.isTextNode(n)&&!j.isZwspTextNode(q)&&!j.isZwspTextNode(n)){var r=q.length;
n.data=q.data+n.data;
s.setStart(n,r);
p.removeChild(q);
s.collapse(true);
s.select();
}return{left:o.left,top:o.top};
},clearPasteContainer:function(k){a(k).remove();
},getClipboardAsHtml:function(n){var m=n.get_document();
var l=n.get_contentArea();
var q=n.getDomRange();
var k=this.getPasteContainer(l);
if(k.setActive){k.setActive();
}$telerik.removeExternalHandler(l,"paste",n._onPasteDelegate);
try{m.execCommand("Paste",null);
}catch(o){}$telerik.addExternalHandler(l,"paste",n._onPasteDelegate);
var p=k.innerHTML;
this.clearPasteContainer(k);
q.select();
return p;
},convertWordLists:function(k){return new b.WordListConverter().convert(k);
},stripElementFormatting:function(l,k){switch(k){case"ALL":case"ALL_NO_BRAKES":case"CSS":a(l).removeClass().removeAttr("style");
break;
}},stripFormatting:function(m,k,l){switch(k){case"ALL":m=m.replace(new RegExp("<(SCRIPT|STYLE)([^>]*)>[\\s\\S]*?</(\\1)([^>]*)>","ig"),"");
m=m.replace(new RegExp("<!--[\\s\\S]*?-->","ig"),"");
m=m.replace(/<\/?[^>]*>/ig,"");
break;
case"ALL_NO_BRAKES":m=j.convertWordLists(m);
m=j._stripAllExceptNewLines(l,m);
break;
case"WORD":case"WORD_ALL":case"WORD_NO_FONTS":case"WORD_NO_MARGINS":m=this.stripWordFormatting(m,[k]);
break;
case"CSS":m=m.replace(new RegExp("(<[^>]+) class=[^ |^>]*([^>]*>)","ig"),"$1 $2");
m=m.replace(/(<[^>]+) style="[^"]*"([^>]*>)/ig,"$1 $2");
break;
case"FONT":m=m.replace(/<\/?font[^>]*>/ig,"");
break;
case"SPAN":m=m.replace(/<\/?span[^>]*>/ig,"");
break;
case"SCRIPT":m=m.replace(new RegExp("<(SCRIPT)([^>]*)/>","ig"),"");
m=m.replace(new RegExp("<(SCRIPT)([^>]*)>[\\s\\S]*?</(SCRIPT)([^>]*)>","ig"),"");
break;
default:break;
}return m;
},_stripAllExceptNewLines:function(k,l){var m=k.get_document().createElement("div");
m.innerHTML=l;
if((g.webkit||g.ff)&&j.isTag(m.lastChild,"br")){m.removeChild(m.lastChild);
}var n={selectAll:true,contentElement:m,isNotGreedy:true,clearValue:"ALL_NO_BRAKES",deleteWhitespaceNodes:true};
var o=new b.StripWordFormattingCommand(k,n);
o.onExecute();
return m.innerHTML;
},replaceNewLineWithBr:function(l){try{l=l.replace(/\n/g,"<br>");
return l;
}catch(k){}},convertText2Html:function(l){try{l=l.replace(/</g,"&lt;");
l=l.replace(/>/g,"&gt;");
l=l.replace(/\n/g,"<br>");
return l;
}catch(k){}},cssPropertiesToKeep:["color","background","backgroundColor","background-color","opacity","height","width","margin","margin-top","margin-right","margin-bottom","margin-left","marginTop","marginRight","marginBottom","marginLeft","padding","padding-top","padding-right","padding-bottom","padding-left","paddingTop","paddingRight","paddingBottom","paddingLeft","font-size","fontSize","font-family","fontFamily","font-weight","fontWeight","fontStretch","fontStyle","fontVariant","border","borderSpacing","border-top","borderTop","border-right","borderRight","border-bottom","borderBottom","border-left","borderLeft","borderColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderStyle","borderTopStyle","borderRightStyle","borderLeftStyle","borderBottomStyle","borderWidth","listStyleType","listStyleImage","text-align","textAlign","text-decoration","textDecoration","letterSpacing"],getCssPropertiesWordAll:function(m){var k=[];
for(var l=0;
l<m.length;
l++){if(!/^font/.test(m[l])){k.push(m[l]);
}}return k;
},getCssPropertiesWordNoFonts:function(m){var k=[];
for(var l=0;
l<m.length;
l++){if(!/^font/.test(m[l])||(/^font/.test(m[l])&&/size$/i.test(m[l]))){k.push(m[l]);
}}return k;
},getCssPropertiesWordNoMargins:function(m){var k=[];
for(var l=0;
l<m.length;
l++){if(!/margin/i.test(m[l])){k.push(m[l]);
}}return k;
},getTagByStyleRule:function(m){var n=m&&m.selectorText?m.selectorText:"";
var l=n.lastIndexOf(".");
if(l==0){return"";
}var k=n.lastIndexOf(" ",l);
return n.substring((k+1),l);
},getCssPropertiesToKeep:function(k){var l=this.cssPropertiesToKeep;
if($telerik.$.inArray("WORD_NO_FONTS",k)!=-1){l=this.getCssPropertiesWordNoFonts(l);
}if($telerik.$.inArray("WORD_ALL",k)!=-1){l=this.getCssPropertiesWordAll(l);
}if($telerik.$.inArray("WORD_NO_MARGINS",k)!=-1){l=this.getCssPropertiesWordNoMargins(l);
}return l;
},clearWordAttributesAndStyles:function(m,p){var k=$telerik.isIE&&m.all?m.all:m.getElementsByTagName("*");
for(var n=0;
n<k.length;
n++){var l=k[n];
if(l.nodeType==1){var o=l.nodeName;
if(o!="TABLE"&&o!="TH"&&o!="TR"&&o!="TD"){this.clearElement(l,p);
}}}},msWordClassesRegExp:/^mso|wordsection|bullets/i,clearWordClasses:function(l){if(l.className&&this.msWordClassesRegExp.test(l.className)){var k="";
l.className=k;
this.setElementClassName(l,k);
}},msWordAttrRegExp:/mso/i,clearElement:function(o,t){var u=this;
u.clearWordClasses(o);
o.removeAttribute("lang","",0);
u.clearUnnecessaryStyles(o,t);
var p=o.style;
if(p&&p.fontFamily){if($telerik.isIE){p.fontFamily=p.fontFamily.replace(/\\"/g,"'");
}else{p.fontFamily=p.fontFamily.replace(/('|"|&quot;)/g,"");
}}if(o.nodeName=="DIV"||o.nodeName=="P"){u.removeInvalidBorderColors(o);
}var s=u.msWordAttrRegExp;
var r=/[^:]+:[^:]/;
var l=o.attributes;
var k,m,n;
for(var q=l.length-1;
q>=0;
q--){k=l[q];
m=k.name.toLowerCase();
n=k.value||null;
n=n==="null"?null:n;
if(n&&m!="src"&&m!="href"){if(s.test(m)||s.test(n)||r.test(m)){o.removeAttribute(k.name);
}}}},clearLists:function(k,m){var l=a(k).find("OL");
a(l).removeAttr("type");
a(l).removeAttr("start");
},removeInvalidBorderColors:function(k){if(!k.style){return;
}var m=/windowtext|-moz-use-text-color|currentColor/i;
var o=k.style;
var l="";
if(o.borderTopColor&&m.test(o.borderTopColor)){o.borderTopColor=l;
}if(o.borderRightColor&&m.test(o.borderRightColor)){o.borderRightColor=l;
}if(o.borderBottomColor&&m.test(o.borderBottomColor)){o.borderBottomColor=l;
}if(o.borderLeftColor&&m.test(o.borderLeftColor)){o.borderLeftColor=l;
}if($telerik.isFirefox){var n=/\s?-moz-[a-z\-]+colors?:\s?[a-z]+;/ig;
var p=k.getAttribute("style");
if(p&&n.test(p)){p=p.replace(n,l);
k.setAttribute("style",p);
}}},setNbspInEmptyParagraphs:function(k){var m=/(<p[^>]*?>)(<\/p>)/gmi;
var l=k.innerHTML;
l=l.replace(m,"$1&nbsp;$2");
k.innerHTML=l;
},removeEmptyElements:function(k){var o="(?:b|font|i|s|span|u)";
var m="<"+o+"(?:\\s[^>]*)?></"+o+">";
var l=k.innerHTML;
var n=new RegExp(m,"gmi");
while(new RegExp(m,"mi").test(l)){l=l.replace(n,"");
}k.innerHTML=l;
},clearWordAttributesInElement:function(p,n){var k=$telerik.isIE&&p.all?p.all:p.getElementsByTagName("*");
for(var q=0;
q<k.length;
q++){var o=k[q];
var s=/\bmso.*/gi;
if(o.nodeType==1){if(s.exec(o.className)){o.className="";
}o.removeAttribute("lang","",0);
o.removeAttribute("style","",0);
o.style.cssText=o.style.cssText.replace(/(([\w-]*?mso[\w-]*?):(.+?)([;^$]|$))/gi,"");
if($telerik.isIE){o.style.removeAttribute("tab-stops",0);
o.style.removeAttribute("textIndent",0);
}if($telerik.isIE&&(n=="WORD_NO_FONTS"||n=="WORD_ALL")){o.style.removeAttribute("fontFamily",0);
o.removeAttribute("face",0);
}if(o.style&&o.style.fontFamily){o.style.fontFamily=o.style.fontFamily.replace(/('|"|&quot;)/g,"");
}for(var r=o.attributes.length-1;
r>=0;
r--){var l=o.attributes[r];
var m=l.name.toLowerCase();
if(m!="src"&&m!="href"&&"null"!=l.value&&""!=l.value){if(s.exec(l.name)||s.exec(l.value)){o.removeAttribute(l.name);
}}}}}},clearUnnecessaryStyles:function(l,s){var k=[];
var r=l.style;
for(var n=0;
n<s.length;
n++){var q=s[n];
if(r[q]&&r[q]!=""){k.push({propertyName:q,value:r[q]});
}if(q=="text-align"&&l.tagName=="TD"&&r.textAlign==""){k.push({propertyName:q,value:"left"});
}}l.removeAttribute("style","",0);
r=l.style;
for(var m=0;
m<k.length;
m++){var o=k[m];
r[o.propertyName]=o.value;
}},_replaceWhitespaceBetweenTags:function(k,l){if(/<[a-z]+[^>]*?>/mi.test(k)){l=l?l:" ";
k=k.replace(/^[\r\n\s]+(<)/m,"$1");
k=k.replace(/(>)[\r\n\s]+$/m,"$1");
k=k.replace(/(<\/[a-z]+[^>]*?>)([\r\n\s])+(<[a-z]+[^>]*?>)/gmi,function(q,n,o,p,r,m){var s=n+l+p;
return s;
});
}return k;
},clearComments:function(k){k=k.replace(/<!--[\s\S]+?-->/g,"");
return k;
},clearInvalidHtml:function(k){k=k.replace(/<\/?[ovw]:[^>]*?>/gi,"");
k=k.replace(/<\\?\??xml[^>]*>/gi,"");
k=k.replace(/<(?:link|meta) [^>]+?>/ig,"");
k=k.replace(/<style[^>]*?>\s*<\/style>/ig,"");
k=k.replace(/<\/?st1:.*?>/gi,"");
k=k.replace(/<a name="[a-zA-Z0-9_]+">/gmi,"");
k=k.replace(/v:shapes?="[^"]+"/ig,"");
k=k.replace(/(<\/html>)[\s\S]+$/im,"$1");
return k;
},clearWordTables:function(l,n){var s=l.getElementsByTagName("TABLE");
for(var o=0;
o<s.length;
o++){var p=s[o];
this.clearWordClasses(p);
this.clearUnnecessaryStyles(p,n);
var q=p.getElementsByTagName("TR");
for(var m=0;
m<q.length;
m++){var w=q[m];
this.clearWordClasses(w);
this.clearUnnecessaryStyles(w,n);
for(var k=0;
k<w.cells.length;
k++){var u=w.cells[k];
this.clearWordClasses(u);
this.removeInvalidBorderColors(u);
this.clearUnnecessaryStyles(u,n);
var v=u.innerHTML;
v=v.replace(/(\s*&nbsp;)+/gi,"");
v=v.replace(/(\s*&nbsp;)+$/gi,"");
u.innerHTML=v;
}}}},addCssProperies:function(l){l=typeof(l)==="string"?[].push(l):l;
for(var k=0;
k<l.length;
k++){if($telerik.$.inArray(l[k],Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep)==-1){Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.push(l[k]);
}}},removeCssProperiesByPattern:function(l){var m=new RegExp(l,"i");
for(var k=Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.length-1;
k>=0;
k--){if(m.test(Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep[k])){Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.splice(k,1);
}}},containsElement:function(m,k){for(var l=0;
l<k.length;
l++){if(!k[l]){continue;
}var n=k[l].toString();
if(m.test(n)){return true;
}}return false;
},stripWordFormatting:function(m,k){var r=this;
var o=m;
var q=r.getCssPropertiesToKeep(k);
o=r.clearComments(o);
o=r.clearInvalidHtml(o);
var n=document.createElement("div");
b.Utils.setElementInnerHtml(n,o);
if(!$telerik.isIE){r.validateStylesOnStripWordFormatting(n);
}var p=$telerik.$(n).find("FONT");
var l=p.length>0;
if(l&&$telerik.$.inArray("WORD_ALL",k)!=-1){p.each(function(s,t){r.removeNode(t);
});
l=false;
}if(l&&$telerik.$.inArray("WORD_NO_FONTS",k)!=-1){p.removeAttr("face");
p.removeAttr("color");
}if(l&&!r.containsElement(/font\-?size/i,q)){p.removeAttr("size");
}r.clearWordTables(n,q);
r.clearLists(n,q);
r.clearWordAttributesAndStyles(n,q);
r.removeEmptyElements(n);
r.setNbspInEmptyParagraphs(n);
o=n.innerHTML;
o=o.replace(/\s+/ig," ");
return o;
},clearMSWordJunkContent:function(k){k=this.clearComments(k);
k=this.clearInvalidHtml(k);
return k;
},validateStylesOnStripWordFormatting:function(m){var k=$telerik.isIE&&m.all?m.all:m.getElementsByTagName("*");
var y=/^(\r?\n?<[a-z]+[^>]*?>)(<\/[a-z]+[^>]*?>)$/i;
var q=/^(I|A|B)[A-Z]*$/i;
var s=/(background|-webkit-background)-?[a-z]*: initial;/gi;
var v=/none\srepeat\sscroll\s0%\s0%\s/gi;
var u=/mso-bidi-font-size/gi;
var t=/mso-bidi-font-family/gi;
for(var p=0;
p<k.length;
p++){var n=k[p];
if(n.nodeType==1&&!q.test(n.nodeName)){var r=n.innerHTML;
var o=Telerik.Web.UI.Editor.Utils.getOuterHtml(n).replace(r,"");
var w=o.match(y);
if(w){var x=w[1];
var l=w[2];
if(x&&l){x=x.replace(s,"");
x=x.replace(v,"");
if($telerik.isFirefox||$telerik.isChrome){x=x.replace(u,"font-size");
x=x.replace(t,"font-family");
}if(x!=w[1]){$telerik.$(n).replaceWith(x+r+l);
}}}}}},cleanStylesOnStripWordFormatting:function(k){var l=k+"";
l=l.replace(/(<[^>]*style=["'])([^"']*)(["'][^>]*>)/gi,function(q,n,o,p,r,m){var s=n;
o=o.replace(/(background|-webkit-background)-?[a-z]*: initial;/gi,"");
if($telerik.isFirefox){o=o.replace(/none\srepeat\sscroll\s0%\s0%\s/gi,"");
}o=o.replace(/line-height: normal;?/gi,"");
o=o.replace(/margin: 0[a-z]{2} 0[a-z]{2} 0[a-z]{2};?/gi,"");
if(!$telerik.isIe){o=o.replace(/margin-?[a-z]*: 0.0001[a-z]{2};?/gi,"");
}s+=o;
s+=p;
return s;
});
return l;
},createTable:function(s,l,p){if(!p){p=document;
}var o=p.createElement("table");
var n,m;
for(var q=0;
q<s;
q++){n=o.insertRow(-1);
for(var k=0;
k<l;
k++){m=n.insertCell(-1);
m.innerHTML="&nbsp;";
}}return o;
},getElementParentByTag:function(l,m){if(null==l){return null;
}if(null==m){return l;
}try{while(l&&null!=l.tagName&&l.tagName!=m){if(b.Utils.isEditorContentArea(l)){break;
}l=l.parentNode;
}return((l.tagName==m)?l:null);
}catch(k){return null;
}},getElementParentByRegExpTagName:function(l,m){if(null==l){return null;
}if(null==m){return l;
}try{while(l&&null!=l.tagName&&!m.test(l.tagName)){if(b.Utils.isEditorContentArea(l)){break;
}l=l.parentNode;
}return((m.test(l.tagName))?l:null);
}catch(k){return null;
}},getElementParentByTagWithConstraint:function(m,n,k){if(null==k){k="";
}if(null==m){return null;
}if(null==n){return m;
}try{while(m&&null!=m.tagName&&m.tagName!=n){if(k.indexOf(m.tagName)!=-1){return null;
}if(b.Utils.isEditorContentArea(m)){break;
}m=m.parentNode;
}return((m.tagName==n)?m:null);
}catch(l){return null;
}},getElementParentByCondition:function(m,k){if(!m||!k){return null;
}try{while(m&&!k(m)){if(j.isEditorContentArea(m)){break;
}m=m.parentNode;
}return k(m)?m:null;
}catch(l){return null;
}},immutableElementMarkerAttrName:"immutablemarker",immutableElementId:"data-reimmutableid",isImmutableContainer:function(k){if(($telerik.isIE6||$telerik.isIE7)&&k.attributes&&k.attributes.contenteditable){return k.attributes.contenteditable.nodeValue=="false";
}else{if(k.getAttribute){return k.getAttribute("contenteditable")=="false";
}}return false;
},isImmutableNode:function(k){return !!b.Utils.getElementParentByCondition(k,b.Utils.isImmutableContainer);
},getImmutableElements:function(k){if(!k.get_enableImmutableElements()){return a([]);
}return a(k.get_contentArea()).find("[contenteditable='false']").filter(function(m,l){return !b.Utils.isImmutableNode(l.parentNode);
});
},replaceImmutableElements:function(k){b.Utils.getImmutableElements(k).each(function(n,l){var m=l.getAttribute(b.Utils.immutableElementId);
var o=k.get_document().createElement("div");
o.setAttribute(b.Utils.immutableElementMarkerAttrName,m);
l.parentNode.insertBefore(o,l);
l.parentNode.removeChild(l);
});
},restoreImmutableElements:function(k){a(k.get_contentArea()).find("["+b.Utils.immutableElementMarkerAttrName+"]").each(function(n,o){var m=o.getAttribute(b.Utils.immutableElementMarkerAttrName);
var l=k._immutableElements[m];
if(l){o.parentNode.insertBefore(l,o);
}o.parentNode.removeChild(o);
});
},revertOriginalImmutables:function(k){b.Utils.getImmutableElements(k).each(function(p,m){var q=m.parentNode;
var o=m.getAttribute(b.Utils.immutableElementId);
var l;
if(o){var n=k._immutableElements[o];
l=m==n;
if(n&&!l){q.insertBefore(n,m);
}}if(!l){q.removeChild(m);
}});
},setImmutablesHtml:function(l,k){var p=b.Utils,o=p.immutableElementMarkerAttrName,n=k._immutableElements,m=new RegExp("<div "+o+"=['\"]?([0-9]{13})['\"]?>(?:&nbsp;)?</div>","gmi");
l=l.replace(m,function(u,s,v,r){var t=n[s];
if(t){var q=p.cloneNodeWithChildren(t);
k._cleanUnselectableAttributes(q);
return p.getOuterHtml(q);
}return u;
});
return l;
},isEditorContentArea:function(k){var l=(k&&(k.tagName=="BODY"||(k.tagName=="DIV"&&Sys.UI.DomElement.containsCssClass(k,"reContentArea"))))?true:false;
return l;
},isEditorEmptyMessage:function(k){return Sys.UI.DomElement.containsCssClass(k,"reEmptyMessage");
},selectElement:function(o,n){if(!n){return;
}var m=o.document;
var q=null;
if($telerik.isIE&&m.selection){switch(n.tagName){case"TABLE":case"IMG":case"HR":case"INPUT":q=m.body.createControlRange();
q.add(n);
break;
case"UL":case"OL":q=m.body.createTextRange();
q.moveToElementText(n);
var p=q.parentElement();
if(p.tagName!="UL"||p.tagName!="OL"){q.moveEnd("character",-1);
}break;
default:q=m.body.createTextRange();
q.moveToElementText(n);
break;
}if(q){try{q.select();
return true;
}catch(l){return false;
}}}else{if(o.getSelection){q=m.createRange();
q.selectNode(n);
if(window.opera){q.selectNodeContents(n);
}var r=o.getSelection();
if($telerik.isSafari){if(n.nodeName=="TR"){var k=b.DomRange.toDomRange(q);
k.setStartBefore(n.firstChild);
k.setEndAfter(n.lastChild);
k.select();
}else{if(n.tagName!="TD"&&n.tagName!="TH"){r.setBaseAndExtent(q.startContainer,q.startOffset,q.endContainer,q.endOffset);
}}}else{r.removeAllRanges();
r.addRange(q);
}return true;
}}return false;
},isContentSelected:function(l,n){if((j.isTextNode(n.startContainer)&&n.startOffset!=0)||(j.isTextNode(n.endContainer)&&n.endOffset!=n.endContainer.length)){return false;
}var m=function(p){return j.isTextNode(p)?!j.isTextNodeEmpty(p):!j.canHaveChildren(p);
};
var k=j.getChildNodesBy(l,m);
var o=j.getSelectedNodes(n,m);
return k.length==o.length&&j.every(o,function(p){return Array.contains(k,p);
});
},getSelectedNodes:function(m,k){var l=new b.RangeIterator(m);
var o=[];
l.iterate(function(p){o.push(p);
});
var n=[];
Array.forEach(o,function(p){if(k(p)){n.push(p);
}else{if(j.canHaveChildren(p)){Array.addRange(n,j.getChildNodesBy(p,k));
}}});
return n;
},getOuterHtml:function(k){return $telerik.getOuterHtml(k);
},setElementInnerHtml:function(l,m){var k=$telerik.isIE?this.getStoredOriginalPathsAndAttributes(m):m;
this.removeChildren(l);
l.innerHTML="<span>&nbsp;</span>"+k;
l.removeChild(l.firstChild);
if($telerik.isIE){this.restoreOriginalPathsAndAttributes(l);
}},insertBefore:function(l,k,m){if(m){l.insertBefore(k,m);
}else{l.appendChild(k);
}},removeNode:function(k){var l=k.parentNode;
if(l!=null){while(k.firstChild){l.insertBefore(k.firstChild,k);
}l.removeChild(k);
return l;
}return true;
},removeChildren:function(k){while(k.firstChild){k.removeChild(k.firstChild);
}},removeTrailingIndents:function(k,l){while(j.isTextNode(k[l])&&j.isTextNodeEmpty(k[l])){a(k[l]).remove();
}},replaceNode:function(l,n,m){if(l&&n){var k=a(l).wrap("<"+n+"></"+n+">").parent()[0];
$telerik.mergeElementAttributes(l,k,m);
b.Utils.removeNode(l);
return k;
}else{return null;
}},normalize:function(k){if($telerik.isIE||!k.normalize){this._normalizeTextNodes(k);
}else{k.normalize();
}},_normalizeTextNodes:function(m){var k=m.firstChild,l;
while(k){if(k.nodeType==3){l=k.nextSibling;
while(l&&l.nodeType==3){k.appendData(l.data);
m.removeChild(l);
l=k.nextSibling;
}}else{this._normalizeTextNodes(k);
}k=k.nextSibling;
}},isSingleChild:function(k){return j.every(k.parentNode.childNodes,function(l){return l==k||(j.isTextNode(l)&&j.isTextNodeEmpty(l));
});
},MoveToNextCell:function(k,l){var o=b.Utils.getElementParentByTag(k,"TR");
var m=o.cells[k.cellIndex+1];
if(typeof(m)=="undefined"){var q=b.Utils.getElementParentByTag(k,"TABLE");
var p=o.rowIndex+1;
var n=q.rows[p];
if(typeof(n)!="undefined"){m=n.cells[0];
}else{if(q.rows.length>0&&q.rows[0].cells.length>0){l.fire("InsertRowBelow",{});
m=q.rows[p].cells[0];
}}}if(typeof(m)!="undefined"){b.Utils.selectCell(m,l);
}},MoveToPreviousCell:function(k,n){var q=b.Utils.getElementParentByTag(k,"TR");
var o=null;
var l=k.cellIndex;
if(l>0){o=q.cells[l-1];
}else{var s=b.Utils.getElementParentByTag(q,"TABLE");
var r=q.rowIndex;
if(r>0){var p=s.rows[r-1];
var m=p.cells;
o=m[m.length-1];
}}b.Utils.selectCell(o,n);
},selectCell:function(k,m){if(!k||!m){return;
}var l=m.get_document();
if(l.createRange){var n=l.createRange();
n.selectNodeContents(k);
var o=m.get_contentWindow().getSelection();
o.removeAllRanges();
o.addRange(n);
}else{var p=m.getSelection();
p.selectElement(k);
}},getStoredOriginalPathsAndAttributes:function(k){var l=function(u,n,o,p,q,r,s,v,w){if(!p){p="";
q=q+s;
var t=q.search(/(\s|>)/gi);
if(t>0){s=q.substring(t,q.length);
q=q.substring(0,t);
if(q=='""'){q="";
p='"';
}}else{return u;
}}return n+" "+o+"="+p+q+p+' originalAttribute="'+o+'" originalPath="'+q+'"'+s;
};
var m=new RegExp("(<[^>]*?)\\s(href|src)\\s*=\\s*('|\")?([^>]+?)(\\3)([^>]*?>)","ig");
k=k.replace(m,l);
k=this._revertOriginalPathsInHtmlComments(k);
return k;
},commentsWithContentRegExp:/<!--([\s\S]*?)-->/ig,originalAttributesRegExp:/ originalAttribute="(?:href|src)" originalPath="[^"]+"/ig,_revertOriginalPathsInHtmlComments:function(k){var l=this.originalAttributesRegExp;
k=k.replace(this.commentsWithContentRegExp,function(n,m){var o=m.replace(l,"");
return String.format("<!--{0}-->",o);
});
return k;
},storeOriginalPathsAndAttributes:function(l){var k=["src","href"];
var n=a(l).find("[src],[href]").andSelf().toArray();
for(var m=0;
m<n.length;
m++){for(var o=0;
o<k.length;
o++){this.storeOriginalAttribute(n[m],k[o]);
}}},storeOriginalAttribute:function(l,k){if(l.getAttribute(k)){l.setAttribute("originalAttribute",k);
l.setAttribute("originalPath",l.getAttribute(k));
}},restoreOriginalPathsAndAttributes:function(l){var k=l.getElementsByTagName("*");
for(var o=0;
o<k.length;
o++){var m=k[o];
var r=m.getAttribute("originalPath");
var q=m.getAttribute("originalAttribute");
if(r!=null&&q!=null){m.removeAttribute("originalPath");
m.removeAttribute("originalAttribute");
if(r.toLowerCase().indexOf("mailto:")==0){continue;
}r=r.replace(window.location.href+"#","#");
var p=m.innerHTML;
try{m.setAttribute(q,r,0);
}catch(n){}if(p!=m.innerHTML){m.innerHTML=p;
}}}},_encodeHtmlContent:function(l,o){var k=new Array("%","<",">","!",'"',"#","$","&","'","(",")",",",":",";","=","?","[","]","\\","^","`","{","|","}","~","+");
var n=l;
var m;
if(o){for(m=0;
m<k.length;
m++){n=n.replace(new RegExp("\\x"+k[m].charCodeAt(0).toString(16),"ig"),"%"+k[m].charCodeAt(0).toString(16));
}}else{for(m=k.length-1;
m>=0;
m--){n=n.replace(new RegExp("%"+k[m].charCodeAt(0).toString(16),"ig"),k[m]);
}}return n;
},encodePostbackContent:function(k){return b.Utils._encodeHtmlContent(k,true);
},decodePostbackContent:function(k){return b.Utils._encodeHtmlContent(k,false);
},makeUrlAbsolute:function(l){l=l.split("&").join("&amp;").split('"').join("&quot;").split("<").join("&lt;");
var k=document.createElement("div");
k.innerHTML='<a href="'+l+'">a</a>';
return k.childNodes[0].href;
},addStyleSheet:function(p,l,n){if(!p){return;
}l=l||document;
var o=l.createElement("link");
o.setAttribute("href",p,0);
if($telerik.isIE&&o.href.indexOf("https://")==0&&p.indexOf("https://")!=0){o.setAttribute("href",o.href);
}else{if($telerik.isIE7&&p.indexOf("https://")!=0&&o.href.indexOf("https://")!=0&&window.location.protocol=="https:"){o.setAttribute("href",b.Utils.makeUrlAbsolute(p),0);
}}o.setAttribute("type","text/css");
if(n){o.setAttribute("id",n);
}else{n="";
}o.setAttribute("rel","stylesheet",0);
var m=l.getElementsByTagName("head")[0];
if($telerik.isSafari||$telerik.isFirefox){var k=function(){m.appendChild(o);
};
window.setTimeout(k,200);
}else{m.appendChild(o);
}},_copyElementsBetweenNodes:function(r,p,k){var q=r.getElementsByTagName(k);
var o=p.getElementsByTagName(k);
for(var m=0;
m<q.length;
m++){switch(k){case"script":case"title":o[m].text=q[m].text;
break;
case"style":if(o[m].innerHTML!=q[m].innerHTML){o[m].styleSheet.cssText=q[m].styleSheet.cssText;
}break;
case"select":o[m].selectedIndex=q[m].selectedIndex;
break;
case"input":if((q[m].type=="radio"||q[m].type=="checkbox")&&$telerik.$(q[m]).attr("checked")){$telerik.$(o[m]).attr("checked","checked");
if($telerik.isIE9Mode&&q[m].type=="checkbox"&&q[m].checked){o[m].checked=true;
o[m].setAttribute("checked","checked");
}}break;
case"iframe":var n=q[m].innerHTML;
if(n){var s=o[m].outerHTML;
if(s){var l=s.indexOf(">");
if(l>0){s=s.substr(0,l)+">"+n+s.substr(l+1+n.length);
o[m].outerHTML=s;
}}}break;
default:if(o[m].innerHTML!=q[m].innerHTML){b.Utils.setElementInnerHtml(o[m],q[m].innerHTML);
}break;
}}},cloneNodeWithChildren:function(l){if(!l){return null;
}if($telerik.isIE&&l.getElementsByTagName){var k=l.cloneNode(true);
if(typeof(k.innerHTML)!="string"){this.setElementInnerHtml(k,l.innerHTML);
}this._copyElementsBetweenNodes(l,k,"script");
this._copyElementsBetweenNodes(l,k,"map");
this._copyElementsBetweenNodes(l,k,"style");
this._copyElementsBetweenNodes(l,k,"title");
this._copyElementsBetweenNodes(l,k,"select");
this._copyElementsBetweenNodes(l,k,"input");
this._copyElementsBetweenNodes(l,k,"iframe");
return k;
}else{return l.cloneNode(true);
}},cloneNodeClean:function(l){var k=l.cloneNode(false);
this.removeChildren(k);
if($telerik.isIE10Mode&&!$telerik.isIE10&&l.style&&l.style.backgroundColor){k.style.backgroundColor=l.style.backgroundColor;
}return k;
},escapeRegExSpecialChars:function(k){var l=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");
return k.replace(l,"\\$&");
},getUniqueID:function(){if(!window.RadEditor_uniqueSeed){window.RadEditor_uniqueSeed=new Date()-101;
}if(!window.RadEditor_uniqueIdCounter){window.RadEditor_uniqueIdCounter=1;
}else{window.RadEditor_uniqueIdCounter++;
}var k=window.RadEditor_uniqueSeed-window.RadEditor_uniqueIdCounter;
return"UniqueID"+k;
},hasAnyContent:function(k){return !!(k&&k.innerHTML);
},getTextContent:function(k){if(!k){return null;
}if(k.innerText!=null){return k.innerText;
}if(k.textContent!=null){var l=k.textContent;
l=l.replace(/<!--(.|\s)*?-->/gi,"");
return l;
}return null;
},removeInvalidElementsInLists:function(k){var n=this;
var m=n.getSelectedParentElement(k);
var l=$telerik.$(m).find("ol,ul");
if(n.isList(m)){l=l.add(m);
}l.each(function(q,s){var p=s.children;
for(var r=p.length-1;
r>=0;
r--){var o=p[r];
if(!n.isTag(o,"li")){s.removeChild(o);
}}});
},execDocumentCommand:function(l,k,q){var p;
if(!l||!k){return false;
}try{return l.execCommand(k,false,q);
}catch(m){var o=this.getSelectedParentElement(l);
p=document.createElement("br");
o.insertBefore(p,o.firstChild);
var n=l.execCommand(k,false,q);
return n;
}finally{if(p){p.parentNode.removeChild(p);
}}},isContentOneBlockElementOnly:function(k){return k.childNodes.length==1&&this.isBlockElement(k.childNodes[0]);
},getSelectedParentElement:function(k){var l=new b.Selection(k.defaultView||window);
return l.getParentElement();
},getSelectedElement:function(k){return k.getSelectedElement();
},getFirstBlockElementUp:function(k){return this.isBlockElement(k)?k:this.getBlockParent(k);
},getBlockParentUntil:function(k,l){return this.getConditionalParentUntil(k,j.isBlockElement,l);
},getConditionalParentUntil:function(l,k,n){var m=l;
while(m&&!n(m.parentNode,m)&&!k(m)){m=m.parentNode;
}return m;
},getBlockParent:function(k){var l=k.parentNode;
while(l&&!this.isBlockElement(l)){l=l.parentNode;
}return l;
},getPreviousElement:function(k){if(k.previousElementSibling){return k.previousElementSibling;
}var l=a(k).prev();
if(l.length>0&&!this.isTextNode(l[0])){return l[0];
}return null;
},traversePreviousNode:function(l){var k=l,m;
while(k&&!(m=k.previousSibling)){k=k.parentNode;
}return m;
},getNextElement:function(l){if(l.nextElementSibling){return l.nextElementSibling;
}var k=a(l).next();
if(k.length>0&&!this.isTextNode(k[0])){return k[0];
}return null;
},isTextNodeEmpty:function(k){return !/[^\s\xA0\u200b]+/.test(k.nodeValue);
},isTextNodeCompletelyEmpty:function(k){return !/[^\n\r\t\u200b]+/.test(k.nodeValue);
},canHaveChildren:function(k){if(!k||j.isTextNode(k)){return false;
}switch((k.tagName||k.nodeName).toUpperCase()){case"AREA":case"BASE":case"BASEFONT":case"COL":case"FRAME":case"HR":case"IMG":case"BR":case"INPUT":case"ISINDEX":case"LINK":case"META":case"PARAM":return false;
}return true;
},isBlockElement:function(k){return j.checkForElement(k,f);
},isBlockTag:function(k){return !!k&&f.test(k);
},isBlockElementOrNewLine:function(k){return this.isBlockElement(k)||this.checkForElement(k,/^br$/i);
},isTextNode:function(k){return k&&k.nodeType&&(k.nodeType==3||k.nodeType==4||k.nodeType==8);
},isZwspTextNode:function(k){return j.isTextNode(k)&&i.test(k.nodeValue);
},firstTextChild:function(l){var k=l.firstChild;
while(k&&k.firstChild&&!j.isTextNode(k)){k=k.firstChild;
}return j.isTextNode(k)?k:l;
},checkForElement:function(k,l){var m=k&&k.nodeName;
return !!m&&l.test(m);
},isAlignCommand:function(k){return/^Justify(?:None|Left|Center|Right|Full)$/.test(k);
},findNodeIndex:function(l){var k=0;
while(l.previousSibling){l=l.previousSibling;
k++;
}return k;
},isAncestorOf:function(m,l){try{return !this.isTextNode(m)&&(l.parentNode===m||a.contains(m,this.isTextNode(l)?l.parentNode:l));
}catch(k){return false;
}},isAncestorOrSelf:function(l,k){return this.isAncestorOf(l,k)||(l===k);
},findAncestorUntil:function(l,k){if(this.isAncestorOf(l,k)){while(k&&k.parentNode!=l){k=k.parentNode;
}}return k;
},findAncestorByTag:function(m,l,n){var k=this.isTag;
return this.findAncestorBy(m,l,function(o){return k(o,n);
});
},findAncestorBy:function(m,l,k){if(this.isAncestorOf(m,l)){do{l=l.parentNode;
}while(l&&!k(l)&&l!=m);
}return l;
},findCommonAncestor:function(k,l){while(k&&k!=l&&!this.isAncestorOf(k,l)){k=k.parentNode;
}return k;
},getContentAreaFirstChild:function(l){var k=l.get_contentArea();
return k.children?k.children[0]:k.firstChild;
},appendChildren:function(l,k){while(k.firstChild){l.appendChild(k.firstChild);
}},getChildNodesBy:function(m,l){var k=[];
var n=true;
j._getChildNodes(m,k,l,n);
return k;
},getAllChildNodesBy:function(m,l){var k=[];
j._getChildNodes(m,k,l);
return k;
},_getChildNodes:function(o,l,m,p){var k=o.firstChild;
while(k){var n=m(k);
if(!(p&&n)&&k.nodeType==1&&j.canHaveChildren(k)){j._getChildNodes(k,l,m,p);
}if(n){l.push(k);
}k=k.nextSibling;
}},trimWhitespaceTextNodes:function(l){var k=["firstChild","lastChild"];
Array.forEach(k,a.proxy(function(n){var m=l[n];
if(m&&this.isTextNode(m)){this.trimWhitespace(m);
}},this));
},whitespaceStart:function(k){return/^[\s\xA0]/.test(k);
},whitespaceEnd:function(k){return/[\s\xA0]$/.test(k);
},trimWhitespaceLeft:function(k){var l=this.isTextNodeEmpty(k)?this.spacesRegExp.test(k.nodeValue):false;
while(this.whitespaceStart(k.nodeValue)){var m=k.nodeValue.substring(0,1);
if(!l){l=this.spacesRegExp.test(m);
}k.nodeValue=k.nodeValue.substring(1);
}if(l){k.nodeValue=" "+k.nodeValue;
}},trimWhitespaceRight:function(k){var l=this.isTextNodeEmpty(k)?this.spacesRegExp.test(k.nodeValue):false;
while(this.whitespaceEnd(k.nodeValue)){var m=k.nodeValue.length;
var n=k.nodeValue.substring(m-2,m-1);
if(!l){l=this.spacesRegExp.test(n);
}k.nodeValue=k.nodeValue.substring(0,m-1);
}if(l){k.nodeValue=k.nodeValue+" ";
}},trimWhitespace:function(k){this.trimWhitespaceLeft(k);
this.trimWhitespaceRight(k);
},spacesRegExp:/[ \xA0]/,trimExtraWhitespace:function(k){var l=this.isTextNode(k)&&/\S[ \xA0]$/.test(k.nodeValue);
this.trimWhitespace(k);
if(l){k.nodeValue+=" ";
}},trimElementNeighbours:function(k){var m=k.previousSibling,l=k.nextSibling;
if($telerik.isIE&&!$telerik.isIE9Mode){var n=/^[\s\t\r\n\u200b\u00a0]+$/;
if(m&&this.isTextNode(m)&&n.test(m.nodeValue)){m.nodeValue="";
}if(l&&this.isTextNode(l)&&n.test(l.nodeValue)){l.nodeValue="";
}}if(m){this.trimWhitespace(m);
}if(l){this.trimWhitespace(l);
}},_toggleElementZoom:function(k){if(!k||k.style.zoom==1){return;
}var l=k.style.zoom;
k.style.zoom=1;
setTimeout(function(){k.style.zoom=l;
},0);
},_rgbToHex:function(k){if(k.toLowerCase().indexOf("rgb")!=-1){var m="#";
var l=function(o){var n=parseInt(o,10).toString(16);
m+=(n.length==1?"0"+n:n);
return o;
};
k=k.replace(/(\d+)/gi,l);
l=null;
return m;
}else{return k;
}},_pointsToPixels:function(m){var l=72,k=96;
return Math.round(parseFloat(m)*k/l)+"px";
},_fontSizesPx:["10px","13px","16px","18px","24px","32px","48px"],_fontSizesToPixels:function(k){return this._fontSizesPx[parseInt(k,10)-1];
},removeNonXhtmlCompliantParents:function(p){if(!p){return;
}p=p.parentNode;
var n=b.Utils.isEditorContentArea;
var k=[];
while(p&&p.tagName!="TD"&&!n(p)){var q=p.tagName;
switch(q){case"P":case"SPAN":case"FONT":case"STRONG":case"EM":case"U":k.push(p);
break;
}p=p.parentNode;
}for(var m=0,o=k.length;
m<o;
m++){b.Utils.removeNode(k[m]);
}},setTargetsForPreview:function(m){var k=m.get_contentArea();
var q=k.getElementsByTagName("A");
for(var n=0,o=q.length;
n<o;
n++){var p=q[n];
var s=p.getAttribute("target");
p.setAttribute("re_target",s||"");
if(s!="_blank"){p.setAttribute("target","blank");
}var r=p.getAttribute("onclick");
p.setAttribute("re_onclick",r||"");
p.setAttribute("onclick","return false;");
}},restoreTargetsAfterPreview:function(m){var k=m.get_contentArea();
var q=k.getElementsByTagName("A");
for(var n=0,o=q.length;
n<o;
n++){var p=q[n];
if(typeof(p.attributes.re_target)!="undefined"){var s=p.getAttribute("re_target");
if(s&&s!="null"){p.setAttribute("target",s);
}else{p.removeAttribute("target");
}}if(typeof(p.attributes.re_onclick)!="undefined"){var r=p.getAttribute("re_onclick");
if(r&&r!="null"){p.setAttribute("onclick",r);
}else{p.removeAttribute("onclick");
}}p.removeAttribute("re_onclick");
p.removeAttribute("re_target");
}},checkForNonEmptyTextNodes:function(m){var k=m.childNodes;
for(var n=0,o=k.length;
n<o;
n++){return(k[n].nodeType==3&&k[n].nodeValue!="")?true:b.Utils.checkForNonEmptyTextNodes(k[n]);
}return false;
},emptyNodeRegExp:/^&nbsp;?$/,isNodeEmpty:function(k){return j.isNodeCompletelyEmpty(k)||j.emptyNodeRegExp.test(k.innerHTML);
},isNodeCompletelyEmpty:function(k){return !k.innerHTML||k.childNodes.length==0;
},isEmptyDom:function(k){return j.isTextNode(k)?j.isTextNodeEmpty(k):j.isNodeEmpty(k);
},isCompletelyEmptyDom:function(k){return j.isTextNode(k)?j.isTextNodeCompletelyEmpty(k):j.isNodeCompletelyEmpty(k);
},isNodeEmptyRecursive:function(m,k){if(m.nodeType==1&&!j.canHaveChildren(m)){return false;
}else{if(m.childNodes.length==0){return k?j.isCompletelyEmptyDom(m):j.isEmptyDom(m);
}else{if(j.isList(m)&&m.children.length===0){return true;
}}}var l=m.firstChild;
while(l&&j.isNodeEmptyRecursive(l,k)){l=l.nextSibling;
}return !l;
},whitespaceRegExp:/^\s*$/,isWhitespaceNode:function(k){return this.isTextNode(k)?this.isTextNodeEmpty(k):this.whitespaceRegExp.test(k.innerHTML);
},isTag:function(l,k){return !!(l&&l.tagName&&k)&&l.tagName.toLowerCase()==k.toLowerCase();
},isList:function(k){return j.isTag(k,"ul")||j.isTag(k,"ol");
},isHeading:function(k){return k&&/^H[1-6]$/i.test(k.nodeName);
},isTextElement:function(k){return j.isTag(k,"textarea")||(j.isTag(k,"input")&&a(k).is(":not([type]),[type=text],[type=password]"));
},isTableCell:function(k){return j.isTag(k,"td")||j.isTag(k,"th");
},isBlockComponent:function(k){return j.isTag(k,"li")||j.isTableCell(k);
},isNodeAtStart:function(n,k,l){var m=true;
var o=l?"nextSibling":"previousSibling";
while(m&&j.isAncestorOf(k,n)){while(m&&n[o]){n=n[o];
m=j.isEmptyDom(n);
}n=n.parentNode;
}return m;
},hasAttributes:function(k){var l=this.getOuterHtml(k).replace(k.innerHTML,"");
return/=["][^"]/.test(l)||/=['][^']/.test(l)||/=[^'"]/.test(l);
},getDefinedAttributes:function(n){var l={length:0};
for(var m=0;
m<n.attributes.length;
m++){var k=n.attributes[m];
if(k.specified&&k.nodeName!="style"&&!/^sizzle-/.test(k.nodeName)){l[k.nodeName]=k.nodeValue;
l.length++;
}}return l;
},getAttributes:function(o,n){var k={length:1};
for(var l=0;
l<n.length;
l++,k.length++){var m=n[l];
k[m]=o.getAttribute(m);
}return k;
},every:function(l,k){var n=l.length;
for(var m=0;
m<n;
m++){if(!k(l[m])){return false;
}}return true;
},some:function(l,k){var n=l.length;
for(var m=0;
m<n;
m++){if(k(l[m])){return true;
}}return false;
},first:function(l,o){var n=l.length;
for(var m=0;
m<n;
m++){var k=l[m];
if(o(k)){return k;
}}},someInRange:function(m,k){var l=new b.RangeIterator(m);
var n=false;
l.iterate(function(o){n=n||k(o);
});
return n;
},getEntitiesCollection:function(){return h;
},_convertEntitiesToCharacters:function(m){var l=/&([a-z]+);/g;
var k=j.getEntitiesCollection();
m=m.replace(l,function(o,n){return k[n]||o;
});
m=m.replace(/&amp;/g,"&");
return m;
},_isContentAreaLastBr:function(k){return j.isTag(k,"br")&&!k.nextSibling&&j.isEditorContentArea(k.parentNode);
},isWhitespaceBetweenTableCells:function(k){return j.isTextNode(k)&&j.isTextNodeEmpty(k)&&a(k.parentNode).is("tr,tbody,thead,tfoot,table");
},convertAttribute:function(m,p,l){var k=m.getAttribute(p);
var r=k;
if(p=="background"){k=m.getAttribute(p,2);
if(k){r="url("+k+")";
}}else{if(p=="width"||p=="height"||p=="vspace"||p=="hspace"){if(!(typeof(r)=="string"&&r.match("%"))){r=parseInt(r,10)+"px";
}}else{if(p=="noWrap"){k=m.noWrap;
r="nowrap";
}}}if(k){var q=null;
if(typeof(l)=="object"){var o=l.length;
for(var n=0;
n<o;
n++){q=m.style[l[n]];
if(!q){m.style[l[n]]=r;
}}}else{q=m.style[l];
if(!q){m.style[l]=r;
}}}},convertImgAlignAttribute:function(l){var k=l.getAttribute("align");
var m=($telerik.isIE)?"styleFloat":"cssFloat";
if(k){k=k.toLowerCase();
l.style.verticalAlign="";
l.style[m]="";
switch(k){case"left":l.style[m]="left";
break;
case"right":l.style[m]="right";
break;
case"bottom":case"baseline":case"absbottom":l.style[m]="";
l.style.verticalAlign="text-bottom";
break;
case"middle":case"absmiddle":l.style[m]="";
l.style.verticalAlign="middle";
break;
case"top":case"texttop":l.style[m]="";
l.style.verticalAlign="top";
break;
}}},convertTypeAttribute:function(k){var l=k.getAttribute("type");
if(l){if(!k.style.listStyleType){switch(l){case"1":k.style.listStyleType="decimal";
break;
case"a":k.style.listStyleType="lower-alpha";
break;
case"A":k.style.listStyleType="upper-alpha";
break;
case"i":k.style.listStyleType="lower-roman";
break;
case"I":k.style.listStyleType="upper-roman";
break;
case"disc":k.style.listStyleType="disc";
break;
case"circle":k.style.listStyleType="circle";
break;
case"square":k.style.listStyleType="square";
break;
}}}},convertBorderAttribute:function(l){var k=l.getAttribute("border");
if(k){if(!l.style.borderWidth){l.style.borderWidth=k+"px";
}if(!l.style.borderStyle){l.style.borderStyle="solid";
}}},convertCSSProperty:function(l,o,k){var p=l.style[k];
var q=p||l.getAttribute(o)||"";
if(k=="backgroundImage"){q=p.replace(/["']/g,"").slice(4,-1)||q;
}else{if(k=="width"||k=="height"){if(p&&!p.match("%")){q=parseInt(p,10);
}}else{if(k=="whiteSpace"){q="nowrap";
}else{if(o=="vspace"||o=="hspace"){var n=k.length;
for(var m=0;
m<n;
m++){if(m==0){p=l.style[k[m]];
q=parseInt(p,10);
}else{if(p!=l.style[k[m]]){p=false;
break;
}}}}}}}if(o.toLowerCase()=="bgcolor"){q=b.Utils._rgbToHex(q);
}if(q){l.setAttribute(o,q);
}else{l.removeAttribute(o);
}b.Utils.cleanStylePorperty(l,k);
},cleanStylePorperty:function(m,k){var p=a(m);
if(Object.prototype.toString.call(k)==="[object Array]"){for(var n=0,o=k.length;
n<o;
n++){p.css(k[n],"");
}}else{p.css(k,"");
}if(!m.style.cssText){m.removeAttribute("style");
}},convertImgCssAlignProperty:function(k){var l=($telerik.isIE)?k.style.styleFloat:k.style.cssFloat;
if(l){k.setAttribute("align",l);
}else{var m=k.style.verticalAlign;
if(m){m=m.replace(/text-/i,"");
k.setAttribute("align",m);
}}},convertListStyleTypeStyle:function(k){var l=k.style.listStyleType;
var m=k.getAttribute("type");
if(l&&!m){switch(l){case"decimal":k.type="1";
break;
case"lower-alpha":k.type="a";
break;
case"upper-alpha":k.type="A";
break;
case"lower-roman":k.type="i";
break;
case"upper-roman":k.type="I";
break;
case"disc":k.type="disc";
break;
case"circle":k.type="circle";
break;
case"square":k.type="square";
break;
default:k.type=l;
break;
}k.style.listStyleType="";
}},stripHtmlHeadBodyTags:function(k){return k.replace(/^[\s\S]*<html[\s\S]+?<body[^>]*>([\s\S]*?)<\/body>[\s\S]*$/gi,"$1");
},removeNearBrElements:function(k){if(k){if(!b.Utils.isBlockElement(k)){return;
}var o;
if(k.previousSibling){o=k.previousSibling;
var n=o.nodeValue;
while(o&&(o.nodeValue=="\n"||$telerik.$.trim(n)==""||o.nodeName=="BR")){if(o.nodeName=="BR"){$telerik.$(o).remove();
break;
}o=o.previousSibling;
}}var l;
if(k.nextSibling){l=k.nextSibling;
var m=l.nodeValue;
while(l&&(l.nodeValue=="\n"||$telerik.$.trim(m)==""||l.nodeName=="BR")){if(l.nodeName=="BR"){$telerik.$(l).remove();
break;
}l=l.nextSibling;
}}}},removeLastBr:function(k){a(k).find("br.t-last-br").remove();
},removeLastBrString:function(k){return k.replace(/<br class=['"]?t-last-br['"]? ?\/?>$/,"");
},splitElementsByCondition:function(m,k){var o=[];
for(var n=0;
n<m.length;
n++){var l=m[n];
if(k(l)){if(o.length&&!o[o.length-1].length){continue;
}o.push([]);
}else{if(o.length){o[o.length-1].push(l);
}else{o[0]=[l];
}}}if(o.length&&!o[o.length-1].length){o.splice(o.length-1,1);
}return o;
},ensureSingleEncodingUrl:function(o){var l=o;
var m=o.substring(0,o.indexOf("?"));
var n=o.substring(o.indexOf("?")+1);
try{m=decodeURI(m);
n=this.decodeQueryString(n);
}catch(k){}l=encodeURI(m)+"?"+this.encodeQueryString(n);
return l;
},encodeQueryString:function(k){return this.manipulateQueryString(k,encodeURIComponent);
},decodeQueryString:function(k){return this.manipulateQueryString(k,decodeURIComponent);
},manipulateQueryString:function(m,k){var l=this.splitQueryString(m);
a(l).each(function(n,o){a(o).each(function(p,q){o[p]=k.call(this,q);
});
});
return this.joinQueryArr(l);
},splitQueryString:function(k){var l=[];
l=k.split("&");
a(l).each(function(m,n){l[m]=n.split("=");
});
return l;
},joinQueryArr:function(k){var l=[];
a(k).each(function(m,n){l[m]=n.join("=");
});
return l.join("&");
},toUnit:function(l,k){if(!k){k="px";
}return l?l+k:"";
},getUnitName:function(k){return k.replace(/^[0-9]*/,"");
},isWindowDestroyed:function(m){var k;
try{k=m.document;
}catch(l){return true;
}return !k.defaultView&&!k.parentWindow;
},isInlineSpace:function(k){return j.isTextNodeEmpty(k)&&k.previousSibling&&k.nextSibling&&!j.isBlockElement(k.previousSibling)&&!j.isBlockElement(k.nextSibling);
},isSignificantTextNode:function(k){return j.isTextNode(k)&&(!j.isTextNodeEmpty(k)||j.isInlineSpace(k));
}};
})(Telerik.Web.UI,Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){Telerik.Web.UI.Editor.CommandBase=function(g,f,c,e){var d=this;
d.isSafari=$telerik.isSafari;
d.isIE=$telerik.isIE;
d.isOpera=$telerik.isOpera;
d.isFirefox=$telerik.isFirefox;
d._title=g;
d._window=f;
d._isExecuted=false;
d._canUnexecute=(c!=false);
d._editor=e;
a.observable(d);
};
Telerik.Web.UI.Editor.CommandBase.prototype={get_argument:function(){return null;
},getState:function(c){return Telerik.Web.UI.Editor.CommandStates.Off;
},getValue:function(c){return null;
},set_window:function(c){this._window=c;
},get_window:function(){return this._window;
},get_title:function(){return this._title;
},set_title:function(c){this._title=c;
},set_canUnexecute:function(c){this._canUnexecute=c;
},get_canUnexecute:function(){return this._canUnexecute;
},get_editor:function(){return this._editor;
},set_editor:function(c){this._editor=c;
},get_editorContentArea:function(){var d=this.get_editor();
var c=(d)?d.get_contentArea():null;
return c;
},get_enableUndoRedo:function(){var c=this.get_editor();
if(c){return c.get_enableUndoRedo();
}else{return true;
}},execute:function(){this._isExecuted=false;
if(null==this.onExecute||null==this.get_window()){return false;
}try{if(this.get_enableUndoRedo()){if(!this.RestorePoint1){this.RestorePoint1=this.get_editor().createRestorePoint();
}else{this.RestorePoint1.select();
}}return(this._isExecuted=this.onExecute());
}catch(c){}return false;
},onExecute:function(){if(this.isIE&&null!=this.OnExecuteIE){return this.OnExecuteIE();
}else{if(null!=window.getSelection&&null!=this.OnExecuteMoz){return this.OnExecuteMoz();
}}return false;
},unexecute:function(){try{if(this._canUnexecute&&this._isExecuted){this.RestorePoint1.restore();
}}catch(c){}},trackChangedNode:function(c){var d=this;
if(d._changeFormatTracking!==false){if(!d.elements){d.elements=[];
}d.elements.push(c);
}},collectTrackData:function(d){var c=a(d);
return{node:d,parentNode:d.parentNode,previousSibling:c.prev()[0],nextSibling:c.next()[0]};
},clearTrackedNodes:function(){if(this.elements&&this.elements.length){this.elements=[];
}},fireFormattingChanged:function(){var d=this,c=a.extendEventArgs(new Sys.EventArgs(),{elements:d.elements,applyFormat:!d.removeFormatting,command:d});
d.trigger("formattingChanged",c);
},_setEnabledChangeFormatTracking:function(c){this._changeFormatTracking=c;
}};
Telerik.Web.UI.Editor.CommandBase.registerClass("Telerik.Web.UI.Editor.CommandBase");
})($telerik.$);
Telerik.Web.UI.Editor.PasteHtmlCommand=function(e,d,c,a,b){Telerik.Web.UI.Editor.PasteHtmlCommand.initializeBase(this,[(e||"Insert Html"),d,true,b]);
this.HtmlText=c;
this.SelectText=(true==a);
this.editor=b;
};
Telerik.Web.UI.Editor.PasteHtmlCommand.prototype={clone:function(){return new Telerik.Web.UI.Editor.PasteHtmlCommand(this.get_title(),this.get_window(),this.HtmlText,null,this.get_editor());
},onExecute:function(){var a=this;
var b=new Telerik.Web.UI.Editor.Selection(a.get_window());
if($telerik.isIE){a.fixBrElementSelectionIE();
}$telerik.$.observable(b);
b.on({pasteDom:a._raiseEvent,pasteBlockElement:a._raiseEvent},a);
b.pasteHtml(a.HtmlText,a.SelectText);
b.disposeObservable();
return true;
},_raiseEvent:function(a){this.get_editor().raiseEvent(a.get_eventName(),a);
},fixBrElementSelectionIE:function(){var c=this.editor,b=Telerik.Web.UI.Editor.DomRange.toDomRange(c.getSelection().getRange());
if(!b.startContainer||b.startContainer.nodeType==3||!b.endContainer.nodeType||b.endContainer.nodeType==3){return;
}var e=function(){if($telerik.isIE9Mode){return b.endContainer.childNodes[b.endOffset-1];
}else{if($telerik.isIE7||$telerik.isIE8){return b.endContainer.childNodes[b.endOffset];
}}};
var d=function(){return b.startContainer.childNodes[b.startOffset];
};
var f=$telerik.isIE9Mode&&b.collapsed&&b.startOffset!=b.endOffset&&e()&&e().nodeName=="BR";
f|=($telerik.isIE7||$telerik.isIE8)&&b.collapsed&&b.startOffset==b.endOffset&&b.startContainer.childNodes.length-1==b.startOffset&&d()&&d().nodeName=="BR"&&e()&&$telerik.$(d()).is(e());
if(f){var a=e();
if(a.nodeName!="BR"){return;
}var g=c.get_document().createElement("span");
g.innerHTML="&nbsp;";
$telerik.$(g).insertAfter(a);
c.selectElement(g);
g.parentElement.removeChild(g);
}}};
Telerik.Web.UI.Editor.PasteHtmlCommand.registerClass("Telerik.Web.UI.Editor.PasteHtmlCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.GenericCommand=function(c,b,a){Telerik.Web.UI.Editor.GenericCommand.initializeBase(this,[c,b,true,a]);
if(this.get_enableUndoRedo()){this.RestorePoint1=a.createRestorePoint();
}};
Telerik.Web.UI.Editor.GenericCommand.prototype={execute:function(){if(this.get_enableUndoRedo()){if(null==this.RestorePoint2){this.RestorePoint2=this.get_editor().createRestorePoint();
}else{this.RestorePoint2.restore();
}}return true;
},unexecute:function(){if(this.get_enableUndoRedo()){this.RestorePoint1.restore(true);
}}};
Telerik.Web.UI.Editor.GenericCommand.registerClass("Telerik.Web.UI.Editor.GenericCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.TextTypeCommand=function(c,b,a){Telerik.Web.UI.Editor.TextTypeCommand.initializeBase(this,[(c||"Typing"),b,a]);
};
Telerik.Web.UI.Editor.TextTypeCommand.prototype={update:function(){if(this.RestorePoint2){this.RestorePoint2.update();
}}};
Telerik.Web.UI.Editor.TextTypeCommand.registerClass("Telerik.Web.UI.Editor.TextTypeCommand",Telerik.Web.UI.Editor.GenericCommand);
Telerik.Web.UI.Editor.BrowserCommand=function(e,c,d,f,b){var a=true;
switch(this.CommandID){case"Copy":case"SelectAll":case"Print":a=false;
break;
}Telerik.Web.UI.Editor.BrowserCommand.initializeBase(this,[(e||d),c,a,b]);
this.CommandID=d;
this.Value=f;
};
Telerik.Web.UI.Editor.BrowserCommand.prototype={get_argument:function(){return this.Value;
},clone:function(){return new Telerik.Web.UI.Editor.BrowserCommand(this._title,this.get_window(),this.CommandID,this.Value);
},getState:function(g,c,h){var a=Telerik.Web.UI.Editor.CommandStates;
try{var i=this;
g=g||i.get_window();
var f=g.document;
var b=i.CommandID;
if(!f){return a.Disabled;
}if("Paste"==b){return a.Off;
}if("Cut"==b||"Copy"==b){return(h&&!h.collapsed)?a.Off:a.Disabled;
}var d=f.queryCommandEnabled(b);
if(!i.isOpera&&!d){if(!i.isSafari||b!="RealFontSize"){return a.Disabled;
}}return f.queryCommandState(b)?a.On:a.Off;
}catch(e){return a.Off;
}},getValue:function(b){try{b=b||this.get_window();
return b.document.queryCommandValue(this.CommandID);
}catch(a){}return null;
},onExecute:function(){var g=this.get_window();
if(!g){return false;
}var c=g.document;
if("AbsolutePosition"==this.CommandID){c.execCommand("2D-Position",false,true);
}var h=true;
if(this.CommandID=="BackColor"&&(this.isOpera||this.isFirefox)){this.CommandID="HiliteColor";
h=false;
}var a=Telerik.Web.Browser;
if(this.CommandID=="FontSize"&&a.safari&&a.version<3){var f=parseInt(this.Value,10);
switch(f){case 1:this.Value="8pt";
break;
case 2:this.Value="10pt";
break;
case 3:this.Value="12pt";
break;
case 4:this.Value="14pt";
break;
case 5:this.Value="18pt";
break;
case 6:this.Value="24pt";
break;
case 7:this.Value="36pt";
break;
}}try{c.execCommand("UseCSS",false,(false!=h));
c.execCommand("styleWithCSS",false,(false==h));
}catch(b){}if(!this.isIE&&!this.Value&&(this.CommandID=="ForeColor"||this.CommandID=="BackColor"||this.CommandID=="HiliteColor")){this.removeColorMozilla(this.CommandID);
}var d=Telerik.Web.UI.Editor.Utils.execDocumentCommand(c,this.CommandID,this.Value);
if(this.CommandID!="Outdent"&&this.CommandID!="Indent"&&this.CommandID!="SelectAll"){Telerik.Web.UI.Editor.Utils.removeInvalidElementsInLists(c);
}if($telerik.isIE&&!$telerik.isIE9Mode){switch(this.CommandID){case"JustifyLeft":case"JustifyRight":case"JustifyNone":case"JustifyCenter":case"JustifyFull":this.ieFixAlignCommandsParagraphBraking();
break;
}}if($telerik.isFirefox&&(this.CommandID=="BackColor"||this.CommandID=="HiliteColor")&&this._editor.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){this.mozFixContentAreaBackColor();
}try{c.execCommand("UseCSS",false,true);
c.execCommand("styleWithCSS",false,false);
}catch(b){}return d;
},ieFixAlignCommandsParagraphBraking:function(){var a=this.get_editor();
var d=Telerik.Web.UI.Editor.Utils.getElementParentByTag(a.getSelectedElement(),"P");
if(d&&d.firstChild){var b=d.firstChild;
var c=b.innerHTML;
if(c.indexOf("</P>")!=-1&&c.indexOf("<P>")==-1){Telerik.Web.UI.Editor.Utils.setElementInnerHtml(b,c.replace("</P>",""));
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(d,d.innerHTML+"</P>");
}}},mozFixContentAreaBackColor:function(){var b=this._editor.get_contentArea();
var a=b.style.backgroundColor;
if(a!=""){b.style.backgroundColor="";
var h=document.evaluate('.//text()[normalize-space(.) != ""]',b,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);
for(var c=0,d=h.snapshotLength;
c<d;
c++){var g=h.snapshotItem(c);
var f=document.createElement("span");
f.innerHTML=g.nodeValue;
f.style.backgroundColor=a;
var e=g.parentNode;
e.insertBefore(f,g);
e.removeChild(g);
}}},removeColorMozilla:function(a){var b=new Telerik.Web.UI.Editor.Selection();
b._window=this._window;
var c=b.getHtml();
if(c!=""){var g=b.GetParentElement();
if(g.innerHTML.trim()==c.trim()){this.removeNodeColor(g,a);
}var h=window.document.createElement("div");
h.innerHTML=c;
for(var d=0,e=h.childNodes.length;
d<e;
d++){var f=h.childNodes[d];
this.removeNodeColor(f,a);
}b.PasteHtml(h.innerHTML);
}},removeNodeColor:function(b,a){switch(a){case"ForeColor":if(b.style){b.style.color="";
}if(b.removeAttribute){b.removeAttribute("color");
}break;
case"BackColor":case"HiliteColor":if(b.style){b.style.backgroundColor="";
}if(b.removeAttribute){b.removeAttribute("bgColor");
}break;
}}};
Telerik.Web.UI.Editor.BrowserCommand.registerClass("Telerik.Web.UI.Editor.BrowserCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.StyleRuleCommand=function(f,d,c,g,b,a){Telerik.Web.UI.Editor.StyleRuleCommand.initializeBase(this,[f,d,true,a]);
if(!c){var e=new Telerik.Web.UI.Editor.Selection(this._window);
c=e.getParentElement();
}this._nodeBookmark=new Telerik.Web.UI.Editor.SelectionBookmark(this._window,c);
this._styleAttributeName=g;
this._newValue=b;
};
Telerik.Web.UI.Editor.StyleRuleCommand.prototype={get_argument:function(){return this._newValue;
},clone:function(){return new Telerik.Web.UI.Editor.StyleRuleCommand(this._title,this._window,null,this._styleAttributeName,this._newValue);
},execute:function(){var a=this._nodeBookmark.select();
if(!a){return false;
}if(!this._isExecuted){this._oldValue=a.style[this._styleAttributeName];
}a.style[this._styleAttributeName]=this._newValue;
this._isExecuted=true;
return true;
},unexecute:function(){var a=this._nodeBookmark.select();
a.style[this._styleAttributeName]=this._oldValue;
}};
Telerik.Web.UI.Editor.StyleRuleCommand.registerClass("Telerik.Web.UI.Editor.StyleRuleCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.AttributeCommand=function(g,e,d,a,c,b){Telerik.Web.UI.Editor.AttributeCommand.initializeBase(this,[g,e,true,b]);
if(!d){var f=new Telerik.Web.UI.Editor.Selection(this._window);
d=f.getParentElement();
}this._nodeBookmark=new Telerik.Web.UI.Editor.SelectionBookmark(this._window,d);
this._attribName=a;
this._newValue=c;
this._classAttr=(this._attribName==="className")?"class":null;
};
Telerik.Web.UI.Editor.AttributeCommand.prototype={get_argument:function(){return this._newValue;
},clone:function(){return new Telerik.Web.UI.Editor.AttributeCommand(this._title,this._window,null,this._attribName,this._newValue);
},execute:function(){var a=this._attribName;
var b=a.toLowerCase();
var c=this._nodeBookmark.select();
if(!c){return false;
}if(!this._isExecuted){if(a=="style"){this._oldValue=c.style.cssText;
}else{this._oldValue=c.getAttribute(this._classAttr||a);
}}if(a&&b=="name"&&this.isIE){c.name=this._newValue;
c.removeAttribute("name");
c.removeAttribute("NAME");
if($telerik.isIE9Mode){var e=c.nodeName;
if(e=="INPUT"||e=="TEXTAREA"||e=="BUTTON"){c.removeAttribute("submitName");
c.setAttribute("name",this._newValue);
}}}var d=this._newValue.trim();
if(""==d){c.removeAttribute(a,0);
}else{if(a=="style"){c.style.cssText=this._newValue;
}else{c[a]=this._newValue;
if(b=="nowrap"||a=="borderColor"||a==="value"){c.setAttribute(a,this._newValue);
}}}this._isExecuted=true;
return true;
},unexecute:function(){var a=this._nodeBookmark.select();
if(this._attribName=="style"){a.style.cssText=this._oldValue;
}else{if(this._oldValue){a[this._attribName]=this._oldValue;
}else{if(a[this._attribName]&&!this._oldValue){a.removeAttribute(this._classAttr||this._attribName,0);
}}}}};
Telerik.Web.UI.Editor.AttributeCommand.registerClass("Telerik.Web.UI.Editor.AttributeCommand",Telerik.Web.UI.Editor.CommandBase);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
var d=b.Editor.Utils;
var c=Telerik.Web.Browser;
b.Editor.ClassNameCommand=function(h,f,g,e){b.Editor.ClassNameCommand.initializeBase(this,[(h||"Classname"),f,true,e]);
};
b.Editor.ClassNameCommand.prototype={getValue:function(e,f){var g=this.get_editor().getSelectedElement(f);
return(g&&!d.isEditorContentArea(g))?g.className:"";
}};
b.Editor.ClassNameCommand.registerClass("Telerik.Web.UI.Editor.ClassNameCommand",b.Editor.CommandBase);
b.Editor.FormatBlockCommand=function(h,f,g,e){b.Editor.FormatBlockCommand.initializeBase(this,[(h||"Format Block"),f,true,e]);
this.FormatValue=(g)?g:"<p>";
this._editor=e;
this._defaultBlocks=[["p","Normal"],["div","Normal"],["h1","Heading 1"],["h2","Heading 2"],["h3","Heading 3"],["h4","Heading 4"],["h5","Heading 5"],["h6","Heading 6"],["address","Address"],["pre","Formatted"],["menu","Menu List"],["dir","Directory List"]];
};
b.Editor.FormatBlockCommand.prototype={get_argument:function(){try{return this.FormatValue.substring(1,this.FormatValue.length-1).toUpperCase();
}catch(e){}},clone:function(){return new b.Editor.FormatBlockCommand(this.Title,this._window,this.FormatValue,this._editor);
},getValue:function(g){g=g||this._window;
try{var e=this._getBlockElement(g);
var h=this._getTextValue(e);
return h||"Normal";
}catch(f){}return null;
},_getBlockElement:function(g){var h=b.Editor.DomRange.rangeFromWindow(g);
var e=h&&h.getParentElement();
if(e){if(typeof(e.tagName)=="undefined"){e=e.parentNode;
}var f=d.getElementParentByRegExpTagName(e,/PRE|MENU|DIR|ADDRESS/i);
if(f){e=f;
}else{if(!d.isBlockElement(e)){e=d.getBlockParent(e);
}}}return e;
},_getTextValue:function(g){var f=this._defaultBlocks;
var k=g&&g.tagName||"";
if(k){for(var h=0;
h<f.length;
h++){var e=f[h];
var j=e[0];
var l=e[1];
if(j==k.toLowerCase()){return l;
}}}return"";
},onExecute:function(){var q=this._window.document;
var B=this.FormatValue;
var g=this._editor;
var n=null;
if("<p>"==B.toLowerCase()&&!$telerik.isOpera){q.execCommand("FormatBlock",false,"Normal");
}var u=true;
var y=this._getTagName();
var x=new b.Editor.Selection(this._window);
var j=x.getHtml();
if(j){var v=b.Editor.CommandList._markEditorSelection(g);
var o=v.newElements;
var r=v.oldElements;
var s=Function.createDelegate(this,function(i,l){var G=i.parentNode;
var C;
if(!$telerik.isFireFox&&l&&G.tagName=="A"&&G.childNodes.length==1){C=q.createElement(i.tagName);
b.Editor.Utils.removeNode(i);
G.parentNode.insertBefore(C,G);
C.appendChild(G);
i=C;
G=i.parentNode;
}C=q.createElement(y);
var D=(l)?i.innerHTML:$telerik.getOuterHtml(i);
b.Editor.Utils.setElementInnerHtml(C,D);
G.replaceChild(C,i);
if(/^(P|DIV|H[1-6]|ADDRESS|BLOCKQUOTE|PRE)$/.test(G.tagName)&&true!=b.Editor.Utils.isEditorContentArea(G)){$telerik.mergeElementAttributes(G,C,false);
if(G.childNodes.length==1){b.Editor.Utils.removeNode(G);
}else{var F=G.parentNode;
var E;
if(!C.previousSibling){F.insertBefore(C,G);
}else{if(!C.nextSibling){E=G.nextSibling;
if(E){F.insertBefore(C,E);
}else{F.appendChild(C);
}}else{var H=G.cloneNode(false);
while(C.nextSibling){H.appendChild(C.nextSibling);
}E=G.nextSibling;
if(E){G.parentNode.insertBefore(C,E);
G.parentNode.insertBefore(H,E);
}else{G.parentNode.appendChild(C);
G.parentNode.appendChild(H);
}}}}}b.Editor.Utils.removeNonXhtmlCompliantParents(C);
n=C;
this._applyAttributes(C);
});
var k,m;
for(k=0,m=o.length;
k<m;
k++){s(o[k],true);
}for(k=0,m=r.length;
k<m;
k++){s(r[k],false);
}}else{var t=g.getDomRange();
var p=g.getSelectedElement();
var e=d.getBlockParentUntil(p,function(i){return d.isEditorContentArea(i)||d.isTag(i,"td")||d.isTag(i,"li");
});
if(c.ff&&d.isTag(e,"div")){d.replaceNode(e,y);
t.select();
}else{u=q.execCommand("FormatBlock",false,"<"+y+">");
}var z=q.createElement("DIV");
z.innerHTML=B+"</"+y+">";
var A=z.getElementsByTagName(y)[0];
var w=g.getSelectedElement();
if(w.tagName==A.tagName){$telerik.mergeElementAttributes(A,w);
}}Telerik.Web.UI.Editor.Utils.removeInvalidElementsInLists(q);
x=new b.Editor.Selection(this._window);
var h=x.getParentElement();
b.Editor.Utils.removeNearBrElements(h);
if(h&&h.tagName!=y){x.collapse(true);
x=new b.Editor.Selection(this._window);
h=x.getParentElement();
}if(j&&n){if($telerik.isIE8||$telerik.isIE7){g.selectElement(n);
g.getSelection().collapse();
}else{var f=b.Editor.DomRange.createRange(g.get_document());
f.selectNodeContents(n);
f.collapse();
f.select();
}}return u;
},_getTagName:function(){var e=this.FormatValue.replace(/.*?<([^\s]+)(\s|\/|>).*/i,"$1");
return e.toUpperCase();
},_applyAttributes:function(g){if(!g){return;
}var h=this.FormatValue;
var f=document.createElement("div");
f.innerHTML=h+"</"+this._getTagName()+">";
if(f.firstChild){var e=f.firstChild;
if(e.className){g.className=e.className;
}if(e.style.cssText){g.style.cssText=e.style.cssText;
}}}};
b.Editor.FormatBlockCommand.registerClass("Telerik.Web.UI.Editor.FormatBlockCommand",b.Editor.CommandBase);
b.Editor.ieFontCommandFix=function(e){this.editor=e;
this.fixCellText=$telerik.$();
};
b.Editor.ieFontCommandFix.prototype={applyFix:function(){if(this.shouldApplyFix()){this._fix();
}},_fix:function(){$telerik.$(this.editor.getSelectedElement()).find("td").each($telerik.$.proxy(function(e,f){if(b.Editor.Utils.isNodeEmpty(f)){var g=$telerik.$(document.createTextNode("_"));
$telerik.$(f).prepend(g);
this.fixCellText=this.fixCellText.add(g);
}},this));
},shouldApplyFix:function(){var e=this.editor.getSelectedElement();
return $telerik.isIE&&e&&e.tagName&&/^(?:tbody|tr)$/i.test(e.tagName);
},cleanUp:function(){if(!this.fixCellText){return;
}var e=this.fixCellText.parent();
this.fixCellText.remove();
e.filter(":empty").html("&nbsp;").parent().contents().slice(1).remove();
delete this.fixCellText;
}};
b.Editor.FormatSetsCommand=function(h,g,f,e){b.Editor.FormatSetsCommand.initializeBase(this,[(h||"Format Sets"),g,true,e]);
this._formatSets;
this._selectedElement;
this._formatSet=f;
};
b.Editor.FormatSetsCommand.prototype={onExecute:function(){var e=this.get_formatSet();
if(e){if(this._isInlineFormatSet(e)){return this._onExecuteInlineFormatSet();
}else{if(this._isBlockFormatSet(e)){return this._onExecuteBlockFormatSet();
}else{return this._onExecuteElementFormatSet();
}}}return false;
},_isInlineFormatSet:function(e){return !e[0];
},_isBlockFormatSet:function(e){return e[0]&&a.inArray(e[0].toLowerCase(),b.Editor.formatSetBlockElements)!=-1;
},_onExecuteInlineFormatSet:function(){var e=new Telerik.Web.UI.EditorCommandEventArgs("",null,"_RE_TELERIK_FORMATSETS"),f=this.get_editor(),h=this,g=this.get_formatSet();
e.addToUndoRedo=false;
f.fire("ApplyClass",e);
a("._RE_TELERIK_FORMATSETS",f.get_document()).each(function(j,i){i.className="";
h._applyAttributes(i,g[3]);
});
return true;
},_onExecuteBlockFormatSet:function(){var e=this.get_formatBlockCommand();
this.get_editor().executeCommand(e);
return true;
},get_formatBlockCommand:function(){var f=this.get_editor();
var e=new b.Editor.FormatBlockCommand("",f.get_contentWindow(),this.get_formatSetElementString(),f);
e.set_canUnexecute(false);
return e;
},get_formatSetElementString:function(){var e=this.get_formatSet(),f="";
if(e&&e[0]){f+="<"+e[0]+" "+this.get_formatSetAttributesString()+">";
}return f;
},get_formatSetAttributesString:function(){var g="",f=this.get_formatSet()[3];
if(f){for(var h=0,j=f.length;
h<j;
h++){var e=f[h];
g+=e.Name+'="'+e.Value+'" ';
}}return g;
},_onExecuteElementFormatSet:function(){var f=this._getElementToModify();
if(f){var e=this.get_formatSet()[3];
if(e){this._applyAttributes(f,e);
}}},_getElementToModify:function(){var f=this.get_selectedElement(),e=null,g=this.get_formatSet()[0];
if(g){while(f&&!b.Editor.Utils.isEditorContentArea(f)){if(g.toUpperCase()==f.tagName){e=f;
break;
}f=f.parentNode;
}}return e;
},_applyAttributes:function(f,e){for(var g=0,h=e.length;
g<h;
g++){this._applyAttribute(f,e[g]);
}},_applyAttribute:function(g,e){if(e&&e.Name){var f=e.Name.toLowerCase();
if(f=="class"){g.className=e.Value;
}else{if(f=="style"){g.style.cssText=e.Value;
}else{g.setAttribute(e.Name,e.Value,2);
}}}},getValue:function(f){var e=this.get_editor(),g=(e)?e.getSelectedElement():null,h={commandText:"",selectedElement:null};
if(g&&g.nodeType==3){g=g.parentNode;
}if(!(g&&b.Editor.Utils.isEditorContentArea(g))){h={commandText:this._getFormatSetTextByElement(g),selectedElement:g};
}return h;
},_getFormatSetTextByElement:function(e){var g=this.get_formatSets();
for(var h=0,j=g.length;
h<j;
h++){var f=g[h];
if(this._formatSetMatchesElement(f,e)){return f[1];
}}return"";
},_formatSetMatchesElement:function(g,e){var h=g[0],f=e&&e.tagName||"";
if(!h||f.toLowerCase()==h.toLowerCase()){return this._attributesMatch(g[3],e);
}return false;
},_attributesMatch:function(h,g){if(g&&g.getAttribute&&h.length){for(var j=0,k=h.length;
j<k;
j++){var e=h[j],f=e.Name;
if(f&&f.toLowerCase()=="style"){if(!this._ElementCssTextIsEqualToString(g,e.Value)){return false;
}}else{if(!f||g.getAttribute(f)!=e.Value){return false;
}}}return true;
}else{return false;
}},_ElementCssTextIsEqualToString:function(f,e){var g=false;
if(f&&f.style&&e){var h=f.ownerDocument.createElement("div");
h.style.cssText=e;
g=f.style.cssText==h.style.cssText;
}return g;
},get_formatSets:function(){if(!this._formatSets){var e=this.get_editor();
return(e)?e.get_formatSets():[];
}return this._formatSets;
},set_formatSets:function(e){this._formatSets=e;
},get_selectedElement:function(){if(!this._selectedElement){var e=this.get_editor();
this._selectedElement=(e)?e.getSelectedElement():null;
}return this._selectedElement;
},set_selectedElement:function(e){this._selectedElement=e;
},get_formatSet:function(){return this._formatSet;
},set_formatSet:function(e){this._formatSet=e;
}};
b.Editor.FormatSetsCommand.registerClass("Telerik.Web.UI.Editor.FormatSetsCommand",b.Editor.CommandBase);
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.EnterNewLineCommand=function(k,j,f,h,i){var g=this;
b.EnterNewLineCommand.initializeBase(g,[(k||"Enter pressed"),j,true,h]);
g._newLineMode=i||h.get_newLineMode();
g.tag=g._newLineMode==c.EditorNewLineModes.Div?"div":"p";
g._canUnexecute=(f!=false);
g.doc=h.get_document();
};
b.EnterNewLineCommand.prototype={execute:function(){var g=this,h=g.get_editor();
if(h.get_mode()==c.EditModes.Preview){return false;
}var m=h.getSelection();
var f=m.getRange(true);
if(!f||(f.parentElement&&f.parentElement().nodeName=="TEXTAREA")||(f.commonAncestorContainer&&e.isTag(f.commonAncestorContainer.childNodes[f.startOffset],"textarea"))){h.bubbleKeyEventToBrowser();
return false;
}var j=new b.GenericCommand("Enter",h.get_contentWindow(),h);
h._fireDeleteSelectionCmd(false);
var l=(g._newLineMode==c.EditorNewLineModes.Br)?g.enterBr():g.enterBlockElement();
e.removeLastBr(h.get_contentArea());
h.executeCommand(j);
if($telerik.isIE7&&h.get_contentAreaMode()==c.EditorContentAreaMode.Div){var i=m.getRange(true).parentElement();
var k=e.getElementParentByTag(i,"LI");
i=k?k.parentNode:i;
e._toggleElementZoom(i);
}return l;
},enterBr:function(){var g=this,h=g.get_editor(),n=h.getSelection(),m=n.getParentElement();
var j=e.getElementParentByTag(m,"LI");
if(j){return g.enterNewLineInList(j,m);
}var i=e.getElementParentByRegExpTagName(m,g.regExpHeader);
if(i){return g.insertBrInHeading(i);
}var k=e.getElementParentByTag(m,"A");
if(k){return g.insertBrInLink(k);
}var l=b.DomRange.toDomRange(n.getRange(true));
var f=g._insertBr(l);
g.setCursorAfterBr(f,l);
e.scrollTo(f,h);
return true;
},enterNewLineInList:function(h,i){var f=this,g=f.get_editor();
if(f.shouldOutdentListItem_OnEnter(h)){return f.outdentListItem_OnEnter(h);
}else{if(a(h).find("ol,ul").length>0){return f.executeInsertParagraphCommand(g,null);
}else{if(f._newLineMode!=c.EditorNewLineModes.Br){return f.executeInsertParagraphCommand(g,h,false);
}else{return f.executeInsertParagraphCommand(g,h);
}}}},_insertBr:function(j){var g=this,i=g.get_editor(),h=j.commonAncestorContainer,f=g.doc.createElement("br");
if(!e.isTextNode(h)&&h.childNodes[j.endOffset]){h=h.childNodes[j.endOffset];
}if(i.nodesTracker.isTracked(h)){h.parentNode.insertBefore(f,h);
}else{j.insertNode(f);
g._removeEmptyTextNode(f.previousSibling);
g._removeEmptyTextNode(f.nextSibling);
}return f;
},_removeEmptyTextNode:function(f){if(e.isTextNode(f)&&f.length==0){f.parentNode.removeChild(f);
}},executeInsertParagraphCommand:function(g,f,i){var h=new b.InsertParagraphCommand(g);
if(f){h.container=f;
}if(i===true||i===false){h.options.retainOriginalNodeName=i;
}if(i===false){h.options.tag=this.tag;
}return h.onExecute();
},insertBrInLink:function(i){var g=this,h=g.get_editor(),j=b.DomRange.toDomRange(h.getSelection().getRange(true)),f=g._insertBr(j);
if(g.isFirstElement(f,i)){a(f).insertBefore(i);
}else{if(g.isLastElement(f,i)){a(f).insertAfter(i);
}}g.setCursorAfterBr(f,j);
e.scrollTo(f,h);
return true;
},insertBrInHeading:function(j){var g=this,i=g.get_editor(),l=b.DomRange.toDomRange(i.getSelection().getRange(true)),f=g._insertBr(l);
if(g.isLastElement(f,j)){a(f).remove();
var k=g.doc.createElement("p");
a(k).insertAfter(j);
var h=g.doc.createElement("span");
h.innerHTML="&nbsp;";
k.appendChild(h);
e._setCursor(h,i);
e.scrollTo(k,i);
}else{g.setCursorAfterBr(f,l);
e.scrollTo(f,i);
}return true;
},isFirstElement:function(g,f){return this._isFirstOrLastElement(g,f,true);
},isLastElement:function(g,f){return this._isFirstOrLastElement(g,f,false);
},_isFirstOrLastElement:function(i,g,j){var f=this;
var l=i;
var h=f.get_editor().get_contentArea();
var k=a(g);
var m=j?"previousSibling":"nextSibling";
while(!k.is(l)&&a.contains(h,l)){while(l[m]){l=l[m];
if(!f.isEmptyTextNode(l)){return false;
}}l=l.parentNode;
}return true;
},setCursorAfterBr:function(f,j){var g=this,h=g.get_editor(),l=h.nodesTracker,i=f.nextSibling;
if(i&&e.isTextNode(i)&&(!e.isTextNodeEmpty(i)||l.isTracked(i))){return e._setCursorInTextNode(j,i,0,0);
}var k=l.createTrackedNode();
a(k).insertAfter(f);
l.selectTrackedNode(j,k);
},shouldOutdentListItem_OnEnter:function(f){return e.isNodeEmptyRecursive(f)||this.isEmptyListItem(f);
},isEmptyListItem:function(g){var f=this;
if(!e.isTag(g,"li")||a(g).find("br").length>1){return false;
}return e.isNodeEmptyRecursive(g)||e.every(g.childNodes,function(h){return f.isEmptyTextNode(h)||e.isTag(h,"br");
});
},isEmptyTextNode:function(f){return e.isTextNode(f)&&e.isTextNodeEmpty(f);
},isList:function(f){return e.isList(f);
},outdentListItem_OnEnter:function(i){var f=this;
var g=f.insertCursor();
var h=f.get_editor();
var j=new b.OutdentCommand(h);
j.executeDomCommand([i]);
if(f._newLineMode==c.EditorNewLineModes.Br){var k=e.getElementParentByTag(g,"P");
if(k){e.removeNode(k);
}}e._setCursor(g,h);
return true;
},insertCursor:function(){var f=this;
var j=f.get_editor();
var k=b.DomRange.toDomRange(j.getSelection().getRange(true));
var h=f.doc.createElement("span");
var g=k.commonAncestorContainer;
var l=j.nodesTracker;
if(l.isZeroWidthNode(g)){var i=g.parentNode;
i.insertBefore(h,g);
i.removeChild(g);
h.appendChild(l.createTrackedNode());
}else{k.insertNode(h);
}if(e.isBlockElement(g)&&!a.contains(g,h)){g.appendChild(h);
}return h;
},enterBlockElement:function(){var f=this,g=f.get_editor(),j=g.getSelectedElement(),i=e.getElementParentByTag(j,"LI");
if(i){return f.enterNewLineInList(i);
}var h=e.getElementParentByRegExpTagName(j,f.regExpHeader);
if(h){return f.enterHeading(h);
}else{return f.executeInsertParagraphCommand(g,null,false);
}},enterHeading:function(g){var i=this,f=i.get_editor(),h=new b.InsertParagraphCommand(f);
h.container=g;
h.options.insertParagraphAfterHeading=true;
h.options.retainOriginalNodeName=false;
h.options.tag=i._newLineMode==c.EditorNewLineModes.Div?"div":"p";
return h.onExecute();
},regExpHeader:/^h[1-6]$/i,isHeader:function(f){return this.regExpHeader.test(f.nodeName);
}};
b.EnterNewLineCommand.registerClass("Telerik.Web.UI.Editor.EnterNewLineCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.TableCommandBase=function(c,b,a){Telerik.Web.UI.Editor.TableCommandBase.initializeBase(this,[(c||"Table Command"),b,true,a]);
};
Telerik.Web.UI.Editor.TableCommandsBase_Static={};
Telerik.Web.UI.Editor.TableCommandBase.prototype={executeLayoutBuilderDeleteCommand:function(d,b){var c=this.get_editor();
var g=d.get_selectedTable();
var e=c.getDomRange();
var a=e.cloneRange();
a.setStartAfter(g);
a.collapse(true);
a.select();
var f=d.executeCommand(b);
if(c.containsRange(e)){e.select();
}return f;
},getLayoutBuilderEngine:function(c,a){if(!Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder){Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder=new Telerik.Web.UI.LayoutBuilderEngine();
}var b=Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder;
b.set_selectedTable(c);
b.set_selectedCell(a);
return b;
},configureLayoutBuilderEngine:function(){var a=this.getSelectedCell();
if(!a){return false;
}var b=a.parentNode;
var c=this.getParentTable(b);
return this.getLayoutBuilderEngine(c,a);
},getState:function(a){return this.getSelectedCell(a)?Telerik.Web.UI.Editor.CommandStates.Off:Telerik.Web.UI.Editor.CommandStates.Disabled;
},getSelectedCell:function(a){var c=new Telerik.Web.UI.Editor.Selection(a||this._window);
var b;
if(c){b=c.getParentElement();
}var d=Telerik.Web.UI.Editor.Utils;
while(null!=b&&b.tagName!="TD"&&b.tagName!="TH"&&!d.isEditorContentArea(b)){b=b.parentNode;
}if(!b||!b.tagName){return null;
}return(b.tagName=="TD"||b.tagName=="TH"?b:null);
},getSelectedRow:function(a){var c=new Telerik.Web.UI.Editor.Selection(this._window||a);
var b;
if(c){b=c.getParentElement();
}if(!b){return null;
}var d=Telerik.Web.UI.Editor.Utils;
while(null!=b&&b.tagName!="TR"&&!d.isEditorContentArea(b)){b=b.parentNode;
}return(b&&b.tagName=="TR"?b:null);
},getParentTable:function(a){if(!a){return null;
}var b=Telerik.Web.UI.Editor.Utils;
while(null!=a&&"TABLE"!=a.tagName&&!b.isEditorContentArea(a)){a=a.parentNode;
}return(a&&a.tagName=="TABLE"?a:null);
}};
Telerik.Web.UI.Editor.TableCommandBase.registerClass("Telerik.Web.UI.Editor.TableCommandBase",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.TableInsertRow=function(d,c,a,b){Telerik.Web.UI.Editor.TableInsertRow.initializeBase(this,[(d||"Insert row"),c,b]);
this._direction=a||"above";
};
Telerik.Web.UI.Editor.TableInsertRow.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableInsertRow(this._title,this._window,this._direction);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedRow(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand(("below"==this._direction)?"insertRowBelow":"insertRowAbove");
}};
Telerik.Web.UI.Editor.TableInsertRow.registerClass("Telerik.Web.UI.Editor.TableInsertRow",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteRow=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteRow.initializeBase(this,[(c||"Delete Row"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteRow.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableDeleteRow(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedRow(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
this.selectAnotherRow(a);
return this.executeLayoutBuilderDeleteCommand(a,"deleteRow");
},selectAnotherRow:function(c){if($telerik.isIE9Mode){var a=c._getLeftTopStateIndexes(c._selectedRowIndex,c._selectedCell.cellIndex);
var e=a.rowIndex;
var d=c._getSelectedTableCellByStateIndexes(e+1,0)||c._getSelectedTableCellByStateIndexes(e-1,0);
if(d){var b=this.get_editor().getSelection();
b.selectElement(d);
b.collapse(true);
}}}};
Telerik.Web.UI.Editor.TableDeleteRow.registerClass("Telerik.Web.UI.Editor.TableDeleteRow",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableInsertColumn=function(d,c,a,b){Telerik.Web.UI.Editor.TableInsertColumn.initializeBase(this,[(d||"Insert column"),c,b]);
this._direction=a||"left";
};
Telerik.Web.UI.Editor.TableInsertColumn.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableInsertColumn(this._title,this._window,this._direction);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
if($telerik.isRightToLeft(a._selectedTable)){this._direction=("right"==this._direction)?"left":"right";
}return a.executeCommand(("right"==this._direction)?"insertColumnToTheRight":"insertColumnToTheLeft");
}};
Telerik.Web.UI.Editor.TableInsertColumn.registerClass("Telerik.Web.UI.Editor.TableInsertColumn",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteColumn=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteColumn.initializeBase(this,[(c||"Delete column"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteColumn.prototype={clone:function(){return Telerik.Web.UI.Editor.TableDeleteColumn.New(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return this.executeLayoutBuilderDeleteCommand(a,"deleteColumn");
}};
Telerik.Web.UI.Editor.TableDeleteColumn.registerClass("Telerik.Web.UI.Editor.TableDeleteColumn",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableMergeRows=function(c,b,a){Telerik.Web.UI.Editor.TableMergeRows.initializeBase(this,[(c||"Merge rows"),b,a]);
};
Telerik.Web.UI.Editor.TableMergeRows.prototype={clone:function(){return Telerik.Web.UI.Editor.TableMergeRows.New(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canMergeDown()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("mergeDown");
},getLowerCell:function(a){if(!a){return null;
}var f=this.getParentTable(a);
var e=a.parentNode;
var d=f.rows[e.rowIndex+a.rowSpan];
if(!d){return null;
}var c=d.cells[a.cellIndex];
if(!c){for(var b=d.cells.length-1;
b>=0;
b--){if(d.cells[b].offsetLeft==a.offsetLeft){return d.cells[b];
}}}return c;
}};
Telerik.Web.UI.Editor.TableMergeRows.registerClass("Telerik.Web.UI.Editor.TableMergeRows",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableMergeColumns=function(c,b,a){Telerik.Web.UI.Editor.TableMergeColumns.initializeBase(this,[(c||"Merge columns"),b,a]);
};
Telerik.Web.UI.Editor.TableMergeColumns.prototype={clone:function(){return Telerik.Web.UI.Editor.TableMergeColumns.New(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canMergeRight()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},getNextSiblingCell:function(a){if(!a){return null;
}var c=a.parentNode;
var b=c.cells[a.cellIndex+1];
if(null!=b&&a.rowSpan==b.rowSpan){return b;
}else{return null;
}},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("mergeRight");
}};
Telerik.Web.UI.Editor.TableMergeColumns.registerClass("Telerik.Web.UI.Editor.TableMergeColumns",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableSplitCell=function(d,c,a,b){Telerik.Web.UI.Editor.TableSplitCell.initializeBase(this,[(d||"Split cell"),c,b]);
this._direction=a||"vertical";
};
Telerik.Web.UI.Editor.TableSplitCell.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableSplitCell(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand(("vertical"==this._direction)?"splitCellVertically":"splitCellHorizontally");
},getRealCellIndex:function(a){if(!a){return 0;
}var e=a.parentNode;
var c=0;
var b=0;
while(e.cells.length>c&&e.cells[c]!=a){var d=e.cells[c];
if(d.colSpan>1){b+=d.colSpan;
}else{b++;
}c++;
}return b;
}};
Telerik.Web.UI.Editor.TableSplitCell.registerClass("Telerik.Web.UI.Editor.TableSplitCell",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteCell=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteCell.initializeBase(this,[(c||"Delete cell"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteCell.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableDeleteCell(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canDeleteCell()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return this.executeLayoutBuilderDeleteCommand(a,"deleteCell");
}};
Telerik.Web.UI.Editor.TableDeleteCell.registerClass("Telerik.Web.UI.Editor.TableDeleteCell",Telerik.Web.UI.Editor.TableCommandBase);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=function(){};
c.prototype={getImages:function(f){var k=f.items;
var j=[];
for(var g=0;
g<k.length;
g++){var h=this._getImage(k[g]);
if(h){j.push(h);
}}return j;
},getName:function(){return"ClipboardDataObject";
},_getImage:function(h){if(h.type.indexOf("image")==-1){return null;
}var f=h.getAsFile();
var j=window.URL||window.webkitURL;
var i=j.createObjectURL(f);
var g=new Image();
g.src=i;
a(g).on("load",function(k){var l=new FileReader();
l.onload=function(m){if(g.src!=m.target.result){g.src=m.target.result;
}};
l.readAsDataURL(f);
});
return g;
}};
var d=function(){};
d.prototype={getImages:function(){return[];
},getName:function(){return"NoFiles";
}};
b.ClipboardImagesProvider=function(){this.clipboardObject=null;
};
b.ClipboardImagesProvider.prototype={chooseProvider:function(f){if(this.supportsClipboardData(f)&&this.containsFiles(f.clipboardData)){return new c();
}else{return new d();
}},supportsClipboardData:function(f){return !!f.clipboardData;
},containsFiles:function(f){var g=!!(f.types&&f.types.length&&f.types.length>0&&e.containsElement(/files/i,f.types));
return g;
},getImages:function(f){var g=this.chooseProvider(f);
return g.getImages(f.clipboardData);
}};
b.ClipboardImagesProvider.registerClass("Telerik.Web.UI.Editor.ClipboardImagesProvider",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,e){var b=c.Editor;
var f=b.Utils;
b.DomBlockCommandBase=function(g,i){var h=this.options=a.extend({window:g?g.get_contentWindow():e,title:"Indent",canUnexecute:e,blockTag:g&&g.get_newLineMode()==c.EditorNewLineModes.Div?"div":"p",noDuplicateNodeEdges:true,isSuitableNode:f.isBlockElement},i||{});
b.DomBlockCommandBase.initializeBase(this,[h.title,h.window,h.canUnexecute,g]);
};
b.DomBlockCommandBase.prototype={onExecute:function(){this.storeRange();
var h=this.collectElements(this.getEditorRange());
var j=this._splitNodes(h);
for(var g=0;
g<j.length;
g++){this.nodes=j[g];
this.executeDomCommand(this.nodes);
this.fireFormattingChanged();
this.cleanUp();
}this.restoreRange();
return true;
},executeDomCommand:function(h){while(h.length){var g=h.shift();
if(this.isSuitableNode(g)){this.executeOnNode(g);
}else{this.executeInlineNode(g);
}}},isSuitableNode:function(g){return this.options.isSuitableNode(g);
},topLimitCondition:function(g){return f.isEditorContentArea(g);
},inlineWrapper:null,executeOnNode:Function.emptyFunction,executeInlineNode:function(h,i){var g=this.collectFragment(h);
if(i||!this.isEmptyFragment(g)){this.executeOnFragment(g);
}},executeOnFragment:function(g){var h=this.createWrappingBlock();
this.wrapFragmentInBlock(g,h);
this.executeOnNode(h,true);
return h;
},getCssState:function(k,g,h){var i=this.nodes=this.collectElements(k);
var j=this.getNodesState(i,g,h);
this.cleanUp();
return j?Telerik.Web.UI.Editor.CommandStates.On:Telerik.Web.UI.Editor.CommandStates.Off;
},getNodesState:function(l,g,h){var m=l.length>0;
var n=0;
for(var j=0;
j<l.length;
j++){var k=l[j];
if(this.isSuitableNode(k)){m=m&&this.getNodeState(k,g,h);
n++;
}}if(n==0){m=this.getEmptySuitableListState();
}return m;
},getNodeState:function(i,g,h){var j=i.style;
return(!h&&!j)||(j&&j[g]==h);
},getEmptySuitableListState:function(){return false;
},collectFragment:function(h,i){this.blockFragmentTraverser=new b.BlockFragmentsTraverser();
var g=this.blockFragmentTraverser.traverseFragment(h);
var j=i||this.nodes;
while(j.length>0&&g.contains(j[0])){j.shift();
}return g;
},createWrappingBlock:function(){var g=this.get_editor().get_document();
return g.createElement(this.options.blockTag);
},wrapFragmentInBlock:function(g,h){g.insertBeforeFirst(h);
this.rememberNewSelectedNode(g.getParent(),h);
g.appendTo(h);
return h;
},isEmptyFragment:function(g){var k=g.nodes;
for(var h=0;
h<k.length;
h++){var j=k[h];
if(f.isTag(j,"img")||!f.isWhitespaceNode(k[h])){return false;
}}return true;
},cleanUp:function(){this.traverser=this.nodes=null;
this.clearTrackedNodes();
},collectElements:function(i){if(!i){return[];
}var j=Function.createDelegate(this,this.topLimitCondition);
var k=this.traverser=new b.RangeBlockTraverser(i,{isSuitableNode:this.options.isSuitableNode});
var g=k.traverse(j);
this.removeDuplicateEdges(g);
if(g.length==1&&f.isTag(g[0],"br")){var h=g[0];
g=[h.previousSibling||h.nextSibling];
}return g;
},findFirstInlineChild:function(h){var g=h.firstChild;
while(f.isBlockElement(g)){g=g.nextSibling;
}return g;
},removeDuplicateEdges:function(i){if(!this.options.noDuplicateNodeEdges||i.length==0){return;
}var g=i[0],h=i[i.length-1];
if(i.length>1&&g==h){i.pop();
}},storeRange:function(){var g=this.getEditorRange();
this.rangeMemento=new b.DomRangeMemento(g);
},restoreRange:function(){try{if(this.rangeMemento){this.rangeMemento.restoreToRange(this.getEditorRange());
}}catch(g){}},getEditorRange:function(){return b.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},rememberNewSelectedNode:function(h,g){var i=this.rangeMemento;
if(!i){return;
}if(i.startContainer==h){i.startContainer=g;
d(g,function(){i.startOffset--;
});
}if(i.endContainer==h){i.endContainer=g;
d(g,function(){i.endOffset--;
});
}},isRTL:function(){if(!this._editor){return;
}var g=this.get_editorContentArea();
return(g.style.direction||$telerik.getComputedStyle(this.get_editorContentArea(),"direction"))=="rtl";
},_splitNodes:function(g){if(!this.get_editor().get_enableImmutableElements()){return[g];
}return f.splitElementsByCondition(g,Function.createDelegate(f,f.isImmutableNode));
}};
b.DomBlockCommandBase.registerClass("Telerik.Web.UI.Editor.DomBlockCommandBase",b.CommandBase);
function d(h,g){var i=h.previousSibling;
while(i){g();
i=i.previousSibling;
}}})($telerik.$,Telerik.Web.UI);
(function(a,b,h,f){var e="__telerik_marker",g=8203;
function c(i){return d(i)||(h.isTextNode(i)&&h.isTextNodeEmpty(i)&&(/\n|\r/.test(i.nodeValue)||(i.previousSibling&&!d(i.previousSibling))||(i.nextSibling&&!d(i.nextSibling))));
}function d(i){return i&&i.className==e;
}b.InlineCommand=function(j,i,l){this.settings=i||{};
var k=this.options=a.extend({window:j?j.get_contentWindow():f,title:"Inline command",canUnexecute:f},l||{});
b.InlineCommand.initializeBase(this,[k.title,k.window,k.canUnexecute,j]);
};
b.InlineCommand.prototype={onExecute:function(){try{return this.executeInlineCommand();
}catch(i){a("."+e,this.get_editor().get_contentArea()).remove();
}},executeInlineCommand:function(){var j=this,n=j.range=j.getEditorRange(),l=j.get_editor(),o=j.getState(l.get_contentWindow(),l),k=j.collapsedRange=n?n.isCollapsed():true;
if(k&&this.isGreedy()){var i=j.getWordBoundaries(n.startContainer,n.startOffset);
n.setStart(n.startContainer,i.left);
n.setEnd(n.startContainer,i.right);
n.select();
j.collapsedRange=n.isCollapsed();
}var m=j.traverseFragments(n);
j.emptyRange=n?n.toString()=="":true;
j.storeRangeByFragments(m);
j.rangeChanged=false;
j.removeFormatting=j.shouldRemoveFormatting(o);
if(j.removeFormatting){j.removeFormat(m);
}else{j.formatFragments(m);
}j.fireFormattingChanged();
j.consolidate(n);
if(!j.rangeChanged){j.restoreRange();
}return true;
},isGreedy:function(){return !this.settings.isNotGreedy;
},shouldRemoveFormatting:function(i){return i==b.CommandStates.On;
},getState:function(l,i,k){var j=k||b.DomRange.rangeFromWindow(l);
return this.getStateByRange(j,i);
},getStateByRange:function(j,i){if(!j||j.commonAncestorContainer.nodeType==9){return b.CommandStates.Off;
}if(!j.isCollapsed()){j.normalizeEdges();
}var k=j.startContainer;
if(!h.isTextNode(k)&&k.childNodes[j.startOffset]){k=k.childNodes[j.startOffset];
}if(!h.isTextNode(k)&&h.canHaveChildren(k)){k=this.getFirstTextNodeOrSame(k);
}if(h.isTextNode(k)&&h.isTextNodeEmpty(k)&&!k.previousSibling&&i&&k.parentNode===i.get_contentArea()){k=this.getNextTextNode(k);
}k=this.findFormattedAncestor(k);
return k&&this.isSameFormatNode(k)?b.CommandStates.On:b.CommandStates.Off;
},getWordBoundaries:function(k,l){var i={left:-1,right:1},n=k.nodeValue,j,m;
if(!n||(this.isCharEmptyOrWhiteSpace(n.charAt(l))||this.isCharEmptyOrWhiteSpace(n.charAt(l-1)))){return{right:l,left:l};
}j=this.getBoundary(l,n,i.left),m=this.getBoundary(l,n,i.right);
return{right:m,left:j};
},getBoundary:function(k,m,i){var l=k<=0||k>=m.length;
if(m.charAt(k)===" "){var j=i<0?1:0;
return k+j;
}if(l){return k;
}k+=i;
return this.getBoundary(k,m,i);
},getNextTextNode:function(j){if(!j){return null;
}var i=j.nextSibling;
while(i&&!h.isTextNode(i)&&(i.firstChild||i.nextSibling)){if(i.firstChild){i=i.firstChild;
}else{if(i.nextSibling){i=i.nextSibling;
}}}return i?i:j;
},getFirstTextNodeOrSame:function(j){var i=j.firstChild;
while(i&&i.firstChild&&!h.isTextNode(i)){i=i.firstChild;
}return h.isTextNode(i)?i:j;
},removeFormat:function(m){var i=this,j=i.get_editor();
if(i.emptyRange){var n=b.DomRange.rangeFromWindow(j.get_contentWindow()),l=i.findFormattedAncestor(n.startContainer);
if(!l||!i.isSameFormatNode(l)){return;
}if(i.isRangeAtEnd(n,l)){var o=h.isTextNode(n.startContainer)?n.startContainer.parentNode:n.startContainer,p=i.createMarker(),k=p.cloneNode(true);
o.appendChild(p);
o.appendChild(k);
i.removeFormat_extract(l,p,k);
}else{i.persistRangeThroughParent(l);
i.removeNodeFormatting(l);
}}else{i.removeFormat_fragments(m);
}},removeFormat_fragments:function(k){var i=this;
while(k.length){var j=k.shift();
if(!j.isEmpty()){i.removeFormat_fragment(j);
}}},isRangeAtEnd:function(k,j){var l=k.startContainer,m=k.startOffset,i=this._isZeroWidthTextNode(l)?true:h.isTextNode(l)?m==l.length:m==l.childNodes.length;
while(i&&h.isAncestorOf(j,l)){while(i&&l.nextSibling){l=l.nextSibling;
i=h.isEmptyDom(l);
}l=l.parentNode;
if(h.isBlockElement(l)){break;
}}return i;
},removeFormat_fragment:function(l){var i=this;
i.cleanUpFormat(l);
var m=l.getParent();
var k=i.findFormattedAncestor(m);
if(k&&i.isSameFormatNode(k)&&!h.isEditorContentArea(k)){var j=i.getFragmentEdges(l);
i.removeFormat_extract(k,j.first,j.last);
}},getFragmentEdges:function(j){var l=j.nodes,i=l[0],k=l[l.length-1];
if(this.isMarker(i.previousSibling)){i=i.previousSibling;
}if(this.isMarker(k.nextSibling)){k=k.nextSibling;
}return{first:i,last:k};
},removeFormat_extract:function(k,j,l){var i=this;
if(h.isBlockElement(k)){i.removeBlockElementFormat(k,j,l);
}else{i.extractFormatting(k,j,l);
i.removeNodeFormatting(k);
i.removeEmptyNode(k);
}},removeBlockElementFormat:function(k,j,m){var i=this;
i._setEnabledChangeFormatTracking(false);
i.removeNodeFormatting(k);
i.removeSameFormatChildren(k);
i._setEnabledChangeFormatTracking(true);
i.formatInlineChildren(k);
var l=i.findFormattedAncestor(j);
if(l){i.removeFormat_extract(l,j,m);
}},formatInlineChildren:function(l){var i=l.firstChild;
var j=this;
while(i){if(h.isBlockElement(i)){j.formatInlineChildren(i);
}else{var m=j._getNextInlineSiblings(i);
var k=j._formatNodes(m);
i=k||i;
}i=i.nextSibling;
}},_getNextInlineSiblings:function(j){var i=[j];
var k=j.nextSibling;
while(k&&!h.isBlockElement(k)){i.push(k);
k=k.nextSibling;
}return i;
},_formatNodes:function(n){var k=false;
var j;
for(var l=0;
l<n.length;
l++){var m=n[l];
k=!(h.isTextNode(m)&&h.isTextNodeEmpty(m));
if(k){break;
}}if(k){j=this.createInlineNode();
a(j).insertAfter(n[n.length-1]);
while(n.length){j.appendChild(n.shift());
}}return j;
},extractFormatting:function(k,j,m){var l=k.parentNode;
var i=new b.DomTreeExtractor(k);
var n=i.extractBefore(j);
var p=i.extractAfter(m);
var o=h.cloneNodeClean(k);
var q=h.cloneNodeClean(k);
q.appendChild(p);
o.appendChild(n);
if(!h.isNodeEmptyRecursive(o,true)){l.insertBefore(o,k);
}if(!h.isNodeEmptyRecursive(q,true)){l.insertBefore(q,k.nextSibling);
}},removeNodeFormatting:function(k){var l=this;
l.removeNodeCssFormatting(k);
if(l.isSameTagFormat(k)){k=h.replaceNode(k,"span");
}if(!l.isNodeStyled(k)&&!h.hasAttributes(k)&&h.isTag(k,"span")){for(var j=0;
j<k.childNodes.length;
j++){if(!l.isMarker(k.childNodes[j])){l.trackChangedNode({node:k.childNodes[j]});
}}h.removeNode(k);
}else{l.trackChangedNode({node:k});
}},removeNodeCssFormatting:function(j){var i=this;
if(!i.isSameCssFormat(j)){return;
}i.removeCommandFormattingValue(j);
i._removeEmptyStyles(j);
i.trackChangedNode({node:j});
},removeCommandFormattingValue:function(j){var i=this.settings;
j.style[i.cssName]=j.style[i.cssName].replace(i.cssValue,"").trim();
},_removeEmptyStyles:function(j){var k=j.style;
if($telerik.isIE7||$telerik.isIE8){var i=k.cssText+";";
k.cssText=i.replace(/((font-family)|(color)|(text-decoration)):\s*;/gi,"");
}if(/^\s*$/.test(k.cssText)){j.removeAttribute("style");
}},formatFragments:function(l){var i=this;
var n=i.getEditorRange();
if(l.length==0){var j=i.getSingleFormatNode(n);
var m;
if(j){m=i.createInlineNode();
if(m.nodeName==j.nodeName){i.formatNode(j);
i.trackChangedNode({node:j});
i.setCursorInInlineNode(j,n);
}else{m=i.insertSingleFormatNode(n);
i.setCursorInInlineNode(m,n);
}}else{if(!i.hasSameFormatting()){m=i.insertSingleFormatNode(n);
i.setCursorInInlineNode(m,n);
}}}while(l.length){var k=l.shift();
i.cleanUpFormat(k);
if(!i.isEmptyInlineFragment(k)){i.formatFragment(k);
}}},isCharEmptyOrWhiteSpace:function(i){if(!i){return true;
}return/\s/g.test(i)||i.charCodeAt(0)==g;
},isEmptyInlineFragment:function(i){return i.all(c);
},hasSameFormatting:function(){return false;
},getSingleFormatNode:function(k){var i=this;
var j=i._getCommonContainer(k);
if(i._isZeroWidthTextNode(j)&&j.parentNode.childNodes.length==1){return j.parentNode;
}if(h.isTextNode(j)&&j.length==k.startOffset&&j.nextSibling&&/^[\u200b]?$/.test(j.nextSibling.innerHTML)){return j.nextSibling;
}},insertSingleFormatNode:function(n){var i=this,l=i.createInlineNode(),j=i._getCommonContainer(n);
if(i._isZeroWidthTextNode(j)){j.parentNode.insertBefore(l,j);
l.appendChild(j);
}else{n.insertNode(l);
var m=l.previousSibling;
var k=l.nextSibling;
if(h.isTextNode(m)&&m.length==0){m.parentNode.removeChild(m);
}if(h.isTextNode(k)&&k.length==0){k.parentNode.removeChild(k);
}}i.trackChangedNode({node:l});
return l;
},_getCommonContainer:function(j){var i=j.commonAncestorContainer;
return !h.isTextNode(i)&&i.childNodes[j.startOffset-1]?i.childNodes[j.startOffset-1]:i;
},_isZeroWidthTextNode:function(i){return h.isTextNode(i)&&/^[\u200b]+$/.test(i.nodeValue);
},formatFragment:function(k){var i;
if(this.isSameFormat(k)){if(this.formattedNode&&this.isParentCommon(k.getParent(),this.formattedNode)){var j=k.getParent();
k.clear();
k.addAll(j.childNodes);
k.appendTo(this.formattedNode);
j.parentNode.removeChild(j);
}}else{if(!this.isEmptyInlineFragment(k)){i=this.formattedNode=this.createInlineNode();
k.insertBeforeFirst(i);
k.appendTo(i);
this.trackChangedNode({node:i});
}}},formatNode:function(i){if(i.style&&this.settings.cssName){i.style[this.settings.cssName]=this.settings.cssValue;
}},createInlineNode:function(){var i=this.get_window().document,j=this.settings,l=!j.tag,k=i.createElement(j.tag||"span");
if(l){k.style[j.cssName]=j.cssValue;
}return k;
},traverseFragments:function(j){var i=this;
if(!j){j=i.getEditorRange();
}var k=new b.RangeFragmentsTraverser(j);
k.traverseFragments(a.proxy(i.traverseCondition,i));
return k.traversedFragments;
},traverseCondition:function(k){var i=this;
var j=i.get_editor().get_enableImmutableElements()&&h.isImmutableNode(k);
return !j&&i.shouldCollectNode(k);
},shouldCollectNode:function(i){return b.FragmentsCondition.isInlineNode(i)&&!h._isContentAreaLastBr(i)&&!h.isWhitespaceBetweenTableCells(i);
},storeRangeByFragments:function(k){var i=this;
if(k.length){var j=k[0];
var l=k[k.length-1];
i.startMarker=i.createMarker();
i.endMarker=i.startMarker.cloneNode(true);
j.insertBeforeFirst(i.startMarker);
l.appendNodeAfter(i.endMarker);
}else{i.storeRange();
}},storeRange:function(j){var i=j||this.getEditorRange();
this.rangeMemento=new b.DomRangeMemento(i);
},persistRangeThroughParent:function(k){var j=this.rangeMemento;
if(j){var i=h.findNodeIndex(k);
if(j.startContainer==k){j.startContainer=k.parentNode;
j.startOffset+=i;
}if(j.endContainer==k){j.endContainer=k.parentNode;
j.endOffset+=i;
}}},restoreRange:function(){var o=this.range;
var m=a("."+e,this.get_editor().get_contentArea());
var i=new b.Consolidator();
if(m.length){var k=m[0],n=k.nextSibling,l=m[1];
if((h.isTextNode(n)&&h.isTextNodeEmpty(n)&&l.previousSibling===n)||(k===l.previousSibling)){a(l).remove();
this.restoreCollapsedRange(k);
}else{if(!i.normalizeTextEdge(k,o,true)){if(this.isSameFormatNode(k.nextSibling)){o.setStart(k.nextSibling,0);
}else{o.setStartAfter(m[0]);
}}if(!i.normalizeTextEdge(l,o,false)){if(this.isSameFormatNode(l.previousSibling)){o.setEnd(l.previousSibling,l.previousSibling.childNodes.length);
}else{o.setEndBefore(m[1]);
}}o.select();
}m.remove();
}else{try{if(this.rangeMemento){this.rangeMemento.restoreToRange(this.getEditorRange());
}}catch(j){}}},restoreCollapsedRange:function(l){var p=this.range;
var j=this.get_editor();
var n=l.parentNode;
var i=new b.Consolidator();
j.setActive();
j.setFocus();
var o=l.previousSibling;
var m=l.nextSibling;
if(i.normalizeTextEdge(l,p)){p.collapse();
}else{if(h.isTextNode(o)){p.setEnd(o,o.length);
p.collapse();
}else{if(!$telerik.isSafari&&h.isTextNode(m)){p.setStart(m,0);
p.collapse(true);
}else{var k=j.nodesTracker.createTrackedNode();
n.insertBefore(k,l);
p.setEnd(k,1);
p.collapse();
}}}p.select();
},consolidate:function(k){var i=new b.Consolidator(),j=this.getContentElement();
i.consolidateMarkedEdges(j);
i.normalize(k?k.commonAncestorContainer:j);
},getEditorRange:function(){return b.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},getContentElement:function(){return this.get_editor().get_contentArea();
},removeEmptyNode:function(i){if(h.isNodeEmptyRecursive(i)&&!h.hasAttributes(i)&&i.parentNode){i.parentNode.removeChild(i);
}},cleanUpFormat:function(k){var j=this;
j.cleanUpFragment=k;
var n=k.nodes;
for(var l=n.length-1;
l>=0;
l--){var m=n[l];
if(!j._shouldCleanUpNode(m)){continue;
}j.removeSameFormatChildren(m);
j.removeSameFormat(m,l);
}},_shouldCleanUpNode:function(i){return !h.isTextNode(i)&&!this.isMarker(i);
},removeSameFormatChildren:function(j){var i=this;
var k=i.getSameFormatChildren(j);
while(k.length){i.removeSameFormat(k.shift());
}},getSameFormatChildren:function(l){var m=[];
if(this.settings.tag){m=a.makeArray(l.getElementsByTagName(this.settings.tag));
}else{var j=this.settings.altTags;
for(var k=0;
k<j.length;
k++){m=m.concat(a.makeArray(l.getElementsByTagName(j[k])));
}}m=m.concat(a.makeArray(l.getElementsByTagName("span")));
return m;
},removeSameFormat:function(o,m){var p=this;
if(p.isSameFormatNode(o)){if(!isNaN(m)&&p.shouldRemoveNode(o)){p.cleanUpFragment.removeNodeAt(m);
var l=o.childNodes;
for(var n=l.length-1;
n>=0;
n--){var k=l[n];
p.cleanUpFragment.addNodeAt(k,m);
}}p.removeNodeFormatting(o);
}},shouldRemoveNode:function(){return true;
},findFormattedAncestor:function(k){if(this.isSameFormatNode(k)){return k;
}var l=this._editor?this._editor.get_contentArea():this.findBody(k);
var i=Function.createDelegate(this,function(m){return this.isSameFormatNode(m)||h.isEditorContentArea(m);
});
var j=h.findAncestorBy(l,k,i);
return j===l?null:j;
},findBody:function(j){var i=j.ownerDocument;
return i.getElementsByTagName("body")[0];
},isSameFormat:function(i){var j=i.getParent();
return this.isSameFormatNode(j);
},isSameFormatNode:function(i){return this.isSameTagFormat(i)||this.isSameCssFormat(i);
},isSameTagFormat:function(i){return(h.isTag(i,this.settings.tag)||this.isAltTagFormat(i))&&(!i.className||this.isTrackChangesNode(i));
},isAltTagFormat:function(k){var l=this.settings.altTags;
if(!l||!l.length){return false;
}for(var j=0;
j<l.length;
j++){if(h.isTag(k,l[j])){return h.isTag(k,"font")?this.isFormattingFont(k):true;
}}return false;
},isSameCssFormat:function(j){var k=this.settings,i=k.cssName,l=k.cssValue;
return i&&l&&j.style&&j.style[i].indexOf(l)>-1;
},isNodeStyled:function(i){return i.style.cssText!="";
},isParentCommon:function(i,j){return i&&j&&i.parentNode&&i.parentNode==j.parentNode;
},isMarker:function(i){return i&&(i===this.startMarker||i===this.endMarker||i.className==e);
},isMarkerOrEmptyTextNode:function(i){return i.className==e||(h.isTextNode(i)&&h.isTextNodeEmpty(i));
},getMarkersCssClass:function(){return e;
},createMarker:function(){var i=this.get_editor().get_document();
var j=i.createElement("span");
j.className=e;
j.innerHTML="&nbsp;";
return j;
},isFormattingFont:function(i){return h.isTag(i,"font")&&(this.hasStyle(i,this.settings.cssName)||this.hasAttribute(i,this.settings.altTagAttr));
},hasStyle:function(j,i){return i&&!!j.style[i];
},hasAttribute:function(j,i){return i&&j.hasAttribute?j.hasAttribute(i):!!j.getAttribute(i);
},setCursorInInlineNode:function(k,l){var i=this;
var j=i.get_editor();
if(!i._isZeroWidthTextNode(k.firstChild)){k.innerHTML="&#x200b;";
j.whitespaceTracker.trackNode(k.firstChild);
}j.setActive();
j.setFocus();
l.setStart(k,1);
l.setEnd(k,1);
l.collapse();
l.select();
i.rangeChanged=true;
},isTrackChangesNode:function(i){return !!b.TrackChangesUtils&&b.TrackChangesUtils.isTrackChangeElement(i);
},extractTrackedAncestor:function(k){var i=this;
if(!i.get_editor().shouldTrackChanges()){return;
}var l=b.TrackChangesUtils;
var m=l.getTrackedAncestor(k.getParent());
if(m){var j=i.getFragmentEdges(k);
i.extractFormatting(m,j.first,j.last);
a(m).find("*").addBack().filter(function(n,o){return l.isTrackChangeElement(o);
}).each(function(n,o){i.trackChangedNode({node:o,commandName:l.getTrackChangesCommand(o),overrideTracking:true});
});
}}};
b.InlineCommand.registerClass("Telerik.Web.UI.Editor.InlineCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d,c){b.InlineCommandWithValue=function(f,e,g){b.InlineCommandWithValue.initializeBase(this,[f,e,g]);
};
b.InlineCommandWithValue.prototype={shouldRemoveFormatting:function(){return !this.options.commandValue;
},getState:function(g,e,f){return b.CommandStates.Off;
},getValue:function(k,j){if(!j||!this.settings.enableToolStateValue){return;
}if(!j.isCollapsed()){j.normalizeEdges();
}var f=this.settings.cssName,h=j.startContainer,i=j.startOffset,e;
if(i==0&&d.isEditorContentArea(h)&&d.isTextNode(h.firstChild)&&d.isTextNodeEmpty(h.firstChild)){var g=this.get_editor().domRangeToFirstText();
h=g.startContainer;
i=g.startOffset;
}if(d.isTextNode(h)){h=h.parentNode;
}else{if((e=h.childNodes)&&e[i]&&!d.isTextNode(e[i])){h=e[i];
}}return $telerik.getComputedStyle(h,f)||$telerik.getComputedStyle(h,this.getAltCssName(f));
},getCurrentStyle:function(h,f){if(!h||d.isTextNode(h)){return null;
}var g;
f=f||this.settings.cssName;
if(d.isTag(h,"font")&&this.settings.altTagAttr&&this.hasAttribute(h,this.settings.altTagAttr)){g=h.getAttribute(this.settings.altTagAttr);
}if(h.style[f]){g=h.style[f];
}else{var e=this.getAltCssName(f);
if(h.style[e]){g=h.style[e];
}}return g;
},getAltCssName:function(f){var e=f;
if(f.indexOf("-")!=-1){e=f.replace(/-([a-z])/gi,function(h,g){return g.toUpperCase();
});
}else{if(/^[a-zA-Z]+$/.test(f)){e=f.replace(/([A-Z])/g,function(h,g){return"-"+g.toLowerCase();
});
}}return e;
},hasSameFormattingValue:function(g,e){if(!this.options.commandValue){return false;
}e=e||this.settings.cssName;
var f=this.getCurrentStyle(g,e);
if(!f){return false;
}if(/color/i.test(e)&&/^rgb/i.test(f)){f=d._rgbToHex(f);
}if(/size/i.test(e)){if(/px$/i.test(this.options.commandValue)&&!/px$/i.test(f)){f=$telerik.getComputedStyle(g,this.getAltCssName(e))||f;
if(!/px$/i.test(f)){f+="px";
}}}return f.replace(/[;'"]/g,"").toLowerCase()==this.options.commandValue.replace(/[;'"]/g,"").toLowerCase();
},formatFragment:function(f){var e;
var k=f.getParent();
if(!k){return;
}var l=this.findSameFormattedAncestor(k);
if(l&&this.hasSameFormattingValue(l)){return;
}if(this.shouldFormatParentNode(f)){this.formatNode(l||k,true);
}else{for(var g=0;
g<f.nodes.length;
g++){var h=f.nodes[g];
if(this.isMarker(h)||this.hasSameFormatting(h)){continue;
}if(d.isTag(h,"font")){this.formatFont(h);
}else{var j=this.settings.tag||"SPAN";
if(h.nodeName==j&&!h.parentNode.style[this.settings.cssName]){this.formatNode(h);
}else{if(h.parentNode.nodeName==j&&this.getNodesTextContent([h])==this.getNodesTextContent([h.parentNode])){this.formatNode(h.parentNode);
}else{e=this.createInlineNode();
f.insertBeforeFirst(e);
f.appendTo(e);
}}}}}},findSameFormattedAncestor:function(g){if(this.getCurrentStyle(g,this.settings.cssName)){return g;
}var e=this._editor.get_contentArea();
if(g.parentNode==e){return null;
}var f=Function.createDelegate(this,function(i){return !!this.getCurrentStyle(i,this.settings.cssName);
});
var h=d.findAncestorBy(e,g,f);
if(!this.getCurrentStyle(h,this.settings.cssName)){return null;
}return h;
},createInlineNode:function(){var e=this.get_window().document,g=this.settings.tag,f=e.createElement(g||"span");
if(!g){f.style[this.settings.cssName]=this.options.commandValue;
}return f;
},shouldFormatParentNode:function(e){var g=e.getParent();
if(d.isBlockElement(g)){return false;
}g=this.findFormattedAncestor(g);
var f=d.isTag(g,"span")||d.isTag(g,"font");
return this.collapsedRange||(f&&this.getNodesTextContent(g.childNodes)==this.getNodesTextContent(e.nodes));
},getNodesTextContent:function(g){var e="",h;
for(var f=0;
f<g.length;
f++){h=d.isTextNode(g[f])?g[f].nodeValue:d.getTextContent(g[f]);
e+=h?h:"";
}return e.replace(/[\n\s]+/gm,"");
},formatNode:function(f,e){if(d.isTag(f,"font")){this.formatFont(f,e);
if(!d.isTag(f,"span")){d.replaceNode(f,"span");
}}else{if(f.style&&this.settings.cssName){f.style[this.settings.cssName]=this.options.commandValue;
}}},formatFont:function(e,f){this.removeNodeFormatting(e,f);
if(this.settings.cssName){e.style[this.settings.cssName]=this.options.commandValue;
}},removeNodeFormatting:function(h,g){var k=this,f=k.isSameTagFormat(h);
k.removeNodeCssFormatting(h);
if(k.isFormattingFont(h)){k.removeFontFormatting(h);
}if(!g&&f&&!d.isTag(h,"span")){var j=h;
h=d.replaceNode(h,"span");
if(this.cleanUpFragment){this.cleanUpFragment.nodes[Array.indexOf(this.cleanUpFragment.nodes,j)]=h;
}}if(!g&&!k.isNodeStyled(h)&&!d.hasAttributes(h)&&d.isTag(h,"span")){for(var e=0;
e<h.childNodes.length;
e++){if(!k.isMarker(h.childNodes[e])){k.trackChangedNode({node:h.childNodes[e]});
}}d.removeNode(h);
}else{k.trackChangedNode({node:h});
}},removeFontFormatting:function(e){if(this.hasStyle(e,this.settings.cssName)){e.style[this.settings.cssName]="";
}if(this.hasAttribute(e,this.settings.altTagAttr)){e.removeAttribute(this.settings.altTagAttr);
}this.moveFontToStyle(e);
},moveFontToStyle:function(g){var e=this;
var f=function(h,j,i){if(e.hasAttribute(g,h)){var k=g.getAttribute(h);
g.style[j]=i?i(k):k;
g.removeAttribute(h);
}};
f("color","color");
f("face","fontFamily");
f("size","fontSize",function(j){var i=b.Utils._fontSizesPx;
var h=Math.min(i.length,Math.max(1,parseInt(j,10)))||3;
return i[h-1];
});
},shouldRemoveNode:function(g){if(!d.isTag(g,"font")){return !(g.style&&g.style.length>1);
}if(!d.hasAttributes(g)){return true;
}var h=[];
var e=function(i){if(!i){return;
}i=i.toLowerCase();
if(Array.indexOf(h,i)==-1){h.push(i);
}};
if(g.getAttribute("face")){e("font-family");
}if(g.getAttribute("color")){e("color");
}if(g.getAttribute("size")){e("size");
}if(g.style){for(var f=0;
f<g.style.length;
f++){e(g.style[f]);
}}if(h.length<2){return true;
}return false;
},removeCommandFormattingValue:function(e){e.style[this.settings.cssName]="";
},hasSameFormatting:function(f){if(!f){var g=this.getEditorRange();
f=d.isTextNode(g.commonAncestorContainer)?g.commonAncestorContainer.parentNode:g.commonAncestorContainer;
}if(this.hasSameFormattingValue(f)){return true;
}var e=this.findSameFormattedAncestor(f);
if(!e){return false;
}return this.hasSameFormattingValue(e);
},isSameCssFormat:function(e){return this.settings.cssName&&e.style&&!!e.style[this.settings.cssName];
},traverseFragments:function(f){var e=b.InlineCommandWithValue.callBaseMethod(this,"traverseFragments",[f]);
if(e.length>1){this._mergeInlineFragmentsAtStart(e);
}return e;
},_mergeInlineFragmentsAtStart:function(f){while(!f[0].nodes[0].previousSibling&&!d.isBlockElement(f[0].getParent())){var e=f[0];
var h=f[1];
var g=h?d.getConditionalParentUntil(e.getParent(),function(i){return h.nodes[0]===i.nextSibling;
},d.isBlockElement):c;
if(g&&g.nextSibling===h.nodes[0]){f.shift();
h.addNodeAt(g,0);
if(g.previousSibling){break;
}}else{break;
}}}};
b.InlineCommandWithValue.registerClass("Telerik.Web.UI.Editor.InlineCommandWithValue",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,g,f){var d="textAlign";
var e="verticalAlign";
b.AlignCommand=function(h,i){this._trackValign=!!i.valign;
i=a.extend({align:"none",valign:"none",title:"Align"},i||{});
b.AlignCommand.initializeBase(this,[h,i]);
};
b.AlignCommand.prototype={getState:function(q,h,o){var m=b.CommandStates.On;
var l=b.CommandStates.Off;
var n=o||b.DomRange.rangeFromWindow(q);
var i=this._getAlignValue();
var j=this._getValignValue();
var k=this.getCssState(n,d,i);
var p=this._trackValign?this.getCssState(n,e,j):m;
return(k==m&&p==m)?m:l;
},getEmptySuitableListState:function(){return this.options.align=="none"&&!this._trackValign;
},executeOnNode:function(i,h){if(g.isTag(i,"table")){return this.executeDomCommand(a(i).children("thead,tbody").children("tr").get());
}if(g.isTag(i,"tr")){return this.executeDomCommand(a(i).children("td").get());
}if(g.isTag(i,"ul")||g.isTag(i,"ol")){return this.executeDomCommand(a.makeArray(i.children));
}this.alignBlock(i,h);
},alignBlock:function(i,h){this.hAlignBlock(i,h);
this.vAlignBlock(i,h);
},hAlignBlock:function(i,h){this._alignBlock(i,d,this._getAlignValue(),h);
},vAlignBlock:function(i,h){this._alignBlock(i,e,this._getValignValue(),h);
},_alignBlock:function(i,k,l,h){if(!i){return;
}var j=i.style[k];
i.style[k]=l;
this.trackChangedNode({node:i,cssProperty:k,originalValue:j,isWrapper:h});
},getBlockTagContainer:function(j){var k=j.parentNode;
var h=this.get_editor().get_contentAreaElement();
while(k){if(g.isBlockElement(k)){var i=g.isTag(k,this.options.blockTag)&&k!=h;
return(i)?k:null;
}k=k.parentNode;
}return null;
},getBlockContainer:function(h){var i=[h];
this.traverser.edgesToBlock(i,function(j){return g.isEditorContentArea(j);
});
return i[0];
},_getAlignValue:function(h){return c(this.options.align);
},_getValignValue:function(h){return c(this.options.valign);
}};
b.AlignCommand.registerClass("Telerik.Web.UI.Editor.AlignCommand",b.DomBlockCommandBase);
function c(h){return h==="none"?"":h;
}})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI.Editor;
var d=b.Utils;
b.ApplyClass=function(f,h){if(h.commandValue){var e=(!h.tag)?new b.ApplyClassInline(f,h):new b.ApplyClassByContext(f,h);
return e;
}var g=this.options=a.extend({window:f?f.get_contentWindow():c,title:"Apply Class",canUnexecute:c},h||{});
b.ApplyClass.initializeBase(this,[g.title,g.window,g.canUnexecute,f]);
h.tag="";
this._applyClassInline=new b.ApplyClassInline(f,h);
};
b.ApplyClass.prototype={onExecute:function(){this._applyClassInline.onExecute();
this.removeParentFomatting();
return true;
},removeParentFomatting:function(){var e=this._applyClassInline;
var f=this.get_editor();
var q=f.getDomRange();
if(q.isCollapsed()){var g=e.elements;
if(!g||g.length==0){var p=q.getParentElement();
while(p&&p!=f.get_contentArea()){if(p.className){p.className="";
break;
}else{p=p.parentNode;
}}}}else{var r=new b.RangeFragmentsTraverser(q);
r.traverseFragments(function(){return true;
});
var k=r.traversedFragments;
for(var l=0;
l<k.length;
l++){var h=k[l];
var o=h.nodes;
for(var m=0;
m<o.length;
m++){var n=o[m];
if(!d.isTextNode(n)&&n.className){this.removeClassNameInNode(n);
}}if(this.fragmentParentIsSelected(h)){h.getParent().className="";
}}}},fragmentParentIsSelected:function(g){var j=g.getParent();
var i=g.nodes;
var h=i.length;
var e=false;
if(h>0){e=j.firstChild&&j.firstChild==i[0]&&j.lastChild==i[h-1];
if(!e&&j.tagName=="OL"||j.tagName=="UL"){var f=true;
a("li",j).each(function(k,l){if(!g.contains(l)){f=false;
return false;
}});
e=f;
}}return e;
},removeClassNameInNode:function(g){if(typeof(g.className)!="undefined"){g.className="";
}var e=g.childNodes;
if(e){for(var f=0;
f<e.length-1;
f++){this.removeClassNameInNode(e[f]);
}}}};
b.ApplyClass.registerClass("Telerik.Web.UI.Editor.ApplyClass",b.CommandBase);
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI.Editor;
var e=Telerik.Web.UI.Editor.Utils;
var b=Function.createDelegate;
c.ApplyClassByContext=function(f,g){g=a.extend({tag:"div",addClass:false,isSuitableNode:b(this,this.isSuitableNode)},g||{});
c.ApplyClassByContext.initializeBase(this,[f,g]);
};
c.ApplyClassByContext.prototype={getState:function(){return c.CommandStates.Off;
},collectElements:function(i){var f=[];
if(i){var l=this.options.commandValue;
var g=i.commonAncestorContainer;
var k=this._getSuitableAncestor(g);
if(k&&l){f=[k];
}else{if(!l){var j=c.RangeEdges.commonNode(i);
var h=e.isTextNode(j);
if(!h&&!e.isBlockElement(j)){return[j];
}else{if(!this.topLimitCondition(g)){f.push(g);
}}}f=f.concat(c.ApplyClassByContext.callBaseMethod(this,"collectElements",[i]));
}}return f;
},_getSuitableAncestor:function(f){if(!f){return null;
}var i=Function.createDelegate(this,this.topLimitCondition);
var g=Function.createDelegate(this,this.isSuitableNode);
var h=i(f)?null:e.getConditionalParentUntil(f,g,i);
return h;
},executeOnNode:function(f){var g=this.options,h=g.tag;
if(e.isTag(f,h)||!g.commandValue){this._applyClassFormatting(f,g.commandValue);
}if(this.shouldExecuteOnDescendants()){this.executeOnDescendants(f);
}},executeOnDescendants:function(k){var l=this.options.tag||"*";
var g=k.getElementsByTagName(l);
for(var j=0;
j<g.length;
j++){var f=g[j];
var m=f.tagName;
var h=!(l=="*"&&(m=="FONT"||m=="SPAN"));
if(h){this._applyClassFormatting(g[j],this.options.commandValue);
}}},executeInlineNode:function(f){},isSuitableNode:function(g){var h=this.options,j=h.commandValue,i=h.tag.toLowerCase(),f=this.shouldExecuteOnDescendants()&&a(i,g).length>0;
return(!j&&!e.isTextNode(g))||e.isTag(g,i)||f;
},shouldExecuteOnDescendants:function(){var f=this.options.tag.toLowerCase();
return !e.isBlockTag(f);
},_applyClassFormatting:function(g,f){if(!f||!this.options.addClass){e.setElementClassName(g,f);
}else{a(g).addClass(f);
}}};
c.ApplyClassByContext.registerClass("Telerik.Web.UI.Editor.ApplyClassByContext",c.DomBlockCommandBase);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI.Editor;
var d=Telerik.Web.UI.Editor.Utils;
b.ApplyClassInline=function(e,f){f=a.extend({title:"Apply Classs Inline",addClass:false},f||{});
b.ApplyClassInline.initializeBase(this,[e,b.InlineCommandSettings.ApplyClassInline,f]);
};
b.ApplyClassInline.prototype={formatFragment:function(f){var e;
var k=f.getParent();
var l=this.findSameFormattedAncestor(k);
if(l){return;
}for(var g=0;
g<f.nodes.length;
g++){var h=f.nodes[g];
if(this.isMarker(h)||this.hasSameFormatting(h)){continue;
}var j=this.settings.tag||"SPAN";
if(h.nodeName==j&&h.className!=this.options.commandValue){this.formatNode(h);
}else{if(h.parentNode.nodeName==j&&this.getNodesTextContent([h])==this.getNodesTextContent([h.parentNode])){this.formatNode(h.parentNode);
}else{e=this.createInlineNode();
f.insertBeforeFirst(e);
f.appendTo(e);
}}}},formatNode:function(f,e){this._applyClassFormatting(f,this.options.commandValue);
},findSameFormattedAncestor:function(i){var f=this,j=null;
if(f.hasSameFormattingValue(i)){return i;
}var h=this._editor.get_contentArea();
if(i.parentNode==h){return null;
}var g=this.options.commandValue;
var e=i.className&&this.options.addClass?i.className+" "+g:g;
j=d.findAncestorBy(h,i,function(k){return k.className==e;
});
return j===h?null:j;
},isSameFormatNode:function(e){return e&&(e.tagName=="SPAN"||e.tagName=="FONT")&&this.hasSameFormattingValue(e);
},hasSameFormattingValue:function(f){var e=this.options.commandValue;
if(e&&f){return e==f.className;
}else{if(f){return !!f.className;
}}return false;
},removeCommandFormattingValue:function(e){d.setElementClassName(e,"");
},removeSameFormat:function(k,g){var l=this;
if(l.isSameFormatNode(k)){if(!isNaN(g)&&l.shouldRemoveNode(k)){l.cleanUpFragment.removeNodeAt(g);
var f=k.childNodes;
for(var h=f.length-1;
h>=0;
h--){var e=f[h];
l.cleanUpFragment.addNodeAt(e,g);
}}l.removeNodeFormatting(k);
}},findFormattedAncestor:function(g){if(this.isSameFormatNode(g)){return g;
}var h=this._editor?this._editor.get_contentArea():this.findBody(g);
var e=Function.createDelegate(this,function(i){return this.isSameFormatNode(i)||d.isEditorContentArea(i);
});
var f=d.findAncestorBy(h,g,e);
return f===h?null:f;
},removeNodeFormatting:function(f){var g=this;
if(g.isAltTag(f)){f=d.replaceNode(f,"span");
}d.setElementClassName(f,"");
if(!g.isNodeStyled(f)&&!d.hasAttributes(f)&&d.isTag(f,"span")){for(var e=0;
e<f.childNodes.length;
e++){if(!g.isMarker(f.childNodes[e])){g.trackChangedNode({node:f.childNodes[e]});
}}d.removeNode(f);
}else{g.trackChangedNode({node:f});
}},isAltTag:function(f){var g=this.settings.altTags;
for(var e=0;
e<g.length;
e++){if(d.isTag(f,g[e])){return true;
}}return false;
},createInlineNode:function(){var e=this,f=e.get_window().document,g=e.settings,h=f.createElement(g.tag||"span");
e._applyClassFormatting(h,e.options.commandValue);
return h;
},isGreedy:function(){var e=b.ApplyClassInline.callBaseMethod(this,"isGreedy",[]);
return e&&this.options.commandValue;
},_applyClassFormatting:function(f,e){if(!e||!this.options.addClass){d.setElementClassName(f,e);
}else{a(f).addClass(e);
}}};
b.ApplyClassInline.registerClass("Telerik.Web.UI.Editor.ApplyClassInline",b.InlineCommandWithValue);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){function d(f){return b.InlineCommandSettings[f];
}function c(i){var f=i+"Command",j="Telerik.Web.UI.Editor."+f,h=d(i);
h.commandName=i;
var g=b[f]=function(l,m){var k=b[h.commandName]?b[h.commandName]:h.hasValue?b.InlineCommandWithValue:b.InlineCommand;
return new k(l,h,m);
};
g.registerClass(j);
}b.InlineCommandSettings={Bold:{tag:"strong",altTags:["b"],cssName:"fontWeight",cssValue:"bold"},Italic:{tag:"em",altTags:["i"],cssName:"fontStyle",cssValue:"italic"},Underline:{altTags:["u"],cssName:"textDecoration",cssValue:"underline"},StrikeThrough:{tag:"del",altTags:["strike"],cssName:"textDecoration",cssValue:"line-through"},Subscript:{tag:"sub",altTags:[]},Superscript:{tag:"sup",altTags:[]},ForeColor:{altTags:["font"],cssName:"color",altTagAttr:"color",hasValue:true},BackColor:{altTags:["font"],cssName:"backgroundColor",hasValue:true},FontName:{altTags:["font"],cssName:"fontFamily",altTagAttr:"face",enableToolStateValue:true,hasValue:true},RealFontSize:{altTags:["font"],cssName:"fontSize",altTagAttr:"size",enableToolStateValue:true,hasValue:true},ApplyClassInline:{altTags:["font"],enableToolStateValue:true,hasValue:true},TrackChangesInsert:{tag:"ins",isNotGreedy:true},TrackChangesDelete:{tag:"del",isNotGreedy:true,altTags:[]},TrackChangesRemoveFormat:{isNotGreedy:true}};
c("Bold");
c("Italic");
c("Underline");
c("StrikeThrough");
c("Subscript");
c("Superscript");
c("ForeColor");
c("BackColor");
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,m){Type.registerNamespace("Telerik.Web.UI.Editor");
var d=Telerik.Web.UI.Editor;
var n=d.Utils;
var l=".__telerik_marker";
var h="&nbsp;";
d.DeleteSelectionCommand=function(q,v,t){var p=this;
var u=a.extend({complete:false},v||{});
var r=a.extend({title:"Delete"},t||{});
d.DeleteSelectionCommand.initializeBase(p,[q,u,r]);
p.settings.isNotGreedy=true;
};
d.DeleteSelectionCommand.prototype={executeInlineCommand:function(){var o=this,u=o.range=o.getEditorRange(),r=o.get_editor();
var s=o.traverseFragments(u);
var t;
if(s.length){t=s[s.length-1].getParent();
}o.emptyRange=u.toString()=="";
o.storeRangeByFragments(s);
o.rangeChanged=false;
o.formatFragments(s);
o.fireFormattingChanged();
var p=c(),q=r.get_contentArea();
p.consolidateMarkedEdges(q);
p.normalize(u.commonAncestorContainer);
this.cleanUpEmptyContent(t);
this.keepWhitespaceFormatting(q);
o.restoreRange();
return true;
},formatFragments:function(s){var o=this;
if(s.length===0){return;
}var r=o.get_editor();
var q=r.get_contentArea();
while(s.length){this.formatFragment(s.shift());
}var p=c();
p.stichMarkedEdges(q);
},formatFragment:function(p){var o=this;
Array.forEach(p.nodes,function(q){o.deleteNodeContent(q);
});
},getStateByRange:function(p,o){if(!p){return d.CommandStates.Disabled;
}return p.isCollapsed()||(o&&o.nodesTracker.isTracked(p.commonAncestorContainer))?d.CommandStates.Disabled:d.CommandStates.Off;
},deleteNodeContent:function(o){if(g(o)){n.removeChildren(o);
o.innerHTML=h;
}else{j(o);
}},cleanUpEmptyContent:function(v){var p=this.get_editor();
var o=p.get_contentArea();
var y=this.settings;
k(o);
while(v&&v!==o&&n.isNodeEmptyRecursive(v,true)){var w=v;
if(g(w)){this.deleteNodeContent(w);
break;
}v=w.parentNode;
if(v){j(w);
}}if(y.complete){var q=e(o)[0];
var r=q.parentNode;
var x;
var u=function(s){return n.isTag(r,s);
};
var t=function(s){return r.getElementsByTagName(s).length>0;
};
while(r&&r!==o&&!g(r)&&(!u("li")||f(r))&&(r.childNodes.length==1||((u("tbody")||u("table"))&&!t("tr"))||(n.isList(r)&&!t("li")))){x=r;
r=r.parentNode;
if(r){r.insertBefore(q,x);
j(x);
}}}},keepWhitespaceFormatting:function(o){var p=e(o)[0];
var s=p.previousSibling;
var q=p.nextSibling;
if(!s||!q){return;
}var r=q.nodeValue;
if(n.whitespaceEnd(s.nodeValue)&&n.whitespaceStart(r)){q.nodeValue=String.fromCharCode(160)+r.substring(1);
}},shouldCollectNode:function(q){var o=this.get_editor().get_contentArea();
var p=function(r){return n.isTag(q,r);
};
return(q!==o)&&!p("tr")&&!p("tbody")&&!p("thead")&&!p("tfoot");
},restoreRange:function(){var p=e(this.get_editor().get_contentArea());
if(p.length){var o=p[0];
if(n.isTag(o.parentNode,"tr")){var q=n.getNextElement(o);
if(q){q.insertBefore(o,q.firstChild);
}else{var r=n.getPreviousElement(o);
if(r){r.appendChild(o);
}}}this.restoreCollapsedRange(o);
p.remove();
}}};
function b(s,t){var p=d.NodeComparer;
var q=n.isBlockElement;
var r=n.isList;
var u=i(s)&&i(t);
var o=(q(s)&&q(t));
var v=(r(s)===r(t));
return s&&t&&u&&((o&&v)||p.equalNodes(s,t));
}function c(){return new d.Consolidator({nodeCompare:b});
}function j(o){o.parentNode.removeChild(o);
}function k(o){var p=e(o);
if(p.length>1){j(p[1]);
}}function f(o){var p=o.parentNode;
return p.getElementsByTagName("li").length==1;
}function e(o){return a(o).find(l);
}function i(p){var o=n.isTag;
return !(o(p,"table")||o(p,"tr")||g(p));
}function g(o){return n.isTag(o,"td")||n.isTag(o,"th")||n.isTag(o,"caption");
}d.DeleteSelectionCommand.registerClass("Telerik.Web.UI.Editor.DeleteSelectionCommand",d.InlineCommand);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI.Editor;
b.FindReplaceCommand=function(e){var d=e?["",e.get_contentWindow(),false,e]:[];
b.FindReplaceCommand.initializeBase(this,d);
};
b.FindReplaceCommand.prototype={onExecute:function(){var d=this.get_editor();
var e=d.findReplaceManager;
if(!e){return false;
}e.toggle();
return true;
},getState:function(f,d){var e=this.isOn(d);
return e?b.CommandStates.On:b.CommandStates.Off;
},isOn:function(d){var e=d.findReplaceManager;
return e&&e.isVisible();
}};
b.FindReplaceCommand.registerClass("Telerik.Web.UI.Editor.FindReplaceCommand",b.CommandBase);
})($telerik.$);
(function(a,b,d,c){b.FontName=function(e,f){b.FontName.initializeBase(this,[e,b.InlineCommandSettings.FontName,f]);
};
b.FontName.prototype={getValue:function(k,h){var j=b.FontName.callBaseMethod(this,"getValue",[k,h]),e=this.get_editor(),f=(e&&j)?e.get_fontNames():[];
for(var g=0;
g<f.length;
g++){if(f[g].toLowerCase()==j.toLowerCase()){j=f[g];
break;
}}return j;
}};
b.FontName.registerClass("Telerik.Web.UI.Editor.FontName",b.InlineCommandWithValue);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d){var e=b.Utils;
var c="TELERIK_formatPainterContentWrapper";
b.FormatPainterCommand=function(g,f,i){var h=a.extend({title:"Format Painter"},i||{});
b.FormatPainterCommand.initializeBase(this,[g,f,h]);
};
b.FormatPainterCommand.prototype={formatFragments:function(h){var f=this;
var i=h.length&&f.settings.formatting?f._createFormattingTree():d;
while(h.length&&i){var g=h.shift();
if(!f.isEmptyInlineFragment(g)){f.formatFragment(g,i);
}}},formatFragment:function(k,i){var f=this;
var l=i.cloneNode(true);
var g=a(l).find("span."+c).removeClass(c).get(0);
k.insertBeforeFirst(l);
k.appendTo(g);
var m=l.parentNode;
if(e.isBlockElement(l)&&e.isBlockElement(m)){if(l.nodeName==m.nodeName||e.isBlockComponent(l)){e.removeNode(l);
}else{if(!e.isBlockComponent(m)&&e.isHeading(l)){if(f.isMarker(l.previousSibling)){k.insertBeforeFirst(l.previousSibling);
}if(f.isMarker(l.nextSibling)){k.appendNodeAfter(l.nextSibling);
}f.extractFormatting(m,l,l);
e.removeNode(m);
}else{if(e.isHeading(m)||e.isBlockComponent(m)){e.removeNode(l);
}}}}var j=f.settings.formatting;
var n=j&&j.computedStyles?j.computedStyles:{};
var o=g;
var h=f._getStyleDifferences(o,n);
if(h){a(o).css(h);
}else{e.removeNode(o);
}},_getStyleDifferences:function(k,i){var f;
var g=$telerik.getComputedStyle;
for(var j in i){var l=g(k,j);
var h=i[j];
if(l!=h){if(!f){f={};
}f[j]=h;
}}return f;
},_createFormattingTree:function(){var f=this;
var n=f.settings.formatting;
var l=n&&n.elements?n.elements:[];
var k=f.get_editor().get_document();
var g=k.createElement("div");
var j=g;
for(var p=l.length-1;
p>=0;
p--){var m=l[p];
var o=k.createElement(m.nodeName);
f._setAttributes(o,m);
j.appendChild(o);
j=o;
}var h=k.createElement("span");
h.className=c;
j.appendChild(h);
return g.firstChild;
},_attributes:["class","style","size","color","face"],_setAttributes:function(g,f){Array.forEach(this._attributes,function(h){if(f[h]){g.setAttribute(h,f[h]);
}});
},getState:function(){return b.CommandStates.Off;
}};
b.FormatPainterCommand.registerClass("Telerik.Web.UI.Editor.FormatPainterCommand",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,o){Type.registerNamespace("Telerik.Web.UI.Editor");
var d=Telerik.Web.UI.Editor;
var p=d.Utils;
var b=Sys.UI.DomElement.addCssClass;
var k=Sys.UI.DomElement.removeCssClass;
var i=/^(?:dl|ol|table|tbody|thead|tr|ul)$/i;
var j=Telerik.Web.Platform;
var l="__reTextHighlight";
var h="__reNodeHighlight";
var g="__reHighlightMarker";
var c="reAndroid";
var e="reIOS";
var q="reWindowsPhone";
d.HighlightCommand=function(r,t){var s=a.extend({title:"Highlight",window:r?r.get_contentWindow():o});
d.HighlightCommand.initializeBase(this,[s.title,s.window,false,r]);
};
d.HighlightCommand.prototype={highlight:function(){var r=this;
var s=r.get_editor();
var u=s.getDomRange();
var t=[];
if(!u){return;
}t=r.traverseFragments(u);
if(!t.length){r.startMarker=this.createMarker();
u.insertNode(r.startMarker);
}else{r.storeRangeByFragments(t);
r.highlightFragments(t);
}},remove:function(){var r=this;
r.removeHighlight();
r.restoreRange();
},removeHighlight:function(){var r=this.getHighlightContainer();
this.removeTextHighlight(r);
this.removeNodesHighlight(r);
},removeTextHighlight:function(r){var s=a(r).find(m(l));
s.each(function(){p.removeNode(this);
});
},removeNodesHighlight:function(r){var s=a(r).find(m(h));
s.removeClass(function(){k(this,h);
if(this.className==""){this.removeAttribute("class");
}});
},highlightFragments:function(s){var r=this;
Array.forEach(s,function(t){r.highlightFragment(t);
});
},highlightFragment:function(s){var r=this;
var t=s.nodes;
Array.forEach(t,function(u){r.highlightNode(u);
});
},highlightNode:function(s){var r=this;
if(p.isTextNode(s)){return this.highlightText(s);
}else{r._addPlatformSpecificDecoration(s);
b(s,h);
}},highlightText:function(w){var r=this;
var v=w.parentNode;
if(f(v)){return;
}var t=this.get_editor();
var s=t.get_document();
var u=s.createElement("span");
r._addPlatformSpecificDecoration(u);
b(u,l);
v.insertBefore(u,w);
u.appendChild(w);
},traverseFragments:function(r){var s=new d.RangeFragmentsTraverser(r);
s.traverseFragments(n);
return s.traversedFragments;
},storeRangeByFragments:function(t){var r=this;
var s=t[0];
var u=t[t.length-1];
r.startMarker=r.createMarker();
r.endMarker=r.startMarker.cloneNode(true);
s.insertBeforeFirst(r.startMarker);
u.appendNodeAfter(r.endMarker);
},restoreRange:function(){var r=this;
var t=this.get_editor();
var u=this.getMarkers();
var s=new d.Consolidator();
if(u.length===0){return;
}if(r.isCollapsedHighlight()){this.restoreCollapsedRange(r.startMarker);
}else{var v=t.getDomRange()||d.DomRange.createRange(t.get_document());
if(!s.normalizeTextEdge(u[0],v,true)){v.setStartBefore(u[0]);
u.first().remove();
}if(!s.normalizeTextEdge(u[1],v,false)){v.setEndBefore(u[1]);
}v.select();
}u.remove();
r.reset();
},restoreCollapsedRange:function(u){var s=this.get_editor();
var y=s.getDomRange();
var w=u.parentNode;
var r=new d.Consolidator();
var x=u.previousSibling;
var v=u.nextSibling;
if(r.normalizeTextEdge(u,y)){y.collapse();
}else{if(p.isTextNode(x)){y.setEnd(x,x.length);
y.collapse();
}else{if(!$telerik.isSafari&&p.isTextNode(v)){y.setStart(v,0);
y.collapse(true);
}else{var t=s.nodesTracker.createTrackedNode();
w.insertBefore(t,u);
y.setEnd(t,1);
y.collapse();
}}}y.select();
},reset:function(){this.range=o;
this.startMarker=o;
this.endMarker=o;
},getHighlightContainer:function(){var r=this.getMarkers();
if(r.length==1){return r.parent()[0];
}else{return p.findCommonAncestor(r[0],r[1]);
}},getMarkers:function(){var r=this;
var s=a(r.startMarker);
if(r.endMarker){s=s.add(r.endMarker);
}return s;
},createMarker:function(){var r=this;
var s=this.get_editor().get_document();
var t=s.createElement("span");
r._addPlatformSpecificDecoration(t);
b(t,g);
return t;
},isCollapsedHighlight:function(){return !this.endMarker;
},_addPlatformSpecificDecoration:function(r){if(j.android){b(r,c);
}else{if(j.ios){b(r,e);
}else{if(j.windowsphone){b(r,q);
}}}}};
d.HighlightCommand.registerClass("Telerik.Web.UI.Editor.HighlightCommand",d.CommandBase);
function n(){return true;
}function m(r){return"."+r;
}function f(r){return p.checkForElement(r,i);
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,f,e){var c=f.isTag;
b.IndentCommand=function(g,h){h=a.extend({step:40},h||{});
b.IndentCommand.initializeBase(this,[g,h]);
this.nodes=[];
this.cssIndentRule=this.isRTL()?"marginRight":"marginLeft";
};
b.IndentCommand.prototype={topLimitCondition:function(g){return g==this.get_editorContentArea()||f.isTag(g,"td");
},isSuitableNode:function(g){return f.isBlockElement(g);
},executeOnNode:function(h,g){if(c(h,"li")){this.indentList(h);
}else{if(!this.innerList||!f.isList(h)){this.indentBlock(h,g);
}}},executeInlineNode:function(g){if(f.isTextNode(g)&&!f.isWhitespaceNode(g)){var h=this.get_editor().get_contentArea();
var i=f.findAncestorByTag(h,g,"li");
if(i&&i!==h){return this.executeOnNode(i);
}}b.IndentCommand.callBaseMethod(this,"executeInlineNode",[g]);
},getState:function(){return b.CommandStates.Off;
},innerList:null,indentedList:null,indentList:function(g){if(f.isAncestorOf(this.indentedList,g)){return;
}if(this.isFirstListItem(g)){if(!f.isAncestorOf(this.innerList,g)){this.indentedList=g.parentNode;
this.indentBlock(this.indentedList);
}}else{this.trackChangedNode({node:g});
var h=this.indentSublist(g);
this.addToSublist(g,h);
if(this.nodes.length===0){var i=this.findExistingInnerList(g);
if(i){d(i,this.innerList);
}}}},indentSublist:function(i){var h=a(i);
var j=h.prev();
var k=false;
this.innerList=this.findExistingInnerList(j[0]);
if(!this.innerList){var l=this.findExistingInnerList(i);
if(l){this.innerList=l;
j.append(this.innerList);
k=true;
}else{var g=this.get_editor().get_document();
this.innerList=g.createElement(i.parentNode.tagName);
j.append(this.innerList);
}}return k;
},addToSublist:function(i,g){var h=this.innerList;
if(g){h.insertBefore(i,h.getElementsByTagName("li")[0]);
}else{h.appendChild(i);
}},findExistingInnerList:function(g){return a(g).children("ol,ul").last()[0];
},isFirstListItem:function(h){var g=h.parentNode;
return g.getElementsByTagName("li")[0]==h;
},indentBlock:function(g,h){if(f.isTag(g,"td")){return this.executeDomCommand(a.makeArray(g.childNodes));
}var i=g.style[this.cssIndentRule];
g.style[this.cssIndentRule]=this.calculateIndent(g)+"px";
this.trackChangedNode({node:g,cssProperty:this.cssIndentRule,originalValue:i,isWrapper:h});
},calculateIndent:function(h){var g=parseInt(h.style[this.cssIndentRule],10)||0;
g+=this.options.step;
return g;
},cleanUp:function(){this.innerList=this.indentedList=null;
b.IndentCommand.callBaseMethod(this,"cleanUp");
}};
b.IndentCommand.registerClass("Telerik.Web.UI.Editor.IndentCommand",b.DomBlockCommandBase);
function d(g,i){if(!g||!i){return;
}var h=a(g);
a(i).append(h.children("li"));
h.remove();
}})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,b,e){var d="__telerik_marker";
var f=b.Utils;
b.InsertLinkCommand=function(n,m,o,j){b.InsertLinkCommand.initializeBase(this,[n,m,true,j]);
this.utils=b.Utils;
this.linkProperties={};
if(o){var h=o.attributes;
for(var k=0,l=h.length;
k<l;
k++){var g=h[k].name;
this.linkProperties[g]=o.getAttribute(g);
}a.extend(this.linkProperties,{id:o.getAttribute("id"),href:o.getAttribute("href",2),target:o.target,title:o.title,className:o.className,name:o.name,innerHTML:o.childNodes.length==1&&this.utils.isTextNode(o.firstChild)?o.innerHTML:""});
}};
b.InsertLinkCommand.prototype={onExecute:function(){if(this.executeOverFragments()){return true;
}var g=this.getCurrentFormattedAncestor();
if(g){var h=this.getRange();
h.selectNodeContents(g);
h.select();
return this.executeOverFragments();
}else{return this.insertSingleLink();
}},executeOverFragments:function(){var g=this.traverseFragments();
if(g.length){this.storeRangeByFragments(g);
var h=this.insertLinkByFragments(g);
this.restoreRange();
return h;
}},insertLinkByFragments:function(j){for(var k=0;
k<j.length;
k++){var h=j[k];
var m=h.getParent();
var g=this.findFormattedAncestor(m);
var n=!!g;
var l=n?this.applyLinkProperties(g):this.createLink();
if(!n){h.insertBeforeFirst(l);
if(this.linkProperties.innerHTML){h.remove();
}else{h.appendTo(l);
}}if(!this.stripIfEmpty(l)){this.raiseDomChangeEvent(l);
}}return true;
},insertSingleLink:function(){var h=this.getRange();
h.collapse(true);
var g=this.createLink();
h.insertNode(g);
h.selectNode(g);
h.select();
this.raiseDomChangeEvent(g);
return true;
},createLink:function(){var i=this.linkProperties;
var g=this.get_window().document;
var h=g.createElement(($telerik.isIE&&!$telerik.isIE9Mode)&&i.name?"<a name='"+i.name+"'>":"a");
return this.applyLinkProperties(h);
},applyLinkProperties:function(g){var i=this.linkProperties;
for(var h in i){this._applyDomProperty(g,h,i[h]);
}return g;
},getCurrentFormattedAncestor:function(){var g=this.getRange(),h=g.getParentElement();
return this.findFormattedAncestor(h);
},findFormattedAncestor:function(i){var g=this.get_editor().get_contentArea();
if(this.utils.isTag(i,"a")){return i;
}else{var h=this.utils.findAncestorByTag(g,i,"a");
return h==g?null:h;
}},raiseDomChangeEvent:function(j){var i=this.get_editor();
var h=this.get_title();
var g=new c.EditorCommandEventArgs(h,null,j);
i._executeCommandEvent("domChange",h,g);
},_applyDomProperty:function(h,i,j){if(j){if(i=="innerHTML"||i=="className"||i=="spellcheck"){if(j!=h[i]){h[i]=j;
}}else{h.setAttribute(i,j,2);
}}else{var g=this.resolveAttributeName(i);
if(g){h.removeAttribute(g);
}}},resolveAttributeName:function(g){return g=="className"?"class":g=="innerHTML"?null:g;
},stripIfEmpty:function(g){g.normalize();
if(this.utils.isWhitespaceNode(g)){g.parentNode.removeChild(g);
return true;
}else{if(g.innerHTML.toLowerCase()=="<br>"){this.utils.removeNode(g);
return true;
}}return false;
},traverseFragments:function(){var g=this.getRange();
var i=new Telerik.Web.UI.Editor.RangeFragmentsTraverser(g);
var h=this._getTraverseCondition();
i.traverseFragments(h);
return i.traversedFragments;
},_getTraverseCondition:function(){var i=$telerik.isIE&&!$telerik.isIE10Mode,h=this.get_editor().get_enableImmutableElements(),g;
if(!h){g=i?b.FragmentsCondition.inlineNotLinkForIE8:b.FragmentsCondition.inlineNotLink;
}else{if(i){g=function(j){return b.FragmentsCondition.inlineNotLinkForIE8(j)&&!b.Utils.isImmutableNode(j);
};
}else{g=function(j){return b.FragmentsCondition.inlineNotLink(j)&&!b.Utils.isImmutableNode(j);
};
}}return g;
},storeRangeByFragments:function(i){var g=this;
if(i.length===0){return;
}var h=i[0];
var j=i[i.length-1];
g.startMarker=g.createMarker();
g.endMarker=g.startMarker.cloneNode(true);
h.insertBeforeFirst(g.startMarker);
j.appendNodeAfter(g.endMarker);
},restoreRange:function(){var l=this.getRange();
var j=a("."+d,this.get_editor().get_contentArea());
var g=new b.Consolidator();
if(j.length==0){return;
}var h=j[0],k=h.nextSibling,i=j[1];
if((f.isTextNode(k)&&f.isTextNodeEmpty(k)&&i.previousSibling===k)||(h===i.previousSibling)){a(i).remove();
this.restoreCollapsedRange(h);
}else{if(!g.normalizeTextEdge(h,l,true)){l.setStartAfter(j[0]);
}if(!g.normalizeTextEdge(i,l,false)){l.setEndBefore(j[1]);
}l.select();
}j.remove();
},getRange:function(){return Telerik.Web.UI.Editor.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},createMarker:function(){var g=this.get_editor().get_document();
var h=g.createElement("span");
h.className=d;
h.innerHTML="&nbsp;";
return h;
}};
b.InsertLinkCommand.registerClass("Telerik.Web.UI.Editor.InsertLinkCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor);
(function(a,b,i,h){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Function.createDelegate;
var g=i.isTag;
var f=function(j){return i.isBlockElement(j)&&!g(j,"table");
};
b.InsertListCmd=function(j,k){k=a.extend({listType:"ul",title:"InsertUnorderedList",noDuplicateNodeEdges:true,isSuitableNode:f},k||{});
b.InsertListCmd.initializeBase(this,[j,k]);
};
b.InsertListCmd.prototype={executeDomCommand:function(k){this.isListOn=this.getNodesState(k);
if(k.length==1){var j=k[0];
if(!j){return this.insertEmptyList();
}else{if(this.shouldReplaceWithEmptyList(j)){j.parentNode.removeChild(j);
return this.insertEmptyList();
}}}b.InsertListCmd.callBaseMethod(this,"executeDomCommand",[k]);
},isSuitableNode:f,executeOnNode:function(o,k){if(this.isList(o)){this.changeSublists(o);
var l=d(o);
var r=o.parentNode;
var q=r&&r.tagName=="LI"&&r.parentNode==this.insertedList;
if(this.insertedList&&!q){return this.executeDomCommand(l);
}else{return this.clone(l).executeDomCommand(l);
}}if(i.isTableCell(o)){return this.executeInlineNode(i.firstTextChild(o));
}if(i.isTag(o,"li")){var n=o.parentNode;
if(this.insertedList&&this.insertedList!=n){if(this.isSameListType(n)){this.addWholeList(n);
}else{if(this.isInSubList(o)){var s=this.extractTraversedListDescendants(o,n);
var j=this.clone(s);
j.executeDomCommand(s);
}else{this.changeSublists(o);
this.insertedList.appendChild(o);
this.removeEmptyList(n);
}}}if(!this.insertedList){if(this.isListOn){this.removeListItem(o);
}else{if(this.isSameListType(n)){this.insertedList=n;
}else{this.replaceListItem(o);
}}}}else{if(!this.insertedList){this.insertedList=this.insertNewListBefore(o);
}var p=o.nodeName;
var m=this.replaceNodeRangeSafe(o,"li");
this.insertedList.appendChild(m);
this.trackChangedNode({node:m,originalNodeName:p,isWrapper:k});
}},executeInlineNode:function(k){var j=i.isTableCell(k);
if(j){k=i.firstTextChild(k);
}if(i.isTextNode(k)&&!i.isWhitespaceNode(k)){var l=this.get_editor().get_contentArea();
var m=i.findAncestorByTag(l,k,"li");
if(m&&m!==l){return this.executeOnNode(m);
}}b.InsertListCmd.callBaseMethod(this,"executeInlineNode",[k,j]);
},topLimitCondition:function(j){return i.isTableCell(j)||b.InsertListCmd.callBaseMethod(this,"topLimitCondition",[j]);
},shouldReplaceWithEmptyList:function(j){var k=function(l){return i.isTag(j,l);
};
return !this.isListOn&&i.isEmptyDom(j)&&!k("img")&&!k("li")&&!k("td")&&!this.isList(j);
},transformListItem:function(o,q){var m=o.parentNode;
var n=m.parentNode;
var l=d(m);
var p=Array.indexOf(l,o);
var k=l.length;
if(p>0&&p<k-1){this.splitList(m,l.splice(p+1,k-p));
}var j=q(o);
n.insertBefore(j,(p==0?m:m.nextSibling));
this.trackChangedNode(a.extend(this.trackChangedNodeArgs||{},{nodeIndex:p,itemsCount:k}));
this.trackChangedNodeArgs=null;
this.removeEmptyList(m);
},replaceListItem:function(j){this.transformListItem(j,c(this,function(n){var m=n.parentNode,k=d(m),l=k.length,o=Array.indexOf(a.makeArray(k),n);
this.insertedList=this.cloneList(m);
this.insertedList.appendChild(n);
this.trackChangedNodeArgs={node:this.insertedList,itemIndex:o,itemsCount:l,parentNode:m};
return this.insertedList;
}));
},removeListItem:function(j){this.transformListItem(j,c(this,function(o){var n=o.parentNode,k=d(n),m=k.length,p=Array.indexOf(a.makeArray(k),o);
var q=o.nodeName;
var l=this.replaceNodeRangeSafe(o,this.options.blockTag);
this._copyIndent(n,l);
this.trackChangedNodeArgs={node:l,originalNodeName:q,itemIndex:p,itemsCount:m,parentNode:n};
return l;
}));
},splitList:function(k,m){var l=this.insertNewListAfter(k,k.tagName);
this._copyIndent(k,l);
for(var j=0;
j<m.length;
j++){l.appendChild(m[j]);
}return l;
},getState:function(l,j,k){return this.getCssState(k);
},getNodeState:function(k){var j=i.isTag(k,"li")?k.parentNode:k;
return this.isSameListType(j);
},addWholeList:function(j){var k=d(j);
while(k.length){this.insertedList.appendChild(k.shift());
}this.removeEmptyList(j);
},insertNewListBefore:function(k){var j=this.createList(this.options.listType);
k.parentNode.insertBefore(j,k);
return j;
},insertNewListAfter:function(l,m){var k=m||this.options.listType;
var j=this.createList(k);
l.parentNode.insertBefore(j,l.nextSibling);
return j;
},createList:function(k){var l=k||this.options.listType;
var j=this.get_window().document;
return j.createElement(l);
},cloneList:function(k){var j=this.createList();
$telerik.mergeElementAttributes(k,j);
return j;
},insertEmptyList:function(){var j=this.get_window().document;
var m=this.getEditorRange();
var l=j.createElement(this.options.listType);
var k=j.createElement("li");
l.appendChild(k);
this.trackChangedNode({node:l,isEmptyList:true});
m.insertNode(l);
m.setCursorInEmptyNode(k);
this.rangeMemento=null;
},replaceNodeRangeSafe:function(j,l){var k=i.replaceNode(j,l,false);
this.rememberNewSelectedNode(j,k);
return k;
},createListItemWithContent_rangeSafe:function(j){var k=this.get_window().document,l=k.createElement("li");
while(j.childNodes.length){l.appendChild(j.firstChild);
}return l;
},removeEmptyList:function(j){if(j.getElementsByTagName("li").length==0&&j.parentNode){j.parentNode.removeChild(j);
this.rememberNewSelectedNode(j,this.insertedList);
}},changeSublists:function(p){var j=this;
var q=j.nodes;
if(q.length&&i.isAncestorOf(p,q[0])){return;
}var k=j.getCounterListType();
var r=e(p);
for(var m=0;
m<r.length;
m++){var n=r[0];
j.extractTraversedListDescendants(p,n);
if(g(n,k)){var o=j.clone([n]);
o.executeOnNode(n);
}}},isInSubList:function(k){var j=k.parentNode;
var l=this.get_editor().get_contentArea();
if(!this.isList(j)){return false;
}var m=i.findAncestorBy(l,j,c(this,this.isList));
return this.isList(m)&&(!this.insertedList||this.insertedList.nextSibling!==j);
},isList:function(j){return i.isList(j);
},isSameListType:function(j){return i.isTag(j,this.options.listType);
},extractTraversedListDescendants:function(l,k){var m=this.nodes;
var n=[l];
var j=function(o){return i.isAncestorOf(k,o);
};
while(m.length&&j(m[0])){n.push(m.shift());
}return n;
},getCounterListType:function(){return this.options.listType==="ul"?"ol":"ul";
},cleanUp:function(){this.insertedList=null;
b.InsertListCmd.callBaseMethod(this,"cleanUp");
this.insertAll=null;
},clone:function(k){var j=new b.InsertListCmd(this.get_editor(),this.options);
if(k){j.nodes=k;
}j.rangeMemento=this.rangeMemento;
return j;
},_copyIndent:function(m,j){var k=this.isRTL()?"marginRight":"marginLeft";
var l=m.style[k];
if(l){j.style[k]=l;
}}};
b.InsertListCmd.registerClass("Telerik.Web.UI.Editor.InsertListCmd",b.DomBlockCommandBase);
function e(j){return a(j).find("ol,ul");
}function d(j){return a(j).children().get();
}})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d,c){b.InsertParagraphCommand=function(f,g){var e=this;
e.options=a.extend({tag:"p",retainOriginalNodeName:true,insertParagraphAfterHeading:false,title:"InsertParagraph"},g||{});
b.InsertParagraphCommand.initializeBase(e,[f,e.options]);
e.cursorCssClass="_TELERIK_InsertParagraph";
e.container=null;
e.newContainer=null;
e.doc=f.get_document();
};
b.InsertParagraphCommand.prototype={onExecute:function(){var e=this;
e.on({nodeInserted:e._nodeInsertedHandler},e);
try{return e.executeDomCommand();
}catch(g){var f=e.get_editor().get_contentArea();
a("."+e.cursorCssClass,f).remove();
}e.off({nodeInserted:e._nodeInsertedHandler},e);
return false;
},executeDomCommand:function(){var e=this,i=e.get_editor();
var k=e.range=i.getSelection().getRange(true);
if(!k||(k.parentElement&&k.parentElement().nodeName=="TEXTAREA")||(k.commonAncestorContainer&&d.isTag(k.commonAncestorContainer.childNodes[k.startOffset],"textarea"))){return false;
}var h=e.domRange=b.DomRange.toDomRange(k);
if(h.commonAncestorContainer&&h.commonAncestorContainer.nodeName&&/^table|tr$/i.test(h.commonAncestorContainer.nodeName)){return false;
}if(e.isOnlyListSelected()){return e.executeOverList();
}if(i._fireDeleteSelectionCmd(false)){k=e.range=i.getSelection().getRange(true);
h=e.domRange=b.DomRange.toDomRange(k);
}var g=e.createCursorElement();
e.insertNode(g);
e.clearTrackedNodesAroundCursor(g);
var f=e.wrapInlineElements(g);
var j=e.extractFrom(g,f);
j=e.ensureNewLineMode(j);
e.newContainer=j;
e._fireNodeInserted(j,g);
e._ensureContainerNotEmpty(f);
e._removeParentEmptyLink(e._prevCursorParent,f);
e.setCursor(j,g);
d.scrollTo(j,i);
if($telerik.isIE7&&i.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){d._toggleElementZoom(j);
}return true;
},extractFrom:function(g,f){var e=this,h=e.doc.createTextNode("\u00A0");
a(h).insertBefore(g);
var i=new b.DomTreeExtractor(f);
var k=i.extractAfter(h);
var j=f.cloneNode(true);
a(j).insertAfter(f);
d.removeChildren(j);
j.appendChild(k);
e._prevCursorParent=h.parentNode;
a(h).remove();
return j;
},clearTrackedNodesAroundCursor:function(e){var f=this.get_editor();
var g=f.nodesTracker;
g.removeTrackedNode(e.previousSibling);
g.removeTrackedNode(e.nextSibling);
},executeOverList:function(){var e=this,f=e.domRange,g=f.commonAncestorContainer,h=e.doc.createElement(e.options.tag);
h.innerHTML="&nbsp;";
a(h).insertAfter(g);
a(g).remove();
f.setCursorInEmptyNode(h);
return true;
},createCursorElement:function(){var e=this,f=e.doc.createElement("span");
f.innerHTML="&nbsp;";
a(f).addClass(e.cursorCssClass);
return f;
},insertNode:function(f){var e=this,g=e.range;
if(g.insertNode){g.insertNode(f);
}else{e.domRange.insertNode(f);
}if(e._isEmptyTextNode(f.previousSibling)){a(f.previousSibling).remove();
}if(e._isEmptyTextNode(f.nextSibling)){a(f.nextSibling).remove();
}},_isEmptyTextNode:function(e){return d.isTextNode(e)&&d.isTextNodeEmpty(e);
},fixListsAroundCursor:function(h,f){var e=this,i=e.getParentList(h.startContainer),g=e.getParentList(h.endContainer);
if(i){e.removeNonLiElements(i);
}if(g){e.removeNonLiElements(g);
}if(f.parentNode&&(d.isTag(f.parentNode,"ol")||d.isTag(f.parentNode,"ul"))){e.fixListItems(f);
}},regExpWhiteSpace:/^[\s\t\r\n\u200b\u00a0]*$/,ensureNewLineMode:function(f){var e=this,g=e.get_editor().get_newLineMode(),i=e.options,j=e.regExpWhiteSpace,h="p",k="";
h=g==Telerik.Web.UI.EditorNewLineModes.Div?"div":h;
if(!i.retainOriginalNodeName&&!e.container){k=d.getTextContent(f).replace(j,"");
if(g==Telerik.Web.UI.EditorNewLineModes.P&&!d.isTag(f,"p")&&k==""){f=d.replaceNode(f,"p");
}else{if(g==Telerik.Web.UI.EditorNewLineModes.Div&&!d.isTag(f,"div")&&k==""){f=d.replaceNode(f,"div");
}}}if(i.insertParagraphAfterHeading){k=d.getTextContent(f).replace(j,"");
if(/^h[1-6]$/i.test(f.nodeName)&&k==""){f=d.replaceNode(f,h);
}}return f;
},isOnlyListSelected:function(){var e=this,f=e.domRange;
if(!f.commonAncestorContainer){return false;
}if(!d.isTag(f.commonAncestorContainer,"ol")&&!d.isTag(f.commonAncestorContainer,"ul")){return false;
}var g=f.commonAncestorContainer;
if(e.isFirstLiSelected(g,f.startContainer)&&e.isLastLiSelected(g,f.endContainer)){return true;
}},getParentList:function(f){if(d.isTextNode(f)){f=f.parentNode;
}var e=d.getElementParentByTag(f,"OL");
if(!e){e=d.getElementParentByTag(f,"UL");
}return e;
},isLastLiSelected:function(h,i){var f=d.isTextNode(i)?i.parentNode:i;
var g=d.isTag(f,"li")?f:d.getElementParentByTag(f,"li");
if(!g){return false;
}if(!a(g).is(h.children[h.children.length-1])){return false;
}var e=i;
while(!a(e).is(g)){if(e.nextSibling){return false;
}e=e.parentNode;
}return true;
},isFirstLiSelected:function(g,h){var i=d.isTextNode(h)?h.parentNode:h;
var f=d.isTag(i,"li")?i:d.getElementParentByTag(i,"li");
if(!f){return false;
}if(!a(f).is(g.children[0])){return false;
}var e=h;
while(!a(e).is(f)){if(e.previousSibling){return false;
}e=e.parentNode;
}return true;
},wrapInlineElements:function(g){var e=this,h=e.doc;
if(e.container&&a(e.container).find(g).length>0){e._trimElements(e.container,g);
return e.container;
}var f=e.getBlockContainer(g);
if(!d.isBlockElement(f)){a(f).wrap(h.createElement(e.options.tag));
f=f.parentNode;
e.prependPreviousSiblings(f);
e.insertNextSiblings(f);
}e._trimElements(f,g);
return f;
},_trimElements:function(f,g){var e=this;
e.fixListsAroundCursor(e.domRange,g);
var k=a(f).find("ol,ul");
for(var j=0;
j<k.length;
j++){e.trimElementNeighbours(k[j]);
}if(k.length>0){e.trimElementNeighbours(g);
}var h=g.parentNode,l=g.nextSibling;
if($telerik.isIE&&!$telerik.isIE9Mode){e._removeWhiteSpaceTextNode(g.previousSibling);
e._removeWhiteSpaceTextNode(l);
}else{if(h.lastChild===l&&d.isTag(l,"br")){h.removeChild(l);
}}},_removeWhiteSpaceTextNode:function(e){if(d.isTextNode(e)&&this.regExpWhiteSpace.test(e.nodeValue)){e.parentNode.removeChild(e);
}},trimElementNeighbours:function(e){d.trimElementNeighbours(e);
},prependPreviousSiblings:function(e){var f=e.previousSibling;
while(f&&!d.isBlockElement(f)){e.insertBefore(f,e.firstChild);
f=e.previousSibling;
}},insertNextSiblings:function(e){var f=e.nextSibling;
while(f&&!d.isBlockElement(f)&&!d._isContentAreaLastBr(f)){e.appendChild(f);
f=e.nextSibling;
}},getBlockContainer:function(f){var e=f;
var g=f.parentNode;
while(g){if(d.isEditorContentArea(g)){return e;
}if(d.isBlockElement(g)){if(g.nodeName&&/^table|tr|td$/i.test(g.nodeName)){return e;
}else{return g;
}}e=g;
g=g.parentNode;
}return e;
},_ensureContainerNotEmpty:function(f){var e=this;
var g=e._prevCursorParent;
if(d.isNodeEmptyRecursive(f)){g.appendChild(e.get_editor().nodesTracker.createTrackedNode(e.doc));
}else{if(d.getTextContent(f).trim()==""){if(d.isTag(g.firstChild,"br")){g.appendChild(g.firstChild);
}}}},_removeParentEmptyLink:function(g,e){if(d.isNodeEmptyRecursive(e)){var f=d.isTag(g,"a")?g:d.findAncestorByTag(e,g,"a");
if(d.isTag(f,"a")){d.removeNode(f);
}}},setCursor:function(f,g){var e=this,h=e.get_editor(),k=d.getPreviousElement(g),i=d.getNextElement(g);
if((k&&(d.isTag(k,"ol")||d.isTag(k,"ul")))||(i&&(d.isTag(i,"ol")||d.isTag(i,"ul")))){d._setCursorAroundList(g,f,h,e.range);
}else{if(d.isNodeEmptyRecursive(g.parentNode)||d.isNodeEmptyRecursive(f)){e.setCursorInNode(g);
}else{var j=g.nextSibling;
g.parentNode.removeChild(g);
var l=e.domRange;
if(d.isTextNode(j)&&!d.isTextNodeEmpty(j)){e.setCursorInTextNode(l,j,0,0);
}else{if(j){if(!d.canHaveChildren(j)){l.setStartBefore(j);
}else{var n=h.nodesTracker;
var m=n.createTrackedNode(h.get_document());
j.parentNode.insertBefore(m,j);
return n.selectTrackedNode(l,m);
}}else{l.setStart(f,0);
}l.collapse(true);
l.select();
}}}},setCursorInNode:function(e){d._setCursor(e,this.get_editor());
},setCursorInTextNode:function(e,h,g,f){d._setCursorInTextNode(e,h,g,f);
},removeNonLiElements:function(f){for(var e=f.childNodes.length-1;
e>=0;
e--){if(!d.isTag(f.childNodes[e],"li")){a(f.childNodes[e]).remove();
}}},fixListItems:function(e){var h=e.parentNode;
for(var f=h.childNodes.length-1;
f>=0;
f--){var g=h.childNodes[f];
if(!d.isTag(g,"li")&&!a(g).is(e)){a(g).remove();
}}var n=e.previousSibling,j=e.nextSibling,l=e.parentNode,m=l.previousSibling,k=l.nextSibling;
if(n&&d.isTag(n,"li")&&n.innerHTML==""){a(e).wrap(n);
}else{if(j&&d.isTag(j,"li")&&j.innerHTML==""){a(e).wrap(j);
}}if(m&&m.innerHTML==""){a(m).remove();
}if(k&&k.innerHTML==""){a(k).remove();
}},_fireNodeInserted:function(g,h){var f=this,e=a.extendEventArgs(new Sys.EventArgs(),{cursor:h,container:g});
f.trigger("nodeInserted",e);
},_nodeInsertedHandler:function(e){var f=this,h=e.get_cursor(),g=e.get_container(),i=f._isEmptyContainer(g,h);
if(i){var j=d.getElementParentByTag(h,"A");
f._removeNode(j);
if(f.get_editor().get_enableTrackChanges()){var m=b.TrackChangesUtils,l=m.getParentTrackChangesInsertNode(h,g),k=m.getParentTrackChangesDeleteNode(h,g);
f._removeNode(l);
f._removeNode(k);
}}},_isEmptyContainer:function(e,f){var g=f.firstChild,h=g.nodeValue,j=d.isTag(e.lastChild,"br")?e.removeChild(e.lastChild):null;
g.nodeValue="";
var i=d.isNodeEmptyRecursive(e);
g.nodeValue=h;
if(j){e.appendChild(j);
}return i;
},_removeNode:function(e){if(e){d.removeNode(e);
}}};
b.InsertParagraphCommand.registerClass("Telerik.Web.UI.Editor.InsertParagraphCommand",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,j){var h=a.makeArray;
var b=c.Editor;
var k=b.Utils;
var f=k.isTag;
var g="li";
b.OutdentCommand=function(l,m){m=a.extend({step:40},m||{});
b.OutdentCommand.initializeBase(this,[l,m]);
this.cssIndentRule=this.isRTL()?"marginRight":"marginLeft";
};
b.OutdentCommand.prototype={executeDomCommand:function(n){var l=this;
var m;
this.filterNodes(n);
while(n.length){m=n[n.length-1];
if(this.isSuitableNode(m)){if(f(m,g)&&l._isChildOfNonNestedList(m)){l.executeDomCommand(h(a(m).children()));
l._executeInsertListCommand(h(m));
}else{this.executeOnNode(m);
}}else{this.executeInlineNode(m);
}n.pop();
}},executeOnNode:function(m,l){if(f(m,"li")){this.outdentList(m);
}else{if(f(m,"ul")||f(m,"ol")){this.outdentWholeList(m);
}else{if(k.isBlockElement(m)){this.outdentBlock(m,l);
}}}},executeInlineNode:function(l){if(k.isTextNode(l)&&!k.isWhitespaceNode(l)){var m=this.get_editor().get_contentArea();
var n=k.findAncestorByTag(m,l,"li");
if(n&&n!==m){return this.executeOnNode(n);
}}b.OutdentCommand.callBaseMethod(this,"executeInlineNode",[l]);
},getState:function(){return b.CommandStates.Off;
},parentLiMarker:null,firstOutdentedLi:null,outdentedList:null,outdentWholeList:function(l){if(this.getCurrentIndent(l)==0){this.executeDomCommand(e(l).get());
}else{this.outdentBlock(l);
}},outdentList:function(r){var l=this;
var m=l.get_editor();
var t;
if(this.outdentedList&&k.isAncestorOf(this.outdentedList,r)){return;
}var p=r.parentNode;
var q=p.parentNode;
var o=this.isFirstListItem(r);
if(this.isIndented(p)){this.outdentBlock(p);
this.outdentedList=p;
return;
}this.parentLiMarker=q;
if(this.hasNestedLists(r)){this.outdentedList=r;
}var n=e(p).get();
var s=Array.indexOf(n,r);
var v=d(r);
if(v){this.trackListItemsRecursively(v);
}if(s>0&&s<(n.length-1)){var u=this.splitList(p,n.splice(s+1,n.length-s));
if(v){i(u,v);
}else{r.appendChild(u);
}}if(q===m.get_contentArea()){return;
}t=q.parentNode;
this.trackChangedNode(this.collectTrackData(r));
t.insertBefore(r,this.parentLiMarker.nextSibling);
if(o&&!this.isEmptyList(p)){if(!v){v=this.createList(p.tagName);
r.appendChild(v);
}i(p,v);
}this.parentLiMarker=r;
if(this.isEmptyList(p)){this.rememberNewSelectedNode(p,r);
if(p.parentNode){p.parentNode.removeChild(p);
}}},isFirstListItem:function(m){var l=m.parentNode;
return l.getElementsByTagName("li")[0]==m;
},splitList:function(m,o){var n=this.insertNewListAfter(m,m.tagName);
for(var l=0;
l<o.length;
l++){n.appendChild(o[l]);
}return n;
},insertNewListAfter:function(n,m){var l=this.createList(m);
n.parentNode.insertBefore(l,n.nextSibling);
return l;
},createList:function(m){var l=this.get_window().document;
return l.createElement(m);
},isEmptyList:function(l){return l.getElementsByTagName("li").length==0;
},hasNestedLists:function(l){return l.getElementsByTagName("ul").length>0||l.getElementsByTagName("ol").length>0;
},outdentBlock:function(l,m){if(k.isTag(l,"td")){return this.executeDomCommand(a.makeArray(l.childNodes));
}var o=this.calculateOutdent(l);
var n=l.style[this.cssIndentRule];
l.style[this.cssIndentRule]=o?o+"px":"";
this.trackChangedNode({node:l,cssProperty:this.cssIndentRule,originalValue:n,isWrapper:m});
this.cleanUp();
},calculateOutdent:function(m){var l=this.getCurrentIndent(m);
var n=Math.max(l-this.options.step,0);
return n;
},getCurrentIndent:function(l){return parseInt(l.style[this.cssIndentRule],10)||0;
},isIndented:function(l){return l.style&&this.getCurrentIndent(l)>0;
},filterNodes:function(o){for(var m=0;
m<o.length;
m++){var n=o[m];
if(!this.isSuitableNode(n)){var l=this.collectFragment(n,o);
if(this.isEmptyFragment(l)){o.splice(m,1);
m--;
}}}},trackListItemsRecursively:function(m){var l=this;
a(m).find("li").each(function(){var n=l.collectTrackData(this);
l.trackChangedNode(n);
});
},cleanUp:function(){this.firstOutdentedLi=this.outdentedList=this.parentLiMarker=null;
},_isChildOfNonNestedList:function(n){var l=this;
var m=n?n.parentNode:null;
var o=k.getBlockParent(m);
if(!f(o,g)&&!l.isIndented(m)){return true;
}else{return false;
}},_executeInsertListCommand:function(n){var o=this;
var m=n[0].parentNode.nodeName;
var l=new b.InsertListCmd(o.get_editor(),{listType:m,title:m=="UL"?"InsertUnorderedList":"InsertOrderedList"});
l.nodes=n;
l.rangeMemento=o.rangeMemento;
l.executeDomCommand(n);
if("elements" in l){var p=l.elements;
p.reverse();
o._innerCommand=l.get_title();
while(p.length){o.trackChangedNode(p.pop());
}}}};
b.OutdentCommand.registerClass("Telerik.Web.UI.Editor.OutdentCommand",b.DomBlockCommandBase);
function d(l){return a(l).children("ol,ul")[0];
}function e(l){return a(l).children("li");
}function i(m,n){if(!m||!n){return;
}var l=a(m);
a(n).append(l.children("li"));
l.remove();
}})($telerik.$,Telerik.Web.UI);
(function(a,b,d,c){b.RealFontSize=function(e,f){b.RealFontSize.initializeBase(this,[e,b.InlineCommandSettings.RealFontSize,f]);
};
b.RealFontSize.prototype={getValue:function(i,e){var h=b.RealFontSize.callBaseMethod(this,"getValue",[i,e]);
if(!h){return;
}if(/px$/i.test(h)){if(!/^[0-9]+px$/i.test(h)){h=Math.round(parseFloat(h))+"px";
}}else{if(i.getComputedStyle){var f=d.isTextNode(e.startContainer)?e.startContainer.parentNode:e.startContainer,g=i.getComputedStyle(f);
if(g&&g.fontSize&&/px$/i.test(g.fontSize)){h=Math.round(parseFloat(g.fontSize))+"px";
}}else{if(/^[1-7]$/.test(h)){h=d._fontSizesToPixels(h);
}else{if(/pt$/.test(h)){h=d._pointsToPixels(h);
}}}}return h;
}};
b.RealFontSize.registerClass("Telerik.Web.UI.Editor.RealFontSize",b.InlineCommandWithValue);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,g){var b=Telerik.Web.UI;
var d=b.Editor;
var c=Telerik.Web.Browser;
var h=Telerik.Web.UI.Editor.Utils;
d.SelectAllCommand=function(i,k){var j=this.options=a.extend({window:(i&&i.get_contentWindow())||null,title:"Select All",canUnexecute:true},k||{});
d.SelectAllCommand.initializeBase(this,[j.title,j.window,j.canUnexecute,i]);
};
d.SelectAllCommand.prototype={onExecute:function(){var j=this.get_editor();
var k=e(j);
var i=j.get_contentArea();
f(j);
k.selectNodeContents(i);
k.select();
return true;
}};
function e(i){return Telerik.Web.UI.Editor.DomRange.toDomRange(i.getSelection().getRange(true));
}function f(j){var i=j.get_contentArea();
if(c.ie&&c.version<9){var l=i.firstChild;
var m=i.lastChild;
if(!h.isTextNode(l)){var k=j.get_document().createTextNode("\n");
i.insertBefore(k,i.firstChild);
}if(!h.isTextNode(m)){i.appendChild(j.whitespaceTracker.createTrackedNode());
}}}d.SelectAllCommand.registerClass("Telerik.Web.UI.Editor.SelectAllCommand",d.CommandBase);
})($telerik.$);
(function(a,b,d,c){b.StripCommand=function(f,i,h){var e=this;
var g=e.options=a.extend({title:"StripCommand"},h||{});
b.StripCommand.initializeBase(e,[f,i,g]);
};
b.StripCommand.prototype={isSameFormatNode:function(e){},removeNodeFormatting:function(e){},getState:function(){return b.CommandStates.On;
},shouldCollectNode:function(e){return true;
},getEditorRange:function(){var e=this;
return e.settings.selectAll?c:b.StripCommand.callBaseMethod(e,"getEditorRange");
},traverseFragments:function(h){var e=this;
if(e.settings.selectAll){var g=new b.FragmentContainer();
var f=e.getContentElement();
g.addAll(f.childNodes);
return[g];
}else{return b.StripCommand.callBaseMethod(e,"traverseFragments",[h]);
}},findFormattedAncestor:function(g){var e=this;
var f=g;
while(!d.isBlockElement(g)){if(e.isSameFormatNode(g)){f=g;
}g=g.parentNode;
}return f;
},removeFormat:function(f){var e=this;
while(f.length){e.removeFormat_fragment(f.shift());
}},removeFormat_extract:function(g,f,h){if(!d.isBlockElement(g)){var e=this;
e.extractFormatting(g,f,h);
e.removeSameFormatChildren(g);
e.removeNodeFormatting(g);
e.removeEmptyNode(g);
}},getSameFormatChildren:function(f){var e=this;
return a.makeArray(a(f).find("*").filter(function(h,g){return e.isSameFormatNode(g)&&!e.isMarker(g);
}));
},restoreRange:function(){var e=this;
if(e.settings.selectAll){var f=e.getContentElement();
a(f).find("."+e.getMarkersCssClass()).remove();
d.normalize(f);
}else{b.StripCommand.callBaseMethod(e,"restoreRange");
}},getContentElement:function(){var e=this;
return e.settings.contentElement||b.StripCommand.callBaseMethod(e,"getContentElement");
},_shouldCleanUpNode:function(f){var e=this;
return f&&!e.isMarker(f)&&(!d.isTextNode(f)||e.isComment(f));
},isComment:function(e){return e.nodeType==8;
}};
b.StripCommand.registerClass("Telerik.Web.UI.Editor.StripCommand",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,e,d){var c=function(){return true;
};
b.StripElementCommand=function(g,i,h){var f=this;
var j=i.tags||[];
var k=j[0]=="ALL"?"(?:[a-z]+:)?[a-z]+[1-6]?":j.join("|");
f.nodeNamesRegExp=new RegExp("^(?:"+k+")$","i");
i.exclude=i.exclude||[];
i.stripCondition=i.stripCondition||function(l){return false;
};
f.isLegacyIE=$telerik.isIE7||$telerik.isIE8;
b.StripElementCommand.initializeBase(f,[g,i,h]);
};
b.StripElementCommand.prototype={isSameFormatNode:function(g){var f=this;
return g&&(f.settings.stripCondition(g)||(f.isCommentToStrip(g)||f.isTagToStrip(g)));
},isCommentToStrip:function(g){var f=this;
return f._isStripAll()&&f.isComment(g);
},removeNodeFormatting:function(g){var f=this;
if(f.isCommentToStrip(g)){g.parentNode.removeChild(g);
}else{if(!e.isTextNode(g)&&!f.isMarker(g)){if(f.isLegacyIE){var h=e.getOuterHtml(g);
var j=h.indexOf("<");
if(/^\s+/.test(h)&&j>0){var i=h.substring(0,j);
g.parentNode.insertBefore(g.ownerDocument.createTextNode(i),g);
}}e.removeNode(g);
}}},getSameFormatChildren:function(g){var f=this;
return f._isStripAll()?e.getAllChildNodesBy(g,c):b.StripElementCommand.callBaseMethod(f,"getSameFormatChildren",[g]);
},_isNodeExcluded:function(f){return a.inArray(f.nodeName.toLowerCase(),this.settings.exclude)>=0;
},_isStripAll:function(){var f=this.settings;
return f.tags&&f.tags[0]=="ALL";
},isTagToStrip:function(g){var f=this;
return f.settings.tags&&(f.nodeNamesRegExp.test(g.nodeName)&&!e.isEditorContentArea(g)&&!f._isNodeExcluded(g));
}};
b.StripElementCommand.registerClass("Telerik.Web.UI.Editor.StripElementCommand",b.StripCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,g){var c=Telerik.Web.UI;
var b=c.Editor;
var f="style";
var d="class";
var e=" ";
b.StripStylesCommand=function(j,k,i){var h=this;
h.options=a.extend({title:"Strip CSS Command"},i||{});
b.StripStylesCommand.initializeBase(h,[j,k,h.options]);
};
b.StripStylesCommand.prototype={isSameFormatNode:function(i){var h=this;
return(i&&h._isStyledNode(i));
},removeNodeFormatting:function(j){var i=this;
var h=i._getStyleAttributes();
a(j).removeAttr(h);
},_isStyledNode:function(h){return(h&&(!!a(h).attr(f)||!!a(h).attr(d)));
},_getStyleAttributes:function(){return[d,f].join(e);
}};
b.StripStylesCommand.registerClass("Telerik.Web.UI.Editor.StripStylesCommand",b.StripCommand);
})($telerik.$);
(function(a,b,h,g){var c="\n";
var d=/[\n\r]/;
var f=/^(?:[a-z]+:[a-z]+)/i;
var e=function(){return true;
};
b.StripWordFormattingCommand=function(j,l,k){var i=this;
i.stylesToKeep=h.getCssPropertiesToKeep([l.clearValue]);
b.StripWordFormattingCommand.initializeBase(i,[j,l,k]);
};
b.StripWordFormattingCommand.prototype={isSameFormatNode:function(i){return true;
},removeNodeFormatting:function(k){var i=this;
var j=i.hasNamespace(k);
if(i.isComment(k)||((j||!h.isBlockElement(k))&&h.isNodeEmptyRecursive(k,true))){i.deleteNode(k);
}else{if(j){h.removeNode(k);
}else{if(i.isStripAllExceptNewLines()){i._stripAllExceptNewLines(k);
}else{if(!h.isTextNode(k)){if(i.isFormattedFont(k)){i.removeFontFormatting(k);
}h.clearElement(k,i.stylesToKeep);
if((h.isTag(k,"font")||h.isTag(k,"span"))&&!h.hasAttributes(k)){h.removeNode(k);
}}}}}},removeFormat:function(k){var i=this;
while(k.length){var j=k.shift();
i._isPlainText=h.every(j.nodes,function(l){return h.isTextNode(l)||h.isTag(l,"br")||i._isTabSpan(l);
});
i.removeFormat_fragment(j);
}},_isTabSpan:function(i){return h.isTag(i,"span")&&i.style["white-space"]=="pre"&&i.childNodes.length==1&&/^[\t]+$/.test(i.firstChild.nodeValue);
},_trimRegExp:/(^[\n\r\t]+)|([\n\r\t]+$)/g,_stripAllExceptNewLines:function(j){if(h.isTag(j,"br")){return;
}var i=this;
if(h.isBlockElement(j)){i._stripBlockElement(j);
}else{if(!h.isTextNode(j)){i.removeNode(j);
}else{if(i.hasNewLineCharacter(j)){i._insertNewLineNodes(j);
}else{if(d.test(j.nodeValue)){if(h.isTextNodeEmpty(j)&&!/\xA0/.test(j.nodeValue)){i.deleteNode(j);
}else{j.nodeValue=j.nodeValue.replace(i._trimRegExp," ");
}}}}}},_inlineBlocksDelimiter:" ",_stripBlockElement:function(i){var j=this;
var l=j._isInlineBlock(i);
var n=i.parentNode;
var k=i.ownerDocument;
if(l){if(a(i).next().length){i.appendChild(k.createTextNode(j._inlineBlocksDelimiter));
}}else{if(h.isList(i)&&j._isIndented(i)){j._removeIndenting(i);
}var o=j._getSibling(i,"previousSibling");
var m=j._getSibling(i,"nextSibling");
if(o){n.insertBefore(k.createElement("br"),i);
}if(m){n.insertBefore(k.createElement("br"),m);
}}j.removeNode(i);
},_isInlineBlock:function(i){return h.isTag(i,"td")||h.isTag(i,"th");
},_getSibling:function(k,j){var i=this;
var l=k[j];
while(l&&!i._isValuable(l)){l=l[j];
}return i._isValuable(l)&&!i.isMarker(l)&&!h.isTag(l,"br")?l:g;
},_isValuable:function(j){var i=this;
return j&&!(h.isTextNode(j)&&h.isTextNodeEmpty(j))&&!i.isComment(j);
},_indentingRegExp:/\n\s+$/,_isIndented:function(i){var j=i.previousSibling;
return h.isTextNode(j)&&!h.isTextNodeEmpty(j)&&this._indentingRegExp.test(j.nodeValue);
},_removeIndenting:function(i){var j=i.previousSibling;
j.nodeValue=j.nodeValue.replace(this._indentingRegExp,"");
},removeNode:function(j){var i=this;
if(h.isTag(j,"style")||h.isTag(j,"script")){j.parentNode.removeChild(j);
}else{if(i.settings.deleteWhitespaceNodes&&j.nodeType==1&&h.canHaveChildren(j)&&h.isNodeEmptyRecursive(j)&&!(h.isList(j)&&i._isValuable(j.firstChild))){i.deleteNode(j);
}else{h.removeNode(j);
}}},deleteNode:function(i){if(i.nodeType==1&&!h.isBlockElement(i)&&i.childNodes.length==1&&!d.test(i.innerHTML)){h.removeNode(i);
}else{if(!(this._isPlainText&&this._isTabSpan(i.parentNode))){i.parentNode.removeChild(i);
}}},findFormattedAncestor:function(k){var i=this;
var j;
while(k&&!h.isBlockElement(k)){if(i.hasMsWordAttribute(k)){j=k;
}k=k.parentNode;
}return j;
},getSameFormatChildren:function(i){return h.getAllChildNodesBy(i,e);
},hasMsWordAttribute:function(l){var j=h.msWordAttrRegExp;
var m=l.getAttribute?l.getAttribute("style"):g;
m=(typeof m=="object"&&l.style&&l.style.cssText)?l.style.cssText:m;
if(m&&typeof m=="string"&&j.test(m)){return true;
}var i=l.nodeType==1?h.getDefinedAttributes(l):{};
for(var k in i){if(k!="href"&&k!="src"&&(j.test(k)||j.test(i[k]))){return true;
}}return false;
},isFormattedFont:function(i){return this.settings.clearValue=="WORD_NO_FONTS"&&h.isTag(i,"font")&&(i.getAttribute("face")||i.getAttribute("color"));
},removeFontFormatting:function(i){a(i).removeAttr("face color");
},hasNewLineCharacter:function(i){return this._isPlainText&&i.nodeType&&i.nodeType==3&&!h.isTextNodeEmpty(i)&&i.nodeValue.indexOf(c)>=0;
},hasNamespace:function(i){return f.test(i.nodeName)||("scopeName" in i&&i.scopeName!="HTML");
},isStripAllExceptNewLines:function(){return this.settings.clearValue=="ALL_NO_BRAKES";
},shouldStripMargins:function(i){return this.settings.clearValue=="WORD_NO_MARGINS"&&(i.style.marginLeft||i.style.marginRight||i.style.marginTop||i.style.marginBottom);
},_shouldCleanUpNode:function(j){var i=this;
if(i.isMarker(j)){return false;
}return j&&b.StripWordFormattingCommand.callBaseMethod(i,"_shouldCleanUpNode",[j])||(i.isStripAllExceptNewLines()&&!h.isTag(j,"br")||i.hasNewLineCharacter(j));
},_insertNewLineNodes:function(l){var m=l.nodeValue;
m=m.replace(/^\s+/,"").replace(/\s+$/,"").replace(/\r/ig,"");
var k=m.lastIndexOf(c);
var j=l.ownerDocument;
while(k>0){l.nodeValue=m.substring(k+1,m.length);
var n=j.createTextNode(m.substring(0,k));
var i=j.createElement("br");
l.parentNode.insertBefore(i,l);
l.parentNode.insertBefore(n,i);
m=n.nodeValue;
k=m.lastIndexOf(c);
l=n;
}}};
b.StripWordFormattingCommand.registerClass("Telerik.Web.UI.Editor.StripWordFormattingCommand",b.StripCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,c,j){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=c.Editor;
var g=document;
var h="touchmove";
var e="gesturestart";
var k=".reCancelZoom";
var i=h+k;
var f=e+k;
var d=$telerik.cancelRawEvent;
b.ToggleScreenMode=function(l){var m={window:l?l.get_contentWindow():j,title:"ToggleScreenMode",canUnexecute:j};
b.ToggleScreenMode.initializeBase(this,[m.title,m.window,m.canUnexecute,l]);
};
b.ToggleScreenMode.prototype={onExecute:function(){var l=this;
var m=l.getState();
if(m==b.CommandStates.On){l.leaveFullScreen();
}else{if(m==b.CommandStates.Off){l.enterFullScreen();
}}return true;
},enterFullScreen:function(){var m=this;
var n=m.get_editor();
var q=n.get_toolAdapter();
var o=n.get_element();
var p=o.style;
var l=g.body;
m._hide(n.get_headerContainer());
m._show(n.get_headerToolsContainer());
m._show(n.get_toolContainer());
n._initialStyles={width:p.width,height:p.height,bodyScrollTop:l.scrollTop,bodyScrollLeft:l.scrollLeft};
a(l.parentNode).addClass("rePreventScrolling");
a(o).addClass("reFullScreen");
m._setCss(o,{width:"",height:""});
l.scrollLeft=0;
l.scrollTop=0;
n.set_editable(true);
n._isFullScreen=true;
m._setDocumentScrollInterval();
n._documentScrollTop=a(o.ownerDocument).scrollTop();
m._disableZoom();
if(q&&q.showKeyboard){q.showKeyboard();
n.focusFirstText();
}},leaveFullScreen:function(){var m=this;
var n=m.get_editor();
var q=n.get_toolAdapter();
var o=n.get_element();
var l=g.body;
if(n.get_mode()===c.EditModes.Html){n.set_mode(c.EditModes.Design);
}m._clearDocumentScrollInterval();
m._show(n.get_headerContainer());
m._hide(n.get_headerToolsContainer());
m._hide(n.get_toolContainer());
if(n.findReplaceManager){n.findReplaceManager.hide();
}a(l.parentNode).removeClass("rePreventScrolling");
a(o).removeClass("reFullScreen");
if(q.isEditEnabled&&q.isEditEnabled()){n.fire("MobileEdit");
}if(q.hideKeyboardPermanent){q.hideKeyboardPermanent();
}var p=n._initialStyles;
if(p){m._setCss(o,{width:p.width,height:p.height});
l.scrollTop=p.bodyScrollTop;
l.scrollLeft=p.bodyScrollLeft;
}n.set_editable(false);
n._isFullScreen=false;
n._attachEnterFullScreenMobileHandler(true);
m._enableZoom();
},_disableZoom:function(){var l=this;
var m=a(l._getZoomElements());
m.on(i,"*",l._cancelMultiTouchHandler);
m.on(f,"*",d);
},_enableZoom:function(){var l=this;
var m=a(l._getZoomElements());
m.off(i,"*",l._cancelMultiTouchHandler);
m.off(f,"*",d);
},_getZoomElements:function(){var l=this.get_editor().get_document();
return g===l?[g]:[g,l];
},_cancelMultiTouchHandler:function(m){var l=m.originalEvent;
if(l.touches&&l.touches.length>1){return d(l);
}},getState:function(m,l){l=l||this.get_editor();
return l&&l._isFullScreen?b.CommandStates.On:b.CommandStates.Off;
},_show:function(l){this._setCss(l,{display:""});
},_hide:function(l){this._setCss(l,{display:"none"});
},_setCss:function(l,m){a(l).css(m);
},_setDocumentScrollInterval:function(){var m=this.get_editor();
var l=a(document).scrollTop();
m._documentScrollTopInterval=window.setInterval(function(){if(a(document).scrollTop()!=l){a(document).scrollTop(l);
}},15);
},_clearDocumentScrollInterval:function(){window.clearInterval(this.get_editor()._documentScrollTopInterval);
}};
b.ToggleScreenMode.registerClass("Telerik.Web.UI.Editor.ToggleScreenMode",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
(function(a,g){var b=Telerik.Web.UI;
var c=b.Editor;
var h=c.Utils;
var e=h.isTag;
var f={tag:"a",altTags:[],isNotGreedy:true};
c.UnlinkCommand=function(i,j){c.UnlinkCommand.initializeBase(this,[i,f,j]);
};
c.UnlinkCommand.prototype={getStateByRange:function(l,j){var m=c.CommandStates;
if(!l){return m.Disabled;
}var i=j.get_contentArea();
var n=this.settings.tag;
var k=false;
if(l.isCollapsed()){k=h.findAncestorByTag(i,l.commonAncestorContainer,n)!=i;
}else{k=h.someInRange(l,d(i));
}return k?m.Off:m.Disabled;
},shouldRemoveFormatting:function(){return true;
},isSameTagFormat:function(i){return h.isTag(i,this.settings.tag);
},removeNodeFormatting:function(i){h.removeNode(i);
}};
function d(j){var k=f.tag;
var i=h.canHaveChildren;
return function(m){var l=i(m)&&!!m.childNodes.length;
return e(m,k)||(h.findAncestorByTag(j,m,k)!=j)||(l&&m.getElementsByTagName(k).length>0);
};
}c.UnlinkCommand.registerClass("Telerik.Web.UI.Editor.UnlinkCommand",c.InlineCommand);
})($telerik.$);
(function(a,b,f){var e="__telerik_marker",g=b.Utils;
b.Consolidator=function(h){this.options=a.extend({nodeCompare:c},h||{});
};
b.Consolidator.prototype={consolidateMarkedEdges:function(i){var h=this;
var j=this._getMarkers(i);
if(j[0]){h.consolidateOverMarker(j[0]);
}if(j[1]){h.consolidateOverMarker(j[1]);
}},stichMarkedEdges:function(h){var i=this._getMarkers(h);
this.stichMarkers(i[0],i[1]);
},stichMarkers:function(i,h){if(!i||!h){return;
}this.stichCommonAncestor=g.findCommonAncestor(i,h);
this._stichMarkersRecurse(i,h);
},_stichMarkersRecurse:function(m,j){var h=this;
var i=h.stichCommonAncestor;
var l=h.options.nodeCompare;
var n=g.findAncestorUntil(i,m);
var k=g.findAncestorUntil(i,j);
if((n===m)||(k===j)||(n===k)){delete h.stichCommonAncestor;
return;
}if(l(n,k)){d(k,n);
h.stichCommonAncestor=n;
h._stichMarkersRecurse(m,j);
}},consolidateOverMarker:function(i){var h=this;
var k=h.options.nodeCompare;
var l=i.previousSibling,j=i.nextSibling;
if(k(l,j)){l.appendChild(i);
while(j.firstChild){l.appendChild(j.firstChild);
}j.parentNode.removeChild(j);
h.consolidateOverMarker(i);
}},normalizeTextEdge:function(i,l,h){var k=i.previousSibling,j=i.nextSibling;
if(g.isTextNode(k)&&g.isTextNode(j)&&k.nodeType===j.nodeType){l[h?"setStart":"setEnd"](k,k.nodeValue.length);
this.mergeTextToStart(k,j);
i.parentNode.removeChild(i);
return true;
}return false;
},normalize:function(h){g.normalize(h);
},mergeTextToStart:function(h,i){h.nodeValue+=i.nodeValue;
i.parentNode.removeChild(i);
return h;
},mergeTextNodes:function(i,h){h.nodeValue=i.nodeValue+h.nodeValue;
i.parentNode.removeChild(i);
return h;
},_getMarkers:function(h){return a("."+e,h);
}};
b.Consolidator.registerClass("Telerik.Web.UI.Editor.Consolidator");
function d(i,h){while(i.firstChild){h.appendChild(i.firstChild);
}if(i.parentNode){i.parentNode.removeChild(i);
}}function c(h,i){if(!h||!i||!h.parentNode||!i.parentNode||g.isTextNode(h)){return false;
}return b.NodeComparer.equalNodes(h,i);
}b.NodeComparer={equalNodes:function(h,i){return this.equalTag(h,i)&&this.equalStyle(h,i)&&this.equalAttributes(h,i);
},equalTag:function(h,i){return g.isTag(h,i.tagName);
},equalStyle:function(h,i){return h.style&&i.style&&h.style.cssText==i.style.cssText;
},equalAttributes:function(h,j,m){var i=this._collectAttributes(h,m),k=this._collectAttributes(j,m);
if(i.length!==k.length){return false;
}delete i.length;
delete i.style;
delete i.timestamp;
delete i.title;
for(var l in i){if(i[l]!==k[l]){return false;
}}return true;
},_collectAttributes:function(h,i){return i&&i.length>0?g.getAttributes(h,i):g.getDefinedAttributes(h);
}};
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,b,i){var d=Telerik.Web.BrowserFeatures;
var c=/<!--(.*?)-->/g;
var g="__telerik_htmlComment_marker";
var h="."+g;
var f="<span id='{0}' class='"+g+"'>&nbsp;</span>";
var e="__telerik_comment_marker";
b.HtmlCommentsStorage=function(){this.index=0;
this.comments={};
};
b.HtmlCommentsStorage.prototype={markComments:function(j){var k=this;
j=j.replace(c,function(n,l){var m=k.nextMarker();
k.storeComment(l);
return m;
});
return j;
},restoreComments:function(j){var l=this;
var k=a(j).find(h);
k.each(function(p,q){var r=q.parentNode;
var o=r.ownerDocument;
var n=l.getCommentContent(q.id);
var m=o.createComment(n);
r.insertBefore(m,q);
r.removeChild(q);
});
},shouldStoreComments:function(){return !d.readsHtmlComments;
},nextMarker:function(){this.index+=1;
var j=this.getId();
return String.format(f,j);
},storeComment:function(j){this.comments[this.getId()]=j;
},getCommentContent:function(j){return this.comments[j];
},getId:function(){return e+this.index;
}};
b.HtmlCommentsStorage.registerClass("Telerik.Web.UI.Editor.HtmlCommentsStorage");
d.addTest("readsHtmlComments",function(){var k=document.createElement("div");
k.innerHTML="<!--[if !IE]>--><!--<![endif]-->";
var j=(k.innerHTML.length>0);
k=i;
return j;
});
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,b,d){var e=b.Utils;
var c=e.isTag;
b.InnerListDeleteCleanUp=function(f){this.editor=f;
};
b.InnerListDeleteCleanUp.prototype={cleanUp:function(){var i=this.getRange();
if(!i||!i.isCollapsed()){return;
}var h=this.findListItemNode(i.startContainer);
if(!h){return;
}var f=h.parentNode;
if(this.isList(f.parentNode)){var g=f.previousSibling;
if(g){f.previousSibling.appendChild(f);
i.select();
}}},getRange:function(){var f=this.editor.getSelection().getRange(true);
return b.DomRange.toDomRange(f);
},findListItemNode:function(h){var g=h;
var f=this.editor.get_contentArea();
if(e.isTextNode(g)){g=e.findAncestorByTag(f,g,"li");
if(!c(g,"li")||g===f){return null;
}}return c(g,"li")&&g;
},isList:function(f){return c(f,"ul")||c(f,"ol");
}};
b.InnerListDeleteCleanUp.registerClass("Telerik.Web.UI.Editor.InnerListDeleteCleanUp");
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI.Editor;
b.JSHrefStorage=function(){this.hrefs=[];
};
b.JSHrefStorage.prototype={storeHrefs:function(e){var d=a(e).find("a");
this.hrefs=d.map(function(){return this.href;
});
},restoreHrefs:function(f){var e=a(f).find("a");
var h=this.hrefs;
for(var j=0,d=h.length;
j<d;
j++){var g=h[j];
if(/^javascript:/i.test(g)){e[j].href=g;
}}this.hrefs=[];
}};
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,h,g){var d="div,table,ol,ul,h1,h2,h3,h4,h5,h6,hr";
var f="p";
var c="a";
var e=Telerik.Web.Browser;
b.NestedElementsFix=function(i,k,j){this.context=i?i:null;
this.selection=k?k:null;
};
b.NestedElementsFix.prototype={applyFix:function(i){var j=this;
j.blockElements=i||j.getBlockElements();
j._fixNestedParagraphs();
j._unwrapBlockElements();
},getBlockElements:function(){var k=this.context;
var i=a(k).find(d);
var j=this._getParagraphs(k);
i=i.add(j);
return a.makeArray(i);
},set_context:function(i){this.context=i;
},_fixNestedParagraphs:function(){var l=this.context;
var o=null;
if(h.isEditorContentArea(l)){o=l.getElementsByTagName(f);
}else{var p=this._getParentBlockElement(l);
if(h.isTag(p,f)){o=[p];
}}if(!o){return;
}for(var m=o.length-1;
m>=0;
m--){var q=o[m],k=this._getParagraphs(q);
for(var n=k.length-1;
n>=0;
n--){this._unwrapElement(k[n],q);
}if(k.length&&h.isNodeEmptyRecursive(q)){this._removeBlockElement(q);
}}},_unwrapBlockElements:function(){var m=this;
var j=m.blockElements;
while(j.length){var i=j.pop();
var l=m._getParentBlockElement(i.parentNode);
var k;
if(l&&/^P|H[1-6]$/.test(l.nodeName)){m._unwrapElement(i,l);
k=true;
}var n=m._getLastInvalidWrapper(i);
if(n){m._unwrapElement(i,n);
if(a(n).is(c)){m._wrapContentInInlineElement(i,n);
k=true;
}}if(m._shouldRemoveBlockElement(l,k)){m._removeBlockElement(l);
}}},_wrapContentInInlineElement:function(i,j){var k=j?j.cloneNode(false):null;
a(i).wrapInner(k);
},_shouldRemoveBlockElement:function(i,j){if(!j||!i){return false;
}var k=i.nodeName?i.nodeName.toLowerCase():null;
if(!/^li|td|th$/.test(k)&&h.isNodeEmptyRecursive(i)&&!a(i).find("ol,ul,table").length){return true;
}return false;
},_getParagraphs:function(j){var i=a(j).find(f).filter(function(k){return !h.getElementParentByRegExpTagName(this,/th|td|table|li/i);
});
return i;
},_removeBlockElement:function(j){var i=this.blockElements,k=Array.indexOf(i,j);
if(k!=-1){i.splice(k,1);
}a(j).remove();
},_unwrapElement:function(j,n){var m=this;
var k=new b.DomTreeExtractor(n),l=k.extractAfter(j);
if(!this._isFragmentEmpty(l)){var i=n.cloneNode(true);
h.removeChildren(i);
a(i).insertAfter(n);
i.appendChild(l);
if(h.isBlockElement(i)){m.blockElements.push(i);
}}a(j).insertAfter(n);
if(this.selection){this.selection._fireEvent("pasteBlockElement",j);
}},_isFragmentEmpty:function(l){for(var m=0;
m<l.childNodes.length;
m++){var k=l.childNodes[m];
var n=h.isTextNode(k);
var j=!n&&h.canHaveChildren(k);
if(n){if(!h.isTextNodeEmpty(k)){return false;
}}else{if(j){if(!h.isNodeEmptyRecursive(k)){return false;
}}else{return false;
}}}return true;
},_shouldUnwrapNode:function(i){if(h.isBlockElement(i)){return false;
}return !h.isTag(i,"ins")&&!h.isTag(i,"del");
},_getParentBlockElement:function(i){var j=h.getBlockParentUntil(i,h.isEditorContentArea);
if(h.isEditorContentArea(j)){return null;
}return j;
},_getLastInvalidWrapper:function(i){var j=i;
while(j&&this._shouldUnwrapNode(j.parentNode)){j=j.parentNode;
}return j==i?null:j;
}};
b.NestedElementsFix.registerClass("Telerik.Web.UI.Editor.NestedElementsFix",null);
b.DeleteFix=function(i){this.editor=i;
};
b.DeleteFix.prototype={applyFix:function(i){var k=this;
var j=k._getRange();
if(!j.collapsed||j.startOffset!=0){return;
}if(e.ff){if(k.fixDeleteEmptyBlock(i,j)){return;
}}if(e.ie){k.fixDeleteFirstListItem(i,j);
}if(!e.ie){k.fixDeleteInBeginningOfListItem(i,j);
}},fixDeleteEmptyBlock:function(k,m){var n=this;
var j=n._getParentBlockElement(m.startContainer);
if(!j||h.isTag(j,"td")||h.isTag(j,"th")||!n._isEmpty(j)){return;
}var l=k.keyCode==8;
var i=n._getBlockSibling(j,l);
if(!i){return;
}m.selectNodeContents(i);
m.collapse(!l);
m.select();
a(j).remove();
k.preventDefault();
return true;
},fixDeleteFirstListItem:function(i,n){var o=n.startContainer;
if((h.isTextNode(o)||h.isTag(o,"li"))){var m=h.isBlockElement(o)?o:h.getBlockParent(o);
var l=h.isTag(m,"li")?m:g;
if(l&&!h.getPreviousElement(l)&&(o==l||h.isNodeAtStart(o,l))){var j=this.editor;
if(!l.childNodes.length){var p=l.ownerDocument.createTextNode("\u200b");
l.appendChild(p);
j.nodesTracker.trackNode(p);
h._setCursorInTextNode(n,p,0,0);
}var k=new b.InsertListCmd(j,{listType:l.parentNode.nodeName});
j.executeCommand(k,g,true);
$telerik.preventDefault(i);
}}},fixDeleteInBeginningOfListItem:function(l,u){var w=this;
var v=u.startContainer;
var i=w._getParentBlockElement(v);
var p=l.keyCode==46;
var j=b.RangeEdges.commonNode(u);
var o=i&&h.isNodeEmptyRecursive(i)||(h.isTag(j,"br")&&h.isNodeAtStart(j,i)&&h.isNodeAtStart(j,i,true));
if(!h.isTag(i,"li")||!h.isNodeAtStart(v,i)||(p&&!o)){return;
}var k=i;
var r=k.parentNode;
var q=a(r).children();
var m=q.index(k);
var n=l.keyCode==Sys.UI.Key.backspace;
if(m==0){if(!n){return;
}var s=new b.OutdentCommand(w.editor);
s.onExecute();
}else{var t=q.get(m-1);
h.appendChildren(t,k);
r.removeChild(k);
if(!a.contains(r,v)){u.selectNodeContents(t);
u.collapse(false);
}u.select();
}$telerik.preventDefault(l);
},_getRange:function(){return new b.DomRange(this.editor.getSelection().getRange(true));
},_getParentBlockElement:function(i){var j=h.isBlockElement(i)?i:h.getBlockParent(i);
return j&&!h.isEditorContentArea(j)?j:g;
},_getBlockSibling:function(j,k){var i=a(j)[k?"prev":"next"]().get(0);
return h.isBlockElement(i)?i:g;
},_isEmpty:function(l){var i=l.childNodes;
var j=i?i.length:0;
var k=l.firstChild;
if(j>1){return false;
}else{if(!k||(j==1&&h.isTag(k,"br"))){return true;
}else{if(j==1&&h.isTextNode(k)&&!h.isTextNodeEmpty(k)){return false;
}else{if(j==1&&h.canHaveChildren(k)){return this._isEmpty(k);
}}}}return false;
}};
b.DeleteFix.registerClass("Telerik.Web.UI.Editor.DeleteFix",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,n){var c=Telerik.Web.UI;
var b=c.Editor;
var o=b.Utils;
var i=window;
var m="ToggleEditMode";
var h="FONT";
var l="SPAN";
var d="ALL";
var g="CSS";
var e="ALL_NO_BRAKES";
var p="WORD";
var q="WORD_ALL";
var f=Telerik.Web.Browser;
var j=function(r){return o.isTag(r,"td")||o.isTag(r,"th");
};
var k=function(r){return r?r+"px":"";
};
Telerik.Web.UI.Editor.UpdateCommandsArray={InsertOrderedList:new b.InsertListCmd(null,{listType:"ol"}),InsertUnorderedList:new b.InsertListCmd(null,{listType:"ul"}),Unlink:new b.UnlinkCommand(),Bold:new b.BoldCommand(),Italic:new b.ItalicCommand(),Underline:new b.UnderlineCommand(),StrikeThrough:new b.StrikeThroughCommand(),Subscript:new b.SubscriptCommand(),Superscript:new b.SuperscriptCommand(),ForeColor:new b.ForeColorCommand(),BackColor:new b.BackColorCommand(),FontName:new b.FontName(null,{title:"FontName"}),RealFontSize:new b.RealFontSize(null,{title:"RealFontSize"}),FontSize:new b.BrowserCommand(null,null,"FontSize",null),Paste:new b.BrowserCommand(null,null,"Paste",null),Cut:new b.BrowserCommand(null,null,"Cut",null),Copy:new b.BrowserCommand(null,null,"Copy",null),JustifyLeft:new b.AlignCommand(null,{align:"left"}),JustifyRight:new b.AlignCommand(null,{align:"right"}),JustifyCenter:new b.AlignCommand(null,{align:"center"}),JustifyNone:new b.AlignCommand(null,{align:"none"}),JustifyFull:new b.AlignCommand(null,{align:"justify"}),Indent:new b.IndentCommand(null),Outdent:new b.OutdentCommand(null),AbsolutePosition:new b.BrowserCommand(null,null,"AbsolutePosition",null),FormatBlock:new b.FormatBlockCommand(null,null,null,null),FormatSets:new b.FormatSetsCommand(null,null,null,null),InsertRowAbove:new b.TableInsertRow(null,null,"above",null),InsertRowBelow:new b.TableInsertRow(null,null,"below",null),InsertColumnLeft:new b.TableInsertColumn(null,null,"left",null),InsertColumnRight:new b.TableInsertColumn(null,null,"right",null),DeleteRow:new b.TableDeleteRow(null,null,null),DeleteColumn:new b.TableDeleteColumn(null,null,null),DeleteCell:new b.TableDeleteCell(null,null,null),DeleteSelection:new b.DeleteSelectionCommand(),MergeColumns:new b.TableMergeColumns(null,null,null),MergeRows:new b.TableMergeRows(null,null,null),SplitCell:new b.TableSplitCell(null,null,"vertical",null),SplitCellHorizontal:new b.TableSplitCell(null,null,"horizontal",null),ApplyClass:new b.ClassNameCommand(null,null,null),FindAndReplace:new b.FindReplaceCommand(),TopLeftCellAlign:new b.AlignCommand(null,{align:"left",valign:"top",isSuitableNode:j}),TopCenterCellAlign:new b.AlignCommand(null,{align:"center",valign:"top",isSuitableNode:j}),TopRightCellAlign:new b.AlignCommand(null,{align:"right",valign:"top",isSuitableNode:j}),MiddleLeftCellAlign:new b.AlignCommand(null,{align:"left",valign:"middle",isSuitableNode:j}),MiddleCenterCellAlign:new b.AlignCommand(null,{align:"center",valign:"middle",isSuitableNode:j}),MiddleRightCellAlign:new b.AlignCommand(null,{align:"right",valign:"middle",isSuitableNode:j}),BottomLeftCellAlign:new b.AlignCommand(null,{align:"left",valign:"bottom",isSuitableNode:j}),BottomCenterCellAlign:new b.AlignCommand(null,{align:"center",valign:"bottom",isSuitableNode:j}),BottomRightCellAlign:new b.AlignCommand(null,{align:"right",valign:"bottom",isSuitableNode:j}),NoCellAlign:new b.AlignCommand(null,{align:"none",valign:"none",isSuitableNode:j})};
Telerik.Web.UI.Editor.CommandList=new (function(){var s=this;
this.getCallbackFunction=function(B,C){return(B&&B._callbackFunction&&typeof(B._callbackFunction)=="function")?B._callbackFunction:C;
};
this.AjaxSpellCheck=function(C,E,B){if(E.get_enableImmutableElements()){Telerik.Web.UI.Editor.Utils.replaceImmutableElements(E);
}function D(){if(!E.get_ajaxSpellCheck()){var L={editor:E};
var J=document.createElement("div");
var K=$create(Telerik.Web.UI.Editor.AjaxSpellCheck,L,null,null,J);
var M=K.get_element();
var N=$get(E.get_id()+"Top");
if(N){N.appendChild(M);
K.add_spellCheckEnd(Function.createDelegate(this,function(){if(E.get_enableImmutableElements()){Telerik.Web.UI.Editor.Utils.restoreImmutableElements(E);
}E.repaint();
}));
}E.set_ajaxSpellCheck(K);
}var I=E.get_ajaxSpellCheck();
if(B&&B.value){I.set_language(B.value);
}I.spellCheck();
}function F(I){var J=I.get_responseData();
$telerik.evalScriptCode(J);
D();
}if(typeof(Telerik.Web.UI.Editor.AjaxSpellCheck)=="undefined"){var G=E.get_ajaxSpellCheckScriptReference();
var H=new Sys.Net.WebRequest();
H.set_url(G);
H.set_httpVerb("GET");
H.add_completed(F);
H.invoke();
}else{D();
}return false;
};
this.ModuleManager=function(C,D,B){var G=B.value;
var F=D.get_modulesManager();
if(!F){return false;
}var E=F.getModuleByName(G);
if(E){E.toggleVisibility();
D._sizer.moduleToggleVisibility(E.get_visible());
}return false;
};
this.ToggleScreenMode=function(C,D,B){D.toggleScreenMode();
return false;
};
this.InsertRowAbove=this.InsertRowBelow=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableInsertRow(D.getLocalizedString(C),null,C=="InsertRowAbove"?"above":"below",D));
};
this.InsertColumnLeft=this.InsertColumnRight=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableInsertColumn(D.getLocalizedString(C),null,C=="InsertColumnLeft"?"left":"right",D));
};
this.DeleteRow=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableDeleteRow(D.getLocalizedString(C),null,D));
};
this.DeleteColumn=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableDeleteColumn(D.getLocalizedString(C),null,D));
};
this.DeleteCell=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableDeleteCell(D.getLocalizedString(C),null,D));
};
this.MergeColumns=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableMergeColumns(D.getLocalizedString(C),null,D));
};
this.MergeRows=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableMergeRows(D.getLocalizedString(C),null,D));
};
this.SplitCell=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableSplitCell(D.getLocalizedString(C),null,"vertical",D));
};
this.SplitCellHorizontal=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableSplitCell(D.getLocalizedString(C),null,"horizontal",D));
};
this.DeleteTable=function(C,D,B){var E=B.value;
if(!E){E=D.getSelectedElement();
}if(E&&"TABLE"!=E.tagName){E=Telerik.Web.UI.Editor.Utils.getElementParentByTag(E,"TABLE");
}if(E){if(!D.get_enableTrackChanges()||D.get_enableTrackChangesOverride()){var F=D.getDomRange();
F.setStartBefore(E);
F.collapse(true);
a(E).remove();
F.select();
}else{var G=D.getSelection();
Telerik.Web.UI.Editor.TrackChangesUtils.wrapElementInTrackChangeDelete(G.getParentElement(),D.get_author());
}}};
this.InsertFormForm=this.InsertFormButton=this.InsertFormCheckbox=this.InsertFormHidden=this.InsertFormImageButton=this.InsertFormPassword=this.InsertFormRadio=this.InsertFormReset=this.InsertFormSubmit=this.InsertFormTextarea=this.InsertFormText=function(C,D,B){var F=C.substring(10);
var E=new Telerik.Web.UI.EditorCommandEventArgs(C,B.get_tool(),F);
D.fire("InsertFormElement",E);
};
this.StripAll=this.StripCss=this.StripFont=this.StripSpan=this.StripWord=function(C,D,B){var F=C.substring(5);
var E=new Telerik.Web.UI.EditorCommandEventArgs(C,B.get_tool(),F.toUpperCase());
D.fire("FormatStripper",E);
};
this.FormatStripper=function(D,F,B){var C=B.value;
var G=F._filtersManager.getFilterByName("ConvertFontToSpanFilter");
if(F.get_mode()==Telerik.Web.UI.EditModes.Design&&C==l&&G&&G.get_enabled()){C=h;
}F.setFocus();
var I=true;
try{var J=new b.DomRange(F.getSelection().getRange(true),{preventCalculateEdges:true});
I=J._isBrowserRangeCollapsed();
}catch(E){}var H=new b.GenericCommand(F.getLocalizedString(D)+" "+C,F.get_contentWindow(),F);
var L;
if(C==q){L=new b.StripElementCommand(F,{tags:[h],selectAll:I,isNotGreedy:true});
L.onExecute();
C=p;
}var K={selectAll:I,tags:[C],clearValue:C,isNotGreedy:true,deleteWhitespaceNodes:C==e};
var M=C===g?"StripStylesCommand":C==h||C==l||C==d?"StripElementCommand":"StripWordFormattingCommand";
L=new b[M](F,K);
L.onExecute();
F.executeCommand(H);
};
this.InsertTable=function(C,D,B){var G=B.value;
if(G){var E=Telerik.Web.UI.Editor.Utils.createTable(G.rows,G.cols);
A(E,G);
var F=Telerik.Web.UI.Editor.Utils.getOuterHtml(E);
D.pasteHtml(F,C);
}};
this.InsertTableDialog=function(D,E,B){var C=b.CommandList.getCallbackFunction(B,function(G,F){E.fire("InsertTable",F);
});
E.showDialog("InsertTable",null,C);
return false;
};
this.MobileTableProperties=function(D,E,B){var G=b.CommandList._getParentTable(E);
if(!G){alert(E.getLocalizedString("tablewarning"));
return false;
}var F=function(I){return parseInt(I,10);
};
var H={width:F(G.style.width),height:F(G.style.height),padding:F(G.getAttribute("cellpadding")),spacing:F(G.getAttribute("cellspacing"))};
var C=b.CommandList.getCallbackFunction(B,function(J,I){var K=I.value;
Telerik.Web.UI.Editor.CommandList._updateTableDimensions(G,K);
A(G,K);
});
E.showDialog("MobileTableProperties",H,C);
return false;
};
this._updateTableDimensions=function(C,B){var E=o.getUnitName(C.style.width);
C.style.width=o.toUnit(B.width,E);
var D=o.getUnitName(C.style.height);
C.style.height=o.toUnit(B.height,D);
};
this.TableBorder=function(E,F,C){var B=b.CommandList;
var D=B._getTableArgument(F,1,false,true);
if(E=="TableBorder"&&!D){alert(F.getLocalizedString("tablewarning"));
return false;
}var G=B._getParentTable(F);
return r(F,G,D,C);
};
this.CellBorder=function(E,F,C){var B=b.CommandList;
var D=B._getTableArgument(F,2,false,true);
var G=$telerik.isFirefox&&F.get_contentWindow().getSelection().rangeCount>1;
if(!D||G){alert(F.getLocalizedString("cellwarning"));
return false;
}return r(F,D.cellToModify,D,C);
};
this.ImageBorder=function(D,F,B){var E=F.getSelectedElement();
if(!E||!o.isTag(E,"img")){return false;
}var C=new Telerik.Web.UI.EditorCommandEventArgs(D,null,E);
return r(F,E,C,B);
};
function r(E,F,D,B){var G=F;
var C=b.CommandList.getCallbackFunction(B,function(I,H){var J=H.get_value(),K=J.borderWidth;
if(K+""==="0"||K=="0px"){K="";
}a(G).css({"border-width":K,"border-style":J.borderStyle,"border-color":J.borderColor});
});
D.value=G;
b.CommandList._getDialogArguments(D,G.tagName,E,B.get_commandName());
E.showDialog("Border",D,C);
return false;
}function w(C){var D=C.getSelectedElement();
var B=o.isBlockElement(D)?D:o.getBlockParent(D);
return o.isBlockElement(B)?B:null;
}function x(C,D,B){var E=(o.isTag(C,"TD")||o.isTag(C,"TH"))?C:o.getElementParentByTag(C,"TD")||o.getElementParentByTag(C,"TH");
if(E){o[D?"MoveToPreviousCell":"MoveToNextCell"](E,B);
return true;
}return false;
}function A(C,D){var B=function(E,F){if(F){C.setAttribute(E,F);
}else{C.removeAttribute(E);
}};
B("cellpadding",D.padding);
B("cellspacing",D.spacing);
}this.InsertShiftTab=function(C,D,E){var B=w(D);
if(!x(B,true,D)){if(f.webkit){D._focusLastVisibleTool();
}else{D.bubbleKeyEventToBrowser();
}}return false;
};
this.InsertTabMozilla=function(C,D,E){var B=w(D);
if(!x(B,false,D)){D.bubbleKeyEventToBrowser();
}return false;
};
this.InsertTab=function(C,D,E){var B=w(D);
if(o.isTag(B,"LI")||o.isList(B)){D.fire("Indent");
}else{if(!x(B,false,D)){var F=b.RangeEdges.commonNode(D.getDomRange());
if(o.isZwspTextNode(F)){F.parentNode.insertBefore(D.get_document().createTextNode(" \u00A0\u00A0\u00A0\u00A0"),F);
}else{D.pasteHtml(" &nbsp;&nbsp;&nbsp;&nbsp;");
}}}return false;
};
this.SetToolFocus=function(C,D,E){var B=D.get_toolAdapter();
if(B){B.setFocus();
}return false;
};
this.Undo=this.Redo=function(C,D,B){var E=(!B||i.isNaN(B._value))?1:B._value;
if(C=="Redo"){D.redo(E);
}else{D.undo(E);
}};
this.PastePlainTextWithTable=function(D,F,B){if(F.get_lockFormatting&&!F.get_lockFormatting()){return;
}if($telerik.isIE){var G=!!B;
var H=F.createRestorePoint(),E=o.getClipboardAsHtml(F);
if(G&&!E){H.select();
alert(F.getLocalizedString("UseCtrlV"));
return;
}var C=o.cleanPastedContent(E,F.get_stripFormattingOptions(),F.get_localization()["askwordcleaning"],false,F);
H.select();
D=(B&&B.get_commandName)?B.get_commandName():D;
F.pasteHtml(C,D);
}};
this.CopyFromEditor=function(D){var F=D.createRestorePoint();
var G=false;
var C=Telerik.Web.UI.Editor.Utils.getClipboardAsHtml(D);
var B=D.get_clipboardData();
if(B&&B.contentFromEditor&&B.contentHTML==C){G=true;
}else{var E={contentFromEditor:false,contentHTML:C};
D.set_clipboardData(E);
}F.select();
return G;
};
this.PastePlainText=function(D,E,C){var B=function(H){if(H){var I=H.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
I=o.replaceNewLineWithBr(I);
if(I){E.pasteHtml(I,D);
}}};
var F=function(){var H=b.CommandList.getCallbackFunction(C,function(J,I){B(I.get_content());
});
E.showDialog("CleanPasteTextContent",{},H);
return false;
};
if(E.isIE){var G=window.clipboardData.getData("Text");
if(G){B(G);
}else{return F();
}}else{return F();
}};
this.PasteFromWord=this.PasteFromWordNoFontsNoSizes=this.PasteAsHtml=function(D,F,C){var B=function(L,M){var J="";
var N=F.get_stripFormattingOptions();
if(D=="PasteFromWord"||D=="PasteFromWordNoFontsNoSizes"){if(N==c.StripFormattingOptions.None||(N&c.StripFormattingOptions.ConvertWordLists)){L=o.convertWordLists(L);
}var K=D=="PasteFromWord"?"WORD":"WORD_ALL";
J=o.stripFormatting(L,K);
}else{J=o.convertText2Html(L);
}if(M){M.select();
}if(J){F.pasteHtml(J,D);
}};
var G=function(K){var J=b.CommandList.getCallbackFunction(C,function(M,L){B(L.get_content(),K);
});
F.showDialog("CleanPasteHtmlContent",{dialogTitle:F.getLocalizedString(D)},J);
};
if(F.isIE){var I=F.createRestorePoint();
I.useOldRange=true;
var E="";
if(F.get_contentAreaMode()==c.EditorContentAreaMode.Div){var H=F.getSelection().getRange(true);
E=o.getClipboardAsHtml(F);
if(H.select){H.select();
}else{b.DomRange.toDomRange(H).select();
}}else{E=o.getClipboardAsHtml(F);
}if(E){B(E,I);
}else{G(I);
}}else{G();
}};
this.PasteMarkdown=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(I,F){var H=F.get_content();
var G=new Telerik.Web.UI.Editor.Markdown.Converter();
E.pasteHtml(G.makeHtml(H));
});
E.showDialog("PasteMarkdown",{dialogTitle:E.getLocalizedString(D),commandName:"PasteMarkdown"},B);
};
this.PasteHtml=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(H,F){var G=F.get_content();
G=E.applyFiltersForEmbedContent(G);
E.pasteHtml(G);
});
E.showDialog("PasteHtml",{dialogTitle:E.getLocalizedString(D),commandName:"PasteHtml"},B);
};
this.Copy=function(C,F,B){if(!B){return;
}var G=false;
var D=F.get_document();
try{G=D.queryCommandEnabled(C);
}catch(E){G=false;
}if(G){try{G=D.execCommand(C,false,null);
}catch(E){G=false;
}}if(!G){alert(F.getLocalizedString("UseCtrlC"));
}};
this.Paste=function(C,D,B){var E=!!B;
var F=$telerik.isIE&&E;
if(F){window.setTimeout(function(){b.CommandList.PastePlainTextWithTable("PastePlainTextWithTable",D,B);
},0);
}else{if(E){alert(D.getLocalizedString("UseCtrlV"));
}}};
this.Cut=function(C,E,B){if(E.getDomRange().isCollapsed()){return;
}var F=E.getLocalizedString(C);
var D=E.get_contentWindow();
if(B){var G=new b.GenericCommand(F,D,E);
if(b.CommandList._tryCutProgrammatically(E)){E.executeCommand(G);
}else{b.CommandList._alert(E.getLocalizedString("UseCtrlX"));
}}else{E._pendingCutCommand=new b.GenericCommand(F,D,E);
}};
this._alert=function(B){window.alert(B);
};
this._tryCutProgrammatically=function(E){var C=E.get_document();
var B="Cut";
var F=false;
var G=false;
try{F=C.queryCommandEnabled(B);
}catch(D){F=false;
}if(F){try{G=C.execCommand(B,false,null);
}catch(D){G=false;
}}return G&&E.getDomRange().isCollapsed();
};
this.InsertParagraph=function(C,D,E){if($telerik.isIE||$telerik.isFirefox||$telerik.isSafari||$telerik.isOpera11||f.edge){var B=new Telerik.Web.UI.Editor.InsertParagraphCommand(D);
D.executeCommand(B);
}else{D.executeBrowserCommand(C,true,"");
}return true;
};
this.InsertParagraphSafari=function(B,E,G){E.executeBrowserCommand("InsertParagraph",true,"");
if($telerik.isSafari){var F=E.getSelectedElement();
var C=F;
while(C){if(Telerik.Web.UI.Editor.Utils.isEditorContentArea(C)){C=null;
}else{if(C.tagName=="DIV"){break;
}else{C=C.parentNode;
}}}if(C){var I=C.previousSibling;
if(I){var K=I.tagName;
if(I.nodeType==3||K=="P"||K=="UL"||K=="OL"||(K.charAt(0)=="H"&&!isNaN(parseInt(K.charAt(1),10)))){var D=E.get_document();
var H=D.createElement("P");
H.innerHTML="<br>";
C.parentNode.insertBefore(H,C);
if(I.nodeType==3){C.innerHTML=C.innerHTML.replace(/^<br>(&nbsp;)*/,"");
Telerik.Web.UI.Editor.Utils.removeNode(C);
}else{C.parentNode.removeChild(C);
}var J=D.createRange();
J.selectNodeContents(H);
E.getSelection().selectRange(J);
}}}}return true;
};
this.FormatBlock=function(D,E,B){var C=new b.FormatBlockCommand(E.getLocalizedString(D),E.get_contentWindow(),B.value,E);
E.executeCommand(C);
};
this.FormatSets=function(D,E,B){var C=new Telerik.Web.UI.Editor.FormatSetsCommand(E.getLocalizedString(D),E.get_contentWindow(),B.value,E);
C.set_selectedElement(E.getSelectedElement());
E.executeCommand(C);
};
this.FormatPainterApply=function(D,E,B){var I=function(J){return !o.isTextNode(J)&&!o.isBlockElement(J)&&o.canHaveChildren(J);
};
var H=new b.StripElementCommand(E,{stripCondition:I});
H.onExecute();
var G={formatting:E.get_currentFormatting()};
var F={title:E.getLocalizedString(D)};
var C=new b.FormatPainterCommand(E,G,F);
E.executeCommand(C);
z(E,1);
};
this.FormatPainterCopy=function(C,D,B){var E=u(D.getSelectedElement());
D.set_currentFormatting(E);
z(D,1);
};
this.FormatPainterClear=function(C,D,B){D.set_currentFormatting(n);
z(D,0);
};
this._formatPainterStyles=["color","font-family","font-size","font-style","font-variant","font-weight","text-decoration","background-color","background-image","background-position","background-repeat","background-attachment"];
function z(B,C){var D=B.get_toolAdapter().getToolByName("FormatPainter");
if(D){if(D.set_selectedIndex){D.set_selectedIndex(C);
}else{D._enableButtonSelection=true;
D.set_selectedButtonIndex(C);
a(D.get_element()).removeClass("FormatPainterApply FormatPainterCopy FormatPainterClear").addClass((C==1)?"FormatPainterApply":"FormatPainterCopy");
}}}function u(G){var D=[];
var E={elements:D};
G=o.isTextNode(G)?G.parentNode:G;
var C=G;
if(!o.isEditorContentArea(G)){D.push(v(G));
}if(!o.isBlockElement(G)){do{G=G.parentNode;
if(!o.isEditorContentArea(G)){D.push(v(G));
}}while(!o.isBlockElement(G));
}var B=E.computedStyles={};
var F=$telerik.getComputedStyle;
Array.forEach(b.CommandList._formatPainterStyles,function(H){B[H]=F(C,H);
});
return E;
}function v(C){var B={nodeName:C.nodeName};
B.style=C.getAttribute("style");
B["class"]=C.className;
if(o.isTag(C,"font")){B.size=C.getAttribute("size");
B.color=C.getAttribute("color");
B.face=C.getAttribute("face");
}return B;
}this.InsertOrderedList=this.InsertUnorderedList=function(C,D,B){var E=(C=="InsertOrderedList"?"ol":"ul");
D.setFocus();
D.executeCommand(new Telerik.Web.UI.Editor.InsertListCmd(D,{title:C,listType:E}));
return true;
};
this.Indent=function(D,E,B){var C=new Telerik.Web.UI.Editor.IndentCommand(E,{title:D});
E.executeCommand(C);
};
this.Outdent=function(D,E,B){var C=new Telerik.Web.UI.Editor.OutdentCommand(E,{title:D});
E.executeCommand(C);
};
function y(B){return b[B+"Command"]||b[B];
}function t(E,C,D){var B=y(C);
return new B(E,{title:C,commandValue:D});
}this.Bold=this.Italic=this.Underline=this.Subscript=this.Superscript=this.StrikeThrough=this.RealFontSize=this.FontName=this.BackColor=this.ForeColor=function(C,E,F){E.setActive();
E.setFocus();
var D=F?(F._value||F.value):null;
var B=t(E,C,D);
E.executeCommand(B);
return true;
};
this.DeleteSelection=function(C,D,E){D.setActive();
D.setFocus();
var B=new b.DeleteSelectionCommand(D);
return D.executeCommand(B);
};
this.SelectAll=function(C,D,E){D.setActive();
D.setFocus();
var B=new b.SelectAllCommand(D);
return D.executeCommand(B);
};
this.Unlink=function(C,D,E){var B=new b.UnlinkCommand(D,{title:"Unlink"});
return D.executeCommand(B);
};
this.AbsolutePosition=function(B,C,D){C.setActive();
C.executeBrowserCommand(B,true,null,null);
return true;
};
this.JustifyLeft=this.JustifyRight=this.JustifyCenter=this.JustifyNone=this.JustifyFull=function(C,D,E){D.setActive();
var F=D.getLocalizedString(C);
var B=new Telerik.Web.UI.Editor.AlignCommand(D,{title:F,align:C.replace("Justify","").replace("Full","justify").toLowerCase()});
D.executeCommand(B);
return true;
};
this.TopLeftCellAlign=this.TopCenterCellAlign=this.TopRightCellAlign=this.MiddleLeftCellAlign=this.MiddleCenterCellAlign=this.MiddleRightCellAlign=this.BottomLeftCellAlign=this.BottomCenterCellAlign=this.BottomRightCellAlign=function(C,D,F){var H=C.toLowerCase().replace("align","");
var G=H.match(/top|middle|bottom/)[0];
var E=H.match(/left|center|right/)[0];
var B=new b.AlignCommand(D,{align:E,valign:G,isSuitableNode:j});
D.executeCommand(B);
return true;
};
this.NoCellAlign=function(C,D,E){var B=new b.AlignCommand(D,{align:"none",valign:"none",isSuitableNode:j});
D.executeCommand(B);
return true;
};
this.FontSize=function(C,D,B){var E=new Telerik.Web.UI.Editor.ieFontCommandFix(D);
E.applyFix();
D.executeBrowserCommand(C,true,B.value);
E.cleanUp();
};
this.Zoom=function(C,D,B){var F=B.value;
var E=B.get_tool?B.get_tool():null;
if(F&&E&&E.updateValue){E.updateValue(F);
}D.zoomContent(F);
return false;
};
this.Print=function(C,D,B){if(D.isIE){D.get_document().execCommand(C,false,null);
}else{if(D.get_contentWindow().print){D.get_contentWindow().print();
}}return false;
};
this.InsertSnippet=function(C,D,B){D.pasteHtml(B.value,C);
};
this.InsertFormElement=function(C,D,B){var I=B.value;
I=I.toLowerCase();
var E=null;
switch(I){case"form":if(D.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){alert("Error! Form elements are only supported when the content area is set to Iframe!");
B.set_cancel(true);
return false;
}else{E=D.createElement("form","150px","150px");
E.innerHTML="&nbsp;";
}break;
case"textarea":E=D.createElement("textarea");
break;
case"select":E=D.createElement("select","100px","22px");
break;
case"checkbox":case"radio":E=D.createElement("input");
E.setAttribute("type",I);
break;
case"button":case"reset":case"submit":E=D.createElement("input","50px","22px");
E.setAttribute("type",I);
break;
case"hidden":case"password":case"text":E=D.createElement("input","100px","22px");
E.setAttribute("type",I);
break;
}if(E){var G=Telerik.Web.UI.Editor.Utils.getUniqueID();
E.setAttribute("id",G);
var F=Telerik.Web.UI.Editor.Utils.getOuterHtml(E);
D.pasteHtml(F,C);
var H=D.get_document().getElementById(G);
if(H){H.removeAttribute("id");
if(H.setActive&&f.ie){H.setActive();
}return false;
}}};
this.InsertGroupbox=this.InsertDate=this.InsertTime=this.InsertSymbol=this.InsertHorizontalRule=function(C,F,B){var I="";
switch(C){case"InsertSymbol":I=B.value;
break;
case"InsertHorizontalRule":I="<hr>";
break;
case"InsertDate":var D=new Date();
I="&nbsp;"+D.toLocaleDateString();
break;
case"InsertTime":var E=new Date();
I="&nbsp;"+E.toLocaleTimeString();
break;
default:var H=F.getLocalizedString("RadEditorGroupboxTitle","Title");
var G=F.getLocalizedString("RadEditorGroupboxContent","Content...");
I="<fieldset> <legend>"+H+"</legend>"+G+" </fieldset> ";
}if(f.ie&&(C=="InsertDate"||C=="InsertTime")){I=I.replace(/[\u200e]/g,"");
}F.pasteHtml(I,C);
};
this.ImageManager=function(E,F,D){var I=F.getSelectedElement();
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(R,J){var Q=J.get_value(),K="",O;
for(var L=0;
L<Q.length;
L++){K+=Telerik.Web.UI.Editor.Utils.getOuterHtml(Q[L]);
}if(o.isTag(I,"img")){O=I.parentNode;
F._disposeElementResizableWidget();
var N=O&&O.nodeName=="A"&&O.childNodes.length==1;
F.selectElement(I);
if(N&&K.indexOf("<img")==0){O.innerHTML=K;
K=$telerik.getOuterHtml(O);
F.selectElement(O);
O.parentNode.removeChild(O);
}o.removeTrailingIndents(I,"previousSibling");
o.removeTrailingIndents(I,"nextSibling");
}var M;
var P=function(T,S){M=S.get_element().lastChild;
};
F.add_pasteDom(P);
F.pasteHtml(K,E);
F.remove_pasteDom(P);
if(o.isTag(M,"img")){o.selectElement(F.get_contentWindow(),M);
}});
var H=F.get_dialogOpener().get_additionalQueryString();
if(I&&I.tagName=="IMG"){var G=I.getAttribute("src",2);
F.get_dialogOpener().set_additionalQueryString(H+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(G));
}else{I=null;
}var B=new Telerik.Web.UI.EditorCommandEventArgs(E,null,I);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"IMG",F,E);
F.showDialog("ImageManager",B,C);
F.get_dialogOpener().set_additionalQueryString(H);
return false;
};
this.SilverlightManager=this.FlashManager=this.MediaManager=function(E,F,D){var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(L,J){var K=J.get_value();
if(!K){K=J.Result;
}K=K+"&#x200b";
K=F.applyFiltersForEmbedContent(K);
F.pasteHtml(K,E);
});
var B={};
var H=F.get_dialogOpener().get_additionalQueryString();
var I=F.getSelectedElement();
if(I){if($telerik.isIE&&I.object){var G="MediaManager"==E?I.object.FileName:I.object.Movie;
if(G){F.get_dialogOpener().set_additionalQueryString(H+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(G));
B.selectedItemUrl=G;
B.selectedObject=I;
}}}F.showDialog(E,B,C);
F.get_dialogOpener().set_additionalQueryString(H);
return false;
};
this.TemplateManager=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(H,F){var G=F.get_value();
if(!G){G=F.Result;
}E.pasteHtml(G,D);
});
E.showDialog("TemplateManager",{},B);
return false;
};
this.AboutDialog=function(B,C,D){C.showDialog("AboutDialog");
return false;
};
this.Help=function(B,C,D){C.showDialog("Help");
return false;
};
this.PageProperties=function(E,F,D){var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){});
var B={};
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"BODY",F,E);
F.showDialog("PageProperties",B,C);
return false;
};
this.ImageMapDialog=function(E,F,D){var B=Telerik.Web.UI.Editor.CommandList._getImageMapDialogArgument(F);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){Telerik.Web.UI.Editor.CommandList._setImageMapProperties(F,G,E);
return false;
});
F.showDialog("ImageMapDialog",B,C);
return false;
};
this._setImageMapProperties=function(E,B,C){if(!B){return;
}var M=E.getSelectedElement();
var F;
if(M&&M.tagName=="IMG"){F=M;
if(B.ImageSrc!=F.src){F.src=B.ImageSrc;
}}else{if(!B.ImageSrc){return;
}E.pasteHtml('<img src="'+B.ImageSrc+'" id = "__tmp__">',C);
F=E.get_document().getElementById("__tmp__");
F.removeAttribute("id");
if(document.all){var L=E.get_document().body.createTextRange();
L.collapse();
L.moveToElementText(F);
L.select();
}}var O=document.createElement("span");
O.innerHTML=B.MapHtml;
var N=O.getElementsByTagName("map");
if(N.length==0){return;
}var I=N[0].innerHTML;
O=null;
if(!I){var D=F.getAttribute("useMap",2);
if(D){var J=Telerik.Web.UI.Editor.CommandList._getImageMapByName(E,D);
if(J){J.parentNode.removeChild(J);
}}F.removeAttribute("useMap");
return;
}var H=null;
var P=F.getAttribute("useMap",2);
if(P){H=Telerik.Web.UI.Editor.CommandList._getImageMapByName(E,P);
}if(H==null){var G=new Date()-100;
var K="rade_img_map_"+G;
H=E.get_document().createElement("map");
H.id=K;
this._setNameAttribute(H,K);
H=E.get_contentArea().appendChild(H);
F.setAttribute("useMap","#"+K);
F.setAttribute("border","0");
}H.innerHTML=I;
};
this._setNameAttribute=function(B,C){B.removeAttribute("name");
B.removeAttribute("NAME");
B.name=null;
B.name=C;
B.NAME=C;
};
this._getImageMapDialogArgument=function(C){var B={};
B.editor=C;
var D=C.getSelectedElement();
if(D&&D.tagName=="IMG"){B.ImageSrc=D.getAttribute("src",2);
B.ImageWidth=(D.style.width)?D.style.width:D.width;
B.ImageHeight=(D.style.height)?D.style.height:D.height;
if(document.selection){C.selectElement(D);
}if(D.useMap){var F=D.getAttribute("useMap",2);
var E=Telerik.Web.UI.Editor.CommandList._getImageMapByName(C,F);
if(E!=null){B.ImageMapHTML='<map name = "'+F.substr(1)+'">'+E.innerHTML+"</map>";
}else{B.ImageMapHTML="";
}D.style.width=B.ImageWidth;
D.style.height=B.ImageHeight;
}}return B;
};
this._getImageMapByName=function(B,F){F=F.substr(1);
var C=B.get_document();
var E=C.getElementById(F);
if(E!=null){return E;
}var G=C.getElementsByTagName("map");
for(var D=0;
D<G.length;
D++){if(G[D].getAttribute("name")==F){return G[D];
}}return null;
};
this.get_ImportStyleSheetHTML=function(B,C,F){var E="";
if(F){var D=C.get_document().getElementById(F.id);
if(!D){E=Telerik.Web.UI.Editor.Utils.getOuterHtml(F);
}}return E;
};
this._replaceTable=function(J,D,B){var G=B.tableToModify;
var I=D.getSelection();
var H=b.DomRange.toDomRange(I.getRange(true));
if(G){var C=B.commandName;
D._executeCommandEvent("domChange",C,new c.EditorCommandEventArgs(C,null,G));
if(J){J.parentNode.replaceChild(G,J);
}else{I.insertNode(G,H);
if(D.get_enableTrackChanges()&&D.get_enableTrackChangesOverride()){D._clearTrackedInlineAncestors(G,false);
}}}var E=B.styleSheetToImport;
if(E&&D.findContent("#"+E.id).length==0){b.CommandList._importStyleSheet(E,G);
}if(B.styleSheetToRemove){b.CommandList._removeStyleSheet(D,B.styleSheetToRemove);
}var F=$telerik.$(G).find("td,th").last().get(0);
if(F){H.selectNodeContents(F);
H.collapse(false);
H.select();
}};
this._removeStyleSheet=function(B,D){var E=D?D.id:null;
var C=$telerik.$(B.get_contentArea());
if(!E||C.find("table."+E).get(0)){return;
}C.find("#"+E).remove();
};
this._importStyleSheet=function(D,E){var C=D.cloneNode(false);
var B=D.styleSheet?D.styleSheet.cssText:D.innerHTML;
$telerik.$(C).insertAfter(E);
if(C.styleSheet){C.styleSheet.cssText=B;
}else{C.appendChild(E.ownerDocument.createTextNode(B));
}};
this.TableWizard=function(F,G,E){var B=b.CommandList;
var C=B._getTableArgument(G,null,true,false);
B._getDialogArguments(C,"TABLE",G,F);
var H=B._getParentTable(G);
if(H){G._hideSelectDeleteTableButtons();
}var D=B.getCallbackFunction(E,function(J,I){B._replaceTable(null,G,I);
});
G.showDialog("TableWizard",C,D);
return false;
};
this.InsertFormSelect=function(E,F,D){var G=F.getSelectedElement();
var H;
if(o.isTag(G,"select")){H=G;
}else{if(o.isTag(G,"option")){H=G.parentNode;
}}var B=b.CommandList._getSelectArgument(H);
b.CommandList._getDialogArguments(B,"SELECT",F,E);
var C=b.CommandList.getCallbackFunction(D,function(L,I){if(H){var J=F.get_document().createTextNode("\u200b");
var K=F.getDomRange();
a(H).replaceWith(J);
o._setCursorInTextNode(K,J,0,J.length-1);
}F.pasteHtml(I.selectToInsert.outerHTML);
});
F.showDialog("InsertSelectDialog",B,C);
return false;
};
this.InsertTableLight=this.SetTableProperties=function(F,G,E){var B=b.CommandList;
var C=B._getTableArgument(G,0,false,true);
if(F=="SetTableProperties"&&!C){alert(G.getLocalizedString("tablewarning"));
return false;
}var H=B._getParentTable(G);
if(H&&F=="SetTableProperties"){G._hideSelectDeleteTableButtons();
}var D=B.getCallbackFunction(E,function(J,I){B._replaceTable(H,G,I);
});
if(G.get_document().selection&&G.get_document().selection.empty&&F!="InsertTableLight"){G.get_document().selection.empty();
}if(F=="SetTableProperties"){B._getDialogArguments(C,"TABLE",G,F);
G.showDialog("TableWizard",C,D);
}else{if(!C){C=new c.EditorCommandEventArgs("InsertTableLight",null,null);
}C._name=C._commandName="InsertTableLight";
C.editor=G;
G.showDialog("InsertTableLight",C,D);
}return false;
};
this.SetCellProperties=function(F,G,E){var B=b.CommandList;
var C=B._getTableArgument(G,1,false,true);
var H=$telerik.isFirefox&&G.get_contentWindow().getSelection().rangeCount>1;
if(!C||H){alert(G.getLocalizedString("cellwarning"));
return false;
}B._getDialogArguments(C,"TABLE",G,F);
var I=B._getParentTable(G);
if(I){G._hideSelectDeleteTableButtons();
}var D=B.getCallbackFunction(E,function(K,J){B._replaceTable(I,G,J);
});
G.showDialog("TableWizard",C,D);
return false;
};
this.FindAndReplace=function(F,G,E){var D=new b.FindReplaceCommand(G);
if(D.onExecute()){var H=D.isOn(G);
var J=function(K){if(K.get_name()==F){K.setOn(H);
}};
G.updateTools(G.get_toolAdapter(),J);
G.updateTools(G.get_headerToolsToolAdapter(),J);
var I=G.get_toolAdapter().get_mobileKeyboardAdapter();
if(I){I.hideKeyboardOverlay();
}return false;
}var B={};
B.editor=G;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(E,function(L,K){});
G.showDialog("FindAndReplace",B,C);
return false;
};
this.StyleBuilder=function(E,F,D){var K=null;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(P,L){var N=Telerik.Web.UI.Editor.Utils.getOuterHtml(L.get_value());
N=N.replace(/(url\s*\(\s*)&quot;(.*)&quot;\s*\)/ig,"$1$2)");
if(K){var O="";
var Q=new RegExp("style=(\"|')(.+?)\\1","gi");
N.replace(Q,function(T,R,S){O=S;
});
if(O){var M=new Telerik.Web.UI.Editor.AttributeCommand(E+"set Style Attribute",F.get_contentWindow(),K,"style",O,F);
F.executeCommand(M);
}}else{F.pasteHtml(N,E);
}});
var I=F.getSelection();
var H=I.getParentElement();
if(!$telerik.isIE||!I.isControl()){var J=I.getText();
if(J||(H&&H.tagName=="BODY")){var G=F.createElement("span");
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(G,J);
H=G;
}else{K=H;
F.selectElement(H,false);
}}if(!H){H=Telerik.Web.UI.Editor.Utils.getContentAreaFirstChild(F);
F.selectElement(H,false);
}var B=new Telerik.Web.UI.EditorCommandEventArgs("StyleBuilder",null,(H?H.cloneNode(true):null));
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"*",F,E);
B.fontNames=F.get_fontNames();
F.showDialog("StyleBuilder",B,C);
return false;
};
this.XhtmlValidator=function(E,F,D){var B=F;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){});
F.showDialog("XhtmlValidator",B,C);
return false;
};
this.InsertCustomLink=function(D,E,B){var F=B.value,G=$telerik.$(String.format("<a href='{1}' title='{3}' target='{2}'>{0}</a>",F.innerHTML,F.href,F.target,F.title))[0],H=Telerik.Web.UI.Editor.CommandList._getLinkArgument(E).get_value();
if(H.innerHTML.trim()){G.innerHTML=H.innerHTML;
}var C=new Telerik.Web.UI.Editor.InsertLinkCommand(D,E.get_contentWindow(),G,E);
E.executeCommand(C);
return true;
};
this._getDialogArguments=function(B,E,D,C){if(!D){B.Colors=[];
B.CssClasses=[];
B.CellCssClasses=[];
B.tableLayoutCssFile="";
B.editor=null;
return;
}B.Colors=D.get_colors();
if("TD"==E||"TH"==E||"TABLE"==E){B.CssClasses=D.getCssArray("TABLE");
B.CellCssClasses=D.getCssArray("TD");
B.tableLayoutCssFile=D.get_tableLayoutCssFile();
}else{if("A"==E||"BODY"==E||"IMG"==E){B.CssClasses=D.getCssArray(E);
}else{if("SELECT"==E){B.CssClasses=D.getCssArray(E);
}}}B.editor=D;
};
this.DocumentManager=this.SetLinkProperties=this.LinkManager=function(E,G,D){var F=E=="DocumentManager"?"DocumentManager":"LinkManager";
var B=Telerik.Web.UI.Editor.CommandList._getLinkArgument(G);
var H=(f.ie&&f.version<11)?G.getDomRange():null;
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"A",G,E);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(L,I){if(H){H.select();
}if(I=="remove"){G.fire("Unlink");
return false;
}else{var K=I.get_value()||I.Result||I.realLink;
var J=new Telerik.Web.UI.Editor.InsertLinkCommand(E,G.get_contentWindow(),K,G);
G.executeCommand(J);
}});
G.showDialog(F,B,C);
return false;
};
this.InsertLink=function(E,G,D){var F="InsertLink";
var B=Telerik.Web.UI.Editor.CommandList._getLinkArgument(G);
B._name=B._commandName="InsertLink";
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"A",G,E);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(K,H){var J=H.get_value();
var I=new Telerik.Web.UI.Editor.InsertLinkCommand(E,G.get_contentWindow(),J,G);
G.executeCommand(I);
});
G.showDialog(F,B,C);
return false;
};
this.OpenLink=function(C,D,B){var E=new b.InsertLinkCommand(C,D.get_contentWindow(),null,D);
var F=E.getCurrentFormattedAncestor();
if(F){window.open(F.href||"about:blank","_blank");
}};
this.InsertImage=this.SetImageProperties=function(E,G,D){var F=G.getSelectedElement();
if(F&&F.nodeName!="IMG"){F=null;
}var B=new Telerik.Web.UI.EditorCommandEventArgs(E,null,F);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"IMG",G,E);
B.Element=F;
if(F){B.alt=F.getAttribute("alt");
B.title=F.getAttribute("title");
B.description=F.getAttribute("longdesc");
}var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(K,H){var J=H.get_value?H.get_value():H.Result;
if(!J){return;
}if(J.parentNode===n&&J.title!==n&&typeof(J.title)==="string"){if(!F){return false;
}var L=function(M){var N=J[M];
if(N){F.setAttribute(M,N);
}else{F.removeAttribute(M);
}};
L("alt");
L("title");
L("longdesc");
}else{if(F&&F.parentNode){var I=new Telerik.Web.UI.Editor.GenericCommand(G.getLocalizedString(E),G.get_contentWindow(),G);
F.parentNode.replaceChild(J,F);
G.selectElement(J);
G.executeCommand(I);
}else{G.pasteHtml(Telerik.Web.UI.Editor.Utils.getOuterHtml(J),E);
}}});
if(E=="SetImageProperties"){G.showDialog("ImageProperties",B,C);
}else{G.showDialog("InsertImage",B,C);
}return false;
};
this.ImageSizeMargins=function(D,F,B){var K=["width","height"];
var I=["marginTop","marginBottom","marginLeft","marginRight"];
var E=F.getSelectedElement();
if(!E||!o.isTag(E,"img")){return false;
}var J=function(M){return parseInt(M,10);
};
var L=E.style;
var G={};
Array.forEach(I,function(M){G[M]=J(L[M]);
});
var H=$telerik.getSize(E);
Array.forEach(K,function(M){G[M]=J(L[name])||H[M];
});
var C=b.CommandList.getCallbackFunction(B,function(N,M){var P=M.value;
var O=E.style;
Array.forEach(K,function(Q){if(G[Q]!=P[Q]){O[Q]=k(P[Q]);
}if(E.hasAttribute(Q)&&O[Q]){E.removeAttribute(Q);
}});
Array.forEach(I,function(Q){O[Q]=k(P[Q]);
});
});
F.showDialog("SizeMargins",G,C);
return false;
};
this.InsertExternalVideo=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(G,F){E.pasteHtml(F.get_value(),D);
});
E.showDialog("InsertExternalVideo",null,B);
};
this.FormatCodeBlock=function(E,F,D){var B=new Telerik.Web.UI.EditorCommandEventArgs("FormatCodeBlock",null,F.getSelectionHtml());
B.dirtyCode=F.getSelectionHtml();
if(F.get_document().selection){var G=F.get_document().selection.type.toLowerCase();
if(G=="control"||G=="none"){B.set_value("");
}}var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(I,H){F.pasteHtml(H.get_value?H.get_value():H.get_code(),E);
});
F.showDialog("FormatCodeBlock",B,C);
return false;
};
this._getDocumentAnchors=function(D){var C=D.getElementsByTagName("A");
var B=[];
for(var E=0;
E<C.length;
E++){if(C[E].name){B[B.length]=C[E];
}}return B;
};
this._getParentLink=function(B){return this._getExistingLink(B)||this._createNewLink(B);
};
this._getExistingLink=function(B){var D=B.getSelectedElement();
var C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"A");
if(C){B.selectElement(C);
return C;
}return null;
};
this._createNewLink=function(C){var F=C.getSelectedElement();
var D="";
var G=(F&&F.tagName)?F.tagName:"";
if(G=="IMG"){D=Telerik.Web.UI.Editor.Utils.getOuterHtml(F);
}if(!D){D=C.getSelectionHtml();
}if($telerik.isIE&&F){var H=F.tagName;
if(H=="FONT"||H=="SPAN"){D=D.replace(/^<(FONT|SPAN)[^>]*>/gi,"");
D=D.replace(/<\/(FONT|SPAN)>$/gi,"");
}}var E=C.get_document().createElement("a");
try{Telerik.Web.UI.Editor.Utils.setElementInnerHtml(E,D);
}catch(B){E.innerHTML=String.format("<span>{0}</span>",Telerik.Web.UI.Editor.Utils.stripFormatting(D,"ALL"));
}return E;
};
this._getLinkArgument=function(C,H){var D=b.CommandList._getExistingLink(C);
var G=D||b.CommandList._createNewLink(C);
var F=G.innerHTML;
var E=!F?false:F.match(/</);
if($telerik.isIE&&E){var I=F.trim().toLowerCase();
if(I.match(/<p[^>]*>(&nbsp;|\s*)<\/p>/)){G.innerHTML=" ";
E=false;
}}var B=new Telerik.Web.UI.EditorCommandEventArgs("LinkManager",null,G.cloneNode(true));
B.selectedTabIndex=H?H:0;
B.showText=!E;
B.documentAnchors=Telerik.Web.UI.Editor.CommandList._getDocumentAnchors(C.get_document());
B.realLink=B.get_value();
B.canUnlink=!!D;
return B;
};
this._getParentTable=function(B){B.setFocus();
var D=B.getSelectedElement();
var C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TABLE");
return C;
};
this._getParentCell=function(B){B.setFocus();
var D=B.getSelectedElement();
var C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TD");
if(!C){C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TH");
}return C;
};
this._getTableArgument=function(B,H,C,G){var F;
var E=null;
if(C){F=Telerik.Web.UI.Editor.Utils.createTable(2,2,B.get_document());
}else{F=Telerik.Web.UI.Editor.CommandList._getParentTable(B);
}if(!C&&!F){return null;
}if(G){E=Telerik.Web.UI.Editor.CommandList._getParentCell(B);
}var I=F.cloneNode(true);
var D=F;
return{selectedTabIndex:H?H:0,cellToModify:E,tableToModify:I,originalTable:D,tableDocument:I.ownerDocument||B.get_document()};
};
this._getSelectArgument=function(B){return{selectToModify:B};
};
this.EnterParagraphMozilla=function(C,D,B){var E=new Telerik.Web.UI.Editor.EnterNewLineCommand("Enter",D.get_contentWindow(),false,D);
return E.enterBlockElement();
};
this.EnterMozilla=function(C,D,B){if(D.get_mode()==Telerik.Web.UI.EditModes.Preview){return false;
}var E=D.getSelectedElement();
if(E!=null&&E.tagName!="P"){D.bubbleKeyEventToBrowser();
return true;
}else{D.pasteHtml("<br />");
}};
this.EnterNewLine=function(D,E,B){var C=new Telerik.Web.UI.Editor.EnterNewLineCommand("Enter",E.get_contentWindow(),false,E);
if($telerik.isSafari&&E&&E.get_newLineMode()!=Telerik.Web.UI.EditorNewLineModes.Br){C.set_canUnexecute(false);
}E.executeCommand(C);
};
this.Enter=function(C,D,B){if(D.get_mode()==Telerik.Web.UI.EditModes.Preview){return false;
}var K=D.getSelectedElement();
if("LI"==K.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(K,"LI")!=null){D.bubbleKeyEventToBrowser();
return false;
}if(D.get_enableTrackChanges()){if(K.getAttribute("Name")!=null){if(K.getAttribute("Name").indexOf("_wp")==0){D.bubbleKeyEventToBrowser();
return false;
}}}try{var G=D.getLocalizedString("Enter");
var F=new Telerik.Web.UI.Editor.GenericCommand(G,D.get_contentWindow(),D);
var J=D.getSelection();
var H=J.getRange();
if(H.pasteHTML){var L=K.tagName;
if(L.charAt(0)=="H"&&parseInt(L.charAt(1),10)>0){var I=H.duplicate();
I.moveToElementText(K);
D.bubbleKeyEventToBrowser();
return false;
}else{if(L.toLowerCase()=="textarea"){D.bubbleKeyEventToBrowser();
return false;
}}H.pasteHTML("<br>");
H.select();
H.moveEnd("character",1);
H.moveStart("character",1);
H.collapse(false);
}else{if(J.isControl()){if(H(0)){H.execCommand("Delete");
}}else{D.bubbleKeyEventToBrowser();
return false;
}}D.executeCommand(F);
}catch(E){alert(E.message);
}return false;
};
this.ShiftEnter=function(C,E,B){var I=E.getSelectedElement();
var D=E.get_document();
if(D.selection&&("LI"==I.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(I,"LI")!=null)){var G=E.getLocalizedString("Enter");
var F=new Telerik.Web.UI.Editor.GenericCommand(G,E.get_contentWindow(),E);
var H=D.selection.createRange();
H.pasteHTML("<br>");
H.select();
H.moveEnd("character",1);
H.moveStart("character",1);
H.collapse(false);
E.executeCommand(F);
return false;
}E.bubbleKeyEventToBrowser();
return false;
};
this.ShiftEnterSafari=function(C,E,B){var G=E.getSelectedElement();
if("LI"==G.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(G,"LI")!=null){var F=new Telerik.Web.UI.Editor.GenericCommand("Enter",E.get_contentWindow(),E);
E.pasteHtml("<br />","",null,null,false);
E.executeCommand(F);
}else{var D=Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading;
Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading=true;
E.executeCommand(new Telerik.Web.UI.Editor.EnterNewLineCommand(E.getLocalizedString(C),E.get_contentWindow(),false,E,Telerik.Web.UI.EditorNewLineModes.Br));
Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading=D;
}return false;
};
this.EnterSafari=function(C,D,B){var E=D.getSelectedElement();
if("LI"==E.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(E,"LI")!=null){D.bubbleKeyEventToBrowser();
return false;
}D.executeBrowserCommand("InsertLineBreak",true,"");
return false;
};
this.ToggleTableBorder=function(C,D,B){D.toggleEnhancedEdit();
return false;
};
this.ConvertToUpper=this.ConvertToLower=function(D,F,B){var S,I,E=F.get_document();
if($telerik.isIE&&E.selection){if(E.selection.type.toLowerCase()=="control"){return;
}var N=E.selection.createRange();
S=N.duplicate();
I=N.duplicate();
S.collapse();
I.collapse(false);
}var P=Telerik.Web.UI.Editor.CommandList._markEditorSelection(F);
var H=P.markedElements;
var L=P.newElements;
var J=new Telerik.Web.UI.Editor.GenericCommand(F.getLocalizedString(D),F.get_contentWindow(),F);
function C(U){var T=U.childNodes;
for(var V=0;
V<T.length;
V++){if(T[V].nodeType==3){T[V].nodeValue=("ConvertToLower"==D)?T[V].nodeValue.toLowerCase():T[V].nodeValue.toUpperCase();
}else{if(T[V].nodeType==1&&T[V].tagName.toUpperCase()!="FONT"){C(T[V]);
}}}}var K;
for(K=0;
K<H.length;
K++){C(H[K]);
}for(K=0;
K<L.length;
K++){var G=L[K];
if($telerik.isIE&&G.removeNode){G.removeNode(false);
}else{var O=document.createRange();
O.selectNodeContents(G);
G.parentNode.replaceChild(O.extractContents(),G);
}}if($telerik.isIE&&E.selection){var M=E.selection.createRange();
M.setEndPoint("StartToStart",S);
M.setEndPoint("EndToEnd",I);
M.select();
}else{var R=F.get_contentWindow().getSelection();
var Q=R.getRangeAt(0);
Q.collapse(true);
}F.executeCommand(J);
};
this.ApplyClass=function(E,F,B){var C=B.get_value();
var H=B.tag||"";
var I=B.get_tool();
var G=I?I.get_items()[I.get_selectedIndex()]:n;
if(!H&&G&&G[0]==C){H=o.getTagByStyleRule(G[1]);
}var D=new b.ApplyClass(F,{title:"Apply Class",commandValue:C,tag:H});
F.executeCommand(D);
return true;
};
s.MobileEdit=function(C,D,B){if(D._renderMode==c.RenderMode.Mobile){var F=D.get_toolAdapter();
if(F.toggleEdit){var E=D.getToolState("FindAndReplace");
if(E===b.CommandStates.On){s.FindAndReplace("FindAndReplace",D);
}F.toggleEdit();
}}return false;
},s.ToggleEditMode=function(D,E,B){var C=b.CommandList;
C._switchBetweenHtmlAndDesignMode(E);
C._switchStateOfToggleEditModeTool(E);
};
s._switchBetweenHtmlAndDesignMode=function(D){var B=D.get_mode();
var C=c.EditModes;
if(B===C.Design){D.set_mode(C.Html);
}else{if(D.get_renderMode()===c.RenderMode.Mobile){D.get_textArea().blur();
}D.set_mode(C.Design);
}};
s._switchStateOfToggleEditModeTool=function(D){var C=c.EditModes;
var B=D.get_mode();
var F=D.get_toolAdapter();
var E=F.getToolByName(m);
if(E){E.setOn(B===C.Html);
}};
this._completeEditorSelection=function(C,F){if(!F){F="";
}var B=C.get_contentWindow();
var D=C.get_document();
var I=C.getSelection().getParentElement();
var J=I?I.tagName:"";
if($telerik.isIE&&!C.getSelectionHtml()&&(J=="FONT"||J=="SPAN")){D.execCommand("RemoveFormat",null,false);
}var E=C.getSelection();
E.pasteHtml("<font "+F+" id='radERealFont'>&#x200b;</font>");
var G=C.get_document().getElementById("radERealFont");
G.removeAttribute("id");
if($telerik.isIE){C.selectElement(G);
C.getSelection().collapse();
G.innerHTML="";
}else{if(B.getSelection){var H=B.getSelection();
var K=C.getSelection().getRange();
H.removeAllRanges();
if(!$telerik.isSafari){G.innerHTML="";
}K.selectNodeContents(G);
if(!$telerik.isSafari){K.collapse(false);
}H.addRange(K);
}}};
this._markEditorSelection=function(G){if(G.get_html()==""){return{markedElements:[],newElements:[],oldElements:[]};
}var F="AZBY";
var E="_cm";
var R=[];
var S=[];
var T=[];
var U=[];
var O=f.safari&&f.version<4;
var M=O?"span":"font";
var H=G.get_contentArea();
if(O){var X=new Telerik.Web.UI.Editor.OptimizeSpans();
X.getHtmlContent(H);
}var I=G.getSelection();
if(I.isControl()){var D=I.getParentElement();
var L=G.get_document().createElement(M);
L.appendChild(D.cloneNode(true));
D.parentNode.replaceChild(L,D);
return{markedElements:[L],newElements:[L]};
}function Q(){var Y=G.get_contentArea().getElementsByTagName(M);
for(var aa=0;
aa<Y.length;
aa++){var Z=Y[aa];
if(Y[aa].face){Z.setAttribute("_face",Z.face);
R.push(Z);
}else{if(O){Z.setAttribute("_face",Z.style.fontFamily);
R.push(Z);
}}Z.setAttribute(E,1);
}}function V(){for(var Y=0;
Y<R.length;
Y++){if(O){R[Y].style.fontFamily=R[Y].getAttribute("_face");
}else{R[Y].face=R[Y].getAttribute("_face");
}R[Y].removeAttribute("_face");
}R=[];
}Q();
if(!$telerik.isIE){H.ownerDocument.execCommand("UseCSS",false,true);
H.ownerDocument.execCommand("styleWithCSS",false,false);
}H.ownerDocument.execCommand("FontName",false,F);
var W="font[face='"+F+"']";
this._optimizeElements(H,W);
var J=H.getElementsByTagName(M);
for(var N=0;
N<J.length;
N++){var K=J[N];
if(K.getAttribute("face")==F||K.style.fontFamily==F){K.removeAttribute("face");
if(K.style.fontFamily==F){K.style.fontFamily="";
if(K.className=="Apple-style-span"){K.className="";
}}S.push(K);
var C=K.getElementsByTagName(M);
for(var P=0;
P<C.length;
P++){var B=C[P];
if(B.getAttribute("face")!=F){S.push(B);
}}if(!K.getAttribute(E)){T.push(K);
}else{U.push(K);
}}K.removeAttribute(E);
}V();
if(!$telerik.isIE){H.ownerDocument.execCommand("UseCSS",false,false);
H.ownerDocument.execCommand("styleWithCSS",false,true);
}return{markedElements:S,newElements:T,oldElements:U};
};
this._optimizeElements=function(C,H){var B=a(C).find(H);
B.each(function(I,J){while(o.isSingleChild(J)&&!o.isBlockElement(J.parentNode)){var K=J.parentNode;
a(J).insertBefore(K);
while(J.firstChild){K.appendChild(J.firstChild);
}J.appendChild(K);
}});
var F=B.toArray();
for(var D=F.length-1;
D>0;
D--){var E=F[D];
if(E.previousSibling&&E.previousSibling==F[D-1]){var G=F[D-1];
while(E.firstChild){G.appendChild(E.firstChild);
}E.parentNode.removeChild(E);
}}};
this.CSDialog=function(E,F,D){var B=F;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){});
F.showDialog("CSDialog",B,C);
return false;
};
})();
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.CommandsManager=function(a){this._commands=[];
this._currentCommandIndex=-1;
};
Telerik.Web.UI.Editor.CommandsManager.prototype={get_commands:function(){return this._commands;
},execute:function(c,a){if(c&&c.execute){var b=c.execute();
if(false==a){return false;
}if(b&&c._canUnexecute){this._clearCommandsToRedo();
Array.add(this._commands,c);
this._currentCommandIndex=this._commands.length-1;
return true;
}}return false;
},undo:function(c){var d=this;
if(c>d._commands.length){c=d._commands.length;
}var a=0;
var b=null;
while(0<c&&0<=d._currentCommandIndex&&d._currentCommandIndex<d._commands.length){b=d._commands[d._currentCommandIndex--];
if(b){d._updateRestorePoints(b);
b.unexecute();
a++;
}c--;
}},redo:function(d){var e=this;
if(d>e._commands.length){d=e._commands.length;
}var a=0;
var b=null;
var c=e._currentCommandIndex+1;
while(0<d&&0<=c&&c<e._commands.length){b=e._commands[c];
if(b){e._updateRestorePoints(b);
b.execute();
e._currentCommandIndex=c;
a++;
}c++;
d--;
}},removeCommandAt:function(a){this._commands.splice(a,1);
if(this._currentCommandIndex>=a){this._currentCommandIndex--;
}},isUndoAvailable:function(){return(-1<this._currentCommandIndex);
},isRedoAvailable:function(){return(this._currentCommandIndex<this._commands.length-1);
},getCommandsToUndo:function(){if(this.isUndoAvailable()){return(this._commands.slice(0,this._currentCommandIndex+1)).reverse();
}else{return[];
}},getCommandsToRedo:function(){if(this.isRedoAvailable()){return this._commands.slice(this._currentCommandIndex+1);
}else{return[];
}},canRepeatLastCommand:function(){return((this._currentCommandIndex==this._commands.length-1)&&null!=this._commands[this._currentCommandIndex]&&("function"==typeof(this._commands[this._currentCommandIndex].clone)));
},repeatLastCommand:function(){if(this.canRepeatLastCommand()){var a=this._commands[this._currentCommandIndex].clone();
this.execute(a);
}},_clearCommandsToRedo:function(){if(this.isRedoAvailable()){this._commands.splice(this._currentCommandIndex+1,this._commands.length-this._currentCommandIndex);
}},_updateRestorePoints:function(a){var c=a.RestorePoint1,d=a.RestorePoint2,b=a.get_editor&&a.get_editor()?a.get_editor().get_contentArea():null;
if(!b){return;
}if(c){c.container=b;
}if(d){d.container=b;
}}};
Telerik.Web.UI.Editor.CommandsManager.registerClass("Telerik.Web.UI.Editor.CommandsManager",null);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,f){var c=Telerik.Web.UI;
var b=c.Editor;
var d="EditorEditType";
var e="EditorToolBarAnimationType";
a.registerEnum(c.Editor,"CommandStates",{Disabled:-1,Off:0,On:1});
a.registerEnum(c,"EditingOptions",{Typing:1,Tools:2,ContextMenus:4,Tab:8,Modules:16,EditModes:32,All:63});
a.registerEnum(c,"StripFormattingOptions",{None:0,NoneSupressCleanMessage:1,MSWord:2,MSWordNoFonts:4,MSWordRemoveAll:8,Css:16,Font:32,Span:64,AllExceptNewLines:128,ConvertWordLists:256,All:512,MSWordNoMargins:1024});
a.registerEnum(c,"EditorStripHtmlOptions",{None:0,Comments:1});
a.registerEnum(c,"EditorToolbarMode",{Default:1,Floating:2,PageTop:4,ShowOnFocus:8,RibbonBar:16,RibbonBarFloating:32,RibbonBarPageTop:64,RibbonBarShowOnFocus:128});
a.registerEnum(c,"EditorFilters",{None:0,RemoveScripts:1,MakeUrlsAbsolute:2,FixUlBoldItalic:4,FixEnclosingP:8,IECleanAnchors:16,MozEmStrong:32,ConvertFontToSpan:64,ConvertToXhtml:128,IndentHTMLContent:256,EncodeScripts:512,OptimizeSpans:1024,ConvertCharactersToEntities:2048,PdfExportFilter:4096,ConvertInlineStylesToAttributes:8192,ConvertTags:16384,StripCssExpressions:32768,StripDomEventAttributes:65536,RemoveExtraBreaks:131072,DefaultFilters:1+4+16+32+64+128+256+512+1024+2048+16384+32768+131072});
a.registerEnum(c,"EditorNewLineModes",{Br:1,P:2,Div:4});
a.registerEnum(c,"EditorToolType",{Button:1,DropDown:2,SplitButton:4,Separator:8,ToolStrip:16,Custom:32});
a.registerEnum(c,"EditModes",{Design:1,Html:2,Preview:4,All:7});
a.registerEnum(c,"EditorContentAreaMode",{Iframe:1,Div:2});
c.Editor.formatSetBlockElements=["p","h1","h2","h3","h4","h5","h6","menu","pre","address"];
a.registerEnum(b,d,{Normal:1,Inline:2});
a.registerEnum(b,"Orientation",{Portrait:1,LandScape:2});
a.registerEnum(b,e,{None:0,Fade:2});
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
$telerik.toEditorFilter=function(a){return a;
};
$telerik.findEditorFilter=$find;
(function(a,n){var c=Telerik.Web.UI,b=c.Editor,m="Telerik.Web.UI.Editor",g=".",k="MetaTagAttributesFilter",o=b.Utils;
var d=Telerik.Web;
var e=d.Browser;
var f=d.BrowserFeatures;
var l="style";
function j(){var p=window.navigator.userAgent;
if(p.indexOf("Windows Phone")>-1&&p.indexOf("IEMobile")>-1&&p.indexOf("MSIE")===-1){return true;
}else{return false;
}}function i(p){return typeof(p)==="undefined";
}f.addTest("convertBackgroundImageToAbsoluteUrl",function(){var p=document.createElement("div");
var q="url('image.png')";
p.style.backgroundImage=q;
return p.style.backgroundImage!==q;
});
b.Filter=function(){b.Filter.initializeBase(this);
this.IsDom=false;
this.Enabled=false;
this.Name="RadEditor filter";
this.Description="RadEditor filter description";
};
b.Filter.prototype={getHtmlContent:function(p){return p;
},getDesignContent:function(p){return p;
},get_isDom:function(){return this.IsDom;
},set_isDom:function(p){this.IsDom=p;
},get_enabled:function(){return this.Enabled;
},set_enabled:function(p){this.Enabled=p;
},get_name:function(){return this.Name;
},set_name:function(p){this.Name=p;
},get_description:function(){return this.Description;
},set_description:function(p){this.Description=p;
}};
b.Filter.registerClass("Telerik.Web.UI.Editor.Filter",Sys.Component);
b.StripScriptsFilter=function(){b.StripScriptsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripScriptsFilter";
this.Description="This filter strips all script tags from the content.";
};
b.StripScriptsFilter.prototype={getHtmlContent:function(p){return this._performStripping(p);
},getDesignContent:function(p){return this._performStripping(p);
},_performStripping:function(q){var p=q.replace(new RegExp("<(SCRIPT)([^>]*)/>","ig"),"");
p=p.replace(RegExp("<(SCRIPT)([^>]*)>[\\s\\S]*?</(SCRIPT)([^>]*)>","ig"),"");
return p;
}};
b.StripScriptsFilter.registerClass("Telerik.Web.UI.Editor.StripScriptsFilter",b.Filter);
b.EncodeScriptsFilter=function(){b.EncodeScriptsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="EncodeScriptsFilter";
this.Description="This filter encodes all script tags from the content.";
};
b.EncodeScriptsFilter.prototype={getHtmlContent:function(p){var r=new RegExp("<!--RADEDITORSAVEDTAG_([\\s\\S]*?)-->","ig");
var t=new RegExp("RADEDITORSAVEDTAGENDING","ig");
var s=new RegExp("RADEDITORSAVEDTAGBEGINNING","ig");
var q=p.replace(r,"<$1>");
q=q.replace(t,"-->");
q=q.replace(s,"<!--");
return q;
},getDesignContent:function(q){var p=function(w,u,v,z,B){var A=B.substring(0,z).lastIndexOf("<!--");
var t=B.substring(0,z).lastIndexOf("-->");
if(A>t){A=B.substring(z,B.length).indexOf("<!--");
t=B.substring(z,B.length).indexOf("-->");
if((A==-1&&t>-1)||(t<A)){return w;
}}var D=new RegExp("-->","ig");
var C=new RegExp("<!--","ig");
var x=v.replace(D,"RADEDITORSAVEDTAGENDING");
x=x.replace(C,"RADEDITORSAVEDTAGBEGINNING");
var y="<!--RADEDITORSAVEDTAG_"+u+x+"-->";
return y;
};
var s=new RegExp("<(script|noscript)([\\s\\S]*?<\\/\\1)>","ig");
var r=q.replace(s,p);
return r;
}};
b.EncodeScriptsFilter.registerClass("Telerik.Web.UI.Editor.EncodeScriptsFilter",b.Filter);
b.RemoveExtraBreaks=function(){b.RemoveExtraBreaks.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="RemoveExtraBreaks";
this.Description="This filter strips all extra brakes inside some tags like p, h1, etc.";
};
b.RemoveExtraBreaks.prototype={getHtmlContent:function(p){return this._performStripping(p);
},_performStripping:function(p){var q=p;
if($telerik.isFirefox||$telerik.isOpera){q=q.replace(/<BR\s?\/?>\s*<SCRIPT/ig,"<script");
}q=q.replace(/<BR\s?\/?>\s*<\/(H1|H2|H3|H4|H5|H6|LI|P|DIV)/ig,function(t,s,u,r){if(!r.substr(0,u).match(/<BR\s?\/?>\s*$/gi)){t="</"+s;
}return t;
});
q=q.replace(/<(H1|H2|H3|H4|H5|H6|LI|P|DIV)([^>]*)?><BR\s?\/?>/ig,"<$1 $2>");
if($telerik.isSafari){q=q.replace(/<p><\/p>/ig,"<p><br /></p>");
}return q;
}};
b.RemoveExtraBreaks.registerClass("Telerik.Web.UI.Editor.RemoveExtraBreaks",b.Filter);
b.FixNestedLists=function(){b.FixNestedLists.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixNestedLists";
this.Description="This filter produces valid XHTML from nested lists";
};
b.FixNestedLists.prototype={_getElements:function(q,r){var p=q.getElementsByTagName(r);
if(!p){p=q.ownerDocument.getElementsByTagName(r);
}return p;
},fixLists:function(q,t){var p=this._getElements(q,t);
for(var r=p.length-1;
r>=0;
r--){var s=p[r];
var v=s.previousSibling;
if(v&&v.nodeType==3){v=v.previousSibling;
}if(v&&"li"==s.previousSibling.nodeName.toLowerCase()){v.appendChild(s.cloneNode(true));
var u=s.parentNode;
u.removeChild(s);
u=null;
}}},getHtmlContent:function(p){this.fixLists(p,"OL");
this.fixLists(p,"UL");
return p;
}};
b.FixNestedLists.registerClass("Telerik.Web.UI.Editor.FixNestedLists",b.Filter);
b.FixUlBoldItalic=function(){b.FixUlBoldItalic.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixUlBoldItalic";
this.Description="This filter changes u, b, i tags to spans with CSS";
};
b.FixUlBoldItalic.prototype={_getElements:function(q,r){var p=q.getElementsByTagName(r);
if(!p){p=q.ownerDocument.getElementsByTagName(r);
}return p;
},_replaceElementWithSpan:function(q,z,w){var p=this._getElements(q,z);
var r=[];
for(var t=p.length-1;
t>=0;
t--){Array.add(r,p[t]);
}for(var s=0,u=r.length;
s<u;
s++){var v=q.ownerDocument.createElement("span");
v.style.cssText=w;
var x=r[s];
var y=x.innerHTML;
if($telerik.isIE&&y==" "){v.innerText=y;
}else{b.Utils.setElementInnerHtml(v,y);
}x.parentNode.replaceChild(v,x);
}},_replaceSpanWithElement:function(q,y,D){var C=this._getElements(q,"span");
var r=[];
for(var t=C.length-1;
t>=0;
t--){var B=C[t];
if(!this.isTrackChangesNode(B)){r.push(B);
}}for(var s=0,w=r.length;
s<w;
s++){var p=[];
var A=r[s];
for(var u=0;
u<A.childNodes.length;
u++){Array.add(p,A.childNodes[u].cloneNode(true));
}var z=A.style.cssText.toLowerCase();
if(z==D||z==(D+";")){var x=q.ownerDocument.createElement(y);
for(var v=0;
v<p.length;
v++){x.appendChild(p[v]);
}A.parentNode.replaceChild(x,A);
}}},isTrackChangesNode:function(p){return b.TrackChangesUtils&&b.TrackChangesUtils.isTrackChangeElement(p);
},getHtmlContent:function(p){this._replaceElementWithSpan(p,"u","text-decoration:underline;");
this._replaceElementWithSpan(p,"strike","text-decoration: line-through;");
return p;
},getDesignContent:function(p){if(j()&&i(p)){return p;
}this._replaceSpanWithElement(p,"u","text-decoration: underline");
this._replaceSpanWithElement(p,"strike","text-decoration: line-through");
return p;
}};
b.FixUlBoldItalic.registerClass("Telerik.Web.UI.Editor.FixUlBoldItalic",b.Filter);
b.OptimizeSpans=function(){b.OptimizeSpans.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="OptimizeSpans";
this.Description="This filter changes removes unneeded span elements";
this._attributesToCompare=["align","dir","lang","title","class","id"];
};
b.OptimizeSpans.prototype={_getElements:function(q,r){var p=q.getElementsByTagName(r);
if(!p){p=q.ownerDocument.getElementsByTagName(r);
}return p;
},_singleChild:function(s){if(s==null||s.parentNode==null){return false;
}var t=s.parentNode;
var p=0;
for(var q=0,r=t.childNodes.length;
q<r&&p<2;
q++){var u=t.childNodes[q];
if(u.nodeType==3&&String(u.nodeValue).trim()==""){continue;
}p++;
}return(p==1);
},_optimizeElement:function(v){var w=v.parentNode;
var p=this.get_attributesToCompare();
var t,u;
if(!this._checkAttributes(v)){return;
}for(t=0,u=p.length;
t<u;
t++){var q=p[t];
var r=v.getAttribute(q,2);
if(r){w.setAttribute(q,r);
}}var s=$telerik.isIE?v.style.cssText:v.getAttribute("style",2);
if(s){var x=$telerik.isIE?w.style.cssText:w.getAttribute("style",2);
x=(x?x+"; ":"").replace(/;\s*;/g,";");
if($telerik.isIE){w.style.cssText=x+s;
}else{w.setAttribute("style",x+s);
}}b.Utils.removeNode(v);
},_checkAttributes:function(s){var t=s.parentNode;
var p=this.get_attributesToCompare();
for(var q=0,r=p.length;
q<r;
q++){if(!this._checkAttribute(s,t,p[q])){return false;
}}return true;
},_checkAttribute:function(s,t,r){var p=s.getAttribute(r,2);
var q=t.getAttribute(r,2);
return(p==null||q==null||p==q);
},getHtmlContent:function(q){var v=this._getElements(q,"span");
if(v){var r,s=v.length;
var p=[];
for(r=0;
r<s;
r++){var t=v[r];
var w=t.tagName.toLowerCase();
if(t.parentNode.tagName.toLowerCase()==w){if(this._singleChild(t)){p[p.length]=t;
}else{var u=b.Utils.getOuterHtml(t).toLowerCase();
if(u.indexOf("<"+w+">")==0){p[p.length]=t;
}}}}s=p.length;
for(r=0;
r<s;
r++){this._optimizeElement(p[r]);
}}return q;
},set_attributesToCompare:function(p){this._attributesToCompare=p;
},get_attributesToCompare:function(p){return this._attributesToCompare;
}};
b.OptimizeSpans.registerClass("Telerik.Web.UI.Editor.OptimizeSpans",b.Filter);
b.IEKeepCommentsFilter=function(){b.IEKeepCommentsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEKeepCommentsFilter";
this.Description="This filter keeps the conditional comments in IE.";
};
b.IEKeepCommentsFilter.prototype={getHtmlContent:function(q){var p=new RegExp("<!--RADEDITORSAVEDCOMMENT","ig");
var r=q.replace(p,"<!--");
return r;
},getDesignContent:function(q){var p=new RegExp("<!--(\\[[^\\]]+\\][\\s\\S]*?)-->","ig");
var r=q.replace(p,"<!--RADEDITORSAVEDCOMMENT$1-->");
return r;
}};
b.IEKeepCommentsFilter.registerClass("Telerik.Web.UI.Editor.IEKeepCommentsFilter",b.Filter);
b.IEKeepObjectParamsFilter=function(){b.IEKeepObjectParamsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEKeepObjectParamsFilter";
this.Description="This filter keeps the params of object tags when going to html mode and back.";
this._paramRegex=new RegExp("<param([\\s\\S]+?)/?>","ig");
};
b.IEKeepObjectParamsFilter.prototype={getHtmlContent:function(p){var s=new RegExp("<rade_param","ig");
var r=this._paramRegex.test(p);
var t=s.test(p);
var q=p;
if(r&&t){q=q.replace(this._paramRegex,"");
}if(t){q=q.replace(s,"<param");
q=q.replace(/>\s*<\/rade_param>/gi,"/>");
q=q.replace(this._paramRegex,"<param$1/>");
}return q;
},getDesignContent:function(p){var q=p.replace(this._paramRegex,"<rade_param$1></rade_param><param$1/>");
return q;
}};
b.IEKeepObjectParamsFilter.registerClass("Telerik.Web.UI.Editor.IEKeepObjectParamsFilter",b.Filter);
b.IEKeepObjectDesignFilter=function(){b.IEKeepObjectDesignFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="IEKeepObjectDesignFilter";
this.Description="This filter keeps the browser from automatically changing object tags when going to html mode and back.";
};
b.IEKeepObjectDesignFilter.prototype={getHtmlContent:function(p){var s=p.getElementsByTagName("object");
for(var q=0,r=s.length;
q<r;
q++){var t=s[q];
var u=t.getAttribute("data",2);
var v=t.getAttribute("type",2);
if(u&&v&&v.toLowerCase().indexOf("silverlight")!=-1&&u.toLowerCase().indexOf("base64")!=-1){t.setAttribute("data","data:"+v+",");
}}return p;
}};
b.IEKeepObjectDesignFilter.registerClass("Telerik.Web.UI.Editor.IEKeepObjectDesignFilter",b.Filter);
b.FixEnclosingP=function(){b.FixEnclosingP.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixEnclosingP";
this.Description="This filter removes a parent paragraph tag if the whole content is inside it.";
};
b.FixEnclosingP.prototype={getHtmlContent:function(r){if(!$telerik.isIE){return r;
}var p=o.isTag(r,"html")?r.getElementsByTagName("BODY")[0]:r;
var q=p?p.firstChild:null;
if(o.isTag(q,"p")&&p.childNodes.length==1&&!o.hasAttributes(q)){o.removeNode(q);
}return r;
}};
b.FixEnclosingP.registerClass("Telerik.Web.UI.Editor.FixEnclosingP",b.Filter);
b.IEFixEmptyParagraphs=function(){b.IEFixEmptyParagraphs.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEFixEmptyParagraphs";
this.Description="This filter inserts a non-braking space in empty paragraph tags so they are rendered correctly in IE.";
};
b.IEFixEmptyParagraphs.prototype={getHtmlContent:function(p){var r=new RegExp("(<p[^>]*>)(<\\/p>)","ig");
var q=p.replace(r,"$1&nbsp;$2");
return q;
}};
b.IEFixEmptyParagraphs.registerClass("Telerik.Web.UI.Editor.IEFixEmptyParagraphs",b.Filter);
b.IECleanAnchorsFilter=function(){b.IECleanAnchorsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IECleanAnchorsFilter";
this.Description="This filter removse the current page href from all anchor (#) links .";
this.locationHref=document.location.href;
};
b.IECleanAnchorsFilter.prototype={getHtmlContent:function(q){var p=b.Utils.escapeRegExSpecialChars(this.locationHref.split("?")[0]);
var s=new RegExp("(<A[^<>]*?(href)\\s*=\\s*['\"])("+p+"\\??[^#'\"]*)(\\#[^'\"]*?['\"][^>]*?>)","ig");
var r=q.replace(s,"$1$4");
return r;
}};
b.IECleanAnchorsFilter.registerClass("Telerik.Web.UI.Editor.IECleanAnchorsFilter",b.Filter);
b.MozEmStrongFilter=function(){b.MozEmStrongFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="MozEmStrongFilter";
this.Description="[Obsolete] This filter changes b,strong and i,em in Mozilla browsers.";
};
b.MozEmStrongFilter.prototype={getHtmlContent:function(p){var q=p.replace(new RegExp("<b(\\s([^>])*?)?>","ig"),"<strong$1>");
q=q.replace(new RegExp("</b(\\s([^>])*?)?>","ig"),"</strong$1>");
q=q.replace(new RegExp("<i(\\s([^>])*?)?>","ig"),"<em$1>");
q=q.replace(new RegExp("</i(\\s([^>])*?)?>","ig"),"</em$1>");
return q;
},getDesignContent:function(p){var q=p.replace(new RegExp("<strong(\\s([^>])*?)?>","ig"),"<b$1>");
q=q.replace(new RegExp("</strong(\\s([^>])*?)?>","ig"),"</b$1>");
q=q.replace(new RegExp("<em(\\s([^>])*?)?>","ig"),"<i$1>");
q=q.replace(new RegExp("</em(\\s([^>])*?)?>","ig"),"</i$1>");
return q;
}};
b.MozEmStrongFilter.registerClass("Telerik.Web.UI.Editor.MozEmStrongFilter",b.Filter);
b.ConvertTagsFilter=function(){b.ConvertTagsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="ConvertTagsFilter";
this.Description="This filter converts one type of tags to another type.";
};
b.ConvertTagsFilter.prototype={tags:[{source:"b",target:"strong"},{source:"i",target:"em"},{source:"strike",target:"del"}],getHtmlContent:function(p){return this.convertTags(p);
},getDesignContent:function(p){return this.convertTags(p);
},convertTags:function(p){var r=p,s=this.tags;
for(var q=0;
q<s.length;
q++){r=this._replaceTag(r,s[q]);
}return r;
},_replaceTag:function(p,q){return p.replace(new RegExp("<"+q.source+"(\\s([^>])*?)?>","ig"),"<"+q.target+"$1>").replace(new RegExp("</"+q.source+"(\\s([^>])*?)?>","ig"),"</"+q.target+"$1>");
}};
b.ConvertTagsFilter.registerClass("Telerik.Web.UI.Editor.ConvertTagsFilter",b.Filter);
b.MozillaKeepStylesString=function(){b.MozillaKeepStylesString.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="MozillaKeepStylesString";
this.Description="This filter remembers the positions of link tags in the html content (part 1).";
this.markerCounter=0;
};
b.MozillaKeepStylesString.prototype={getDesignContent:function(q){var t=this;
var p=function(y,v,w,A,B){var u=B.indexOf("</head>",A);
if(u!=-1&&B.indexOf("<body",u)!=-1){return y;
}else{t.markerCounter++;
var x="RadEditorStyleKeeper"+t.markerCounter;
var z="<div id='"+x+"' style='display:none;'>&nbsp;</div><"+v+" reoriginalpositionmarker='"+x+"'"+w;
return z;
}};
var r=new RegExp("<(link|style)([^>]*>)","gi");
var s=q.replace(r,p);
return s;
},getHtmlContent:function(p){var q=new RegExp("<(link|style) reoriginalpositionmarker='RadEditorStyleKeeper[^']+'([^>]*>)","gi");
var s=p.replace(q,"<$1$2");
var r=new RegExp("<div id='RadEditorStyleKeeper[^']+' style='display:none;'>&nbsp;</div>","gi");
s=s.replace(r,"");
return s;
}};
b.MozillaKeepStylesString.registerClass("Telerik.Web.UI.Editor.MozillaKeepStylesString",b.Filter);
b.MozillaKeepStylesDom=function(){b.MozillaKeepStylesDom.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaKeepStylesDom";
this.Description="This filter remembers the positions of link tags in the html content(part 2).";
this._divs=[];
};
b.MozillaKeepStylesDom.prototype={getHtmlContent:function(p){var v=p.getElementsByTagName("HEAD")[0];
var t=true;
if(!v){v=p.ownerDocument.getElementsByTagName("HEAD")[0];
t=false;
}if(!v){return p;
}this._restoreElements(v,p,"STYLE");
this._restoreElements(v,p,"LINK");
var s=p.getElementsByTagName("DIV");
if(s){for(var u=s.length-1;
u>=0;
u--){var q=s[u];
if(q.id.indexOf("RadEditorStyleKeeper")==0){var r=q.parentNode;
r.removeChild(q);
}}}s=null;
if(t){this._removeElements(v,"STYLE");
this._removeElements(v,"LINK");
}this._removeMarkerAttributes(p,"STYLE");
this._removeMarkerAttributes(p,"LINK");
return p;
},_restoreElements:function(s,p,t){var q;
q=s.getElementsByTagName(t);
this._divs=p.getElementsByTagName("DIV");
var r=0;
while(q.length>0&&r<q.length){this._restoreStyle(q[r++]);
}},_restoreStyle:function(r){var t=r.getAttribute("reoriginalpositionmarker");
if(t){var s=0;
var p=null;
while(s<this._divs.length&&!p){if(this._divs[s].id==t){p=this._divs[s];
}s++;
}if(p){var u=r.cloneNode(true);
u.removeAttribute("reoriginalpositionmarker");
var q=p.parentNode;
q.replaceChild(u,p);
return true;
}}return false;
},_removeElements:function(q,u){var t=q.getElementsByTagName(u);
if(t){for(var p=t.length-1;
p>=0;
p--){var r=t[p];
if(null!=r.getAttribute("reoriginalpositionmarker")){var s=r.parentNode;
s.removeChild(r);
}}t=null;
}},_removeMarkerAttributes:function(p,s){var r=p.getElementsByTagName(s);
if(r){for(var q=r.length-1;
q>=0;
q--){r[q].removeAttribute("reoriginalpositionmarker");
}}r=null;
}};
b.MozillaKeepStylesDom.registerClass("Telerik.Web.UI.Editor.MozillaKeepStylesDom",b.Filter);
b.MozillaRemoveLastBrFilter=function(p){b.MozillaRemoveLastBrFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaRemoveLastBr";
this.Description="Remove the last Br element, which Firefox automatically adds.";
};
b.MozillaRemoveLastBrFilter.prototype={getHtmlContent:function(p){if(!p||$telerik.isIE){return;
}this._removeLastBr(p);
return p;
},getDesignContent:function(q){if(!q||$telerik.isIE){return;
}var p=a(this._getEditableNode(q));
p.find("br[_moz_editor_bogus_node]").remove();
p.append("<br class='t-last-br' />");
return q;
},_removeLastBr:function(q){var p=this._getEditableNode(q);
this._removeMarkedBr(p);
if($telerik.isFirefox){this._removeLasBrInTD(p);
}},_removeLasBrInTD:function(p){var q=Function.createDelegate(this,this._removeInnerBr);
$telerik.$(p).find("td,th").each(function(r,s){q(s);
});
},_removeMarkedBr:function(q){var p=a(q.lastChild);
if(p.is("br.t-last-br")){p.remove();
}},_removeInnerBr:function(q){var p=a(q.lastChild);
if(p.is("br[type=_moz]")){p.remove();
}},_getEditableNode:function(p){return o.isTag(p,"html")?p.getElementsByTagName("BODY")[0]:p;
}};
b.MozillaRemoveLastBrFilter.registerClass("Telerik.Web.UI.Editor.MozillaRemoveLastBrFilter",b.Filter);
b.MozillaKeepFlash=function(p){b.MozillaKeepFlash.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaKeepFlash";
this.Description="This filter replaces the flash/media objects with static images in design mode.";
this._flashImageSrc=p?p:"FlashManager.gif";
};
b.MozillaKeepFlash.prototype={_saveFlashObject:function(p){var r=p.ownerDocument.createElement("img");
r.setAttribute("isflash","true");
r.setAttribute("src",this._flashImageSrc);
r.setAttribute("alt","");
var u=p.getAttribute("width",2);
if(u){r.setAttribute("width",u);
}var q=p.getAttribute("height",2);
if(q){r.setAttribute("height",q);
}var s=$telerik.getOuterHtml(p);
s=s.replace(/\n/gi,"<flashcr />").replace(/\r/gi,"<flashlf />");
r.setAttribute("originalCode",b.Utils.encodePostbackContent(s));
var t=p.parentNode;
t.insertBefore(r,p);
t.removeChild(p);
p=null;
},_restoreFlashObject:function(p){var t=b.Utils.decodePostbackContent(p.getAttribute("originalCode"));
t=t.replace(/<flashcr\s*\/\>/gi,"\n").replace(/<flashlf\s*\/\>/gi,"\r");
var s=p.ownerDocument.createElement("div");
s.innerHTML=t;
var r=s.firstChild;
var v=p.getAttribute("width",2);
if(v){r.setAttribute("width",v);
}var q=p.getAttribute("height",2);
if(q){r.setAttribute("height",q);
}var u=p.parentNode;
u.insertBefore(r,p);
u.removeChild(p);
p=null;
},getDesignContent:function(q){var s,r;
var p=q.getElementsByTagName("object");
for(s=0;
s<p.length;
s++){r=p[s];
this._saveFlashObject(r);
s--;
}p=q.getElementsByTagName("embed");
for(s=0;
s<p.length;
s++){r=p[s];
this._saveFlashObject(r);
s--;
}return q;
},getHtmlContent:function(q){var p=q.getElementsByTagName("img");
for(var s=0;
s<p.length;
s++){var r=p[s];
var t=r.getAttribute("isflash",2);
if(t!=null){this._restoreFlashObject(r);
s--;
}}return q;
}};
b.MozillaKeepFlash.registerClass("Telerik.Web.UI.Editor.MozillaKeepFlash",b.Filter);
b.StripJunkFilter=function(){b.StripJunkFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripJunkFilter";
this.Description="This filter strips extra content, added by the Safari/Firefox browsers.";
};
b.StripJunkFilter.prototype={getHtmlContent:function(p){var q=p;
if($telerik.isSafari){q=q.replace(new RegExp(' class="khtml-block-placeholder"',"ig"),"");
q=q.replace(new RegExp(' class="Apple-style-span"',"ig"),"");
q=q.replace(new RegExp(' class="webkit-block-placeholder"',"ig"),"");
}if($telerik.isFirefox){q=q.replace(new RegExp('\\s?<br type="_moz" \\/>',"ig")," ");
q=q.replace(new RegExp(' _moz_[a-z_]*="[^"]*"',"ig"),"");
q=q.replace(new RegExp(' type="_moz"',"ig"),"");
}return q;
}};
b.StripJunkFilter.registerClass("Telerik.Web.UI.Editor.StripJunkFilter",b.Filter);
b.ConvertFontToSpanFilter=function(){b.ConvertFontToSpanFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="ConvertFontToSpanFilter";
this.Description="This filter changes deprecated font tags to compliant span tags.";
this._fontSizesPx=b.Utils._fontSizesPx;
this._fontSizesRevPx=[];
for(var p=0;
p<this._fontSizesPx.length;
p++){this._fontSizesRevPx[parseInt(this._fontSizesPx[p],10)]=p;
}};
b.ConvertFontToSpanFilter.prototype={getHtmlContent:function(p){var q=p.ownerDocument;
var y=q.createElement("span");
var x,t,v;
var u=p.getElementsByTagName("FONT");
while(u.length>0){t=u[0];
v=t.parentNode;
x=y.cloneNode(false);
$telerik.mergeElementAttributes(t,x,false);
if(t.style.cssText&&t.style.cssText!=""){x.style.cssText=t.style.cssText;
}if(t.className){x.className=t.className;
}if(t.face){x.style.fontFamily=t.face;
if($telerik.isFirefox||e.edge){this._fixFontFamilyValues(x,t);
}if(x.getAttribute("face")!=null){x.removeAttribute("face");
}}var w=0;
if(t.style.fontSize){x.style.fontSize=t.style.fontSize;
}else{if(!isNaN(w=parseInt(t.size,10))&&t.size!="+0"){try{if(w<0){w=w+4;
}x.style.fontSize=this._fontSizesPx[w-1];
}catch(r){x.style.fontSize=this._fontSizesPx[3];
}if(x.getAttribute("size")!=null){x.removeAttribute("size");
}}}var s=t.getAttribute("color");
if(s){x.style.color=s;
if(x.getAttribute("color")!=null){x.removeAttribute("color");
}}if($telerik.isIE&&t.innerHTML==" "){x.innerText=t.innerHTML;
}else{b.Utils.setElementInnerHtml(x,t.innerHTML);
}v.replaceChild(x,t);
u=p.getElementsByTagName("FONT");
}return p;
},getDesignContent:function(q){if(e.webkit&&e.version<4){return q;
}if(j()&&i(q)){return q;
}var r=q.ownerDocument;
var t=r.createElement("font");
var w,s,v;
var x=q.getElementsByTagName("SPAN");
while(x.length>0){w=x[0];
v=w.parentNode;
s=t.cloneNode(false);
$telerik.mergeElementAttributes(w,s,false);
if(w.style.cssText&&w.style.cssText!=""){s.style.cssText=w.style.cssText;
}if(w.className){s.className=w.className;
}if(w.style.fontFamily){s.face=w.style.fontFamily;
if($telerik.isFirefox||e.edge){var u=this._getFontFamilyValue(w.attributes.style.nodeValue);
s.face=u?u:s.face;
}this._removeElementStyleAttribute(s,"fontFamily");
}if(w.style.fontSize){var p=null;
if(-1!=w.style.fontSize.indexOf("px")){p=this._fontSizesRevPx[parseInt(w.style.fontSize,10)];
}if(typeof(p)!="undefined"&&null!=p){s.size=p+1;
this._removeElementStyleAttribute(s,"fontSize");
}}if(w.style.color){s.color=b.Utils._rgbToHex(w.style.color);
this._removeElementStyleAttribute(s,"color");
}if($telerik.isIE&&w.innerHTML==" "){s.innerText=w.innerHTML;
}else{b.Utils.setElementInnerHtml(s,w.innerHTML);
}v.replaceChild(s,w);
x=q.getElementsByTagName("SPAN");
}return q;
},_removeElementStyleAttribute:function(p,q){if(p.style&&p.style[q]){if(p.style.removeAttribute){p.style.removeAttribute(q);
}else{if(p.style.removeProperty){q=q.replace(/([A-Z])/g,"-$1").toLowerCase();
p.style.removeProperty(q);
}}if(p.style[q]){p.style[q]=null;
}if(!p.style.cssText){p.removeAttribute("style");
}}},_getFontFamilyValue:function(r){var p;
var q=r.match(/(font-family:\s*)([^;]+);/i);
if(q){p=q[2];
}return p;
},_fixFontFamilyValues:function(q,p){var r=q.attributes.style.nodeValue;
r=r.replace(q.style.fontFamily,p.face.replace(/\s+/g," "));
q.attributes.style.nodeValue=r;
}};
b.ConvertFontToSpanFilter.registerClass("Telerik.Web.UI.Editor.ConvertFontToSpanFilter",b.Filter);
b.ConvertInlineStylesToAttributesFilter=function(){b.ConvertInlineStylesToAttributesFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="ConvertInlineStylesToAttributesFilter";
this.Description="This filter converts XHTML compliant inline style attributes to Email compliant element attributes.";
};
b.ConvertInlineStylesToAttributesFilter.prototype={getHtmlContent:function(p){var q=$telerik.$.proxy;
$telerik.$("body",p).each(q(function(s,r){this.convertCSSProperty(r,"bgColor","backgroundColor");
this.convertCSSProperty(r,"background","backgroundImage");
},this));
$telerik.$("table,td",p).each(q(function(s,r){this.convertCSSProperty(r,"bgColor","backgroundColor");
this.convertCSSProperty(r,"background","backgroundImage");
this.convertCSSProperty(r,"width","width");
this.convertCSSProperty(r,"height","height");
},this));
$telerik.$("img",p).each(q(function(s,r){b.Utils.convertImgCssAlignProperty(r);
if($telerik.isIE){r.style.styleFloat="";
}else{r.style.cssFloat="";
}r.style.verticalAlign="";
this.convertCSSProperty(r,"width","width");
this.convertCSSProperty(r,"height","height");
},this));
return p;
},getDesignContent:function(q){var p=new b.CleanAttributesFilter();
q=p.getHtmlContent(q);
q=p.getDesignContent(q);
return q;
},convertCSSProperty:function(q,r,p){b.Utils.convertCSSProperty(q,r,p);
}};
b.ConvertInlineStylesToAttributesFilter.registerClass("Telerik.Web.UI.Editor.ConvertInlineStylesToAttributesFilter",b.Filter);
b.AttributesFilterBase=function(p){b.AttributesFilterBase.initializeBase(this);
this.settings=p;
};
b.AttributesFilterBase.prototype={getHtmlContent:function(q){var r=this.convertAttribute,s=this.settings,p=$telerik.$(q);
Array.forEach(s,function(t){p.find(t.tags.join(",")).each(function(v,u){Array.forEach(t.attributes,function(w){if(typeof(w.method)==="function"){w.method(u);
u.removeAttribute(w.attr);
}else{r(u,w.attr,w.style);
}});
});
});
return q;
},getDesignContent:function(p){return this.getHtmlContent(p);
},convertAttribute:function(q,r,p){b.Utils.convertAttribute(q,r,p);
q.removeAttribute(r);
},convertCSSToAttribute:function(q,r,p){b.Utils.convertCSSProperty(q,r,p);
}};
b.AttributesFilterBase.registerClass("Telerik.Web.UI.Editor.AttributesFilterBase",b.Filter);
b.CleanAttributesFilter=function(){var p=[{tags:["body","table"],attributes:[{attr:"bgColor",style:"backgroundColor"},{attr:"background",style:"backgroundImage"}]},{tags:["p","h1","h2","h3","h4","h5","h6","div","ul","li"],attributes:[{attr:"align",style:"textAlign"}]},{tags:["td"],attributes:[{attr:"bgColor",style:"backgroundColor"},{attr:"background",style:"backgroundImage"},{attr:"borderColor",style:"borderColor"},{attr:"width",style:"width"},{attr:"height",style:"height"},{attr:"noWrap",style:"whiteSpace"}]},{tags:["img"],attributes:[{method:o.convertImgAlignAttribute,attr:"align"},{method:o.convertBorderAttribute,attr:"border"},{attr:"hspace",style:["marginLeft","marginRight"]},{attr:"vspace",style:["marginTop","marginBottom"]}]},{tags:["ul","ol"],attributes:[{method:o.convertTypeAttribute,attr:"type"}]}];
b.CleanAttributesFilter.initializeBase(this,[p]);
this.IsDom=true;
this.Enabled=true;
this.Name="CleanAttributesFilter";
this.Description="This filter fixes deprecated attributes to make the content XHTML compliant.";
};
b.CleanAttributesFilter.registerClass("Telerik.Web.UI.Editor.CleanAttributesFilter",b.AttributesFilterBase);
b.StripDomEventAttributesFilter=function(){var p=[],q=["onabort","onactivate","onafterprint","onauxclick","onbeforeactivate","onbeforecopy","onbeforecut","onbeforedeactivate","onbeforepaste","onbeforeprint","onbeforeunload","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncuechange","oncut","ondblclick","ondeactivate","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","ongotpointercapture","onhashchange","onhelp","oninput","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onmscontentzoom","onmsgesturechange","onmsgesturedoubletap","onmsgestureend","onmsgesturehold","onmsgesturestart","onmsgesturetap","onmsgotpointercapture","onmsinertiastart","onmslostpointercapture","onmsmanipulationstatechanged","onmspointercancel","onmspointerdown","onmspointerenter","onmspointerleave","onmspointermove","onmspointerout","onmspointerover","onmspointerup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onpopstate","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onselectstart","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onunload","onvolumechange","onwaiting","onwheel"];
Array.forEach(q,function(s){p.push({attr:s});
});
var r=[{tags:["*"],attributes:p}];
b.StripDomEventAttributesFilter.initializeBase(this,[r]);
this.IsDom=true;
this.Enabled=true;
this.Name="StripDomEventAttributesFilter";
this.Description="This filter removes all common event attributes.";
};
b.StripDomEventAttributesFilter.registerClass("Telerik.Web.UI.Editor.StripDomEventAttributesFilter",b.AttributesFilterBase);
var h=/(\n?\s*[a-zA-Z-]+: ?expression(\())/i;
b.StripCssExpressionsFilter=function(){b.StripCssExpressionsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripCssExpressionsFilter";
this.Description="Removes all declarations of CSS expression within style attributes";
};
b.StripCssExpressionsFilter.prototype={getHtmlContent:function(p){return this.getDesignContent(p);
},getDesignContent:function(p){p=this.sanitizeTags(p);
p=this.sanitizeStyleTags(p);
return p;
},sanitizeTags:function(p){var r=/<[\w:]+(?=\s)(?:="(?:\\"|[^"])*"|='(?:\\'|[^'])*'|[^>])*\/?>/gi,q=this;
return p.replace(r,function(t,s){return q.sanitizeContent(t,h);
});
},sanitizeStyleTags:function(p){var r=/(<style(?:="(?:\\"|[^"])*"|='(?:\\'|[^'])*'|[^>])*\/?>)((?:.|\n)*?)(<\/style>)/gi,q=this;
return p.replace(r,function(v,x,s,w,t){var u=q.sanitizeContent(s,h);
return x+u+w;
});
},sanitizeContent:function(p,v){var t=p.match(v);
while(t){var s=t[1],q=t.index+t[0].indexOf(s),w=q+s.length-1,u=0;
do{var r=p.charAt(w);
if(r=='"'||r=="'"||r=="/"){p=this.stripStringPair(r,p,w);
r=p.charAt(w);
}p=this.removeChar(p,w);
if(r=="("){u++;
}else{if(r==")"){u--;
}}}while(u>0&&p.length>w);
p=this.removeRange(p,q,w);
if(p[q]==";"){p=this.removeChar(p,q);
}t=p.match(v);
}return p;
},stripStringPair:function(q,p,s){var r=new RegExp(q+"(?:\\\\\\\\|\\\\"+q+"|[^"+q+"])+"+q);
return p.substring(0,s)+p.substring(s).replace(r,"");
},removeRange:function(p,q,r){return p.substring(0,q)+p.substring(r);
},removeChar:function(q,p){return this.strRemove(q,p,1);
},strRemove:function(r,p,q){return this.removeRange(r,p,p+q);
},strInsert:function(q,p,r){return q.substring(0,p)+r+q.substring(p);
}};
b.StripCssExpressionsFilter.registerClass("Telerik.Web.UI.Editor.StripCssExpressionsFilter",b.Filter);
b.ConvertToXhtmlFilter=function(){b.ConvertToXhtmlFilter.initializeBase(this);
this._uniqueIds={};
this.Name="ConvertToXhtmlFilter";
this.Description="This filter converts the HTML from the editor content area to valid XHTML";
this.Enabled=true;
this.IsDom=true;
};
b.ConvertToXhtmlFilter.prototype={getHtmlContent:function(p){var r=this;
if(!p){return"";
}r._setContentToEmptyWrappers(p);
r._removeMSWordParagraphs(p);
r._fixNestedBlockElements(p);
r._markExistingParagraphs(p);
var u=new Telerik.Web.StringBuilder();
var q=o.isEditorContentArea(p)?p.childNodes:[p];
for(var t=0;
t<q.length;
t++){r._appendNodeXhtml(q[t],u);
}var s=u.toString();
s=r._removeAdditionalParagraphs(s);
return s;
},_setContentToEmptyWrappers:function(p){$telerik.$("p,div",p).each(function(r,q){if(q.innerHTML==""||(q.nodeName=="DIV"&&q.childNodes.length==1&&q.firstChild.nodeName=="BR")){$telerik.$(q).html("&nbsp;");
}});
},_removeMSWordParagraphs:function(p){var r=$telerik.$("P",p);
for(var q=0;
q<r.length;
q++){if(/^\r?\n?\s*(<O:P|<\?xml:)/i.test(b.Utils.getOuterHtml(r[q]).trim())){b.Utils.removeNode(r[q]);
}}},_fixNestedBlockElements:function(p){var q=new b.NestedElementsFix(p);
q.applyFix();
},_markExistingParagraphs:function(p){if(!p||!$telerik.isIE){return;
}$telerik.$("P",p).attr("_rdEditor_exists","1").each(function(q){b.Utils.removeNonXhtmlCompliantParents(this);
});
},_removeAdditionalParagraphs:function(p){p=p.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,function(q){return(!q.match(/_rdEditor_exists/ig))?"":q;
});
p=p.replace(/(<p[^>]*) _rdEditor_exists=['"]1['"]([^>]*>)/ig,"$1$2");
return p;
},_convertAttribute:function(p,q){return String(p).replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,q?"&quot;":"'");
},_getAttributeValue:function(s,t,u){var p=this;
var q=s.nodeName;
var x=s.nodeValue;
if(q!="style"){if(($telerik.isIE8&&q=="complete"&&x=="complete")||($telerik.isIE8&&q=="shape"&&t.nodeName.toLowerCase()=="a"&&t[q]!=t.getAttribute(q))||($telerik.isIE8&&q.toLowerCase()=="althtml"&&t.nodeName.toLowerCase()=="object")){return;
}if($telerik.isIE&&(q=="type"||q=="value"||q=="selected")){if(!x){return;
}}else{if(!s.specified){if($telerik.isIE&&x==""&&typeof(t[q])=="string"&&t[q]!=""){x=t[q];
}else{return;
}}}if(!x){return;
}if(!isNaN(x)){x=t.getAttribute(q);
}if($telerik.isIE&&(q=="href"||q=="src")){x=t.getAttribute(q,2);
}var r=q.toLowerCase();
var w=a.inArray(r,this._getEntityAttributes())!=-1;
u.append(" "+(s.expando?q:r)+'="'+this._convertAttribute(x,w)+'"');
}else{var v=f.convertBackgroundImageToAbsoluteUrl?a(t).attr(l):p._getElementCssText(t);
if(v){v=this._convertRgbToHex(v);
v=this._stripBorderRepetition(v);
v=this._cssPropertiesToLowerCase(v);
v=this._convertAttribute(v);
v=v.replace(/(url\s*\(\s*)&quot;(.*)&quot;\s*\)/ig,"$1$2)");
if($telerik.isSafari){v=v.replace(/(background-repeat:\sno-repeat)(?:\sno-repeat)+/ig,"$1");
}u.append(' style="'+v+'"');
}}},_cssPropertiesToLowerCase:function(p){return p.replace(/([^:;]*):/ig,function(r,q){return q.toLowerCase()+":";
});
},_convertRgbToHex:function(p){if($telerik.isFirefox||$telerik.isSafari||$telerik.isIE9Mode){p=p.replace(/rgb *\( *\d+ *, *\d+ *, *\d+ *\)/gi,function(r,s,q){return b.Utils._rgbToHex(r);
});
}return p;
},_replaceBorderRepetition:function(s,r,q){var p=s.match(r);
if(p&&p.length==4){var t=p[0].substring(p[0].indexOf(":"));
if(t==p[1].substring(p[1].indexOf(":"))&&t==p[2].substring(p[2].indexOf(":"))&&t==p[3].substring(p[3].indexOf(":"))){s=s.replace(r,"").replace(/^\s+|\s+$/g,"");
s+=q+t;
}}return s;
},_combineBorderStyles:function(t){var s=new RegExp(/border-(width|style|color):([^;]*);/gi);
var r=t.match(s);
if(r&&r.length==3){var p="border:";
var u=[];
u[0]=r[0].substring(r[0].indexOf(":")+1).trim();
u[1]=r[1].substring(r[1].indexOf(":")+1).trim();
u[2]=r[2].substring(r[2].indexOf(":")+1).trim();
if(u[0].match(/\s/)||u[1].match(/\s/)||u[2].match(/\s/)){return t;
}var q=function(v){for(var w=0;
w<3;
w++){if(r[w].indexOf(v)==0){p+=u[w]+" ";
break;
}}};
q("border-width");
q("border-style");
q("border-color");
p=p.replace(/;/g,"").replace(/currentcolor/gi,"").replace(/initial/gi,"").replace(/\s[\s]+/g," ").replace(/^\s+|\s+$/g,"");
p+=";";
t=t.replace(s,"");
t=p+t;
}return t;
},_stripBorderRepetition:function(q){if(!q){return;
}if(!q.match(/; *$/)){q+=";";
}var p=new RegExp(/border(?:-(top|bottom|left|right))-width:([^;]*);/gi);
q=this._replaceBorderRepetition(q,p,"border-width");
p=new RegExp(/border(?:-(top|bottom|left|right))-style:([^;]*);/gi);
q=this._replaceBorderRepetition(q,p,"border-style");
p=new RegExp(/border(?:-(top|bottom|left|right))-color:([^;]*);/gi);
q=this._replaceBorderRepetition(q,p,"border-color");
p=new RegExp(/border-(top|bottom|left|right):([^;]*);/gi);
q=this._replaceBorderRepetition(q,p,"border");
q=this._combineBorderStyles(q);
return q.replace(/^\s+|\s+$/g,"");
},_canHaveChildren:function(p){switch(p.tagName.toUpperCase()){case"AREA":case"BASE":case"BASEFONT":case"COL":case"FRAME":case"HR":case"IMG":case"BR":case"INPUT":case"ISINDEX":case"LINK":case"META":case"PARAM":return false;
}return true;
},_getEntityAttributes:function(){return["title","alt"];
},_appendElementNode:function(z,D){if(z.tagName.charAt(0)=="/"){if($telerik.isIE6&&z.nodeName=="/ABBR"){D.append("</abbr>");
}return;
}if(z.nodeName=="!"){D.append(z.text);
return;
}var y=z.nodeName;
if(z.scopeName){if(z.scopeName=="HTML"){y=y.toLowerCase();
}else{y=z.scopeName+":"+y;
}}else{y=y.toLowerCase();
}if($telerik.isFirefox&&y=="br"&&z.parentNode.nodeName.toLowerCase()=="pre"){if(z.getAttribute("_moz_dirty")==""){D.append("\r\n");
return;
}}if(y){D.append("<"+y);
}if("img"==y){if($telerik.isIE6||$telerik.isIE7){var C=document.createElement("img");
C.mergeAttributes(z);
if(C.width){D.append(' width="'+z.getAttribute("width",2)+'"');
}if(C.height){D.append(' height="'+z.getAttribute("height",2)+'"');
}}if(!z.getAttribute("alt",2)){D.append(' alt=""');
}}if($telerik.isIE&&("area"==y||"a"==y)){if(z.shape&&y=="area"&&!document.documentMode){D.append(' shape="'+z.shape.toLowerCase()+'"');
}if(z.coords&&y=="area"&&!document.documentMode){D.append(' coords="'+z.getAttribute("coords")+'"');
}var r=z.getAttribute("href",2);
if(r){r=r.replace("about:blank","");
r=r.replace("about:","");
r=r.replace(/&amp;/gi,"&").replace(/&/gi,"&amp;");
r=r.replace(/[\s\u00a0]/gi," ");
D.append(' href="'+r+'"');
z.removeAttribute("href",0);
}}if($telerik.isIE8&&"option"==y&&z.selected){D.append(' selected="selected"');
}var x;
try{var A=this._getNodeAttributes(z);
x=A.length;
for(var u=0;
u<x;
u++){var p=A[u];
if(!this._isJqueryAttribute(p.nodeName)){this._getAttributeValue(p,z,D);
}}}catch(t){if($telerik.isIE&&t.message.indexOf("Not enough storage is available to complete this operation")!=-1){var q=z.outerHTML.replace(/^\s+/gi,"");
q=q.replace(/^([^\s]+)([^>]+?)>[\s\S]+$/gi,"$2");
D.append(q);
}}var B;
switch(y){case"script":D.append(">"+z.text+"</"+y+">");
break;
case"textarea":D.append(">"+z.value+"</"+y+">");
break;
case"iframe":var v=z.innerHTML;
if($telerik.isIE){v=v.replace(/\soriginalAttribute="[^"]+"/gi,"");
v=v.replace(/\soriginalPath="[^"]+"/gi,"");
}if($telerik.isFirefox){v=v.replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"');
}D.append(">"+v+"</iframe>");
break;
case"object":D.append(">");
B="";
if(z.altHtml){B=z.altHtml;
}else{B=z.innerHTML;
}if($telerik.isIE){B=B.replace(/\soriginalAttribute="[^"]+"/gi,"");
B=B.replace(/\soriginalPath="[^"]+"/gi,"");
}D.append(B);
D.append("</object>");
break;
case"title":case"style":case"comment":case"noscript":B=z.innerHTML;
if($telerik.isIE&&B.length==0){B=z.ownerDocument.title;
}D.append(">"+B+"</"+y+">");
break;
default:if(!($telerik.isIE9Mode&&!this._canHaveChildren(z))&&(z.hasChildNodes()||(true==z.canHaveChildren||(z.canHaveChildren==null&&this._canHaveChildren(z))))){if(y){D.append(">");
}var s=z.childNodes;
x=s.length;
for(var w=0;
w<x;
w++){if(s[w].nodeName!="O:P"){this._appendNodeXhtml(s[w],D);
}}if(y){D.append("</"+y+">");
}}else{if($telerik.isIE6&&y=="abbr"){D.append(">");
}else{if(y){D.append(" />");
}}}break;
}},_jqueryAttrRegExp:[/^sizzle-[0-9]{10,}$/i,/^jQuery[0-9]{10,}$/i],_isJqueryAttribute:function(p){return b.Utils.some(this._jqueryAttrRegExp,function(q){return q.test(p);
});
},_appendTextNode:function(p,r){var s=String(p.nodeValue);
var q=p.parentNode.nodeName.toLowerCase();
if(!$telerik.isIE&&(q=="style"||q=="script")){r.append(s);
}else{s=s.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
s=s.replace(/[\u00a0]/g,"&nbsp;");
r.append(s);
}},_appendCDataNode:function(p,q){q.append("<![CDATA[\n"+p.nodeValue+"\n]]>");
},_appendCommentNode:function(r,s){var p="";
try{p=r.nodeValue;
}catch(q){}if(!p&&r.text){p=r.text;
}else{p="<!--"+p+"-->";
}s.append(p);
},_appendNodeXhtml:function(p,q){if(p.uniqueID){if(this._uniqueIds[p.uniqueID]){return;
}else{this._uniqueIds[p.uniqueID]=true;
}}switch(p.nodeType){case 1:this._appendElementNode(p,q);
break;
case 3:this._appendTextNode(p,q);
break;
case 4:this._appendCDataNode(p,q);
break;
case 8:this._appendCommentNode(p,q);
break;
}},_getElementCssText:function(s){var p=s.style.cssText;
if(!p){return"";
}if(!$telerik.isFirefox){return p;
}var w=/(font-family:\s*)([^;]+);/i;
var x;
var t=s.attributes.style;
if(t&&t.nodeValue){x=t.nodeValue;
}if(x&&w.test(x)&&w.test(p)){var r=p.match(w),q;
if(r){q=r[2];
}var v=x.match(w),u;
if(v){u=v[2];
}if(u&&q&&u!==q){u=u.replace(/[\s]+/g," ");
p=p.replace(q,u);
}}return p;
},_getNodeAttributes:function(p){var q=p.attributes;
if(!q){return q;
}if(e.ff&&e.version<49){this.reverseNodeAttributes(p);
}return p.attributes;
},reverseNodeAttributes:function(q){var r=[];
var p;
for(p=0;
p<q.attributes.length;
p++){r.push({attrName:q.attributes[p].nodeName,attrValue:q.attributes[p].nodeValue});
}for(p=0;
p<r.length;
p++){q.removeAttribute(r[p].attrName);
}for(p=r.length-1;
p>=0;
p--){q.setAttribute(r[p].attrName,r[p].attrValue);
}}};
b.ConvertToXhtmlFilter.registerClass("Telerik.Web.UI.Editor.ConvertToXhtmlFilter",b.Filter);
b.IndentHTMLContentFilter=function(){b.IndentHTMLContentFilter.initializeBase(this);
this.Name="IndentHTMLContentFilter";
this.Description="This filter indents the HTML content so it is more readable when you view the code";
this.Enabled=true;
this.IsDom=false;
this._indentPattern="    ";
this._protectedData=null;
var p="P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DL|DT|DD|TITLE|META|LINK|BASE|SCRIPT|LINK|TD|TH|AREA|OPTION";
var q="HTML|HEAD|BODY|STYLE|FORM|TABLE|TBODY|THEAD|TR";
var r=q+"|DL|UL|OL";
this._ignoreTags=new RegExp("(<PRE[^>]*>|<!--|<SCRIPT[^>]*>)([\\s\\S]*?)(<\\/PRE>|-->|<\\/SCRIPT>)","gi");
this._tagsNLBefore=new RegExp("<("+p+")[^>]*>","gi");
this._tagsNLAfter=new RegExp("<\\/("+p+")[^>]*>","gi");
this._tagsNLNoCloseAfter=new RegExp("<(BR|HR)[^>]*\\/?>","gi");
this._tagsNLBeforeAndAfter=new RegExp("<\\/?("+q+")[^>]*>","gi");
this._tagsIncIndent=new RegExp("^<("+r+")[\\s\\/>]","i");
this._tagsDecIndent=new RegExp("^<\\/("+r+")[\\s\\>]","i");
this._shrinkNL=new RegExp("\\s*\\n+\\s*","gi");
};
b.IndentHTMLContentFilter.prototype={getHtmlContent:function(r){var v=r.trim();
if(v.match(/^\s*<body/i)){v=v.substring(v.indexOf(">")+1,v.length-7);
}this._protectedData=[];
var z=this;
var p=function(F,C,D,E,G,B){Array.add(z._protectedData,D);
return C+"RADEDITORFORMATTED_"+z._protectedData.length+E;
};
v=v.replace(this._ignoreTags,p);
var A="$&";
if(e.safari&&e.version<3){A="$0";
}v=v.replace(this._tagsNLBefore,"\n"+A);
v=v.replace(this._tagsNLAfter,A+"\n");
v=v.replace(this._tagsNLNoCloseAfter,A+"\n");
v=v.replace(this._tagsNLBeforeAndAfter,"\n"+A+"\n");
var q=v.split(this._shrinkNL);
var y=new Telerik.Web.StringBuilder();
var t="";
var s;
for(s=0;
s<q.length;
s++){var u=q[s];
if(u.length==0){continue;
}if(this._tagsDecIndent.test(u)){if(t.length>this._indentPattern.length){t=t.substring(this._indentPattern.length);
}else{t="";
}}y.append(t);
y.append(u);
y.append("\n");
if(this._tagsIncIndent.test(u)){t+=this._indentPattern;
}}v=y.toString();
for(s=0;
s<this._protectedData.length;
s++){var x=new RegExp("RADEDITORFORMATTED_"+(s+1));
var w=this._protectedData[s].replace(/\$/gi,"$$$$");
v=v.replace(x,w);
}return v;
}};
b.IndentHTMLContentFilter.registerClass("Telerik.Web.UI.Editor.IndentHTMLContentFilter",b.Filter);
b.MakeUrlsAbsolute=function(){b.MakeUrlsAbsolute.initializeBase(this);
this.Name="MakeUrlsAbsolute";
this.Description="This filter makes all src and href attributes in the editor content have absolute URLs";
this.Enabled=true;
this.IsDom=true;
};
b.MakeUrlsAbsolute.prototype={getHtmlContent:function(s){this._updateElements(s,"A","href");
this._updateElements(s,"AREA","href");
this._updateElements(s,"IMG","src");
this._updateElements(s,"EMBED","src");
var q=new b.IECleanAnchorsFilter();
if(s.tagName=="HTML"){var t=(typeof(s.ownerDocument)!="undefined")?s.ownerDocument:s.document;
var p=q.getHtmlContent(t.body.innerHTML);
if(t.body.innerHTML!==p){$telerik(t.body).html(p);
}}else{var r=q.getHtmlContent(s.innerHTML);
if($telerik.isIE&&r.match(/^\s*<(script|style|!--RADEDITORSAVEDTAG_script)/i)){s.innerHTML="&nbsp;"+q.getHtmlContent(s.innerHTML);
s.removeChild(s.firstChild);
}else{if(s.innerHTML!==r){try{b.Utils.setElementInnerHtml(s,r);
}catch(u){}}}}return s;
},_getElements:function(q,r){var p=q.getElementsByTagName(r);
if(!p){p=q.ownerDocument.getElementsByTagName(r);
}return p;
},_updateElements:function(r,w,p){var x=r.ownerDocument.createElement("div");
var s=this._getElements(r,w);
if(s){for(var u=0;
u<s.length;
u++){var q=s[u].getAttribute(p,2);
if("href"==p&&q&&!/^https?\:\/\//i.test(q)){x.innerHTML='<a href="'+q.replace(/\"/gi,"%22").replace(/[\s\u00a0]/gi," ")+'">test</a>';
var v;
if($telerik.isIE){v=s[u].innerHTML;
}try{s[u].setAttribute("href",x.childNodes[0].href);
}catch(t){}if($telerik.isIE){if((v.indexOf("www.")==0&&s[u].innerHTML.match("[a-z]+://"))||(v.indexOf("mailto:")==-1&&s[u].innerHTML.match("mailto:"))){s[u].innerHTML=v;
}}}else{if("src"==p&&q){x.innerHTML='<img src="'+q.replace(/\"/gi,"%22").replace(/[\s\u00a0]/gi," ")+'" />';
try{s[u].setAttribute("src",x.childNodes[0].src);
}catch(t){}}}}}x.innerHTML="";
x=null;
}};
b.MakeUrlsAbsolute.registerClass("Telerik.Web.UI.Editor.MakeUrlsAbsolute",b.Filter);
b.StripPathsFilter=function(p){b.StripPathsFilter.initializeBase(this);
this.Name="StripPathsFilter";
this.Description="This filter strips a specific part from URLs (href, src attributes)";
this.Enabled=true;
this.IsDom=true;
this._pathsToStrip=p;
};
b.StripPathsFilter.prototype={getHtmlContent:function(p){this._updateElements(p,"A","href");
this._updateElements(p,"AREA","href");
this._updateElements(p,"IMG","src");
this._updateElements(p,"EMBED","src");
return p;
},_getElements:function(q,r){var p=q.getElementsByTagName(r);
if(!p){p=q.ownerDocument.getElementsByTagName(r);
}return p;
},_updateElements:function(s,z,q){var u=this._getElements(s,z);
if(u){for(var w=0;
w<u.length;
w++){var t=u[w];
var r=$telerik.isIE?t.getAttribute(q,2):t[q];
if(r){var p=r.length;
for(var v=0,x=this._pathsToStrip.length;
v<x;
v++){var y=this._pathsToStrip[v];
if(y&&r.toLowerCase().indexOf(y.toLowerCase())==0){r=r.substring(y.length);
}}if(p>r.length){t.setAttribute(q,r);
}}}}}};
b.StripPathsFilter.registerClass("Telerik.Web.UI.Editor.StripPathsFilter",b.Filter);
b.ConvertCharactersToEntities=function(){b.ConvertCharactersToEntities.initializeBase(this);
this.set_isDom(false);
this.set_enabled(true);
this.set_name("ConvertCharactersToEntities");
this.set_description("This filter converts reserved characters to their html entity names.");
this.entities=b.Utils.getEntitiesCollection();
};
b.ConvertCharactersToEntities.ampersandReplacerInEntities="_reEditor_TELERIK_Entities";
b.ConvertCharactersToEntities.ampersandCharacterReplacer="_reEditor_TELERIK_Character";
b.ConvertCharactersToEntities.ampersandEntityReplacer="_reEditor_TELERIK_Entity";
b.ConvertCharactersToEntities.prototype={getHtmlContent:function(p){if(p==""){return p;
}var t=this.parseHtml(p);
var v="";
var u=this.createRegEx();
var q=this.entities;
for(var r=0;
r<t.length;
r++){var s=t[r].content;
if(t[r].isTagOrComment){v+=s;
continue;
}s=s.replace(new RegExp("&amp;","gm"),b.ConvertCharactersToEntities.ampersandEntityReplacer);
s=this.reverseEntitiesToCharacters(s);
s=s.replace(new RegExp("&","gm"),b.ConvertCharactersToEntities.ampersandCharacterReplacer);
s=s.replace(u,function(y,z,x){for(var w in q){if(q[w]==y){return b.ConvertCharactersToEntities.ampersandReplacerInEntities+w+";";
}}return y;
});
v+=s;
}v=this.restoreMarkedSymbols(v);
return v;
},parseHtml:function(q){var z=/<\/?\w+(:\w+)*(?:\s+\w+(?:\-\w+)*(:\w+)*(?:\s*=\s*(?:"(?:\s|.)*?"|'(?:\s|.)*?'|[^'">\s]+)?)*)*\s*\/?>/gmi;
var p=this.getComments(q);
var r=this.breakContent(p,q);
if(r.length==0){r.push({isComment:false,content:q});
}var y=[];
for(var v=0;
v<r.length;
v++){var s=r[v].content;
if(s==""){continue;
}if(r[v].isComment){y.push(this.newElement(s,true));
continue;
}var x=[];
var w=z.exec(s);
while(w){x.push(w);
w=z.exec(s);
}var A=0;
for(var u=0;
u<x.length;
u++){if(A<x[u].index){var B=s.substring(A,x[u].index);
y.push(this.newElement(B,false));
}y.push(this.newElement(x[u][0],true));
A=x[u].index+x[u][0].length;
}if(s.length>A){var t=s.substring(A,s.length);
y.push(this.newElement(t,false));
}}return y;
},breakContent:function(p,q){var u="-->";
var r=[];
for(var v=0;
v<p.length;
v++){var t=q.substring(p[v].startIndex,p[v].endIndex+u.length);
if(v==0){if(p[v].startIndex==0){r.push({isComment:true,content:t});
}else{var s=q.substring(0,p[v].startIndex);
r.push({isComment:false,content:s});
r.push({isComment:true,content:t});
}}else{var x=p[v-1].endIndex+u.length;
var y=q.substring(x,p[v].startIndex);
r.push({isComment:false,content:y});
r.push({isComment:true,content:t});
}if(v==p.length-1){var w=q.substring(p[v].endIndex+u.length,q.length);
r.push({isComment:false,content:w});
}}return r;
},getComments:function(s){var x=/(<!--)|(-->)/gm;
var y="<!--";
var t="-->";
var q=[];
var r=[];
var w=x.exec(s);
while(w){var p=w[0];
var u=w.index;
var v=r.length>0?r[r.length-1]:n;
if(p==y){if(!v||v.commentStart==false){r.push({commentStart:true,index:u});
}}else{if(p==t){if(r.length!=0&&v.commentStart){q.push({startIndex:v.index,endIndex:u});
r.splice(r.length-1,1);
}}}w=x.exec(s);
}return q;
},restoreMarkedSymbols:function(q){var p=q.replace(new RegExp(b.ConvertCharactersToEntities.ampersandCharacterReplacer,"gm"),"&amp;");
p=p.replace(new RegExp(b.ConvertCharactersToEntities.ampersandReplacerInEntities,"gm"),"&");
p=p.replace(new RegExp(b.ConvertCharactersToEntities.ampersandEntityReplacer,"gm"),"&amp;");
return p;
},createRegEx:function(){var r="[";
var p=this.entities;
for(var q in p){r+=p[q];
}r+="]";
return new RegExp(r,"g");
},newElement:function(p,q){return{content:p,isTagOrComment:q};
},reverseEntitiesToCharacters:function(r){var p=this.entities;
for(var q in p){r=r.replace(new RegExp("&"+q+";","gm"),p[q]);
}return r;
}};
b.ConvertCharactersToEntities.registerClass("Telerik.Web.UI.Editor.ConvertCharactersToEntities",b.Filter);
b.PdfExportFilter=function(){b.PdfExportFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("PdfExportFilter");
this.set_description("This filter fixes some pdf export issues.");
};
b.PdfExportFilter.prototype={getHtmlContent:function(p){this.set_document(p.ownerDocument);
this.filterContent(p);
this.set_document(null);
return p;
},filterContent:function(p){var t=p.getElementsByTagName("TABLE");
for(var q=0,r=t.length;
q<r;
q++){var s=t[q];
this._forceWidthToTable(s);
this._forceColGroupToTable(s);
}},set_document:function(p){this._document=p;
},_forceWidthToTable:function(p){var q=p.getAttribute("width");
p.style.width=q||p.style.width||0;
p.removeAttribute("width");
},_forceColGroupToTable:function(t){var q=t.getElementsByTagName("colgroup");
if(q.length==0){var s=this._document.createElement("colgroup");
var p=this._getTableColCount(t);
for(var r=0;
r<p;
r++){s.appendChild(this._document.createElement("col"));
}t.insertBefore(s,t.firstChild);
}},_getTableColCount:function(u){var q=0;
if(u){if(u.rows.length>0){var p=u.rows[0].cells;
for(var s=0,t=p.length;
s<t;
s++){var r=p[s].getAttribute("colSpan")||1;
q+=parseInt(r,10);
}}}return q;
}};
b.PdfExportFilter.registerClass("Telerik.Web.UI.Editor.PdfExportFilter",b.Filter);
b.FixParagraphsWithSingleBrFilter=function(){b.FixParagraphsWithSingleBrFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("FixParagraphsWithSingleBrFilter");
this.set_description("This filter converts single BR elements to &nbsp; enetity in paragraphs");
this._parentElementsSelector="p";
this._brRegExp=/^\s*<br[^>]*>\s*$/ig;
this._nbspRegExp=/^\s*&nbsp;\s*$/ig;
};
b.FixParagraphsWithSingleBrFilter.prototype={getHtmlContent:function(p){return this._applyRegExpToContent(p,this._brRegExp,"&nbsp;");
},getDesignContent:function(p){return this._applyRegExpToContent(p,this._nbspRegExp,"<br />");
},_applyRegExpToContent:function(p,q,r){$telerik.$(this._parentElementsSelector,p).each(function(t,s){if(s.innerHTML.match(q)){$telerik.$(s).html(r);
}});
return p;
}};
b.FixParagraphsWithSingleBrFilter.registerClass("Telerik.Web.UI.Editor.FixParagraphsWithSingleBrFilter",b.Filter);
b.CleanResizableHandles=function(){b.CleanResizableHandles.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("CleanResizableHandles");
this.set_description("Removes the elements of the Resizable's handles");
};
b.CleanResizableHandles.prototype={getHtmlContent:function(p){$telerik.$(".rrHandle[rel='rrWidget']",p).remove();
return p;
}};
b.CleanResizableHandles.registerClass("Telerik.Web.UI.Editor.CleanResizableHandles",b.Filter);
b.CleanSelectDeleteTableButtons=function(){b.CleanSelectDeleteTableButtons.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("CleanSelectDeleteTableButtons");
this.set_description("Removes the Select and Delete table buttons and 'reSelectDeleteTable' and 'reTableSelected' classes of the selected table.");
};
b.CleanSelectDeleteTableButtons.prototype={getHtmlContent:function(q){var p=$telerik.$(q);
p.find("table.reSelectDeleteTable").removeClass("reSelectDeleteTable").removeClass("reTableSelected");
p.find(".reTableButton").remove();
return q;
}};
b.CleanSelectDeleteTableButtons.registerClass("Telerik.Web.UI.Editor.CleanSelectDeleteTableButtons",b.Filter);
b.StripCommentsFilter=function(){b.StripCommentsFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("StripCommentsFilter");
this.set_description("This filter strips comments is strip option is set in the get_html method.");
};
b.StripCommentsFilter.prototype={getHtmlContent:function(p){$telerik.$('span[class^="reComment"], font[class^="reComment"]',p).each(function(){b.Utils.removeNode(this);
});
return p;
}};
b.StripCommentsFilter.registerClass("Telerik.Web.UI.Editor.StripCommentsFilter",b.Filter);
b.MetaTagAttributesFilter=function(){var p=this;
b.MetaTagAttributesFilter.initializeBase(p);
p.set_isDom(false);
p.set_enabled(true);
p.set_name(k);
p.set_description("Removes meta tag attributes such as http-equiv='refresh'");
};
b.MetaTagAttributesFilter.prototype={getDesignContent:function(p){var r=/(<meta[^>]*?)(http-equiv\s*=\s*[\'\"]refresh[\'\"])([^>]*?>)/gi,q="";
q=p.replace(r,"$1$3");
return q;
}};
b.MetaTagAttributesFilter.registerClass(m+g+k,b.Filter);
$telerik.toEditorFiltersManager=function(p){return p;
};
$telerik.findEditorFiltersManager=$find;
b.FiltersManager=function(){b.FiltersManager.initializeBase(this);
this._filters=[];
this._enableXhtmlFilter=true;
this._convertToXhtmlFilter=new b.ConvertToXhtmlFilter();
};
b.FiltersManager.prototype={clear:function(){Array.clear(this._filters);
},get_enableXhtmlFilter:function(){return this._enableXhtmlFilter;
},set_enableXhtmlFilter:function(p){this._enableXhtmlFilter=p;
},add:function(p){Array.add(this._filters,p);
},addAt:function(p,q){Array.insert(this._filters,q,p);
},remove:function(p){Array.remove(this._filters,p);
},removeFilterByName:function(r){for(var q=0;
q<this._filters.length;
q++){var p=this._filters[q];
if(p&&r==p.get_name()){this.removeAt(q);
}}},removeAt:function(p){Array.removeAt(this._filters,p);
},getFilterAt:function(p){return this._filters[p];
},getFilterByName:function(r){for(var q=0;
q<this._filters.length;
q++){var p=this._filters[q];
if(p&&r==p.get_name()){return p;
}}},getDesignContent:function(q){var p=q;
for(var t=0;
t<this._filters.length;
t++){var s=this._filters[t];
if((!s.get_isDom())&&(false!=s.get_enabled())&&s.getDesignContent){try{p=s.getDesignContent(p);
}catch(r){alert("Error while executing filter "+s.get_name()+" - "+r.toString());
}}}return p;
},getDesignContentDom:function(p){for(var s=0;
s<this._filters.length;
s++){var r=this._filters[s];
if((r.get_isDom())&&(false!=r.get_enabled())&&r.getDesignContent){try{p=r.getDesignContent(p);
}catch(q){alert("Error while executing filter "+r.get_name()+" - "+q.toString());
}}}return p;
},getHtmlContent:function(q){var t,s;
for(t=0;
t<this._filters.length;
t++){s=this._filters[t];
if((s.get_isDom())&&(false!=s.get_enabled())&&s.getHtmlContent){try{q=s.getHtmlContent(q);
}catch(r){alert("Error while executing filter "+s.get_name()+" - "+r.toString());
}}}var p;
if(this.get_enableXhtmlFilter()){try{p=this._convertToXhtmlFilter.getHtmlContent(q);
}catch(r){alert("Error while executing filter XHTML - "+r.toString());
}}else{p=o.isEditorContentArea(q)?q.innerHTML:o.getOuterHtml(q);
}for(t=0;
t<this._filters.length;
t++){s=this._filters[t];
if((!s.get_isDom())&&(false!=s.get_enabled())&&s.getHtmlContent){try{p=s.getHtmlContent(p);
}catch(r){alert("Error while executing filter "+s.get_name()+" - "+r.toString());
}}}return p;
}};
b.FiltersManager.registerClass("Telerik.Web.UI.Editor.FiltersManager",Sys.Component);
})($telerik.$);
(function(a,n){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var g=window;
var d=g.$telerik;
var f=g.document;
var i="NotFound";
var e=/\w/;
var k=/\s/;
var l="[\\t\\n\\r\\u0020]";
var j="(?:\\u00A0|"+l+"+(?!"+l+"))";
b.EditorFindReplaceEngine=function(o){var p=this;
b.EditorFindReplaceEngine.initializeBase(p);
p._findPolyfill=null;
p._supportsFind=false;
};
b.EditorFindReplaceEngine.prototype={initialize:function(){var p=this;
var o=p.get_editor();
p._supportsFind=p._supportsFindAPI();
b.EditorFindReplaceEngine.callBaseMethod(this,"initialize");
if(!p._supportsFind){p._findPolyfill=new b.EditorFindReplaceEngine.FindPolyfill({rootContentElement:o.get_contentArea()});
}},find:function(q,o){var r=this.get_wholeWord();
var p=this.get_caseSensitive();
return this.replaceEngine(q,null,o,"find",r,p,true);
},findPrevious:function(o){return this.find(o,true);
},findNext:function(o){return this.find(o);
},replace:function(q,r,o){var s=this.get_wholeWord();
var p=this.get_caseSensitive();
return this.replaceEngine(q,r,o,"replace",s,p,true);
},replaceAll:function(q,r,o){var s=this.get_wholeWord();
var p=this.get_caseSensitive();
return this.replaceEngine(q,r,o,"replaceAll",s,p,true);
},dispose:function(){this._findPolyfill=null;
b.EditorFindReplaceEngine.callBaseMethod(this,"dispose");
},_replace:function(p,t){if(this._findPolyfill&&this.isHtmlMode()){var v=p.get_textArea();
return this._findPolyfill.replaceInTextarea(v,t);
}var q=t;
if(q){q=q.replace(/&/gi,"&amp;").replace(/</gi,"&lt;").replace(/>/gi,"&gt;");
}var u=this.getSelection().getText();
if(u){if(d.isIE&&(!d.isIE10Mode||d.isIE10)){try{var r=new b.GenericCommand("EditorFindReplaceEngine",p.get_contentWindow(),p);
p.pasteHtml(q);
p.executeCommand(r);
}catch(o){var s=this.getSelection().getRange();
s.text=q;
s.select();
}}else{p.pasteHtml(q,"EditorFindReplaceEngine");
}return true;
}else{return false;
}},isSelectionInContentArea:function(p,q){var u=b.Utils,t=b.DomRange.toDomRange(q||this.getSelection().getRange()),s=p.get_mode()==Telerik.Web.UI.EditModes.Html,r=p.get_textArea(),o=s?r.parentNode:p.get_contentArea();
return u.isAncestorOrSelf(o,t.commonAncestorContainer);
},getSelection:function(){var o=this.getContentWindow();
return new b.Selection(o);
},getContentWindow:function(){var o=this.get_editor();
var r=this.isHtmlMode();
var p=o.get_textArea();
var q=p.ownerDocument;
return r?(q.defaultView||q.parentWindow):o.get_contentWindow();
},_moveCursorToStart:function(){var o=this.get_editor();
var p=this.isHtmlMode();
var q=this._supportsFind;
var r=p?o.get_textArea():n;
if(!q){if(p){r.selectionStart=0;
r.selectionEnd=0;
}else{o.focusFirstText();
}return;
}if(p){r.select();
if(r.selectionStart!==n){r.selectionStart=r.selectionEnd=0;
}}else{o.get_document().execCommand("SelectAll",false,null);
this.getSelection().collapse(true);
}},replaceEngine:function(M,B,o,E,O,q,P){var v=this;
var t;
var w=v._findPolyfill;
var u;
var r;
var A;
var J;
var N=v._supportsFind;
var z=v.isHtmlMode();
if(null==M||""==M){return;
}u=this.get_editor();
r=this.getContentWindow();
J=u._getCurrentArea();
if(r.document.body.innerHTML==""){return i;
}if(d.isIE){u.setActive();
}var s=r.document;
var x=0;
if(O){x=x+2;
}if(q){x=x+4;
}if(E=="replaceAll"){var G;
this._moveCursorToStart();
var D=0;
if(N&&f.body.createTextRange){var I=this.getSearchableRangeIE(s,o);
while(I.findText(M,o?-1:1,x)&&this.isSelectionInContentArea(u,I)){D++;
I.scrollIntoView();
this.selectRange(I);
G=this._replace(u,B);
I=this.getSearchableRangeIE(s,o);
this.selectRange(I);
if(!G){break;
}}}else{if(N&&r.find){while(r.find(M,q,o,false,O,false,false)&&(z||this.isSelectionInContentArea(u))){D++;
G=this._replace(u,B);
if(!G){break;
}}}else{if(!N){do{t=u.getDomRange();
A=w[z?"findInString":"find"]({stringToFind:M,backwards:o,caseSensitive:q,range:t,searchArea:J,replaceAll:true,useRegExpForSpace:!z});
if(A){v._selectMatch(A,t);
v._replace(u,B);
D++;
}}while(A);
}}}if(D>0){return{replaceCount:D,message:"AllReplaced"};
}else{return"NotFound";
}}if(E=="replace"){this._replace(u,B);
}if(!N){t=u.getDomRange();
A=w[z?"findInString":"find"]({stringToFind:M,backwards:o,caseSensitive:q,range:t,searchArea:J,useRegExpForSpace:!z});
if(A){v._selectMatch(A,t);
return;
}else{return i;
}}var y=false;
var L=(P&&!this._wrapping);
var K=this;
var F=function(){K._wrapping=true;
K.selectContentEdge(s,!o);
return K.replaceEngine(M,B,o,E,O,q,P);
};
if(!r.find&&d.isIE){var p=o?-1:1;
var H=this.getSearchableRangeIE(s,o);
if((y=H.findText(M,p,x))){this._wrapping=false;
H.scrollIntoView();
this.selectRange(H);
}else{if(L){return F();
}}}else{this.getSelection().collapse(o);
var C=this.getRange(s);
if((y=r.find(M,q,o,P,O,false,false))||L){if(!y){return F();
}else{if(!this.isSelectionInContentArea(u)){if(this._wrapping){y=this._wrapping=false;
this.selectContentEdge(s,!o);
}else{if(P){return F();
}else{this.selectRange(C);
u.setFocus();
}}}}this._wrapping=false;
}}if(!y){return"NotFound";
}},selectContentEdge:function(p,u){var q=this.get_editor();
var r=this.isHtmlMode();
var o=r?q.get_textArea():q.get_contentArea();
var s;
if(r){o.select();
if(o.selectionStart!==n){o.selectionStart=o.selectionEnd=(u?0:o.value.length);
}else{s=this.getRange(p);
s.collapse(u);
}}else{var t=b.DomRange.toDomRange;
s=t(this.getRange(p));
s.selectNodeContents(o);
s.collapse(u);
s.select();
}},selectRange:function(p){var o=b.DomRange.toDomRange(p);
o.select();
},getRange:function(p){var r=this.getSelection().getRange(),o=p.body;
if(o.createTextRange&&!p.selection){var t=b.DomRange.toDomRange;
var s=t(o.createTextRange());
var q=t(r);
s.setStart(q.startContainer,q.startOffset);
s.setEnd(q.endContainer,q.endOffset);
s.select();
r=s.getBrowserRange();
}return r;
},getSearchableRangeIE:function(p,o){var q=this.getRange(p);
q.collapse(o);
return q;
},isHtmlMode:function(){return this.get_editor().get_mode()==Telerik.Web.UI.EditModes.Html;
},_selectMatch:function(q,r){var t=this;
var p=t.isHtmlMode();
var o=t.get_editor();
if(q&&p){var s=o.get_textArea();
s.selectionStart=q.startOffset;
s.selectionEnd=q.endOffset;
}else{if(q){b.Utils.scrollTo(q.startContainer,o);
if(q.startContainer!=q.endContainer){b.Utils.scrollTo(q.endContainer,o);
}r=r||b.DomRange.createRange(o.get_document());
r.setStart(q.startContainer,q.startOffset);
r.setEnd(q.endContainer,q.endOffset);
r.select();
}}},_supportsFindAPI:function(){var o=this.getContentWindow();
return typeof(o.find)==="function";
}};
a.registerControlProperties(b.EditorFindReplaceEngine,{wholeWord:false,caseSensitive:false,editor:null});
b.EditorFindReplaceEngine.FindPolyfill=function(o){var r=this;
var p=o||{};
var q=p.rootContentElement;
r._textNodesTraverser=p.textTraverser||new b.TextNodesTraverser(q);
r._rootContentElement=q;
};
b.EditorFindReplaceEngine.FindPolyfill.prototype={find:function(q){var B=this;
var A=B._textNodesTraverser;
var u=q||{};
var o=u.backwards;
var p=u.caseSensitive;
var v=u.range;
var w=u.rootContentElement||B._rootContentElement;
var y=u.stringToFind;
var x=u.startOffset;
var r=u.endOffset;
var z;
var t;
var s;
if(v){z=A.traverse(v,o);
s=B.findContent(z,y,{backwards:o,startOffset:x>=0?x:B.getTextStartOffset(v,z),endOffset:r>=0?r:B.getTextEndOffset(v,z),caseSensitive:p});
}else{z=A.traverseFrom(o?w.lastChild:w.firstChild,o);
s=B.findContent(z,y,{backwards:o,caseSensitive:p});
}t=z;
while(!s){t=A.getNextFragment(t,o);
if(t){s=B.findContent(t,y,{backwards:o,caseSensitive:p});
}else{if(u.replaceAll){break;
}else{if(v){s=B.find({stringToFind:y,backwards:o,caseSensitive:p});
return s;
}else{break;
}}}}return s;
},findContent:function(F,C,o){if(!F||(F&&F.isEmpty())){return null;
}var y=a.extend({backwards:false,caseSensitive:false,useRegExpForSpace:true},o||{});
var E=F.get_textContent();
var w=F.get_nodeLengthSums();
var D=w.length;
var x=F.get_nodes();
var v;
var z;
var A=null;
var B=null;
var p=null;
var q=null;
var u;
var t;
var r;
var s=this.getRegExpMatch(E,C,y);
if(!s){return null;
}u=s.index;
t=u+s[0].length;
for(r=0;
r<D;
r++){v=w[r];
z=w[r-1];
if(B===null&&u<v){A=r;
if(z){B=u-z;
}else{B=u;
}}if(q===null&&t<=v){p=r;
if(z){q=t-z;
}else{q=t;
}}if(B!==null&&q!==null){break;
}}return{startContainer:x[A],startOffset:B,endContainer:x[p],endOffset:q};
},getTextStartOffset:function(o,p){return this._getTextOffset(o,p,true);
},getTextEndOffset:function(o,p){return this._getTextOffset(o,p,false);
},_getTextOffset:function(u,v,x){var r=v.get_nodes();
var q=v.get_nodeLengthSums();
var s=r.length;
var w=v.get_textLength();
var o=x?u.startContainer:u.endContainer;
var t=x?u.startOffset:u.endOffset;
for(var p=0;
p<s;
p++){if(r[p]===o){return(q[p-1]?q[p-1]+t:t);
}}return(x?0:w);
},getRegExpMatch:function(u,t,q){var r=this.createRegExp(t,q);
var p;
if(q.backwards){u=u.substr(0,q.startOffset>=0?q.startOffset:u.length);
p=r.exec(u);
var o;
while(p){o=p;
p=r.exec(u);
}return o;
}else{var s=q.endOffset||0;
p=r.exec(u);
while(p&&p.index<s){p=r.exec(u);
}return p;
}},createRegExp:function(r,t){var u=new Telerik.Web.StringBuilder();
var p=t.caseSensitive?"g":"ig";
for(var q=0,s=r.length;
q<s;
q++){var o=r.charAt(q);
if(e.test(o)){u.append(o);
}else{if(t.useRegExpForSpace&&k.test(o)){u.append(j);
}else{u.append(m(o));
}}}return new RegExp(u.toString(),p);
},findInString:function(q){var t=this;
var s=q.searchArea;
var o=s.value;
var r=q.stringToFind;
q.startOffset=s.selectionStart;
q.endOffset=s.selectionEnd;
var p=t.getRegExpMatch(o,r,q);
if(!p&&!q.replaceAll){q.startOffset=q.endOffset=q.backwards?o.length:0;
p=t.getRegExpMatch(o,r,q);
}return p?{startOffset:p.index,endOffset:p.index+p[0].length}:null;
},replaceInTextarea:function(s,q){var r=s.selectionStart;
var p=s.selectionEnd;
if(r==p){return false;
}var o=s.value;
s.value=o.substr(0,r)+q+o.substr(p,o.length);
s.selectionStart=r;
s.selectionEnd=r+q.length;
return true;
}};
b.EditorFindReplaceEngine.registerClass("Telerik.Web.UI.Editor.EditorFindReplaceEngine",Sys.Component);
function m(o){var p=o.charCodeAt(0);
var q=p.toString(16);
while(q.length<4){q="0"+q;
}return"\\u"+q;
}function h(p,o){var r=o.HTMLElement;
var q=1;
if(r){return(!!p&&(p instanceof r));
}else{return(!!p&&typeof(p)==="object"&&p.nodeType===q&&!!p.nodeName);
}}})($telerik.$);
(function(a,g){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var c=b.Editor;
var f=function(h){return h&&h.nodeType==3;
};
var e=function(h){return f(h)&&c.Utils.isTextNodeCompletelyEmpty(h);
};
var d=function(h){return h&&h.nodeType==1&&c.Utils.canHaveChildren(h)&&!!h.childNodes.length;
};
c.TextNodesTraverser=function(h){this._root=h;
};
c.TextNodesTraverser.prototype={traverse:function(i,h){var j=this._getStartNode(i,h);
return this.traverseFrom(j,h);
},traverseFrom:function(k,h){var l=this;
var i=new c.TextFragment();
var j;
if(k===l._root){return i;
}l._stopTraversing=false;
l._backwards=!!h;
l._collectTextNodes(k,i);
while(!i.get_nodes().length){j=l._getSibling(k)||k.parentNode;
if(!j||j===l._root){return null;
}i=l.traverseFrom(j,h);
}if(h){i.reverseNodes();
}while(i&&i.isEmpty()){i=l.getNextFragment(i,h);
}return i;
},getNextFragment:function(i,h){var j=i.getLast();
if(!j){return;
}var m=this;
var l=m.getNextNodeToTraverse(j,h);
while(l&&(e(l)||(!f(l)&&!d(l)))){l=m.getNextNodeToTraverse(l,h);
}if(!l){return;
}var k=m.traverseFrom(l,h);
if(k&&!!k.get_nodes().length){while(k&&k.isEmpty()){k=m.getNextFragment(k,h);
}return k;
}return;
},getNextNodeToTraverse:function(j,h){this._backwards=!!h;
var k=this._getSibling(j);
if(k){return k;
}var i;
while(!this._getSibling(j)&&!i){j=j.parentNode;
if(!j||j===this._root){return null;
}if(this._isEnd(j)){i=j;
}}i=i||this._getSibling(j);
while(!this._getSibling(i)){i=i.parentNode;
if(!i||i===this._root){return null;
}}return this._getSibling(i);
},_collectTextNodes:function(j,i){while(j&&!this._stopTraversing&&j!=this._root){if(d(j)){var h=this._getChild(j);
this._collectTextNodes(h,i);
}else{if(f(j)){i.add(j);
}}j=this._getNext(j);
if(!j||this._isEnd(j)){this._stopTraversing=true;
return;
}}},_getChild:function(h){return this._backwards?h.lastChild:h.firstChild;
},_getSibling:function(h){return this._backwards?h.previousSibling:h.nextSibling;
},_isEnd:function(h){return c.Utils.isBlockElement(h)||h===this._root||(h.nodeType==1&&!c.Utils.canHaveChildren(h));
},_getNext:function(h){while(!this._getSibling(h)){h=h.parentNode;
if(h&&this._isEnd(h)){return null;
}}return this._getSibling(h);
},_getStartNode:function(l,h){var j=h?l.startContainer:l.endContainer;
var k=h?l.startOffset:l.endOffset;
if(f(j)){return j;
}else{if(c.Utils.canHaveChildren(j)&&j.childNodes[k]){var i=j.childNodes[k];
return f(i)?(h?i.previousSibling:i.nextSibling)||i.parentNode:i;
}else{return j;
}}}};
c.TextFragment=function(){var h=this;
h._nodes=[];
h._nodeLengthSums=[];
h._content=new Telerik.Web.StringBuilder();
h._textLength=0;
};
c.TextFragment.prototype={add:function(h){var k=this;
var i=k.get_nodeLengthSums();
var j=i[i.length-1]||0;
k._nodes.push(h);
k._nodeLengthSums.push(j+h.length);
k._content.append(h.nodeValue);
k._textLength+=h.length;
},get_textContent:function(){return this._content.toString();
},get_textsCollection:function(){return this._content.get_buffer();
},get_nodes:function(){return this._nodes;
},get_nodeLengthSums:function(){return this._nodeLengthSums;
},clear:function(){this._nodes.length=0;
this.get_textsCollection().length=0;
},get_textLength:function(){return this._textLength;
},reverseNodes:function(){var m=this;
var l;
var k=m._nodes.length;
m._nodes.reverse();
m._content.get_buffer().reverse();
m._nodeLengthSums=[];
var j=m._nodeLengthSums;
for(var h=0;
h<k;
h++){l=j[j.length-1]||0;
j.push(l+m._nodes[h].length);
}},getLast:function(h){var i=this.get_nodes();
return h?i[0]:i[i.length-1];
},isEmpty:function(){var h=c.Utils;
return h.every(this.get_nodes(),h.isTextNodeCompletelyEmpty);
}};
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,k){var i="_reSelectedElement";
var d=function(n,m){var l=n?n.commonAncestorContainer:undefined;
return l&&(m===l||a.contains(m,l));
};
var f=function(l){return l.nodeType==1||l.nodeType==3;
};
var e=function(l){var m=l.firstChild;
var n=l.lastChild;
return !m||(k.isTag(m,"br")&&m===n);
};
var h=function(l){l.removeClass(i);
if(!l.attr("class")){l.removeAttr("class");
}};
var g=function(l){return l&&k.isSingleChild(l)&&(k.isZwspTextNode(l)||k.isTag(l,"br"));
};
var j=function(m,l,n){if(n){m.setAttribute(l,n);
}};
var c=function(l,m){return l.filter(function(n,o){return a(o).is(m);
});
};
b.RestorePoint=function(m,l){var n=this;
n.Window=m;
n.Document=m.document;
n.container=(l)?l:n.Document.body;
n.rangeHolder=new b.RangeHolder();
n.update();
n.Update=n.update;
n.Restore=n.restore;
n.Select=n.select;
};
b.RestorePoint.prototype={update:function(){var w=this;
var s=w.getRange(true);
var m=w.container;
var o=e(m);
var q;
if(!d(s,m)||!f(s.commonAncestorContainer)||o){w.HtmlText=m.innerHTML;
w._noContent=o;
return;
}var p=a(m);
var t=w.rangeHolder;
var u=b.RangeEdges.commonNode(s);
var l=k.canHaveChildren(u);
if(g(u)){w._storeSelectedElement(u.parentNode);
}else{if((u&&!k.isTextNode(u)&&!l&&!k.isTag(u,"br"))||(l&&k.isNodeEmpty(u))){w._storeSelectedElement(u);
}else{if(k.isTextNode(s.startContainer)&&k.isTextNode(s.endContainer)){t.markRangeEdges(s);
w.HtmlText=m.innerHTML;
if(!o&&w._noContent){w._noContent=o;
}var v=s.startContainer.parentNode;
var n=s.endContainer.parentNode;
if(v===m){w._startindex=m.getAttribute("_startindex");
w._startoffset=m.getAttribute("_startoffset");
}if(n===m){w._endindex=m.getAttribute("_endindex");
w._endoffset=m.getAttribute("_endoffset");
}a([v,n]).each(function(x,y){t._removeMarkerAttributes(y);
});
}else{t.markRangeEdges(s);
w.HtmlText=m.innerHTML;
q=p.find("."+i);
if(q.length){h(q);
}else{var r=p.find(t.get_markerSelector());
t.selectWithinMarkers(r);
}}}}},restore:function(l){this.select(l);
},select:function(l){var t=this;
var m=a(t.container);
k.setElementInnerHtml(t.container,t.HtmlText);
var o=m.find("."+i);
if(t._noContent){t._selectIn(t.container);
}else{if(o.length){h(o);
var r=o.get(0);
if(!k.canHaveChildren(r)){t._selectElement(r);
}else{if(k.isZwspTextNode(r.firstChild)){t._selectZwsp(r.firstChild);
}else{t._selectIn(r);
}}}else{var q=t.rangeHolder;
var p=m.find(q.get_markerSelector());
if(p.length){if(l&&p.length>1){p.first().remove();
p=p.last();
}q.selectWithinMarkers(p);
}else{j(t.container,"_startindex",t._startindex);
j(t.container,"_endindex",t._endindex);
j(t.container,"_startoffset",t._startoffset);
j(t.container,"_endoffset",t._endoffset);
p=m.find("[_startindex],[_endindex]");
var s=c(p,"[_startindex]").get(0);
var n=c(p,"[_endindex]").get(0);
if(m.is("[_startindex],[_endindex]")){s=s||c(m,"[_startindex]").get(0);
n=n||c(m,"[_endindex]").get(0);
}if(l){q._removeMarkerAttributes(s,true);
}q._restoreTextSelection(t.getRange(),l?null:s,n);
}}}t.fireRestoredEvent();
},_selectIn:function(l){var n=this;
var m=n.getRange();
m.selectNodeContents(l);
m.collapse(true);
m.select();
},_selectElement:function(l){var m=this;
range=m.getRange();
range.selectNode(l);
range.select();
},_selectZwsp:function(o){var n=this;
var m=n.getRange();
var l=o.length-1;
k._setCursorInTextNode(m,o,l,l);
},_storeSelectedElement:function(l){var m=a(l);
m.addClass(i);
this.HtmlText=this.container.innerHTML;
h(m);
},getRange:function(m){var o=this;
var n;
try{n=b.DomRange.rangeFromWindow(o.Window);
}catch(l){}return m?n:n||b.DomRange.createRange(o.Document);
},fireRestoredEvent:function(){this.trigger("restored",Sys.EventArgs.Empty);
}};
b.RestorePoint.registerClass("Telerik.Web.UI.Editor.RestorePoint",null);
b.SelectionBookmark=function(m,l){this.Window=m;
this.NodePath=this._findNodePath(this.Window.document.documentElement,l);
};
b.SelectionBookmark.prototype={select:function(){var m=this._findNode(this.Window.document.documentElement,this.NodePath);
try{k.selectElement(this.Window,m);
}catch(l){}return m;
},_findNodePath:function(p,o){var m,q;
for(var l=0;
l<p.childNodes.length;
l++){m=p.childNodes[l];
q=this._findNodePath(m,o);
if(""!=q){return""+l+","+q;
}if(m==o){return""+l;
}}return"";
},_findNode:function(o,n){var l=n.split(",");
for(var m=0;
m<l.length;
m++){o=o.childNodes[l[m]];
}return o;
}};
b.SelectionBookmark.registerClass("Telerik.Web.UI.Editor.SelectionBookmark",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
$telerik.toEditorSelection=function(a){return a;
};
$telerik.findEditorSelection=$find;
(function(a,b,d){var c=["img","table"];
b.Selection=function(e){this._window=e;
this.isSafari=$telerik.isSafari;
this.isOpera=$telerik.isOpera;
this.GetRange=this.getRange;
this.GetParentElement=this.getParentElement;
this.IsControl=this.isControl;
this.GetText=this.getText;
this.GetHtmlText=this.getHtml;
this.PasteHtml=this.pasteHtml;
this.Collapse=this.collapse;
};
b.Selection.prototype={selectElement:function(e){return d.selectElement(this._window,e);
},pasteHtml:function(k,f){var s=this,j=s._window.document,r=b.DomRange.toDomRange(s.getRange(true)),g=new b.HtmlCommentsStorage(),t=g.shouldStoreComments();
if(t){k=g.markComments(k);
}var i=j.createElement("div");
i.innerHTML=k;
if(t){g.restoreComments(i);
}var n=new b.NestedElementsFix(i,s);
var e=n.getBlockElements();
var h=j.createElement("span");
s.insertNode(h,r);
s._fireEvent("pasteDom",i,h);
var p=h.parentNode;
while(i.firstChild){var o=i.firstChild;
var q=h.previousSibling;
var l=function(u){return u&&u.nodeType===3;
};
if(l(q)&&l(o)){q.nodeValue+=o.nodeValue;
i.removeChild(o);
}else{p.insertBefore(o,h);
}}var m=s._getPreviousSibling(h);
p.removeChild(h);
n.set_context(p);
n.applyFix(e);
s._setCursor(m,r);
},insertNode:function(g,f){var i=f||b.DomRange.toDomRange(this.getRange(true));
var e=i.commonAncestorContainer;
if(d.isTextNode(e)&&!e.length&&e.nextSibling){e=e.nextSibling;
}if(d.isTextNode(e)&&/^[\u200b]+$/.test(e.nodeValue)){var h=e.parentNode;
h.insertBefore(g,e);
h.removeChild(e);
}else{i.insertNode(g);
}if(d.isBlockElement(e)&&!a.contains(e,g)){e.appendChild(g);
}if(d.isTextNode(g.previousSibling)&&!g.previousSibling.length){a(g.previousSibling).remove();
}if(d.isTextNode(g.nextSibling)&&!g.nextSibling.length){a(g.nextSibling).remove();
}},_fireEvent:function(h,g,f){if(!this.trigger){return;
}var e=a.extendEventArgs(new Sys.EventArgs(),{eventName:h,element:g,cursor:f});
this.trigger(h,e);
},_getPreviousSibling:function(e){var f=e.previousSibling;
while(f){if(!this._isEmptyTextNode(f)){return f;
}f=f.previousSibling;
}return e.previousSibling;
},_setCursor:function(e,f){if(e){if(d.isTextNode(e)&&!d.isTextNodeEmpty(e)){d._setCursorInTextNode(f,e,e.length,e.length);
}else{if(d.isTag(e,"table")){this._ensureBrAfterTable(e);
this._setCursorInTheFirstTableCell(e,f);
}else{this._setCursorAfterNode(e,f);
}}}},_setCursorAfterNode:function(f,g){var e=this._getNextNode(f);
if(e){if(d.isTextNode(e)){d._setCursorInTextNode(g,e,0,0);
return;
}else{if(!d.canHaveChildren(e)){g.setStartBefore(e);
}else{g.selectNodeContents(e);
}}}else{g.setStartAfter(f);
}g.collapse(true);
g.select();
},_ensureBrAfterTable:function(e){if(!e.nextSibling){e.parentNode.appendChild(this._window.document.createElement("BR"));
}},_setCursorInTheFirstTableCell:function(g,f){var e=a("td:first",g)[0];
if(e){f.selectNodeContents(e);
if(e.innerHTML!="&nbsp;"){f.collapse(true);
}f.select();
}},_getNextNode:function(f){var g=f;
var e=g.nextSibling;
while(e&&this._isEmptyTextNode(e)){e=e.nextSibling;
}if(e){return e;
}while(!g.nextSibling){g=g.parentNode;
if(d.isEditorContentArea(g)){return null;
}}return f!=g?this._getNextNode(g):null;
},_isEmptyTextNode:function(e){return d.isTextNode(e)&&d.isTextNodeEmpty(e);
},selectRange:function(h){if(!h){return;
}var g=this._window;
if(h.select){h.select();
}else{if(g.getSelection){var i=g.getSelection();
if(i.removeAllRanges){i.removeAllRanges();
i.addRange(h);
}else{var e=h.baseNode;
if(null==e){e=g.document.body;
}var f=h.extentNode;
if(null==f){f=g.document.body;
}i.setBaseAndExtent(e,h.startOffset,f,h.endOffset);
}}}},getBrowserSelection:function(){if(!this._window){return null;
}if(this._window.document.selection&&!window.opera){return this._window.document.selection;
}else{if(this._window.getSelection){return this._window.getSelection();
}}return null;
},getRange:function(g){var k=this._window;
if(!k){return null;
}var e=k.document,f=!!e.selection,j=k.getSelection&&(!f||g);
if(j){var i=k.getSelection();
if(!i||i.rangeCount<1){return null;
}var h=null;
if(i.getRangeAt){h=i.getRangeAt(0);
}else{h=e.createRange();
h.setStart(i.anchorNode,i.anchorOffset);
h.setEnd(i.focusNode,i.focusOffset);
}return h;
}else{if(f){return e.selection.createRange();
}}},getParentElement:function(){var h=this.getRange();
if(!h){return null;
}if(h.commonAncestorContainer){var m=this._window.getSelection();
var j=h.startContainer?h.startContainer:m.baseNode,f=h.endContainer?h.endContainer:m.extentNode,k=h.startOffset!=null?h.startOffset:m.baseOffset,g=h.endOffset!=null?h.endOffset:m.extentOffset;
var e=m.anchorNode.childNodes[m.anchorOffset],i=this._getSingleControlSelectionNode(m);
if(e&&(this._isControlTag(e)||(j==f&&(g-k)==1))){return e;
}else{if(i){return i;
}else{if($telerik.isSafari){if(j&&j===f&&j.nodeName=="TR"){return j;
}var l=(m.anchorNode&&m.anchorNode.parentNode)?m.anchorNode.parentNode.tagName:"";
if(l=="TH"||l=="TD"){return m.anchorNode.parentNode;
}else{if(l=="TR"){return m.anchorNode;
}}}if(!h.commonAncestorContainer.tagName){if(this._window.document==h.commonAncestorContainer&&m.baseNode){return m.baseNode.parentNode;
}return h.commonAncestorContainer.parentNode;
}else{return h.commonAncestorContainer;
}}}}else{if(h.length){return h.item(0);
}else{if(h.parentElement){return h.parentElement();
}else{return null;
}}}},isControl:function(){if(this._window.document.selection){return(this._window.document.selection.type=="Control");
}else{var f=this._window.getSelection();
if(f.toString()!=""){return false;
}var e=f.focusNode;
if(!e||e.nodeType==1){var g=this.getParentElement();
return !!(g&&g.tagName=="IMG");
}return(e.tagName=="IMG");
}},createRangeInIE:function(){return this._window.document.selection.createRange();
},getText:function(){if(this._window.document.selection){var e=this.createRangeInIE();
if(e.length){return"";
}else{if(null!=e.text){return e.text;
}}}else{if(this._window.getSelection){return this._window.getSelection().toString();
}else{return"";
}}},getHtml:function(){var i=this._window.document.selection;
var h=null;
if(i&&!window.opera){if(i.type=="None"){return"";
}h=this.createRangeInIE();
if(h.length){return h.item(0).outerHTML;
}else{if(h.htmlText){return h.htmlText;
}else{return"";
}}}else{if(this._window.getSelection){i=this._window.getSelection();
if(null==i){return"";
}if(i.getRangeAt&&typeof(i.rangeCount)!="undefined"&&i.rangeCount==0){return"";
}if(i.getRangeAt){h=i.getRangeAt(0);
var g=this._window.document.createElement("div");
var e=h.cloneContents();
if(e){g.appendChild(e);
var f=g.innerHTML;
f=d._replaceWhitespaceBetweenTags(f," ");
return f;
}else{return"";
}}else{return i;
}}else{return"";
}}},moveToElementText:function(e){if(!e){return false;
}var g;
if(this.isSafari){g=this._window.document.createRange();
g.selectNodeContents(e);
this.selectRange(g);
this.collapse(true);
}else{if($telerik.isIE){g=this.getRange();
var f=$telerik.getLocation(e);
g.moveToPoint(f.x,f.y);
g.select();
}else{g=this.getRange();
g.selectNodeContents(e);
this.selectRange(g);
this.collapse(true);
}}},collapse:function(g){g=(g==true);
if(this._window.document.selection){var e=this.createRangeInIE();
if(e.collapse){e.collapse(g);
e.select();
}}else{if(this._window.getSelection){var f=this._window.getSelection();
if(!f.isCollapsed){if(g){f.collapseToStart();
}else{f.collapseToEnd();
}}}}},_getSingleControlSelectionNode:function(k){var m=k.anchorNode,g=k.focusNode,l=k.anchorNode.childNodes,f=k.focusNode.childNodes,n=k.anchorOffset,h=k.focusOffset,e=l[n-(l.length==n?1:0)],i=f[h-(f.length==h?1:0)];
if(this._isSingleControlNode(m,i)){return m;
}else{if(this._isSingleControlNode(g,e)){return g;
}}var j=this._surroundsSingleControlNode(k);
if(j){return j;
}},_isSingleControlNode:function(e,g){if(e===g){return true;
}var h=c;
for(var f=0;
f<h.length;
f++){if(this._isSingleTagSelection(e,h[f],g)){return true;
}}return false;
},_isSingleTagSelection:function(e,g,f){return d.isTag(e,g)&&f&&f.previousSibling===e;
},_isControlTag:function(f){var g=c;
for(var e=0;
e<g.length;
e++){if(d.isTag(f,g[e])){return true;
}}return false;
},_surroundsSingleControlNode:function(j){var e=new b.FragmentContainer(),i=b.DomRange.toDomRange(this.getRange(true)),g=new b.RangeIterator(i),f=this._isControlTag;
g.iterate(function(k){e.addNode(k);
});
var h=e.nodes;
if(e.any(f)){switch(h.length){case 1:return h[0];
case 2:case 3:if(d.isTextNode(h[0])&&i.startOffset===h[0].length&&(!h[2]||d.isTextNode(h[2]))){return h[1];
}break;
default:return false;
}}}};
b.Selection.registerClass("Telerik.Web.UI.Editor.Selection",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI._localization=function(){this._controls={};
};
Telerik.Web.UI._localization.prototype={merge:function(a,b,e){if(typeof(this._controls[a])=="undefined"){this._controls[a]={};
}if(typeof(this._controls[a][b])=="undefined"){this._controls[a][b]={};
}var c=this._controls[a][b];
for(var d in e){if(typeof(e[d])=="string"){c[d]=e[d];
}}return c;
}};
Telerik.Web.UI._localization.registerClass("Telerik.Web.UI._localization");
Telerik.Web.UI.Localization=new Telerik.Web.UI._localization();
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.Markdown={};
if(typeof window.exports==="object"&&typeof require==="function"){Telerik.Web.UI.Editor.Markdown=window.exports;
}(function(){function b(e){return e;
}function c(e){return false;
}function a(){}a.prototype={chain:function(f,e){var g=this[f];
if(!g){throw new Error("unknown hook "+f);
}if(g===b){this[f]=e;
}else{this[f]=function(h){return e(g(h));
};
}},set:function(f,e){if(!this[f]){throw new Error("unknown hook "+f);
}this[f]=e;
},addNoop:function(e){this[e]=b;
},addFalse:function(e){this[e]=c;
}};
Telerik.Web.UI.Editor.Markdown.HookCollection=a;
function d(){}d.prototype={set:function(e,f){this["s_"+e]=f;
},get:function(e){return this["s_"+e];
}};
Telerik.Web.UI.Editor.Markdown.Converter=function(){var M=this.hooks=new a();
M.addNoop("plainLinkText");
M.addNoop("preConversion");
M.addNoop("postConversion");
var J;
var I;
var G;
var H;
this.makeHtml=function(P){if(J){throw new Error("Recursive call to converter.makeHtml");
}J=new d();
I=new d();
G=[];
H=0;
P=M.preConversion(P);
P=P.replace(/~/g,"~T");
P=P.replace(/\$/g,"~D");
P=P.replace(/\r\n/g,"\n");
P=P.replace(/\r/g,"\n");
P="\n\n"+P+"\n\n";
P=e(P);
P=P.replace(/^[ \t]+$/mg,"");
P=t(P);
P=A(P);
P=y(P);
P=B(P);
P=P.replace(/~D/g,"$$");
P=P.replace(/~T/g,"~");
P=M.postConversion(P);
G=I=J=null;
return P;
};
function A(P){P=P.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(V,Q,R,S,T,U){Q=Q.toLowerCase();
J.set(Q,o(R));
if(T){return S;
}else{if(U){I.set(Q,U.replace(/"/g,"&quot;"));
}}return"";
});
return P;
}function t(P){P=P.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,L);
P=P.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,L);
P=P.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,L);
P=P.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,L);
P=P.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,L);
return P;
}function L(R,Q){var P=Q;
P=P.replace(/^\n+/,"");
P=P.replace(/\n+$/g,"");
P="\n\n~K"+(G.push(P)-1)+"K\n\n";
return P;
}function y(R,P){R=k(R);
var Q="<hr />\n";
R=R.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,Q);
R=R.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,Q);
R=R.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,Q);
R=n(R);
R=i(R);
R=h(R);
R=t(R);
R=s(R,P);
return R;
}function z(P){P=j(P);
P=r(P);
P=p(P);
P=l(P);
P=f(P);
P=g(P);
P=P.replace(/~P/g,"://");
P=o(P);
P=m(P);
P=P.replace(/  +\n/g," <br>\n");
return P;
}function r(Q){var P=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;
Q=Q.replace(P,function(S){var R=S.replace(/(.)<\/?code>(?=.)/g,"$1`");
R=E(R,S.charAt(1)=="!"?"\\`*_/":"\\`*_");
return R;
});
return Q;
}function f(P){P=P.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,N);
P=P.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,N);
P=P.replace(/(\[([^\[\]]+)\])()()()()()/g,N);
return P;
}function N(ac,R,S,T,U,V,W,X){if(X==undefined){X="";
}var ab=R;
var Q=S.replace(/:\/\//g,"~P");
var P=T.toLowerCase();
var aa=U;
var Z=X;
if(aa==""){if(P==""){P=Q.toLowerCase().replace(/ ?\n/g," ");
}aa="#"+P;
if(J.get(P)!=undefined){aa=J.get(P);
if(I.get(P)!=undefined){Z=I.get(P);
}}else{if(ab.search(/\(\s*\)$/m)>-1){aa="";
}else{return ab;
}}}aa=D(aa);
aa=E(aa,"*_");
var Y='<a href="'+aa+'"';
if(Z!=""){Z=C(Z);
Z=E(Z,"*_");
Y+=' title="'+Z+'"';
}Y+=">"+Q+"</a>";
return Y;
}function l(P){P=P.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,O);
P=P.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,O);
return P;
}function C(P){return P.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");
}function O(ac,R,S,T,U,V,W,X){var ab=R;
var P=S;
var Q=T.toLowerCase();
var aa=U;
var Z=X;
if(!Z){Z="";
}if(aa==""){if(Q==""){Q=P.toLowerCase().replace(/ ?\n/g," ");
}aa="#"+Q;
if(J.get(Q)!=undefined){aa=J.get(Q);
if(I.get(Q)!=undefined){Z=I.get(Q);
}}else{return ab;
}}P=E(C(P),"*_[]()");
aa=E(aa,"*_");
var Y='<img src="'+aa+'" alt="'+P+'"';
Z=C(Z);
Z=E(Z,"*_");
Y+=' title="'+Z+'"';
Y+=" />";
return Y;
}function k(P){P=P.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(R,Q){return"<h1>"+z(Q)+"</h1>\n\n";
});
P=P.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(R,Q){return"<h2>"+z(Q)+"</h2>\n\n";
});
P=P.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(T,R,S){var Q=R.length;
return"<h"+Q+">"+z(S)+"</h"+Q+">\n\n";
});
return P;
}function n(P){P+="~0";
var Q=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;
if(H){P=P.replace(Q,function(W,T,U){var R=T;
var S=(U.search(/[*+-]/g)>-1)?"ul":"ol";
var V=x(R,S);
V=V.replace(/\s+$/,"");
V="<"+S+">"+V+"</"+S+">\n";
return V;
});
}else{Q=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;
P=P.replace(Q,function(Y,T,U,V){var X=T;
var R=U;
var S=(V.search(/[*+-]/g)>-1)?"ul":"ol";
var W=x(R,S);
W=X+"<"+S+">\n"+W+"</"+S+">\n";
return W;
});
}P=P.replace(/~0/,"");
return P;
}var u={ol:"\\d+[.]",ul:"[*+-]"};
function x(Q,R){H++;
Q=Q.replace(/\n{2,}$/,"\n");
Q+="~0";
var S=u[R];
var T=new RegExp("(^[ \\t]*)("+S+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+S+")[ \\t]+))","gm");
var P=false;
Q=Q.replace(T,function(aa,X,Y,Z){var W=Z;
var V=/\n\n$/.test(W);
var U=V||W.search(/\n{2,}/)>-1;
if(U||P){W=y(v(W),true);
}else{W=n(v(W));
W=W.replace(/\n$/,"");
W=z(W);
}P=V;
return"<li>"+W+"</li>\n";
});
Q=Q.replace(/~0/g,"");
H--;
return Q;
}function i(P){P+="~0";
P=P.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(U,R,S){var Q=R;
var T=S;
Q=q(v(Q));
Q=e(Q);
Q=Q.replace(/^\n+/g,"");
Q=Q.replace(/\n+$/g,"");
Q="<pre><code>"+Q+"\n</code></pre>";
return"\n\n"+Q+"\n\n"+T;
});
P=P.replace(/~0/,"");
return P;
}function K(P){P=P.replace(/(^\n+|\n+$)/g,"");
return"\n\n~K"+(G.push(P)-1)+"K\n\n";
}function j(P){P=P.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(V,R,S,T,U){var Q=T;
Q=Q.replace(/^([ \t]*)/g,"");
Q=Q.replace(/[ \t]*$/g,"");
Q=q(Q);
Q=Q.replace(/:\/\//g,"~P");
return R+"<code>"+Q+"</code>";
});
return P;
}function q(P){P=P.replace(/&/g,"&amp;");
P=P.replace(/</g,"&lt;");
P=P.replace(/>/g,"&gt;");
P=E(P,"*_{}[]\\",false);
return P;
}function m(P){P=P.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4");
P=P.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4");
return P;
}function h(P){P=P.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(S,R){var Q=R;
Q=Q.replace(/^[ \t]*>[ \t]?/gm,"~0");
Q=Q.replace(/~0/g,"");
Q=Q.replace(/^[ \t]+$/gm,"");
Q=y(Q);
Q=Q.replace(/(^|\n)/g,"$1  ");
Q=Q.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(V,T){var U=T;
U=U.replace(/^  /mg,"~0");
U=U.replace(/~0/g,"");
return U;
});
return K("<blockquote>\n"+Q+"\n</blockquote>");
});
return P;
}function s(X,P){X=X.replace(/^\n+/g,"");
X=X.replace(/\n+$/g,"");
var S=X.split(/\n{2,}/g);
var T=[];
var V=/~K(\d+)K/;
var Q=S.length;
var U;
for(U=0;
U<Q;
U++){var W=S[U];
if(V.test(W)){T.push(W);
}else{if(/\S/.test(W)){W=z(W);
W=W.replace(/^([ \t]*)/g,"<p>");
W+="</p>";
T.push(W);
}}}if(!P){Q=T.length;
for(U=0;
U<Q;
U++){var R=true;
while(R){R=false;
T[U]=T[U].replace(/~K(\d+)K/g,function(Z,Y){R=true;
return G[Y];
});
}}}return T.join("\n\n");
}function o(P){P=P.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");
P=P.replace(/<(?![a-z\/?\$!])/gi,"&lt;");
return P;
}function p(P){P=P.replace(/\\(\\)/g,F);
P=P.replace(/\\([`*_{}\[\]()>#+-.!])/g,F);
return P;
}function g(Q){Q=Q.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");
var P=function(S,R){return'<a href="'+R+'">'+M.plainLinkText(R)+"</a>";
};
Q=Q.replace(/<((https?|ftp):[^'">\s]+)>/gi,P);
return Q;
}function B(P){P=P.replace(/~E(\d+)E/g,function(S,R){var Q=parseInt(R,10);
return String.fromCharCode(Q);
});
return P;
}function v(P){P=P.replace(/^(\t|[ ]{1,4})/gm,"~0");
P=P.replace(/~0/g,"");
return P;
}function e(R){if(!/\t/.test(R)){return R;
}var Q=["    ","   ","  "," "],P=0,S;
return R.replace(/[\n\t]/g,function(T,U){if(T==="\n"){P=U+1;
return T;
}S=(U-P)%4;
P=U+1;
return Q[S];
});
}var w=/(?:["'*()[\]:]|~D)/g;
function D(Q){if(!Q){return"";
}var P=Q.length;
return Q.replace(w,function(R,S){if(R=="~D"){return"%24";
}if(R==":"){if(S==P-1||/[0-9\/]/.test(Q.charAt(S+1))){return":";
}}return"%"+R.charCodeAt(0).toString(16);
});
}function E(T,Q,P){var S="(["+Q.replace(/([\[\]\\])/g,"\\$1")+"])";
if(P){S="\\\\"+S;
}var R=new RegExp(S,"g");
T=T.replace(R,F);
return T;
}function F(R,Q){var P=Q.charCodeAt(0);
return"~E"+P+"E";
}};
})();
Type.registerNamespace("Telerik.Web.UI");
$telerik.toEditor=function(a){return a;
};
$telerik.findEditor=$find;
(function(a,K){var i=window.document;
var D=a.proxy;
var c=Telerik.Web.UI;
var b=c.Editor;
var o=b.EditorEditType;
var m=c.EditorContentAreaMode;
var L=b.Utils;
var w=L.isTag;
var p=c.EventType;
var q="focus";
var g="Cut";
var B="Paste";
var H="resizeEnd";
var u="reInlineEditor";
var v="reInlineEditorSelected";
var r="reFullScreen";
var t="inlineEditCompleted";
var k=".telerikEditor";
var l=".Editor-img";
var j=".reEmptyMessage";
var f=".reContent";
var z="(orientation: portrait)";
var A="rePortrait";
var y="reLandScape";
var J=".reToolbar,.reToolBar";
var x=b.Orientation;
var I="matchMedia" in window;
var C=Telerik.Web.Platform;
var e=Telerik.Web.Browser;
var G=c.RenderMode;
var d=Sys.UI.DomElement.addCssClass;
var F=Sys.UI.DomElement.removeCssClass;
var h=Function.createDelegate;
var E=/[\u200b]/g;
var n=c.EditorToolbarMode;
c.RadEditor=function(N){var M=this;
c.RadEditor.initializeBase(this,[N]);
this._bottomResizer=null;
this._tableElement=null;
this._contentAreaElement=null;
this._contentHiddenTextarea=null;
this._doctypeString=null;
this._originalHeight=null;
this._accessKeyTextbox=null;
this._contentAreaWrapper=null;
this._mode=c.EditModes.Design;
this._divContentAreaInitialized=false;
this._accEditor=null;
this._shortCutManager=new c.ShortCutManager();
this._filtersManager=new c.Editor.FiltersManager();
this._commandsManager=new c.Editor.CommandsManager();
M._modulesManager=null;
this._resizeExtender=null;
this._localization={};
this._contentAreaEventHandlers={};
this._contentAreaExternalEventHandlers={};
this._elementsResizableWidget=null;
this._onToolClickDelegate=null;
this._onWindowResizeDelegate=null;
this._saveContentDelegate=null;
M._onHiddenTextAreaFocusDelegate=null;
this.isIE=$telerik.isIE;
this.isFirefox=$telerik.isFirefox;
this.isOpera=$telerik.isOpera;
this.isIE7=$telerik.isIE7;
this._spellCheckService=null;
this._originalScrollTop=null;
this._cursorPosition=null;
this._isCursorMoving=null;
M._animationSettings={};
};
c.RadEditor.createNew=function(N){var M=new c.RadEditor(i.createElement("div"));
if(!N){M.get_contentAreaElement();
}else{M._contentAreaElement=N;
}M._contentHiddenTextarea=i.createElement("input");
M._initContentAreaHtml("",true);
M.set_editable(true);
M._ieHookToClientArea();
M._addDefaultShortCuts();
M.removeShortCut("ToggleScreenMode");
M.removeShortCut("LinkManager");
M.removeShortCut("ImageManager");
M.removeShortCut("SetToolFocus");
return M;
};
c.RadEditor.prototype={_initializeModulesManager:function(){var M=this;
if(typeof(b.ModulesManager)==="function"&&!M._isInInlineEditMode()){M._modulesManager=new b.ModulesManager(M);
}},_isInInlineEditMode:function(){var M=this;
return(M.get_editType()===o.Inline);
},get_ajaxSpellCheck:function(){return this._ajaxSpellCheck;
},set_ajaxSpellCheck:function(M){this._ajaxSpellCheck=M;
this.raiseEvent("spellCheckLoaded");
},get_spellCheckService:function(){if(!this._spellCheckService){this._spellCheckService=$create(c.SpellCheckService,this.get_spellCheckJSON(),null,null);
this._spellCheckService.add_complete(Function.createDelegate(this,this._responseReceived));
}return this._spellCheckService;
},startSpellCheck:function(){this.get_spellCheckService().spellCheck(this.get_html());
},addCustomWord:function(M){this.get_spellCheckService().addCustomWord(M);
},_responseReceived:function(N,M){},raiseEvent:function(N,M){if(N!="selectionChange"||this.get_mode()==c.EditModes.Design){c.RadEditor.callBaseMethod(this,"raiseEvent",[N,M]);
}},_initializeToolProvider:function(){var N=this;
var Z=N.get_toolProviderID();
var R=Z?$find(Z):null;
if(!R){return;
}var O=function(ab){var ac=ab.get_window();
return ac?ac.get_contentElement():ab.get_element();
};
var X=N.get_toolAdapter();
var S=R?R.get_toolAdapter():null;
var U=O(S);
var T=U?a(U).find(J):[];
var V=T.length;
var aa=i.createDocumentFragment();
N.set_dialogOpener(R.get_dialogOpener());
var M=R.get_contextMenusJSON();
if(M&&M.concat){N.set_contextMenusJSON(M.concat([]));
}var Q=R.get_modulesJSON();
if(Q&&Q.concat){N.set_modulesJSON(Q.concat([]));
}N.set_toolJSON(R.get_toolJSON());
X.set_toolJSON(R.get_toolAdapter().get_toolJSON());
var Y=O(X);
for(var P=0;
P<V;
P++){a(T[P]).clone().appendTo(aa);
}a(Y).append(aa);
if(R.get_spellCheckJSON){N.set_spellCheckJSON(R.get_spellCheckJSON());
}if(R.get_ajaxSpellCheckScriptReference){var W=R.get_ajaxSpellCheckScriptReference();
if(W){N.set_ajaxSpellCheckScriptReference(W);
}}N.set_links(R.get_links());
N.set_colors(R.get_colors());
N.set_fontNames(R.get_fontNames());
N.set_fontSizes(R.get_fontSizes());
N.set_symbols(R.get_symbols());
N.set_realFontSizes(R.get_realFontSizes());
N.set_snippets(R.get_snippets());
N.set_cssClasses(R.get_cssClasses());
N.set_cssFiles(R.get_cssFiles());
N.set_languages(R.get_languages());
N.set_paragraphs(R.get_paragraphs());
N.set_formatSets(R.get_formatSets());
N.set_enableUndoRedo(R.get_enableUndoRedo());
},get_toolHTML:function(){var M=this.get_toolContainer().cloneNode(true);
return M.innerHTML;
},get_toolContainer:function(){return this._view.toolBarContainer();
},get_headerToolsContainer:function(){return this._view.headerToolbarContainer();
},get_headerContainer:function(){return this._view.headerContainer();
},get_mainTable:function(){return $get(this.get_id()+"Wrapper");
},_ieHookToClientArea:function(){var M=this;
window.setTimeout(function(){if($telerik.isIE){var O=M.get_contentArea();
if(!O){return;
}try{var R=c.Editor.Utils.storeBrowserPosition();
var N=i.activeElement;
if(N&&N.nodeName===M.get_contentAreaElement()){var Q=i.body.createTextRange();
if(R&&R.y>0){Q.moveToElementText(M.get_contentAreaElement());
}else{Q.moveStart("textedit",Q.text.length);
}Q.collapse(true);
Q.select();
if(R&&R.y>0){c.Editor.Utils.restoreBrowserPosition();
}}}catch(P){}}},0);
},_isEditorRightToLeft:function(){var M=this._isRightToLeft;
if(M==null){var N=this.get_element();
if(N){M=this._isRightToLeft=$telerik.isRightToLeft(N);
}}return M;
},initialize:function(R){var M=this;
var S;
M._cleanZeroWidthSpace=true;
c.RadEditor.callBaseMethod(this,"initialize");
this.raiseEvent("init",Sys.EventArgs.Empty);
M._initializeModulesManager();
this._view=Telerik.Web.UI.Editor.ViewFactory.getView(this);
this._sizer=Telerik.Web.UI.Editor.UI.SizerFactory.getSizer(this);
if(this._renderMode==c.RenderMode.Classic){S=this.get_mainTable();
this._originalHeight=S.style.height;
}this._initializeLocalization();
this._addFilters();
this._addDefaultShortCuts();
this._createUI();
var P=this.isVisible();
if(this._renderMode==c.RenderMode.Classic){S=$get(this.get_id()+"_BottomTable");
if(S){S.style.display="";
}}M._createTools();
M._initializeToolProvider();
var N=$get(this.get_id()+"ContentHiddenTextarea");
if(N){this._contentHiddenTextarea=N;
}if(this.get_enableAriaSupport()){this._applyAriaSupport();
}var O=this.get_contentHiddenTextareaValue();
this._initContentAreaHtml(O,true);
this.set_initialContent(O);
if(!this.get_enableUndoRedo()){this.get_contentWindow()._radEditorEnableUndoRedo=false;
}this.add_parentShown(this.get_element());
this._registerClientValidation();
this._registerPostBackHandlers();
this.whitespaceTracker=new c.Editor.EmptyWhitespaceCharTracker(this);
this.whitespaceTracker.startTracking();
var Q=this.nodesTracker=new c.Editor.NodesTracker(this);
Q.startTracking();
if(!this._isEditModeEnabled(c.EditModes.Design)){if(this._isEditModeEnabled(c.EditModes.Html)){this.set_mode(c.EditModes.Html);
}else{this.set_mode(c.EditModes.Preview);
}}this._ieHookToClientArea();
this._fixIEVisibilityProblems(true);
if(Telerik.Web.Browser.ff&&Telerik.Web.Browser.version<62){this._fixMozillaDOMProblems(true);
}if(this._modulesManager){this._modulesManager.initialize();
}this._applyAccessKey();
if(this.get_isInAccessibleMode()){this._accEditor=new c.AccessibleRadEditorBase(this);
}if(this.get_enableTrackChanges()||this.get_enableComments()){this._trackChangesLoad();
}if(!$telerik.isIE&&!$telerik.isFirefox){this._initializeResizableWidget();
}this._initRightToLeft();
this._enableFormElementsSelecting();
this._enableTextFieldsTyping();
if(M._shouldAutoResizeHeight()){this._sizer.makeAutoResizeHeight(P);
if($telerik.isFirefox){this.add_submit(Function.createDelegate(this._sizer,this._sizer.onSubmitSetEditorHeight));
}if(P){this._postponeResizeIframeHeight();
}this.add_selectionChange(Function.createDelegate(this,this._resizeContentArea));
}else{this._sizer.setContentElementHeight();
}this._makeResizeable(this.get_enableResize());
this.add_commandExecuting(Function.createDelegate(this,this._commandExecutingHandler));
this.add_commandExecuted(Function.createDelegate(this,this._commandExecutedHandler));
this._initializeImmutableElements();
this._initCleanUpModules();
M._initMobileEnterFullScreen();
M._initFindReplace();
M._addOrientationListener();
M._setOrientationDecoration();
if(M.get_mode()==c.EditModes.Design){Q.convertSingleNbspToTrackedZwsp();
Q.addTrackedZwspBeforeInnerLists();
}this.jsHrefStorage=new b.JSHrefStorage();
if(M.get_renderMode()!=G.Classic){M._initializeSelectDeleteTables();
}if(R!==true){this._raiseEditorLoad();
}},_raiseEditorLoad:function(){this.raiseEvent("load",Sys.EventArgs.Empty);
this._editorFinishedLoad=true;
if(!$telerik.isIE&&!$telerik.isFirefox){if(!this.isVisible()){this.raiseEvent("firstShow");
}}},_shouldAutoResizeHeight:function(){var M=this;
if(M.get_renderMode()===G.Mobile){return false;
}return M.get_autoResizeHeight()||M._isInInlineEditMode();
},_addInlineEditModeStyles:function(){this._addInlineEditorStyle(u);
},_addInlineEditorSelectedStyles:function(){this._addInlineEditorStyle(v);
},_addInlineEditorStyle:function(M){var N=this;
var O=N.get_element();
a(O).addClass(M);
},_removeInlineEditorSelectedStyles:function(){var M=this;
var N=M.get_element();
a(N).removeClass(v);
},_postponeResizeIframeHeight:function(){setTimeout(Function.createDelegate(this,function(){this._resizeContentArea();
}),300);
},_commandExecutingHandler:function(N,M){if(!N.get_enableImmutableElements()){return;
}var O=N.getSelectedElement();
if(O&&c.Editor.Utils.isImmutableNode(O)){return M.set_cancel(true);
}},_commandExecutedHandler:function(N,M){if(!N.get_enableImmutableElements()){return;
}if(/^(?:Un|Re)do$/.test(M.get_commandName())){c.Editor.Utils.restoreImmutableElements(N);
c.Editor.Utils.revertOriginalImmutables(N);
}},_initializeImmutableElements:function(){var M=this;
if(!M.get_enableImmutableElements()){return;
}c.Editor.Utils.getImmutableElements(this).each(function(N,O){M.setNodeImmutability(O);
});
},setNodeImmutability:function(O){if(!this.get_enableImmutableElements()){return;
}O.setAttribute("contentEditable",false);
$telerik.addCssClasses(O,["reUnselectable"]);
a(O).find("*").addBack().attr("unselectable","on");
var N=this._immutableElements;
if(!N){N=this._immutableElements={};
}var M=new Date().getTime();
if(N[M.toString()]&&N[M.toString()]!=O){while(N[M.toString()]){M++;
}}M=M.toString();
O.setAttribute(c.Editor.Utils.immutableElementId,M);
N[M]=O;
},removeNodeImmutability:function(N){var M=N.getAttribute(c.Editor.Utils.immutableElementId);
N.removeAttribute("contentEditable");
this._cleanUnselectableAttributes(N);
N.removeAttribute(c.Editor.Utils.immutableElementId);
if(!M||!this._immutableElements||!this._immutableElements[M]){return;
}delete this._immutableElements[M];
},_cleanUnselectableAttributes:function(M){$telerik.removeCssClasses(M,["reUnselectable"]);
if(!M.className){M.removeAttribute("class");
}a(M).find("*").addBack().removeAttr("unselectable");
},_initializeResizableWidget:function(){if(this._elementsResizableWidget){this._elementsResizableWidget.dispose();
}this._elementResizingDelegate=a.proxy(this._elementResizingSelectionChangeHandler,this);
this.add_selectionChange(this._elementResizingDelegate);
this.add_modeChange(a.proxy(function(N,M){if(N.get_mode()==2&&this._elementsResizableWidget){this._disposeElementResizableWidget();
}},this));
this.add_submit(a.proxy(function(){if(this._elementsResizableWidget){this._disposeElementResizableWidget();
}},this));
},_attachScroll:function(O,M){var N=s(this);
if(N){if(M){a(N).on("scroll",M,O);
}else{a(N).on("scroll",O);
}}},_detachScroll:function(N){var M=s(this);
if(M){a(M).off("scroll",N);
}},_elementResizingSelectionChangeHandler:function(){var M=this;
var N=M._getElementForResizing(M.getSelectedElement());
M._onDocumentUpDelegate=M._onDocumentUpDelegate||Function.createDelegate(M,M._resizingOnUpHandler);
if(N&&!c.Editor.Utils.isImmutableNode(N)){if(M._elementsResizableWidget&&M._elementsResizableWidget._element===N){M._elementsResizableWidget.repaint();
if(M._resizeStartFired){M._elementsResizableWidget.trigger(H,{});
}if(M._elementsResizableWidget){M._elementsResizableWidget._toggleDocumentCursor();
}}else{M._disposeElementResizableWidget();
this._elementsResizableWidget=this._getResizable(N);
M._resizeCommand=new Telerik.Web.UI.Editor.GenericCommand("Resize "+N.tagName.toLowerCase(),this.get_contentWindow(),this);
M._attachResizableEvents();
if(M.get_contentAreaMode()!=c.EditorContentAreaMode.Iframe){M._hideResizeHandlesOutsideContent();
}M._markHandlesForContentFilter();
}}else{if(this._elementsResizableWidget){this._disposeElementResizableWidget();
}}},_attachResizableEvents:function(){var M=this;
var Q=M._elementsResizableWidget;
var O=Q.get_element();
var N=M.get_contentAreaMode()==c.EditorContentAreaMode.Iframe;
Q.add_resizeStart(function(R){M._resizeStartFired=true;
M.get_contentArea().removeAttribute("contenteditable");
M._onLiveResizeStart(R);
if(N){a(i).offEvent(p.Up+k).onEvent(p.Up+k,M._onDocumentUpDelegate);
}});
if(!N){var P=function(){Q.repositionHandles();
M._hideResizeHandlesOutsideContent();
};
M._attachScroll(P);
Q.add_destroy(function(){M._detachScroll(P);
});
}if(M._selectDeleteTable&&L.isTag(O,"table")){Q.add_resize(function(R){M._selectDeleteTable.repositionButtons(O);
});
}Q.add_resizeEnd(function(R){delete M._resizeStartFired;
M.get_contentArea().setAttribute("contenteditable","true");
M._onLiveResizeEnd(R);
M.executeCommand(M._resizeCommand);
M._cleanHandlesFromRestorePoint(M._resizeCommand);
delete M._resizeCommand;
M._reInitResizable(R);
a(i).offEvent(p.Up+k);
});
},_hideResizeHandlesOutsideContent:function(){var Q=this;
var Y=Q._elementsResizableWidget;
var Z=Y.get_element();
var M=Q.get_contentArea();
var N=M.parentNode;
var P=N.offsetWidth;
var O=N.offsetHeight;
var V=Y._handlesCollection;
var S=L.getOffset(Z,M);
var T=L.getScrollOffset(Z,M);
var U=Z.offsetWidth;
var R=Z.offsetHeight;
var aa=function(ac,ae){var ad=V[ac]?V[ac].get_handle():K;
if(ad){ad.style.display=ae;
}};
var ab=function(ac){aa(ac,"");
};
var W=function(ac){aa(ac,"none");
};
var X=function(ac){return ac.left<T.left||ac.left>T.left+P||T.top>ac.top||ac.top-T.top>O;
};
X({left:S.left,top:S.top})?W("NW"):ab("NW");
X({left:S.left,top:S.top+R/2})?W("W"):ab("W");
X({left:S.left,top:S.top+R})?W("SW"):ab("SW");
X({left:S.left+U/2,top:S.top+R})?W("S"):ab("S");
X({left:S.left+U,top:S.top+R})?W("SE"):ab("SE");
X({left:S.left+U,top:S.top+R/2})?W("E"):ab("E");
X({left:S.left+U,top:S.top})?W("NE"):ab("NE");
X({left:S.left+U/2,top:S.top})?W("N"):ab("N");
},_onLiveResizeStart:function(Q){var O=this;
var N=O.get_contentArea();
var R=Q.get_element();
var S=R.style;
var P=L.getOffset(R,N);
var M=R.cloneNode(true);
Q._resizedElemOpacity=S.opacity;
S.opacity=0.8;
a(M).css({position:"absolute",top:P.top,left:P.left,margin:"",opacity:0.4}).prop("id","reClonedElement").appendTo(N);
},_onLiveResizeEnd:function(O){var N=this;
var M=N.get_contentArea();
var P=O.get_element();
a(M).find("#reClonedElement").remove();
a(P).css({opacity:O._resizedElemOpacity||""});
delete O._resizedElemOpacity;
},_resizingOnUpHandler:function(){var M=this;
if((e.webkit||e.edge)&&M._getElementForResizing(M.getSelectedElement())){setTimeout(function(){M._elementResizingSelectionChangeHandler();
},50);
}},_getCleanResizableHandlesFilter:function(){var M=this.get_filtersManager()?this.get_filtersManager().getFilterByName("CleanResizableHandles"):null;
if(!M){M=new Telerik.Web.UI.Editor.CleanResizableHandles();
}return M;
},_cleanHandlesFromRestorePoint:function(M){if(!M.RestorePoint2){return;
}var N=i.createElement("div");
N.innerHTML=M.RestorePoint2.HtmlText;
M.RestorePoint2.HtmlText=this._getCleanResizableHandlesFilter().getHtmlContent(N).innerHTML;
},_getResizable:function(M){var N={liveResize:true,useTinyHandles:true,ownerDocument:this.get_document()};
if($telerik.isTouchDevice){N.handleSize=16;
}return new Telerik.Web.UI.Widgets.Resizable(M,N);
},_disposeElementResizableWidget:function(){if(this._elementsResizableWidget){this._elementsResizableWidget.dispose();
this._elementsResizableWidget=null;
}if(this._selectionOrgBorder){this._selectionOrgBorder=null;
}},_reInitResizable:function(M){M.dispose();
this._elementsResizableWidget=null;
this._elementResizingSelectionChangeHandler();
},_getElementForResizing:function(M){return L.isTag(M,"img")?M:L.getElementParentByTag(M,"TABLE");
},_markHandlesForContentFilter:function(){var O=this._elementsResizableWidget;
var N=O._handlesCollection;
for(var M in N){N[M]._element.setAttribute("rel","rrWidget");
}},_initRightToLeft:function(){if(this._isEditorRightToLeft()){var O=this.get_element();
var P=this.get_contentAreaElement();
Sys.UI.DomElement.addCssClass(O,"reRtl");
var N=P.contentDocument||P.contentWindow?P.contentWindow.document:null;
if(N){this._setElementStyleProperty(N.body,"direction","rtl");
this._setElementStyleProperty(N.body,"textAlign","right");
}}var M=this.get_dialogOpener();
M.set_additionalQueryString(M.get_additionalQueryString()+"&isRtl="+!!this._isEditorRightToLeft());
},_enableFormElementsSelecting:function(){if(this.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this._formElementsSelection=new Telerik.Web.UI.Editor.FormElementsSelection(this);
this._formElementsSelection.enableFormElementsSelecting();
},_enableTextFieldsTyping:function(){if(this.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this._textFieldsTyping=new Telerik.Web.UI.Editor.TextFieldsTyping(this);
this._textFieldsTyping.enableTextFieldsTyping();
},dispose:function(){var N=this;
if(this._emptyMessageContainer){$clearHandlers(this._emptyMessageContainer);
this._emptyMessageContainer=null;
}if(this.get_isInAccessibleMode()){this._accEditor=null;
}if(typeof(Sys.WebForms)!="undefined"&&typeof(Sys.WebForms.PageRequestManager)!="undefined"&&this._saveContentDelegate){var R=Sys.WebForms.PageRequestManager.getInstance();
if(R){R.remove_initializeRequest(this._saveContentDelegate);
}R=null;
}if(this._contentHiddenTextarea&&this._contentHiddenTextarea.form&&this._saveContentDelegate){$telerik.removeExternalHandler(this._contentHiddenTextarea.form,"submit",this._saveContentDelegate);
}if(this.whitespaceTracker){this.whitespaceTracker.dispose();
}if(this.nodesTracker){this.nodesTracker.dispose();
}var M=this.get_contentAreaElement();
if(M){if(this._formElementsSelection){this._formElementsSelection.disableFormElementsSelecting();
}if(this._textFieldsTyping){this._textFieldsTyping.disableTextFieldsTyping();
}$clearHandlers(M);
if(M.tagName=="IFRAME"){var S="sandbox" in M;
M.src=S?"about:blank":"javascript:'<html></html>';";
}else{try{M.parentNode.removeChild(M);
M=null;
}catch(O){}}}try{this._disposeEvents();
}catch(P){}this._fixMozillaDOMProblems(false);
this._fixIEVisibilityProblems(false);
this._makeResizeable(false);
N._onHiddenTextAreaFocusDelegate=null;
this._onToolClickDelegate=null;
this._registerWindowResizeHandler(false);
if(this._isFullScreen){this._enableBodyScroll();
}this.set_dialogOpener(null);
this._saveContentDelegate=null;
this._registerModeChangeHandler(false);
N._attachEnterFullScreenMobileHandler(false);
N._enterFullScreenMobileDelegate=null;
if(this._insertLink){this._insertLink.dispose();
this._insertLink=null;
}if(this._insertImage){this._insertImage.dispose();
this._insertImage=null;
}if(this._accessKeyTextbox){$clearHandlers(this._accessKeyTextbox);
this._accessKeyTextbox.removeAttribute("accessKey");
this._accessKeyTextbox=null;
}if(this._immutableElements){for(var Q in this._immutableElements){delete this._immutableElements[Q];
}}if(this._view){this._view.dispose();
}this._removeOrientationListener();
delete this.jsHrefStorage;
c.RadEditor.callBaseMethod(this,"dispose");
},_applyAccessKey:function(){var M=this.get_element().getAttribute("accessKey");
if(M){this.get_element().removeAttribute("accessKey");
var N=i.createElement("input");
N.setAttribute("name",this.get_id()+"EditorAccessKey");
N.setAttribute("type","text");
N.setAttribute("id",this.get_id()+"EditorAccessKey");
N.setAttribute("accessKey",M);
this._accessKeyTextbox=N;
$addHandlers(this._accessKeyTextbox,{focus:this.setFocus},this);
var O=i.createElement("div");
O.style.width="0px";
O.style.height="0px";
O.style.overflow="hidden";
O.appendChild(this._accessKeyTextbox);
this.get_element().appendChild(O);
}},_resizeContentArea:function(){this._sizer.resizeIframeHeight();
},_makeResizeable:function(M){if(this._renderMode==c.RenderMode.Classic){this._removeCurrentResizeExtender();
if(!M){return;
}if(!this._tableElement){return;
}if(!this._bottomResizer){this._bottomResizer=this._view.resizerHandle();
}if(this._bottomResizer){if(this.isIE){this._bottomResizer.style.styleFloat="right";
}if(this.isOpera&&i.compatMode=="CSS1Compat"){this._bottomResizer.parentNode.removeChild(this._bottomResizer);
this._bottomResizer=null;
}}else{return;
}var N={se:this._bottomResizer};
this._resizeExtender=new c.ResizeExtender(this,this.get_element(),N,this._tableElement);
}else{if(this._renderMode==c.RenderMode.Lite){if(this._resizableWidget){this._resizableWidget.dispose();
}if(!M){return;
}this._initialConstraints=this._calcInitialConstraints();
var O={liveResize:true,enableFrameOverlay:true,handles:[{direction:"SE",element:this._view.resizerHandle()}],constraints:this._initialConstraints};
this._resizableWidget=new Telerik.Web.UI.Widgets.Resizable(this.get_element(),O);
this._resizableWidget.add_resizing(a.proxy(this._onResizable,this));
this._resizableWidget.add_resizeEnd(a.proxy(this._onResizableEnd,this));
}}},_calcInitialConstraints:function(){var N=30;
var O=Math.max(a(this._view.zone("Left")).outerHeight(),a(this._view.zone("Right")).outerHeight());
var M=a(this._view.modulesContainer()).outerHeight()+a(this._view.modesRowContainer()).outerHeight()+a(this._view.toolBarContainer()).outerHeight();
return{minWidth:Math.ceil(a(this._element).innerWidth()),minHeight:Math.ceil(Math.max(O,M)+N)};
},_setSizingConstraints:function(){var O=this,P=O.get_element(),M=a(P),Q=O._resizableWidget;
if(Q){var N=this._initialConstraints||{minWidth:M.outerWidth(),minHeight:M.outerHeight()};
Q.set_constraints(N);
}},_removeCurrentResizeExtender:function(){if(this._resizeExtender){this._resizeExtender.dispose();
this._resizeExtender=null;
}},_getInvisibleParent:function(){return $telerik.getInvisibleParent(this.get_element());
},isVisible:function(){return(this._getInvisibleParent()==null);
},_fixIEVisibilityProblems:function(N){if(typeof(this.get_element().onpropertychange)=="undefined"){return;
}if(N){var M=this._getInvisibleParent();
if(M){this._onIEParentVisibilityChangeDelegate=Function.createDelegate(this,this._onIEParentVisibilityChange);
this._invisibleParent=M;
$telerik.addHandler(this._invisibleParent,"propertychange",this._onIEParentVisibilityChangeDelegate);
}}else{if(this._invisibleParent&&this._onIEParentVisibilityChangeDelegate){$telerik.removeHandler(this._invisibleParent,"propertychange",this._onIEParentVisibilityChangeDelegate);
this._onIEParentVisibilityChangeDelegate=null;
this._invisibleParent=null;
}}},_fixMozillaDOMProblems:function(O){var M=this.get_element();
if(M.onpropertychange||M.onpropertychange===null){return;
}if(O){var N=this._getInvisibleParent();
if(N){this._invisibleParent=N;
this._onMozillaParentVisibilityChangeDelegate=Function.createDelegate(this,this._onMozillaParentVisibilityChange);
N.addEventListener("DOMAttrModified",this._onMozillaParentVisibilityChangeDelegate,false);
}this._onMozillaParentNodeChangedDelegate=Function.createDelegate(this,this._onMozillaParentNodeChanged);
i.addEventListener("DOMNodeInserted",this._onMozillaParentNodeChangedDelegate,false);
}else{if(this._invisibleParent&&this._onMozillaParentVisibilityChangeDelegate){this._invisibleParent.removeEventListener("DOMAttrModified",this._onMozillaParentVisibilityChangeDelegate,false);
this._onMozillaParentVisibilityChangeDelegate=null;
this._invisibleParent=null;
}if(this._onMozillaParentNodeChangedDelegate){i.removeEventListener("DOMNodeInserted",this._onMozillaParentNodeChangedDelegate,false);
this._onMozillaParentNodeChangedDelegate=null;
}}},_onIEParentVisibilityChange:function(N){N=N.rawEvent;
if(!N){return;
}if(N.propertyName=="style.display"||N.propertyName=="className"){var M=$telerik.getCurrentStyle(this._invisibleParent,"display");
if(M!="none"){this.raiseEvent("firstShow");
this.onParentNodeChanged();
this._fixIEVisibilityProblems(false);
}}},_onMozillaParentVisibilityChange:function(M){if(M.attrName=="style"||M.attrName=="class"){var N=M.target;
if((M.currentTarget==M.target)&&"none"!=$telerik.getCurrentStyle(N,"display")){window.setTimeout(Function.createDelegate(this,function(){if(!this._editorFirstVisible){this._editorFirstVisible=true;
this.raiseEvent("firstShow");
this.onParentNodeChanged();
}if(this.get_mode()!=c.EditModes.Preview){this.set_editable(true);
}else{this.set_editable(false);
}}),0);
}}},_onMozillaParentNodeChanged:function(M){if(!M.target||!this.get_element()){return;
}var N=$telerik.isDescendantOrSelf(M.target,this.get_element());
if(N){if($telerik.isFirefox){this.onParentNodeChanged();
}else{window.setTimeout(Function.createDelegate(this,this.onParentNodeChanged),0);
}}},onParentNodeChanged:function(){var N=this.get_renderMode()===G.Mobile&&!this.isFullScreen();
if(this.get_contentAreaMode()!=c.EditorContentAreaMode.Iframe){return;
}this.whitespaceTracker.stopTracking();
this.nodesTracker.stopTracking();
this._hideSelectDeleteTableButtons();
var M=this.get_html(true);
this.get_contentAreaElement();
if(!N){var O=this.get_mode();
this.set_mode(O);
}this._initContentAreaHtml(M,true);
this.reAttachExternalEvents();
this.set_html(M,null,false,false);
this._enableFormElementsSelecting();
this._enableTextFieldsTyping();
this.whitespaceTracker.startTracking();
this.nodesTracker.startTracking();
if(N){this._attachEnterFullScreenMobileHandler(false);
this._initMobileEnterFullScreen();
}this._attachEmptyMessageDomEvents();
},onResizeStart:function(){var M=this.get_element();
this.resizeStartPosition={position:M.style.position,top:M.style.top,left:M.style.left};
this._resizeSelection=this.getSelection().getRange();
this._sizer.onResizeStart();
},onResizeEnd:function(){if(this.resizeStartPosition){var M=this.get_element();
$telerik.$(M).css({position:this.resizeStartPosition.position||"",top:this.resizeStartPosition.top||"",left:this.resizeStartPosition.left||""});
this.resizeStartPosition=null;
}this._sizer.onResizeEnd();
this.get_toolAdapter().repaint(true);
this.refreshContentZoom();
if(!this.isIE){return;
}this.setActive();
if(this._resizeSelection){var N=null;
if(this._resizeSelection.commonParentElement){N=this._resizeSelection.commonParentElement();
}else{if(this._resizeSelection.parentElement){N=this._resizeSelection.parentElement();
}}if(N&&(this.get_document()==N.ownerDocument)){this.getSelection().selectRange(this._resizeSelection);
}this._resizeSelection=null;
}},_onEditorResizing:function(){if(this._sizer&&this._sizer.onResizing){this._sizer.onResizing();
}},_onResizable:function(N,M){this._sizer.onResizing();
this.get_toolAdapter().repaint();
this.refreshContentZoom();
},_onResizableEnd:function(N,M){this.get_toolAdapter().repaint(true);
this.refreshContentZoom();
this._updateContentAreaWrapperPadding();
},_initializeLocalization:function(){this._localization=c.Localization.merge("RadEditor",this.get_language().toLowerCase(),this._localization);
},getSelectedElement:function(V){var P=this;
var O=P.get_contentArea();
var M;
if(P.get_renderMode()===G.Mobile){var S=a(O).find(".__reTextHighlight,.__reNodeHighlight");
if(S.length){var R=S.get(0);
var U=S.last().get(0);
return R===U?R:L.findCommonAncestor(R,U);
}}try{M=P.get_document().activeElement;
}catch(Q){}if(L.isTextElement(M)){return M;
}V=V||P.getDomRange();
if(!V){return null;
}var N=V.commonAncestorContainer;
if(N===O||a.contains(O,N)){var W=b.RangeEdges.commonNode(V);
var T=L.isTextNode(W);
return T||(V.isCollapsed()&&!T&&!L.canHaveChildren(W))?W.parentNode:W;
}},getSelection:function(){return new c.Editor.Selection(this.get_contentWindow());
},getSelectionHtml:function(){return this.getSelection().getHtml();
},getEditorSelectionRange:function(){var M=this.getSelection().getRange();
var N=this.getSelectedElement();
if(M!=null&&N!=null&&N.ownerDocument!=this.get_document()){M=null;
}return M;
},getDomRange:function(){var N=this,P=N.getSelection(),O=P.getRange(true),M=b.DomRange.toDomRange(O);
return M;
},collapseRange:function(N){var M=this.getDomRange();
M.collapse(N);
M.select();
},selectElement:function(M,N){if(c.Editor.Utils.selectElement(this.get_contentWindow(),M)&&false!=N){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},selectElementContents:function(Q,R){var P=this;
var U=P.getDomRange();
var N=P.get_document();
if(e.ie&&N.selection&&!N.getSelection){return this.selectElement(Q,R);
}try{U.selectNodeContents(Q);
U.select();
}catch(O){var M=U.commonAncestorContainer;
var V=function(X){return w(M,X);
};
if(V("table")){U.selectNode(Q);
}else{if(V("tr")||V("tbody")||V("thead")){var W=M.getElementsByTagName("td");
var S=W[0];
var T=W[W.length-1];
U.setStart(S,0);
U.setEnd(T,T.childNodes.length);
}}U.select();
}if(R!==false){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},containsRange:function(N){var M=this.get_contentArea();
return N&&L.isAncestorOrSelf(M,N.startContainer)&&L.isAncestorOrSelf(M,N.endContainer);
},undo:function(M){this._commandsManager.undo(M);
},redo:function(M){this._commandsManager.redo(M);
},executeCommand:function(O,P,M){var N=(this.get_renderMode()===G.Mobile);
if(!O.get_window()){O.set_window(this.get_contentWindow());
}if(false!=P&&!this.isOpera){this.setFocus();
}var Q=O.get_title();
if(N){this._executeCommandEvent("commandExecuting",Q);
}this._commandsManager.execute(O,M);
if(N){this._executeCommandEvent("commandExecuted",Q);
}},executeBrowserCommand:function(N,M,S,O){if((this.get_enableTrackChanges()||this.get_enableComments())&&N.indexOf("Justify")==0){var P=this.getSelection();
var Q=P.getParentElement();
if(Q){if(Q.getAttribute("Name")!=null){if(Q.getAttribute("Name").indexOf("_wp")==0){return;
}}}}var R=this.getLocalizedString(N);
this.executeCommand(new c.Editor.BrowserCommand(R,this.get_contentWindow(),N,S,this));
this.setActive();
this.setFocus();
if(true==O){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},createElement:function(S,Q,P,N,O,R){var M=this.get_document().createElement(S);
if(Q){M.style.width=Q;
}if(P){M.style.height=P;
}if(null!=N){M.id=N;
}if(null!=O){M.name=O;
}if(null!=R){M.value=R;
}return M;
},createRestorePoint:function(){var N=this;
var P=N.get_contentWindow();
var M=N.get_contentArea();
var O=new b.RestorePoint(P,M);
a.observable(O);
O.on({restored:N._onContentRestored},N);
return O;
},_onContentRestored:function(M){var N=this;
var Q=N.getDomRange();
N.findContent("div.rrHandle").remove();
var T=L.getAllChildNodesBy(N.get_contentArea(),function(V){return V.nodeType===3;
});
var U=N.nodesTracker;
var R=/^[\u00A0]$/;
var S=/[\u200b]/;
var P=function(V){return L.isTextNode(V)&&R.test(V.nodeValue)&&L.isSingleChild(V)&&!L.isTableCell(V.parentNode);
};
Array.forEach(T,function(V){if(S.test(V.nodeValue)){U.trackNode(V);
}else{if(P(V)){U.convertSingleNbspToTrackedZwsp(V);
}}});
var O=L.isZwspTextNode(Q.commonAncestorContainer);
U.update(Q,O);
if(!e.ie){Q.select();
}},getToolState:function(P,N){switch(P){case"Undo":return this.get_commandsManager().isUndoAvailable()?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
case"Redo":return this.get_commandsManager().isRedoAvailable()?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
case"FormatPainterApply":case"FormatPainterClear":return(this.get_currentFormatting())?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
case"MobileEdit":var O=this.get_toolAdapter();
if(O&&O.isEditEnabled){return O.isEditEnabled()?c.Editor.CommandStates.On:c.Editor.CommandStates.Off;
}else{return c.Editor.CommandStates.Off;
}break;
default:var M=c.Editor.UpdateCommandsArray[P];
if(M&&M.getState){return M.getState(this.get_contentWindow(),this,N);
}}},getToolValue:function(O,N){var M=c.Editor.UpdateCommandsArray[O];
if(M&&M.getValue){if(M.set_editor){M.set_editor(this);
}return M.getValue(this.get_contentWindow(),N);
}},_addFilters:function(){var M=this;
var N=this.get_filtersManager();
N.clear();
var O=this.usesContentFilter("ConvertToXhtml");
N.set_enableXhtmlFilter(O);
if(this.usesContentFilter("ConvertInlineStylesToAttributes")){N.add(new c.Editor.ConvertInlineStylesToAttributesFilter());
}else{if(O){N.add(new c.Editor.CleanAttributesFilter());
}}if($telerik.isFirefox){N.add(new c.Editor.MozillaRemoveLastBrFilter());
}M._addEnabledFilter("RemoveScripts",new c.Editor.StripScriptsFilter());
M._addEnabledFilter("EncodeScripts",new c.Editor.EncodeScriptsFilter());
M._addEnabledFilter("FixUlBoldItalic",new c.Editor.FixUlBoldItalic());
N.add(new c.Editor.FixNestedLists());
M._addEnabledFilter("StripCssExpressions",new c.Editor.StripCssExpressionsFilter());
M._addEnabledFilter("StripDomEventAttributes",new c.Editor.StripDomEventAttributesFilter());
M._addEnabledFilter("ConvertFontToSpan",new c.Editor.ConvertFontToSpanFilter());
M._addEnabledFilter("OptimizeSpans",new c.Editor.OptimizeSpans());
M._addEnabledFilter("FixEnclosingP",new c.Editor.FixEnclosingP());
M._addEnabledFilter("ConvertCharactersToEntities",new c.Editor.ConvertCharactersToEntities());
if($telerik.isIE){N.add(new c.Editor.IEKeepObjectDesignFilter());
N.add(new c.Editor.IEKeepObjectParamsFilter());
N.add(new c.Editor.IEKeepCommentsFilter());
N.add(new c.Editor.IEFixEmptyParagraphs());
M._addEnabledFilter("IECleanAnchors",new c.Editor.IECleanAnchorsFilter());
}if(!$telerik.isIE&&!$telerik.isOpera){if(!$telerik.isSafari){N.add(new c.Editor.MozillaKeepFlash(this.get_mozillaFlashOverlayImage()));
}else{N.add(new c.Editor.FixParagraphsWithSingleBrFilter());
}N.add(new c.Editor.MozillaKeepStylesString());
N.add(new c.Editor.MozillaKeepStylesDom());
M._addEnabledFilter("MozEmStrong",new c.Editor.MozEmStrongFilter());
}M._addEnabledFilter("ConvertTags",new c.Editor.ConvertTagsFilter());
if($telerik.isOpera||$telerik.isSafari||$telerik.isChrome||$telerik.isSpartan){N.add(new c.Editor.CleanResizableHandles());
}N.add(new c.Editor.CleanSelectDeleteTableButtons());
N.add(new c.Editor.StripJunkFilter());
M._addEnabledFilter("RemoveExtraBreaks",new c.Editor.RemoveExtraBreaks());
N.add(new b.MetaTagAttributesFilter());
M._addEnabledFilter("MakeUrlsAbsolute",new c.Editor.MakeUrlsAbsolute());
M._addEnabledFilter("IndentHTMLContent",new c.Editor.IndentHTMLContentFilter());
M._addEnabledFilter("PdfExportFilter",new c.Editor.PdfExportFilter());
},_addEnabledFilter:function(N,M){if(this.usesContentFilter(N)){this.get_filtersManager().add(M);
}},applyFiltersForEmbedContent:function(O){var P=O+"";
var M=this.get_filtersManager().getFilterByName("IEKeepObjectParamsFilter");
var N=this.get_filtersManager().getFilterByName("MozillaKeepFlash");
if(M){P=M.getDesignContent(P);
}if(N){var Q=this.get_document().createElement("div");
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(Q,P);
Q=N.getDesignContent(Q);
P=Q.innerHTML;
}return P;
},usesContentFilter:function(M){if(typeof(M)==="string"){M=c.EditorFilters[M];
}var N=M&&!!(this.get_contentFilters()&M);
return N;
},addShortCut:function(M,N){if(this._shortCutManager){this._shortCutManager.addShortCut(M,N);
}},removeShortCut:function(M){if(this._shortCutManager){this._shortCutManager.removeShortCut(M);
}},setShortCut:function(M,N){if(this._shortCutManager){this._shortCutManager.setShortCut(M,N);
}},_addDefaultShortCuts:function(){var N="CTRL",Q="F11",P="F10";
if(C&&C.mac){N="CMD";
Q=N+"+F11";
P=N+"+F10";
}var O=[["SelectAll",N+"+A"],["Copy",N+"+C"],["Paste",N+"+V"],["Cut",N+"+X"],["Bold",N+"+B"],["Italic",N+"+I"],["Underline",N+"+U"],["Copy",N+"+INS"],["Paste",N+"SHIFT+INS"],["ToggleScreenMode",Q],["LinkManager",N+"+K"],["ImageManager",N+"+G"],["SetToolFocus",P]];
if(this.get_enableUndoRedo()){O.push(["Undo",N+"+Z"]);
O.push(["Redo",N+"+Y"]);
}for(var M=0;
M<O.length;
M++){this.addShortCut(O[M][0],O[M][1]);
}if(this.isIE){this.addShortCut("InsertTab","TAB");
}else{this.addShortCut("InsertTabMozilla","TAB");
}this.addShortCut("InsertShiftTab","SHIFT+TAB");
this.addShortCut("EnterNewLine","ENTER");
if(this.get_newLineMode()==Telerik.Web.UI.EditorNewLineModes.Br){if(this.isIE){this.addShortCut("ShiftEnter","SHIFT+ENTER");
this.addShortCut("InsertParagraph",N+"+ENTER");
}else{if(this.isFirefox){this.addShortCut("EnterParagraphMozilla",N+"+ENTER");
}else{if($telerik.isSafari){this.addShortCut("InsertParagraphSafari",N+"+ENTER");
}}}}if($telerik.isSafari){this.addShortCut("ShiftEnterSafari","SHIFT+ENTER");
}},bubbleKeyEventToBrowser:function(){this._shortcutHit=false;
},attachEventHandler:function(M,N){this._attachCashableEvent(M,N,this._contentAreaExternalEventHandlers);
},attachInternalHandler:function(M,N){this._attachCashableEvent(M,N,this._contentAreaEventHandlers);
},_attachCashableEvent:function(N,O,M){if(N.startsWith("on")){N=N.replace("on","");
}this._attachExternalHandler(N,O);
if(!M[N]){M[N]=[];
}M[N].push(O);
},_attachExternalHandler:function(N,O){var M=this.get_contentAreaMode()==c.EditorContentAreaMode.Div?this.get_contentArea():this.get_document();
$telerik.addExternalHandler(M,N,O);
},reAttachExternalEvents:function(){var N=this._contentAreaExternalEventHandlers;
for(var M in N){var O=N[M];
for(var P=0;
P<O.length;
P++){this._attachExternalHandler(M,O[P]);
}}},detachEventHandler:function(N,O){if(N.startsWith("on")){N=N.replace("on","");
}var M=this.get_contentAreaMode()==c.EditorContentAreaMode.Div?this.get_contentArea():this.get_document();
$telerik.removeExternalHandler(M,N,O);
},_getContentElement:function(){var N=this;
if(N.get_contentAreaMode()==m.Div){return N.get_contentArea();
}else{var M=N.get_document();
return M.documentElement||M;
}},_disposeEvents:function(){var N=this;
var M=a(N._getContentElement());
this._detachCashableEvents(this._contentAreaExternalEventHandlers);
this._contentAreaExternalEventHandlers={};
this._detachEvents();
M.offEvent(p.Down+k);
M.offEvent(p.Up+k);
M.offEvent(p.Down+l);
M.offEvent(p.Up+l);
},_detachEvents:function(){this._detachCashableEvents(this._contentAreaEventHandlers);
this._contentAreaEventHandlers={};
this._attachBodyHandlers(false);
},_detachCashableEvents:function(N){for(var P in N){var M=N[P];
if(M.length!=null){for(var R=0;
R<M.length;
R++){var Q=M[R];
if(typeof(Q)=="function"){try{this.detachEventHandler(P,Q);
}catch(O){}}}}}},get_TopZone:function(){return $get(this.get_id()+"Top");
},_createTools:function(){var M=this;
if(!M._onToolClickDelegate){M._onToolClickDelegate=Function.createDelegate(M,M._onToolClick);
}M._createHeaderTools();
if(!M.get_toolAdapter()){var O=M.get_toolContainer();
var N=eval(M.get_toolAdapterType());
M.set_toolAdapter($create(N,{editor:M,toolJSON:M.get_toolJSON(),contentAreaMode:M.get_contentAreaMode()},{toolClick:M._onToolClickDelegate},null,O));
}},_createHeaderTools:function(){var O=this;
if(!O.get_headerToolsToolAdapter()){var P=O.get_headerToolsJSON();
if(P.length){var M=eval(O.get_headerToolsToolAdapterType());
var N={editor:O,headerToolsJSON:P};
var Q={toolClick:O._onToolClickDelegate};
O.set_headerToolsToolAdapter($create(M,N,Q,null,O.get_headerToolsContainer()));
}}},_onToolClick:function(N,M){if((this.get_enableTrackChanges()||this.get_enableComments())&&N._name=="Cut"&&M._commandName=="Cut"){if(!this._canEditSelection()){alert(this.get_localization()["caneditselection"]);
return false;
}}this.fire(N.get_name(),M);
},getContextMenuByTagName:function(M){var N=this.get_toolAdapter();
if(N&&N.getContextMenuByTagName){return N.getContextMenuByTagName(M);
}},updateTools:function(M,N){if(M&&M.get_tools){Array.forEach(M.get_tools(),function(O){N(O);
});
}},getToolByName:function(N){var M=this;
return M._getTool(M.get_toolAdapter(),N);
},getHeaderToolByName:function(N){var M=this;
return M._getTool(M.get_headerToolsToolAdapter(),N);
},_getTool:function(M,N){if(M&&M.getToolByName){return M.getToolByName(N);
}return null;
},getLocalizedString:function(N,M){if(!N){return M;
}var O=this.get_localization()[N];
if(null==O){O=this.get_localization()[N.toLowerCase()];
}return O;
},zoomContent:function(N){var M=this.get_contentArea();
var P=M.style;
var O=P.zoom=N||"100%";
if((e.ff||e.operaPresto)&&O.indexOf("%")!=-1){O=parseInt(O,10)/100;
}if(e.ff){P.MozTransform=(O==1)?"":String.format("translate({0}px, {1}px) scale({2})",M.offsetWidth*((O-1)/2),M.offsetHeight*((O-1)/2),O);
}if(e.operaPresto){var Q=(O==1)?"":String.format("translate({0}px, {1}px) scale({2})",M.offsetWidth*((O-1)/2.04),M.offsetHeight*((O-1)),O);
P.OTransform=Q;
}},refreshContentZoom:function(){var M=this.get_contentArea().style.zoom;
this.zoomContent(M);
},setFocus:function(){var P=this;
var S=P._renderMode==c.RenderMode.Mobile;
var R=P.get_mode()==c.EditModes.Html;
var Q=P.get_contentAreaMode()==c.EditorContentAreaMode.Div;
if(S&&!R){return;
}try{if($telerik.isIE&&P.getSelection().isControl()&&!P._isInInlineEditMode()){return;
}var N=R?P.get_textArea():P.get_contentWindow();
if(Q){N=P.get_contentArea();
}if(N&&N.focus){if($telerik.isIE){var M=P.get_document().activeElement;
if(M&&M==N){return;
}}if(!P._isInInlineEditMode()&&!(N==P.get_textArea()&&!N.offsetHeight)){if(e.edge){if(!R){N=P.get_contentArea();
}if(N.setActive){N.setActive();
}else{N.focus();
}}else{N.focus();
}}}}catch(O){}},focusFirstText:function(){var M=this.domRangeToFirstText();
M.select();
},domRangeToFirstText:function(){var N=this;
var M=N.get_contentArea();
var O=M.children.length?L.firstTextChild(M.children[0]):L.firstTextChild(M);
var P=b.DomRange.createRange(N.get_document());
P.setStart(O,0);
P.setEnd(O,0);
return P;
},setActive:function(){if(this._emptyMessageContainer){this._hideEmptyMessage();
}if($telerik.isIE&&this.getSelection().isControl()){return;
}var M=this._getCurrentArea();
if(M&&M.setActive&&M.isContentEditable!==false){M.setActive();
}},setActiveIfElementIsNotInContent:function(){if(this._emptyMessageContainer){this._hideEmptyMessage();
}if($telerik.isIE&&this.getSelection().isControl()){return;
}var O=this._getCurrentArea();
var M=this.get_document().activeElement;
var N=L.isAncestorOf(O,M);
if(O&&O.setActive&&!N&&O.isContentEditable!==false){O.setActive();
}},_getCurrentArea:function(){var M=this;
return M.get_mode()==c.EditModes.Html?M.get_textArea():M.get_contentArea();
},set_visible:function(N){var M=this.get_element();
if(M){M.style.display=N?"":"none";
}this.set_editable(N);
},enableEditing:function(P,N,T){var M=this.get_toolAdapter();
var O=function(){};
if(!N){N=c.EditingOptions.All;
}this._editingOptions=N;
this._optionalIgnoredTools=T;
if(this.usesEditingOption("ContextMenus")){if(M){M.enableContextMenus(P);
}}if(this.usesEditingOption("EditModes")){if(!P){this._originalEditModeRef=this.set_mode;
this.set_mode=O;
}else{if(this._originalEditModeRef){this.set_mode=this._originalEditModeRef;
this._originalEditModeRef=null;
}}}if(this.usesEditingOption("Tools")){if(M){if(!P){M.setToolState(null,c.Editor.CommandStates.Disabled);
if(T){var Q=[];
for(var R in T){var U=M.getToolByName(R);
if(U){Q[Q.length]=U;
}}M.setToolState(Q);
}this._originalSetToolStateRef=M.setToolState;
M.setToolState=O;
}else{if(this._originalSetToolStateRef){M.setToolState=this._originalSetToolStateRef;
this._originalSetToolStateRef=null;
}}}}if(this.usesEditingOption("Modules")){var S=this._modulesManager;
if(S){S.setModulesVisible(P);
}}if(this.usesEditingOption("Typing")){if(!P){this._disableTypingDelegate=$telerik.cancelRawEvent;
this.attachInternalHandler("keypress",this._disableTypingDelegate);
}else{if(this._disableTypingDelegate){this.detachEventHandler("keypress",this._disableTypingDelegate);
this._disableTypingDelegate=null;
}}}if(this.usesEditingOption("Tab")){if(!P){this.removeShortCut("InsertTab");
}else{this.setShortCut("InsertTab","TAB");
}}if(P){if(M){M.setToolState(null,c.Editor.CommandStates.Off);
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},usesEditingOption:function(M){if(typeof(M)==="string"){M=c.EditingOptions[M];
}return M&&!!(M&this._editingOptions);
},set_editable:function(M){var O=this;
if(e.ie||e.operaPresto||this.get_contentAreaMode()==c.EditorContentAreaMode.Div){window.setTimeout(function(){try{O.get_contentArea().setAttribute("contentEditable",""+M);
if(e.ie){O.get_document().execCommand("2D-Position",false,true);
}}catch(P){}},0);
}else{var N=function(){try{O.get_document()["designMode"]=M?"on":"off";
if(M){O.get_document().execCommand("UseCSS",false,true);
O.get_document().execCommand("styleWithCSS",false,false);
}}catch(P){}};
N();
}},get_editable:function(){if(e.ie||e.operaPresto||this.get_contentAreaMode()==c.EditorContentAreaMode.Div){var M=this.get_contentArea().getAttribute("contentEditable",2);
return typeof M==="boolean"?M:M=="true";
}else{return(this.get_document()["designMode"]=="on");
}},enableContentArea:function(M){if(this.isIE){this.get_contentArea().setAttribute("contentEditable",""+M);
}},showExternalDialog:function(Z,M,aa,S,P,O,Y,T,N,V,W,Q){var U=this.getDomRange();
var R=this;
var X=function(ac,ab){window.setTimeout(function(){if(U){try{U.select();
}catch(ad){}}if(P&&ab!=null){var ae=P(ac,ab);
if(false==ae){return;
}R.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}R.setFocus();
},50);
};
this.get_dialogOpener().openUrl(Z,M,aa,S,X,O,Y,T,N,V,W,Q);
},showDialog:function(O,M,N){var R=this.getDomRange();
var Q=this;
var T=function(X,W){window.setTimeout(function(){if(Q.containsRange(R)&&O!="FindAndReplace"){try{R.select();
}catch(Y){}}if(N&&W!=null){var Z=N(X,W);
if(false==Z){return;
}Q.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}Q.setFocus();
},50);
};
if(e.iemobile){var U=this.get_toolAdapter();
if(U.hideKeyboard){U.hideKeyboard();
}}var P=this.get_dialogOpener();
if(O=="InsertLink"||O=="InsertImage"||O=="InsertTableLight"){var S=this.get_skin();
if(S=="Bootstrap"||S=="Material"){M.height=280;
M.width=390;
M.stripPopupHeight=true;
}if(S=="Glow"||S=="Silk"){M.height=230;
M.width=370;
M.stripPopupHeight=true;
}if(this.get_isSkinTouch()){M.height=287;
M.width=386;
}P.openLight(O,M,T);
}else{P.open(O,M,T);
}if(this.isIE){var V=this.get_dialogOpener()._getDialogContainer(O);
if(!V||V._DRAG_ATTACHED){return;
}V._DRAG_ATTACHED=true;
V.add_dragEnd(function(){if(R){try{R.select();
}catch(W){}}});
}},_getModeButtonsWrapper:function(){return this._view?this._view.modeButtonsContainer():null;
},_registerModeChangeHandler:function(M){var N=this._getModeButtonsWrapper();
if(!N){return;
}if(M){this._onModeButtonClickDelegate=Function.createDelegate(this,this._onModeButtonClick);
$addHandler(N,"click",this._onModeButtonClickDelegate);
}else{if(this._onModeButtonClickDelegate){$removeHandler(N,"click",this._onModeButtonClickDelegate);
this._onModeButtonClickDelegate=null;
}}},_onModeButtonClick:function(M){var N=this._view.getModeFromEvent(M)||this.get_mode();
if(N!=this.get_mode()){this.set_mode(N);
}return $telerik.cancelRawEvent(M);
},_changeModeUI:function(M){this._view.changeMode(M);
},_isEditModeEnabled:function(M){return M&this.get_editModes()?true:false;
},get_mode:function(){return this._mode;
},set_mode:function(Q){if(!this.validateMaxHtmlLength()){this.displayMaxHtmlLengthErrorMessage();
return false;
}if(!this.validateMaxTextLength()){this.displayMaxTextLengthErrorMessage();
return false;
}this._setEditableDelegate=Function.createDelegate(this,function(){if(this._setEditableDelegate){this.remove_editReady(this._setEditableDelegate);
var R=(this._mode==N.Design);
this.set_editable(R);
this.toggleEnhancedEdit(R);
this._setEditableDelegate=null;
}});
this.add_editReady(this._setEditableDelegate);
var P=this._mode;
var N=c.EditModes;
if(Q!=N.Design&&this._emptyMessageContainer){this._hideEmptyMessage();
}this.whitespaceTracker.reset();
this.nodesTracker.reset();
this._hideSelectDeleteTableButtons();
if(Q==N.Preview&&P!=N.Html){L.setTargetsForPreview(this);
}else{if(P==N.Preview){L.restoreTargetsAfterPreview(this);
}}if(P==N.Html||Q==N.Html){if(Q==N.Html&&this.get_enableImmutableElements()){L.replaceImmutableElements(this);
}var O=this.get_html(true);
this._mode=Q;
this._showTextArea(this._mode==N.Html);
this.set_html(O);
if(Q==N.Preview){L.setTargetsForPreview(this);
}if(Q!=N.Html&&this.get_enableImmutableElements()){L.restoreImmutableElements(this);
}}else{this._mode=Q;
this._showTextArea(this._mode==N.Html);
}this._changeModeUI(Q);
if(this._mode!=N.Preview){this.setFocus();
if(!(this.isFirefox&&(!this.get_document()||!this.get_contentArea()))){this.set_editable(true);
}if(this._mode==N.Design){this.toggleEnhancedEdit(true);
}}else{this.set_editable(false);
this.toggleEnhancedEdit(false);
}if(Q==N.Design&&$telerik.isFirefox){this.get_contentAreaElement().blur();
}else{this.setFocus();
}var M=this.get_contentAreaElement();
if(L.isTag(M,"iframe")){a(M)[this._mode==N.Html?"addClass":"removeClass"]("reHtmlMode");
}this.raiseEvent("modeChange",Sys.EventArgs.Empty);
if(this._sizer){this._sizer.modeChanged(Q);
}if(this._resizableWidget){this._setSizingConstraints();
}if(Q==N.Html){this.setFocus();
}},get_enableImmutableElements:function(){return this._enableImmutableElements;
},set_enableImmutableElements:function(O){var N=this._enableImmutableElements;
O=!!O;
if(N==O){return;
}if(!this.get_contentArea||!this.get_contentArea()){this._enableImmutableElements=O;
return;
}if(O){this._enableImmutableElements=O;
this._initializeImmutableElements();
}else{if(this._immutableElements){var M=this;
c.Editor.Utils.getImmutableElements(M).each(function(Q,P){M.removeNodeImmutability(P);
});
this._enableImmutableElements=O;
}}},_getHtmlModeTextarea:function(){var O=this;
if(!O._htmlModeTextarea){var N=O.get_contentAreaElement();
var P=O._htmlModeTextarea=N.ownerDocument.createElement("textarea");
var M=a(P);
M.addClass("reTextArea reTextAreaHidden").appendTo(N.parentNode);
if(this.get_renderMode()==c.RenderMode.Mobile){M.addClass("t-flex");
}}return O._htmlModeTextarea;
},get_textArea:function(){return this._getHtmlModeTextarea();
},_showTextArea:function(Q){var N=this;
var M=N.get_contentAreaElement();
var O=N._getHtmlModeTextarea();
var P=N.get_contentAreaMode()==c.EditorContentAreaMode.Div;
if(Q){var R=N._sizer;
if(($telerik.isSafari||$telerik.isIE9)&&!P){N.hideViewElement(M);
}else{R.hideDesignViewElement(M);
}a(O).removeClass("reTextAreaHidden");
}else{if(($telerik.isSafari||$telerik.isIE9)&&!P){N.showViewElement(M);
}else{M.style.display="";
}a(O).addClass("reTextAreaHidden");
}if(N._isInInlineEditMode()){N._setShowToolbarHandlerToHiddenTextArea(O,Q);
}},_setShowToolbarHandlerToHiddenTextArea:function(N,O){var M=this;
if(N){if(O){M._onHiddenTextAreaFocusDelegate=D(M._onHiddenTextAreaFocus,M);
a(N).onEvent(q,M._onHiddenTextAreaFocusDelegate);
}else{a(N).offEvent(q,M._onHiddenTextAreaFocusDelegate);
M._onHiddenTextAreaFocusDelegate=null;
}}},_onHiddenTextAreaFocus:function(M){var N=this;
var O=N.get_toolAdapter();
M.stopPropagation();
O._showToolbarHolder(true);
N._addInlineEditorSelectedStyles();
},hideViewElement:function(M){M.style.width="0px";
M.style.height="0px";
},showViewElement:function(M){M.style.width="100%";
M.style.height="2px";
},_setContentAsText:function(N){var M=this.get_textArea();
if(M){M.value=N;
}},_getContentAsText:function(){var M=this.get_textArea();
if(M&&M.value){var N=M.value;
if(Telerik.Web.Browser.ie&&this.get_filtersManager().getFilterByName("StripDomEventAttributesFilter")){N=N.replace(/<([^>]+)>/gmi,function(O){return O.replace(/(onerror|onload)/gi,"onclick");
});
}return N;
}return"";
},set_html:function(N,R,Q,P){var O=c.EditModes;
if(this.get_mode()!=O.Html){var M=new c.Editor.GenericCommand(R?R:"Set HTML",this.get_contentWindow(),this);
this._initContentAreaHtml(N);
this.executeCommand(M,Q);
if(false!=P){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}if(this.get_emptyMessage()&&(!N||N.trim().length==0)&&this.get_mode()==O.Design){this._setEmptyMessage();
c.Editor.CommandList.SetToolFocus("SetToolFocus",this,null);
}}else{this._setContentAsText(N);
}},get_html:function(Z,ah){var S=null;
var P="";
var M;
var U=this;
var ai=U.whitespaceTracker;
var af=U.nodesTracker;
var ad=U.get_mode();
var ae=c.EditModes;
var aa=U.get_fullPage();
var T=U.get_document();
var V=U.get_enableImmutableElements();
var W=U.get_filtersManager();
if(ad==ae.Preview){L.restoreTargetsAfterPreview(U);
ai.reset();
af.reset();
}if(ad==ae.Html){var X=U._getContentAsText();
X=U._cleanZeroWidthSpace?X.replace(E,""):X;
return Z?U._filterContent(X):X;
}if(V){M=L.getImmutableElements(U);
if(M.length){if(!U._immutableElements){U._initializeImmutableElements();
}L.replaceImmutableElements(U);
}}ai.removeZeroWidthNodes();
af.removeZeroWidthNodes();
if(aa){if(T){S=T.getElementsByTagName("HTML")[0];
S=L.cloneNodeWithChildren(S);
var N=U._getAllSheets(S);
for(var Y=0;
Y<N.length;
Y++){var ab=N[Y];
var ac=ab.getAttribute("id");
if(ac&&ac.indexOf("RADEDITORSTYLESHEET")==0){ab.parentNode.removeChild(ab);
}}if(e.ie||$telerik.isOpera){var O=S.getElementsByTagName("BODY")[0];
O.removeAttribute("contentEditable");
}}}else{var Q=U.get_contentArea();
if(e.edge){var R=i.createElement("body");
L.setElementInnerHtml(R,Q.innerHTML);
S=Z&&Q?R:Q;
}else{S=Z&&Q?L.cloneNodeWithChildren(Q):Q;
}}if(S){if(ah&&(c.EditorStripHtmlOptions&&ah)==c.EditorStripHtmlOptions.Comments){var ag=new c.Editor.StripCommentsFilter();
S=ag.getHtmlContent(S);
}if(Z){P=W.getHtmlContent(S);
}else{P=aa?$telerik.getOuterHtml(S):S.innerHTML;
}af.restoreZeroWidthNodes();
ai.restoreZeroWidthNodes();
}if(aa&&U._doctypeString){P=U._doctypeString+"\n"+P;
}if(V&&M&&M.length){P=L.setImmutablesHtml(P,U);
L.restoreImmutableElements(U);
}P=U._cleanZeroWidthSpace?P.replace(E,""):P;
P=Z?P.trim():P;
return P;
},_filterContent:function(S){var Q=this;
var V=Q._isFullPage(S);
Q.set_fullPage(V);
if(V){Q._doctypeString=Q._extractDoctype(S);
}var R=this.get_filtersManager();
S=R.getDesignContent(S);
var N=Q.get_contentAreaElement();
var P=N.ownerDocument;
if(V){var T=P.createElement("iframe");
var M=a(T).insertAfter(N).hide();
var U=T.contentWindow.document;
U.open();
U.write(S);
U.close();
S=R.getHtmlContent(U.body.parentNode);
S=Q._doctypeString+"\n"+S;
M.remove();
}else{var O=P.createElement("div");
L.setElementInnerHtml(O,S);
a(O).addClass("reContentArea");
S=R.getHtmlContent(O);
}return S.trim();
},_isFullPage:function(M){return M&&M.toLowerCase().indexOf("<html")!=-1;
},set_initialContent:function(M){if(M!=null){this._initialContent=M;
}else{this._initialContent=this.get_html(true);
}},get_initialContent:function(){return this._initialContent;
},get_text:function(Q){var N=this;
var O="";
var P=N.get_mode()==c.EditModes.Html;
var M=P?N.get_textArea():N.get_contentArea();
if(M){O=M[P?"value":"innerHTML"];
}var R=b.Utils._stripAllExceptNewLines(N,O);
R=R.replace(/<\/?[^>]*>/ig,"\n");
R=L._convertEntitiesToCharacters(R);
if(Q){if(Q.trimText){R=R.replace(/(^\s+)|(\s+$)/g,"");
}if(Q.removeMultipleSpaces){R=R.replace(/ +/g," ");
}}return R;
},_getUniqueStyleSheetId:function(M){return"RADEDITORSTYLESHEET"+M;
},_getAllSheets:function(O){if(!O){alert(this.get_localization()["getallsheetscalledwithnodocumenterror"]);
}var N=O.getElementsByTagName("link");
var Q=O.getElementsByTagName("style");
var M=[];
var R;
for(R=0;
N[R];
R++){var P=N[R].rel?N[R].rel:N[R].getAttribute("rel");
if(typeof(P)=="string"&&P.toLowerCase().indexOf("style")+1){Array.add(M,N[R]);
}}for(R=0;
Q[R];
R++){Array.add(M,Q[R]);
}return M;
},_getClassName:function(O){var P=O&&O.selectorText?O.selectorText:"";
var N=P.lastIndexOf(".");
if(N==-1){return"";
}var M=P.indexOf(" ",N);
if(-1==M){M=P.indexOf(":",N);
}if(-1==M){M=P.length;
}return P.substring((N+1),M);
},_createCssFilterObject:function(){if(this._cssClassesHash){return;
}var M=this.get_cssClasses();
if(M&&M.length>0){var P={};
var O=M.length;
for(var N=0;
N<O;
N++){var Q=M[N][0];
var R=M[N][1];
P[Q.replace(/(.*?)\./ig,function(S){return S.toUpperCase();
})]=R;
}this._cssClassesHash=P;
}},_getFilteredCssClasses:function(P){this._createCssFilterObject();
if(P&&this._cssClassesHash){var M=[];
var O=P.length;
for(var N=0;
N<O;
N++){var R=P[N];
var Q=this._checkCssFilter(R[1].selectorText);
if(Q){R[2]=Q;
M[M.length]=R;
}}return M;
}else{return P;
}},_checkCssFilter:function(M){if(!M||!this._cssClassesHash){return null;
}return this._cssClassesHash[M.replace(/(.*?)\./ig,function(N){return N.toUpperCase();
})];
},getCssArray:function(R){var P=this.get_document();
var O=[];
for(var N=0;
N<P.styleSheets.length;
N++){var Q=P.styleSheets[N];
try{this._getStyleSheetRules(O,Q,R);
}catch(M){}}O=this._getFilteredCssClasses(O);
return O;
},_getStyleSheetRules:function(Q,Y,Z){var O=Y.href;
if(O&&O.indexOf("WebResource.axd?")>-1){return;
}if(O&&O.indexOf(this.get_contentAreaCssFile())>-1){return;
}if($telerik.isIE&&Y.imports){for(var S=0;
S<Y.imports.length;
S++){this._getStyleSheetRules(Q,Y.imports[S],Z);
}}var M;
try{M=(Y.rules)?Y.rules:Y.cssRules;
}catch(P){return;
}var N=M&&M.length?M.length:0;
for(var R=0;
R<N;
R++){var V=M[R];
if(V&&V.cssText){var aa=V.cssText.toLowerCase();
if(aa.indexOf("@import")>=0&&V.parentStyleSheet&&V.styleSheet&&V.parentStyleSheet!=V.styleSheet){this._getStyleSheetRules(Q,V.styleSheet,Z);
continue;
}}var X=V&&V.selectorText?V.selectorText:"";
var T=X.lastIndexOf(".");
if(T<0){continue;
}T=X.lastIndexOf(":");
if(T>0){continue;
}var W=V.selectorText.split(".")[0];
if(Z&&W&&W!==""&&W.toLowerCase()!==Z.toLowerCase()){continue;
}var U=this._getClassName(V);
if(U!="reContentArea"){Q[Q.length]=[U,V];
}}},copyStyleSheets:function(aa,ad){if(null==aa&&null==ad){return;
}var N=0;
var ae=null;
if(ad.styleSheets.length==0){if(ad.createStyleSheet){ad.createStyleSheet();
}else{var O=ad.createElement("style");
O.media="all";
O.type="text/css";
var W=ad.getElementsByTagName("head")[0];
W.appendChild(O);
ae=O;
}}if(ad.styleSheets[0]){ae=ad.styleSheets[0];
}for(var R=0;
R<aa.styleSheets.length;
R++){try{var ab=aa.styleSheets[R];
var P=ab.href;
var U=false;
if($telerik.isFirefox){if(ab.ownerNode&&ab.ownerNode.tagName.toLowerCase()=="style"){U=true;
}}if(P&&!U){continue;
}if(ab.media){var T=ab.media;
if(T.mediaText!=null){T=T.mediaText;
}if(T&&T!="all"&&T!="screen"){continue;
}}var M=(ab.rules)?ab.rules:ab.cssRules;
for(var S=0;
S<M.length;
S++){var Y=M[S];
if(ae.addRule){var Z=Y.selectorText;
var V=Y.style.cssText;
if(V&&Z){ae.addRule(Z,V,N);
}}else{if(ae.insertRule){ae.insertRule(Y.cssText,N);
}else{var ac=Y.selectorText+"{"+Y.style.cssText+"}";
var X=ad.createTextNode(ac);
ae.appendChild(X);
}}N++;
}}catch(Q){}}},_contentAreaCommonInitialization:function(){var M=c.Editor.PopupController;
if(M){M.detachFromDocument(this.get_document());
M.attachToDocument(this.get_document());
}this._initEvents();
if(this.isVisible()){this.raiseEvent("firstShow");
}if(this.get_mode()!=c.EditModes.Preview){this.set_editable(true);
}else{this.set_editable(false);
}this.toggleEnhancedEdit(true);
if(this.get_document()&&this.get_contentArea()){this.raiseEvent("editReady",Sys.EventArgs.Empty);
}this._divContentAreaInitialized=true;
},_contentFrameLoadFunction:function(){this._execLoadFunctionSecondTime=false;
try{this.set_document(this.get_contentAreaElement().contentWindow.document);
this.set_contentWindow(this.get_contentAreaElement().contentWindow);
var M=this.get_document().body;
this.set_contentArea(M);
this.get_filtersManager().getDesignContentDom(M);
var T=0;
c.Editor.Utils.addStyleSheet(this.get_contentAreaCssFile(),this.get_document(),this._getUniqueStyleSheetId(T++));
var V=this.get_tableLayoutCssFile();
if(V){c.Editor.Utils.addStyleSheet(V,this.get_document(),this._getUniqueStyleSheetId(T++));
}var N=this.get_cssFiles(),Q,U;
if(N.length>0){for(Q=0;
Q<N.length;
Q++){U=this._getUniqueStyleSheetId(T++);
c.Editor.Utils.addStyleSheet(N[Q],this.get_document(),U);
}}else{if(!this.get_fullPage()){this.copyStyleSheets(i,this.get_document());
var S=this._getAllSheets(i);
for(Q=0;
Q<S.length;
Q++){U=this._getUniqueStyleSheetId(T++);
var R=S[Q];
if(R.tagName=="LINK"){var O=R.href;
if(!O||O.indexOf("WebResource.axd?")>-1){continue;
}if(R.rel&&R.rel.toLowerCase()!="stylesheet"){continue;
}if(R.media&&R.media!="all"&&R.media!="screen"){continue;
}if(/aspnet-skins.telerikstatic.com/i.test(O)){continue;
}c.Editor.Utils.addStyleSheet(R.getAttribute("href"),this.get_document(),U);
}}}}this._contentAreaCommonInitialization();
}catch(P){}},_extractDoctype:function(M){var N=new RegExp("(<!DOCTYPE[^>]+>)","g");
var O=M.match(N);
return O?O[0]:"";
},_setEmptyMessage:function(M){if(this.get_mode()!=c.EditModes.Design){return;
}if(M!=null&&!this._isEmptyContent()){return;
}var P=this.get_emptyMessage();
if(P){if(!this._emptyMessageContainer){var O=this._emptyMessageContainer=i.createElement("div");
var N=this.get_contentAreaElement();
N.parentNode.insertBefore(O,N);
O.style.zIndex=N.style.zIndex+1;
O.style.position="absolute";
$telerik.addCssClasses(O,["reEmptyMessage"]);
if($telerik.isIE&&!$telerik.isIE9Mode){O.style.filter="alpha(opacity=40)";
}else{O.style.opacity="0.4";
}L.setElementInnerHtml(O,P);
this.add_selectionChange(Function.createDelegate(this,this._hideEmptyMessageOnSelectionChange));
this._attachEmptyMessageDomEvents();
}else{this._emptyMessageContainer.style.display="";
}}},_isEmptyContent:function(){var M=this.get_contentArea().innerHTML;
M=M.trim().toLowerCase();
if(M&&!/^<br\s?\/?>$/.test(M)&&M!="<p>&nbsp;</p>"&&!/^[\u200b]+$/.test(M)){return false;
}return true;
},_attachEmptyMessageDomEvents:function(){var O=this;
var P=O._emptyMessageContainer;
if(!O.get_emptyMessage()||!P){return;
}O._hideEmptyMessageDelegate=O._hideEmptyMessageDelegate||h(O,O._hideEmptyMessageOnMouseDown);
O._setEmptyMessageDelegate=O._setEmptyMessageDelegate||h(O,O._setEmptyMessage);
var N=O.get_contentAreaElement();
var Q="mousedown"+j;
var M="blur"+j;
a(P).off(Q).on(Q,O._hideEmptyMessageDelegate);
if(!e.ie&&w(N,"iframe")){window.setTimeout(function(){var R=e.ff?O.get_document():O.get_contentArea();
a(R).off(M).on(M,O._setEmptyMessageDelegate);
},100);
}else{a(N).off(M).on(M,O._setEmptyMessageDelegate);
}},_hideEmptyMessageOnSelectionChange:function(M){this._hideEmptyMessage();
},_hideEmptyMessageOnMouseDown:function(M){var N=this;
if(N._emptyMessageContainer){M=M.rawEvent||M.originalEvent||M;
$telerik.preventDefault(M);
N.raiseEvent("selectionChange",Sys.EventArgs.Empty);
setTimeout(function(){N.setFocus();
},0);
return false;
}},_hideEmptyMessage:function(){this._emptyMessageContainer.style.display="none";
},_initContentAreaHtml:function(P,O){if(!P||P.trim().length==0){this._setEmptyMessage();
}var Q=this.get_filtersManager().getDesignContent(P);
var R=null;
if(this._isFullPage(Q)){this.set_fullPage(true);
R=Q;
this._doctypeString=this._extractDoctype(R);
}else{this.set_fullPage(false);
}if(this.get_fullPage()&&this.get_contentAreaMode()==c.EditorContentAreaMode.Div){alert(this.get_localization()["settoiframeforfullhtmlerror"]);
Q=L.stripHtmlHeadBodyTags(Q);
this.set_fullPage(false);
}Q=this._markExistingEmptyParagraphs(Q);
if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){this.set_contentArea(this.get_contentAreaElement());
var M=this.get_contentArea();
this.set_document(M.ownerDocument);
this.set_contentWindow(window);
if(Q.match(/<form[\s>]/i)){alert(this.get_localization()["formelementsaresupportedbyiframeerror"]);
Q="";
}this._setContentAreaHtml(M,Q);
if(!this._divContentAreaInitialized){this._contentAreaCommonInitialization();
}}else{if(R||O){this._recreateIframe(R,Q);
}else{this._setContentAreaHtml(this.get_contentArea(),Q);
}}var N=this._checkForBrokenParagraphs();
if(N){this._fixBrokenParagraphs(Q);
}},_recreateIframe:function(S,Q){S=S||($telerik.isSafari?"<!DOCTYPE html><html><head><style></style></head><body></body></html>":"<head><style></style></head><body"+($telerik.isOpera?" style='height:100%'":"")+"></body>");
var P=this;
var M=P.get_contentAreaElement();
if($telerik.isFirefox){var R=Function.createDelegate(P,function(){if(this._execLoadFunctionSecondTime){this._setContentAreaHtml(this.get_contentArea(),Q);
this._contentFrameLoadFunction();
}});
$addHandler(M,"load",R);
}try{var N=M.contentWindow.document;
N.open();
N.write(S);
N.close();
P._execLoadFunctionSecondTime=false;
if(N.body){L.setElementInnerHtml(N.body,L.stripHtmlHeadBodyTags(Q));
P._contentFrameLoadFunction();
}else{P._execLoadFunctionSecondTime=true;
}}catch(O){}},_setContentAreaHtml:function(M,N){L.setElementInnerHtml(M,N);
this.get_filtersManager().getDesignContentDom(M);
},_markExistingEmptyParagraphs:function(M){var N=M+"";
N=N.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,'<p$1 _rdEditor_exists="1">&nbsp;</p>');
return N;
},_checkForBrokenParagraphs:function(){var P=false;
var O=this.get_contentArea().getElementsByTagName("p");
for(var M=O.length-1;
M>=0;
M--){var N=O[M];
if(!N.hasChildNodes()){if(!N.getAttribute("_rdEditor_exists")){P=true;
}}N.removeAttribute("_rdEditor_exists");
}return P;
},_fixBrokenParagraphs:function(M){if(this.get_contentAreaMode()!=c.EditorContentAreaMode.Div){M=Telerik.Web.UI.Editor.Utils.stripHtmlHeadBodyTags(M);
}var N=this.get_contentArea();
M=M.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _rdEditor_temp="1">');
M=M.replace(/<\/p>/gi,"</div>");
c.Editor.Utils.setElementInnerHtml(N,M);
var R=N.getElementsByTagName("DIV");
for(var O=R.length-1;
O>=0;
O--){var Q=R[O];
if(Q.getAttribute("_rdEditor_temp")){var S=this.get_document().createElement("P");
$telerik.getOuterHtml(Q.cloneNode(false)).replace(/([a-z0-9\-_]+)=/gi,function(V,U){var W;
if(U.toLowerCase()!=="_rdeditor_temp"){W=Q.getAttribute(U);
if(!W&&U==="class"){W=Q.className;
}S.setAttribute(U,W);
}});
for(var P=0;
P<Q.childNodes.length;
P++){S.appendChild(Q.childNodes[P].cloneNode(true));
}if(Q.swapNode){Q.swapNode(S);
}else{var T=Q.parentNode;
T.insertBefore(S,Q);
T.removeChild(Q);
}}}this.get_filtersManager().getDesignContentDom(N);
},_createUI:function(){var Q=this;
if(this._created){return;
}this._registerModeChangeHandler(true);
this._tableElement=this.get_mainTable();
var M=$get(this.get_id()+"Center");
var N=this.get_contentAreaElement();
if(M){if($telerik.isMobileSafari&&this.get_contentAreaMode()==c.EditorContentAreaMode.Iframe){var O=i.createElement("div");
a(O).addClass("reIframeWrapperIOS");
O.appendChild(N);
M.appendChild(O);
this._contentAreaWrapper=O;
this._updateContentAreaWrapperPadding();
}else{M.appendChild(N);
}}else{var P=a(Q.get_element()).find(f);
P.append(N);
var R=Q.get_findReplaceOverlay();
if(R){a(R.get_element()).insertBefore(P);
}}this._created=true;
},_updateContentAreaWrapperPadding:function(){var M=this._contentAreaWrapper;
if($telerik.isMobileSafari&&M){window.setTimeout(function(){M.style.paddingBottom=M.parentNode.offsetHeight+"px";
},100);
}},repaint:function(){c.RadEditor.callBaseMethod(this,"repaint");
var M=this.get_toolAdapter();
M.repaint(true);
this._sizer.onRepaint(this.isVisible());
},_updateEditorSize:function(M,N){this.repaint();
},_fixMoreSizeIssues:function(){this.repaint();
},_setElementStyleProperty:function(M,N,O){M.style[N]=O;
},setSize:function(N,M){this._sizer.setEditorSize(N,M);
this.refreshContentZoom();
},pasteHtml:function(R,Q,P,O,N){if(!this.get_editable()){return;
}this._disposeElementResizableWidget();
if(R.match(/^<script/ig)){R="<span id='_rdEditor_temp'>&nbsp;</span>"+R;
}var M=new c.EditorCommandEventArgs(Q,null,R);
if(false==this._executeCommandEvent("pasteHtml",Q,M)){return;
}if(R!=M.get_value()){R=M.get_value();
}var S=this.getLocalizedString(Q);
var T=this.get_mode();
if(c.EditModes.Design==T){this.setFocus();
this._fireDeleteSelectionCmd(true);
var X=new c.Editor.PasteHtmlCommand(S,this.get_contentWindow(),R,P,this);
this.executeCommand(X,null,N);
if(O!=false){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}}else{if(c.EditModes.Html==T){var Z=this.get_textArea();
if(this.isIE&&this.get_document().selection){Z.setActive();
var Y=i.selection.createRange();
Y.text=R;
}else{if(Z.setSelectionRange){var W=Z.selectionStart;
var V=Z.selectionEnd;
var U=R;
Z.value=Z.value.substring(0,W)+U+Z.value.substring(V);
Z.setSelectionRange(W+U.length,W+U.length);
this.setFocus();
}}}}a("#_rdEditor_temp",this.get_document()).remove();
},_nonEditableCommands:["XhtmlValidator","Copy","Print","SelectAll","AboutDialog","Help","Zoom"],_isCommandEditable:function(M){return Array.indexOf(this._nonEditableCommands,M)==-1;
},fire:function(N,M){var Q=this;
if(!Q.get_editable()&&this._editorFinishedLoad&&Q._isCommandEditable(N)){return;
}if(N!="Copy"){this._saveTypedContent(true,"editor.fire Copy executing");
}this.setActive();
if(false==this._executeCommandEvent("commandExecuting",N,M)){return;
}if(this._optionalIgnoredTools&&!this._optionalIgnoredTools[N]){return;
}this._pendingTextTypeCmd=null;
var O=c.Editor.CommandList[N];
var R=false;
if(O){R=(false!=O(N,this,M));
}else{alert("The command "+N+" is not implemented yet.");
}if(R){if(!$telerik.isOpera){this.setFocus();
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}this._executeCommandEvent("commandExecuted",N,M);
try{if(N=="Undo"&&!$telerik.isIE&&this.get_contentArea().innerHTML.toLowerCase().trim()=="<br>"){this.get_contentArea().innerHTML="<br>";
}}catch(P){}},_executeCommandEvent:function(O,N,M){if(!M){M=new c.EditorCommandEventArgs(N);
}this.raiseEvent(O,M);
return !(M.get_cancel&&M.get_cancel());
},_onWindowResize:function(){var M=this._getViewportBounds();
this.setSize(M.width,M.height,false);
},_registerWindowResizeHandler:function(M){if(M){this._onWindowResizeDelegate=Function.createDelegate(this,this._onWindowResize);
$addHandler(window,"resize",this._onWindowResizeDelegate);
}else{if(this._onWindowResizeDelegate){$removeHandler(window,"resize",this._onWindowResizeDelegate);
this._onWindowResizeDelegate=null;
}}},_getViewportBounds:function(){var M=$telerik.getClientBounds();
var N=i.documentElement.scrollLeft||i.body.scrollLeft;
var O=i.documentElement.scrollTop||i.body.scrollTop;
M.scrollLeft=N;
M.scrollTop=O;
return M;
},_handleParentsWithOverflow:function(S){var M,R;
if(false==S){if(!this._parentsWithOverflow){return;
}M=this._parentsWithOverflow;
var O=M.length;
for(var N=0;
N<O;
N++){var P=M[N];
if(P[0]){R=P[0].style;
R.overflow=P[1];
R.height=P[2];
R.tableLayout=P[3];
R.position=P[4];
}}this._parentsWithOverflow=null;
}else{this._parentsWithOverflow=[];
M=this._parentsWithOverflow;
var Q=this.get_element().parentNode;
while(Q&&Q.tagName!="BODY"){R=Q.style;
M[M.length]=[Q,R.overflow,R.height,R.tableLayout,R.position];
if(R.position==="fixed"){R.position="static";
}R.tableLayout="auto";
R.overflow="visible";
R.height="auto";
Q=Q.parentNode;
}}},isFullScreen:function(){return this._isFullScreen;
},_disableBodyScroll:function(){var M=i.body;
this._preFullScreenBodyStyle=[M.scroll,M.style.margin,""];
M.scroll="no";
M.style.margin="0px";
if(M){this._preFullScreenBodyStyle[2]=M.style.overflow;
M.style.overflow="hidden";
}this._handleParentsWithOverflow(true);
},_enableBodyScroll:function(){var M=i.body;
if(!this._preFullScreenBodyStyle){return;
}M.scroll=this._preFullScreenBodyStyle[0];
try{M.style.margin=this._preFullScreenBodyStyle[1];
}catch(N){}M.style.overflow=this._preFullScreenBodyStyle[2];
this._handleParentsWithOverflow(false);
this._preFullScreenBodyStyle=null;
},_setToolOn:function(P,N){var M=this;
var O=M.getToolByName(P);
if(O){O.setOn(N);
}O=M.getHeaderToolByName(P);
if(O){O.setOn(N);
}},toggleScreenMode:function(){var N=this;
var T=e.operaPresto||C.ios||C.android;
if(N.get_renderMode()==c.RenderMode.Mobile){N._executeToggleScreenModeCmd();
N._setToolOn("ToggleScreenMode",N._isFullScreen);
N.raiseEvent("toggleScreenMode",Sys.EventArgs.Empty);
N.focusFirstText();
if(N._elementsResizableWidget){N._disposeElementResizableWidget();
}return;
}var P=N.get_element();
if(!N._isFullScreen){this._disableBodyScroll();
N._isFullScreen=true;
d(P,r);
var Q=P.style.height;
if(Q=="auto"||isNaN(parseInt(Q,10))){Q=P.offsetHeight+"px";
}var R=P.style.width;
if(R=="auto"||isNaN(parseInt(R,10))){R=P.offsetWidth+"px";
}N._preFullScreenBounds={width:R,height:Q};
N._onWindowResize();
if(T){P.style.position="fixed";
P.style.left="0px";
P.style.top="0px";
}else{N._preFullScreenBrowserRect=N._getViewportBounds();
var O=$telerik.getLocation(P);
setTimeout(function(){c.Editor.Utils.restoreBrowserPosition(O.x,O.y);
},0);
}N._registerWindowResizeHandler(true);
if(this._resizeExtender){this._resizeExtender.enable(false);
$telerik.setVisible(this._bottomResizer,false);
}}else{N._registerWindowResizeHandler(false);
this._enableBodyScroll();
N._isFullScreen=false;
F(P,r);
var M=N._preFullScreenBounds;
N.setSize(M.width,M.height,false);
if(T){P.style.position="";
P.style.left="";
P.style.top="";
}else{var S=N._preFullScreenBrowserRect;
c.Editor.Utils.restoreBrowserPosition(S.scrollLeft,S.scrollTop);
}if(this._resizeExtender){this._resizeExtender.enable(true);
$telerik.setVisible(this._bottomResizer,true);
}}N.set_editable(true);
if(!C.ios){N.setFocus();
}N.refreshContentZoom();
N._setToolOn("ToggleScreenMode",N._isFullScreen);
this.raiseEvent("toggleScreenMode",Sys.EventArgs.Empty);
},validateMaxTextLength:function(P){var O=this.get_maxTextLength();
if(O>0){if(!P){P="";
}var M=this.get_text({removeMultipleSpaces:true})+P;
var N=b.Utils._getCharactersCount(M);
return O>=N;
}return true;
},validateMaxHtmlLength:function(M){var N=this.get_maxHtmlLength();
if(N>0){if(!M){M="";
}return N>=this.get_html(true).length+M.length;
}return true;
},displayMaxHtmlLengthErrorMessage:function(){alert(this.get_localization()["exceededhtmllength"]+" "+this.get_maxHtmlLength()+". "+this.get_localization()["reducetheconentlength"]+".");
},displayMaxTextLengthErrorMessage:function(){alert(this.get_localization()["exceededtextlength"]+" "+this.get_maxTextLength()+". "+this.get_localization()["reducetheconentlength"]+".");
},get_contentHiddenTextareaValue:function(){if(this._contentHiddenTextarea){return c.Editor.Utils.decodePostbackContent(this._contentHiddenTextarea.value);
}else{return"";
}},set_contentHiddenTextareaValue:function(M){this._contentHiddenTextarea.value=c.Editor.Utils.encodePostbackContent(M);
},get_localization:function(){return this._localization;
},_createIframe:function(){var M=i.createElement("iframe");
M.frameBorder="0";
M.src="javascript:'<html></html>';";
var N=M.style;
N.width="100%";
N.height="2px";
N.margin="0px";
N.padding="0px";
if(this.get_renderMode()==c.RenderMode.Mobile){M.className="t-flex";
}return M;
},get_contentAreaElement:function(){if((this.get_contentAreaMode()==c.EditorContentAreaMode.Iframe)&&(this._contentAreaElement&&(!this._contentAreaElement.contentWindow||!this._contentAreaElement.contentWindow.document))){if(this._contentAreaElement.parentNode){this._contentAreaElement.parentNode.removeChild(this._contentAreaElement);
}this._contentAreaElement=null;
}if(!this._contentAreaElement){var M;
if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){M=i.createElement("div");
M.setAttribute("id",this.get_id()+"_contentDiv");
M.className="reContentArea";
}else{M=this._createIframe();
if(!$telerik.isIE){M.innerHTML="Your browser does not support inline frames or is currently configured not to display inline frames.";
}M.setAttribute("id",this.get_id()+"_contentIframe");
}M.setAttribute("title","Rich text editor with ID "+this.get_id());
this._contentAreaElement=M;
if(this.get_enableAriaSupport()){this._contentAreaElement.setAttribute("role","textbox");
}}return this._contentAreaElement;
},findContent:function(N){var M=this.get_contentArea();
if(typeof(N)==="function"){return a(L.getAllChildNodesBy(M,N));
}else{return a(this.get_contentArea()).find(N);
}},get_shortCutManager:function(){return this._shortCutManager;
},get_filtersManager:function(){return this._filtersManager;
},get_commandsManager:function(){return this._commandsManager;
},get_modulesManager:function(){return this._modulesManager;
},get_useClassicDialogs:function(){return this.get_dialogOpener().get_useClassicDialogs();
},set_useClassicDialogs:function(M){this.get_dialogOpener().set_useClassicDialogs(M);
},get_qualifiedSkin:function(){var M=this.get_skin();
return"RadEditor."+M;
},_applyAriaSupport:function(){this.get_element().setAttribute("role","presentation");
var S=this.get_toolContainer();
this._applyAriaForLayoutTables();
var P;
if(S){S.setAttribute("role","toolbar");
var T=S.getElementsByTagName("ul");
for(P=0;
P<T.length;
P++){T[P].setAttribute("role","presentation");
}}var Q=this._getModeButtonsWrapper();
Q.setAttribute("role","presentation");
var M=Q.getElementsByTagName("*");
for(P=0;
P<M.length;
P++){var N=M[P];
var R=N.tagName.toLowerCase()=="a"?"button":"presentation";
N.setAttribute("role",R);
}var O=this._contentHiddenTextarea;
if(O){O.setAttribute("aria-hidden","true");
}},_applyAriaForLayoutTables:function(){var P=this.get_mainTable();
if(P){P.setAttribute("role","presentation");
var S=P.getElementsByTagName("tr");
for(var N=0;
N<S.length;
N++){var R=S[N];
R.setAttribute("role","presentation");
var Q=R.getElementsByTagName("td");
for(var O=0;
O<Q.length;
O++){Q[O].setAttribute("role","presentation");
}}}var M=$get(this.get_id()+"_BottomTable");
if(M){M.setAttribute("role","presentation");
}},_updateHiddenTextarea:function(){var M=this;
var N=M.get_html(true);
if(M.get_mode()==c.EditModes.Preview){L.restoreTargetsAfterPreview(M);
}if(M.get_enableImmutableElements()){var O=new RegExp(" "+L.immutableElementId+"=['\"]?[0-9]{13}['\"]?","gm");
N=N.replace(O,"");
}M.set_contentHiddenTextareaValue(N);
return N;
},_registerClientValidation:function(){if(typeof(Page_ClientValidate)=="function"){var M=Page_ClientValidate;
Page_ClientValidate=Function.createDelegate(this,function(P){var N=this.get_element();
if(N){var O=this._updateHiddenTextarea();
N.value=O;
N.setAttribute("value",O);
}N=null;
return M(P);
});
}},saveContent:function(N,M){if(this._saveContentDelegate){var O=null;
if(!this.validateMaxHtmlLength()){O=1;
}else{if(!this.validateMaxTextLength()){O=2;
}}if(O){if(M){if(M.set_cancel){M.set_cancel(true);
}}else{if(O==1){this.displayMaxHtmlLengthErrorMessage();
}else{if(O==2){this.displayMaxTextLengthErrorMessage();
}}}$telerik.cancelRawEvent(N);
return false;
}else{this.raiseEvent("submit",Sys.EventArgs.Empty);
this._updateHiddenTextarea();
}}},_registerPostBackHandlers:function(){this._saveContentDelegate=Function.createDelegate(this,this.saveContent);
var N=this._contentHiddenTextarea.form;
if(N){$telerik.addExternalHandler(N,"submit",this._saveContentDelegate);
}if(typeof(__doPostBack)!="undefined"){var S=this._saveContentDelegate;
var Q=__doPostBack;
__doPostBack=function(V,U){S();
Q(V,U);
};
}if(typeof(Sys.WebForms)!="undefined"&&typeof(Sys.WebForms.PageRequestManager)!="undefined"){var P=Sys.WebForms.PageRequestManager.getInstance();
if(P){if(null!=P._originalDoPostBack){var T=this._saveContentDelegate;
var R=P._originalDoPostBack;
P._originalDoPostBack=function(V,U){T();
R(V,U);
};
}if(null!=P._onSubmitStatements&&!$telerik.isIE){var O=this;
var M={};
Array.add(P._onSubmitStatements,function(){var U=O.saveContent(null,M);
return(U!=K)?U:true;
});
}else{P.add_initializeRequest(this._saveContentDelegate);
}}P=null;
}N=null;
},toggleEnhancedEdit:function(O){if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){var M=this.get_contentArea();
if(typeof(O)=="undefined"||null==O){O=(M.className.indexOf("reContentAreaToggle")>-1)?false:true;
}if(O){Sys.UI.DomElement.addCssClass(M,"reContentAreaToggle");
}else{Sys.UI.DomElement.removeCssClass(M,"reContentAreaToggle");
}this.updateToggleTableBorderToolState(O);
return O;
}else{var N=this;
if($telerik.isSafari&&typeof(O)!="undefined"&&false==this.disableContentAreaStylesheet(O)){setTimeout(function(){N._disabledContentAreaStylesheet=N.disableContentAreaStylesheet(O);
},200);
}else{N._disabledContentAreaStylesheet=this.disableContentAreaStylesheet(O);
return N._disabledContentAreaStylesheet;
}}},disableContentAreaStylesheet:function(O){var N=this.get_document();
if(!N||!N.getElementById){return false;
}var M=N.getElementById(this._getUniqueStyleSheetId(0));
if(M){if(O==null){O=M.disabled;
}M.disabled=!O;
this.updateToggleTableBorderToolState(O);
return O;
}else{return false;
}},updateToggleTableBorderToolState:function(N){var M=this.getToolByName("ToggleTableBorder");
if(M&&M.setOn){M.setOn(N);
}},pasteHyperLink:function(R,N){var M=this.getSelection().getParentElement();
var Q=M?M.parentNode:null;
if(M!=null&&M.tagName=="A"&&($telerik.isFirefox||($telerik.isIE&&M.style.cssText!=""&&!((Q.tagName=="FONT"||Q.tagName=="SPAN")&&Q.children.length==1)))){M.parentNode.removeChild(M);
}else{if($telerik.isSafari&&Q&&Q.nodeName=="A"){Q.parentNode.removeChild(Q);
}else{this.fire("Unlink");
}}var O=c.Editor.Utils.getOuterHtml(R);
if($telerik.isIE){O=this._replaceHeadingInsideLink(O);
if(R.getElementsByTagName("P").length==1){O=this.replaceParagraphAndAnchor(O);
var P=M;
while(P){if(P.tagName=="P"){P.parentNode.removeChild(P);
break;
}P=P.parentNode;
}}}O=O.replace(/<br[^>]*><\/a>$/ig,"</a><br />");
this.pasteHtml(O,N);
},replaceParagraphAndAnchor:function(M){var N=M+"";
N=N.replace(/(<A[^>]*>)\s*(<P[^>]*>)/ig,"$2$1");
N=N.replace(/(<\/P[^>]*>)\s*(<\/A[^>]*>)/ig,"$2$1");
return N;
},_replaceHeadingInsideLink:function(M){var N=M+"";
N=N.replace(/(<A[^>]*>)\s*(<h\d{1}[^>]*>)/ig,"$2$1");
N=N.replace(/(<\/h\d{1}[^>]*>)\s*(<\/A[^>]*>)/ig,"$2$1");
return N;
},_saveTypedContent:function(N,M){if(this._pendingTextTypeCmd){this._pendingTextTypeCmd.update();
}if(true!=N){this._pendingTextTypeCmd=null;
}},_attachBodyHandlers:function(O){var M=null;
if(this.get_document()&&this.get_contentArea()){M=this.get_contentArea();
}if(!M){return;
}if(O){this._onResizeStartDelegate=Function.createDelegate(this,this._onResizeStart);
this._onResizeEndDelegate=Function.createDelegate(this,this._onResizeEnd);
this._onDropDelegate=Function.createDelegate(this,this._onDrop);
$telerik.addExternalHandler(M,"resizestart",this._onResizeStartDelegate);
$telerik.addExternalHandler(M,"resizeend",this._onResizeEndDelegate);
$telerik.addExternalHandler(M,"drop",this._onDropDelegate);
if($telerik.isIE||$telerik.isFirefox){this._onDragEndDelegate=Function.createDelegate(this,this._onDragEnd);
this._onDragStartDelegate=Function.createDelegate(this,this._onDragStart);
$telerik.addExternalHandler(M,"dragend",this._onDragEndDelegate);
$telerik.addExternalHandler(M,"dragstart",this._onDragStartDelegate);
}var N=this._shouldAutoResizeHeight();
if(($telerik.isIE6||$telerik.isIE7||$telerik.isIE8)&&!N){this._onEditorResizeDelegate=Function.createDelegate(this,this._onEditorResizing);
$telerik.$(this.get_element()).on("resize",this._onEditorResizeDelegate);
}this._onPasteDelegate=Function.createDelegate(this,M.setActive&&M.ownerDocument.queryCommandSupported("Paste")?this._onPaste:this._onBeforePaste);
$telerik.addExternalHandler(M,"paste",this._onPasteDelegate);
if(N){this._resizeContentAreaDelegate=Function.createDelegate(this,this._resizeContentArea);
$telerik.addExternalHandler(M,"keyup",this._resizeContentAreaDelegate);
}this._onCompositionStartDelegate=h(this,this._onCompositionStart);
this._onCompositionEndDelegate=h(this,this._onCompositionEnd);
$telerik.addExternalHandler(M,"compositionstart",this._onCompositionStartDelegate);
$telerik.addExternalHandler(M,"compositionend",this._onCompositionEndDelegate);
}else{if(this._onResizeStartDelegate){$telerik.removeExternalHandler(M,"resizestart",this._onResizeStartDelegate);
}if(this._onResizeEndDelegate){$telerik.removeExternalHandler(M,"resizeend",this._onResizeEndDelegate);
}if(this._onDropDelegate){$telerik.removeExternalHandler(M,"drop",this._onDropDelegate);
}if(this._onDragEndDelegate){$telerik.removeExternalHandler(M,"dragend",this._onDragEndDelegate);
}if(this._onDragStartDelegate){$telerik.removeExternalHandler(M,"dragstart",this._onDragStartDelegate);
}if(this._onEditorResizeDelegate){$telerik.$(this.get_element()).off("resize",this._onEditorResizeDelegate);
}if(this._resizeContentAreaDelegate){$telerik.removeExternalHandler(M,"keyup",this._resizeContentAreaDelegate);
}if(this._onCompositionStartDelegate){$telerik.removeExternalHandler(M,"compositionstart",this._onCompositionStartDelegate);
}if(this._onCompositionEndDelegate){$telerik.removeExternalHandler(M,"compositionend",this._onCompositionEndDelegate);
}$telerik.removeExternalHandler(M,"paste",this._onPasteDelegate);
this._resizeContentAreaDelegate=null;
this._onEditorResizeDelegate=null;
this._onResizeStartDelegate=null;
this._onResizeEndDelegate=null;
this._onDropDelegate=null;
this._onDragEndDelegate=null;
this._onDragStartDelegate=null;
this._onPasteDelegate=null;
this._onBeforePasteDelegate=null;
}},_initEvents:function(){var N=this;
var M=a(N._getContentElement());
if(!this.isIE){this.attachInternalHandler("keypress",h(N,N._onKeyPressed));
if(e.webkit||e.edge){if(N.get_renderMode()==c.RenderMode.Mobile){M.onEvent(p.Down+l,"img",Function.createDelegate(N,N._onImageDown));
M.onEvent(p.Up+l,"img",Function.createDelegate(N,N._onImageUp));
}else{this.attachInternalHandler("click",Function.createDelegate(N,function(P){var Q=P.srcElement?P.srcElement:P.target;
if(L.isTag(Q,"img")){N.selectElement(Q);
}}));
}M.onEvent(p.Down+l,"map",h(N,function(P){var Q=N.findContent("img[usemap='#"+P.currentTarget.id+"']");
if(Q.length){N.selectElement(Q[0]);
}P.preventDefault();
}));
}if(this.isFirefox&&this.get_contentAreaMode()!=c.EditorContentAreaMode.Div){this.attachInternalHandler("click",function(P){if(!N.get_editable()){return;
}window.setTimeout(function(){N.set_editable(true);
N.setFocus();
},100);
});
}}this.attachInternalHandler("keypress",this._preventEnterPropagation);
this.attachInternalHandler("keydown",function(P){if(N.isOpera){return N._onKeyDown(P);
}else{N._onKeyDown(P);
}if($telerik.isSafari){var R=N._shortCutManager.isShortCutHit(P);
if(null!=R){var Q=R.get_name();
switch(Q){case"Bold":case"Italic":case"Underline":$telerik.cancelRawEvent(P);
break;
}}}});
M.onEvent(p.Down+k,function(){N.setActiveIfElementIsNotInContent();
N._saveTypedContent(false,"Saving typed content onmousedown");
var P=N.get_toolAdapter();
if(P.isEditEnabled&&P.isEditEnabled()){N.fire("MobileEdit");
}});
this.attachInternalHandler("keyup",Function.createDelegate(this,this._onKeyUp));
var O=Function.createDelegate(N,function(P){N.raiseEvent("selectionChange",Sys.EventArgs.Empty);
N._resizingOnUpHandler();
});
M.onEvent(p.Up+k,O);
$telerik.addExternalHandler(i.body,"dragend",Function.createDelegate(this,this._onDocumentDragEnd));
this._attachBodyHandlers(true);
},_onImageDown:function(O){var N=this;
var M=a(N._getContentElement());
var P=O.srcElement?O.srcElement:O.target;
N._imageMoveDelegate=N._imageMoveDelegate||Function.createDelegate(N,N._onImageMove);
M.onEvent(p.Move+l,P,N._imageMoveDelegate);
},_onImageUp:function(O){var N=this;
var M=a(N._getContentElement());
if(!N._imageMoved&&N.get_editable()){N.selectElement(O.srcElement?O.srcElement:O.target);
O.preventDefault();
}setTimeout(function(){N._imageMoved=false;
},0);
M.offEvent(p.Move+l);
},_onImageMove:function(M){this._imageMoved=true;
},_onCompositionStart:function(){this._compositions=true;
},_onCompositionEnd:function(){var M=this;
if(M.nodesTracker){M.nodesTracker.update(null,e.ie);
}},_initCleanUpModules:function(){this._innerListCleanUp=new b.InnerListDeleteCleanUp(this);
},_cleanUpAfterDelete:function(){this._innerListCleanUp.cleanUp();
},_initMobileEnterFullScreen:function(){var M=this;
M._attachEnterFullScreenMobileHandler(true);
if(M.get_renderMode()==c.RenderMode.Mobile){M.set_editable(false);
}},_attachEnterFullScreenMobileHandler:function(M){var O=this;
if(O.get_renderMode()==c.RenderMode.Mobile){var N=a([O.get_element(),O.get_contentArea()]);
if(M){b.UI.TapEvent.onTap(N,{tap:h(O,O._enterFullScreenMobileHandler),namespace:"reToggleScreenMode"});
}else{b.UI.TapEvent.offTap(N);
}if(O.get_contentAreaMode()==c.EditorContentAreaMode.Iframe){a(O.get_contentArea().parentNode)[M?"removeClass":"addClass"]("reMobile");
if(M){O._hideSelectDeleteTableButtons();
}}}},_enterFullScreenMobileHandler:function(){var M=this;
M._executeToggleScreenModeCmd();
M._setToolOn("ToggleScreenMode",M._isFullScreen);
M._attachEnterFullScreenMobileHandler(false);
},_executeToggleScreenModeCmd:function(){var M=new b.ToggleScreenMode(this);
return this.executeCommand(M,false,false);
},_toggleMobileEdit:function(){var M=this;
M._hideMobileKeyboard=M._hideMobileKeyboard===true?false:true;
if(M._hideMobileKeyboard){M._showToolBarContainer();
}else{M._hideToolBarContainer();
}},_showToolBarContainer:function(){a(this._view.toolBarContainer()).show();
},_hideToolBarContainer:function(){a(this._view.toolBarContainer()).hide();
},_initFindReplace:function(){var M=this.get_findReplaceOverlay();
if(!M){return;
}this.findReplaceManager=new b.FindReplaceManager(this,M,{localization:this.get_localization()});
},_addOrientationListener:function(){var M=this;
if(I){M._mediaListenerDelegate=Function.createDelegate(M,M._onOrientationChange);
M._mediaQuery=window.matchMedia(z);
M._mediaQuery.addListener(M._mediaListenerDelegate);
}},_removeOrientationListener:function(){var M=this;
if(M._mediaQuery&&M._mediaListenerDelegate){M._mediaQuery.removeListener(M._mediaListenerDelegate);
M._mediaListenerDelegate=null;
}},_onOrientationChange:function(){var O=window.orientation,M=O==90||O==-90,N;
if(C.ios&&e.safari){N=M?x.Portrait:x.LandScape;
}else{N=M?x.LandScape:x.Portrait;
}this._setOrientationDecoration(N);
this.raiseEvent("orientationChange",new b.OrientationEventArgs(N));
},_setOrientationDecoration:function(M){if(window.orientation===K){return false;
}if(!M){M=this._getOrientation();
}var N=M==x.LandScape?y:A;
a(this.get_element()).removeClass(A).removeClass(y).addClass(N);
},_getOrientation:function(){var M=window.orientation;
return(M==-90||M==90)?x.LandScape:x.Portrait;
},_shouldCancelKeyEvent:function(M){if(!$telerik.isFirefox){return false;
}if(!this.get_enableImmutableElements()){return false;
}if(M.ctrlKey||M.altKey){return false;
}var Q=c.Editor.Utils,P=this.getSelection().getRange();
if(!P){return false;
}var N=function(R){return Q.isTextNode(R)&&Q.isImmutableNode(R);
};
if((P.collapsed&&N(P.commonAncestorContainer))||(N(P.startContainer)||N(P.endContainer))){var O=M.keyCode;
if(M.shiftKey&&O==13){return true;
}if(O==8||O==32||O==46){return true;
}if(!Q.isSystemKey(O)&&!Q.isCursorMovingKey(O)){return true;
}}return false;
},isKeyEventComposed:function(M){M=M.rawEvent||M.originalEvent||M;
return M.key=="Process"||("locale" in M&&/^(ja|ko|zh)/.test(M.locale));
},_onKeyDown:function(P){var Q=this;
var X;
delete Q._shortcut;
if(Q.get_mode()==c.EditModes.Preview||Q._isTargetTextElement(P)){return;
}if(Q._shouldCancelKeyEvent(P)){return $telerik.cancelRawEvent(P);
}Q._compositions=Q.isKeyEventComposed(P);
var S=P.keyCode;
var M=Q.get_contentAreaMode();
var O=Q.get_document();
this._startInlineEditModeTabListener(S);
if(M==c.EditorContentAreaMode.Iframe&&$telerik.isMobileSafari){this.setFocus();
}if(S==8||S==46){if(this._fireDeleteSelectionCmd(true,true)){return $telerik.cancelRawEvent(P);
}if(S==46){if($telerik.isOpera&&$telerik.OperaVersion<11){O.execCommand("Delete");
this.get_contentArea().contentEditable=true;
if(M!=c.EditorContentAreaMode.Div){O.designMode="on";
}this.get_contentArea().focus();
return $telerik.cancelRawEvent(P);
}}this._shortcutHit=false;
if(this.getSelectionHtml()){this._saveTypedContent(false,"Saving typed content before allowing delete to proceed..");
var T=this.getLocalizedString("Typing");
if(this.get_enableTrackChanges()){T=Telerik.Web.UI.Editor.TrackChangesCommandStrings.Delete;
}this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(T,this.get_contentWindow(),this);
this._hasDeleteExecuted=true;
}if(this.isIE&&O.selection){var Y=function(){var af=Q.getSelectedElement();
if(af&&af.tagName=="EMBED"){af.setAttribute("hidden","true");
af.setAttribute("id","FileToDelete");
window.setTimeout(function(){var ag=O.getElementById("FileToDelete");
if(ag.parentNode&&ag.parentNode.removeChild){ag.parentNode.removeChild(ag);
}},100);
$telerik.cancelRawEvent(P);
return true;
}};
var W=Y();
if(W){return false;
}try{X=O.selection.createRange();
var V=null;
if(X&&X.duplicate){V=X.duplicate();
}if(8==P.keyCode){X.moveStart("character",-1);
}else{X.moveEnd("character",1);
}if(X.parentElement().tagName=="EMBED"){X.select();
Y();
if(V&&V.select){V.select();
}}}catch(R){}var Z=new c.Editor.Selection(this.get_contentWindow());
if(Z&&Z.isControl()){var aa=Z.getRange();
aa.execCommand("Delete");
$telerik.cancelRawEvent(P);
}}if(this.get_enableTrackChanges()||this.get_enableComments()){if(S==8||S==46){var ae=this.getToolByName("AddComment");
if(ae){ae.set_enabled(false);
}}}if(!($telerik.isIE&&S==46)){var N=new b.DeleteFix(Q);
N.applyFix(P);
}return;
}var ad=P.target?P.target:P.srcElement;
if(ad&&"INPUT"!=ad.tagName){var ab=this._shortCutManager.isShortCutHit(P);
if(null!=ab&&ab.get_name()=="Copy"){this._shortcutHit=false;
return;
}this._shortcutHit=(null!=ab);
if(this._shortcutHit){var ac=Q._shortcut=ab.get_name();
this.fire(ac);
}else{if(c.Editor.Utils.isCursorMovingKey(P.keyCode)){if(!this._hasCursorMoved){this._saveTypedContent(false,"Saving typed content before letting the cursor move");
}this._hasCursorMoved=true;
return;
}if(!P.ctrlKey&&!P.altKey&&(32==P.keyCode||13==P.keyCode||!c.Editor.Utils.isSystemKey(P.keyCode))){if(!Q._compositions||(Q._compositions&&S==13)){this._fireDeleteSelectionCmd();
}if(this._hasCursorMoved){this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(this.getLocalizedString("Typing"),this.get_contentWindow(),this);
this.executeCommand(this._pendingTextTypeCmd);
this._hasCursorMoved=false;
return;
}if(!this._pendingTextTypeCmd){this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(this.getLocalizedString("Typing"),this.get_contentWindow(),this);
this.executeCommand(this._pendingTextTypeCmd);
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}}}if(this._shortcutHit){if($telerik.isIE||$telerik.isSafari||e.edge){var U=ab.get_name();
if(U=="Cut"||U=="Paste"){return;
}$telerik.cancelRawEvent(P);
}}}},_startInlineEditModeTabListener:function(N){var M=this;
if(M._isInInlineEditMode()&&N==9&&!M._tabKeyDownFlag){M._tabKeyDownFlag=true;
M._inlineEditModeTabTimeout=window.setTimeout(function(){var O=M.get_toolAdapter();
if(M._tabKeyDownFlag){if(!L.isEditorContentArea(i.activeElement)){O._showToolbarHolder(false);
O._onInlineEditModeBodyClick(i.activeElement);
}M._tabKeyDownFlag=false;
}},100);
}},_clearInlineEditModeTabListener:function(M){if(this._isInInlineEditMode()&&M==9){this._tabKeyDownFlag=false;
}},_fireDeleteSelectionCmd:function(R,N){var P=this;
if(!P.get_editable()){return;
}var Q=P.shouldTrackChanges&&P.shouldTrackChanges();
var M=new c.Editor.DeleteSelectionCommand(P,{complete:N});
var O=M.getState(P.get_contentWindow(),P);
if(!Q&&(O!==c.Editor.CommandStates.Disabled)){P.executeCommand(M,true,R);
return true;
}return false;
},_preventEnterPropagation:function(M){if(M.keyCode==Sys.UI.Key.enter){if(M.stopPropagation){M.stopPropagation();
}M.cancelBubble=true;
}},_onKeyUp:function(M){this._clearInlineEditModeTabListener(M.keyCode);
this._cleanUpAfterDelete();
if(!this._shortcutHit&&L.isTypingKey(M)){this._normalizeInsertedText();
}if(this._hasDeleteExecuted){if(this._pendingTextTypeCmd){this.executeCommand(this._pendingTextTypeCmd);
}this._pendingTextTypeCmd=null;
this._hasDeleteExecuted=false;
return;
}if(this._pendingTextTypeCmd){return;
}if(this._pendingCutCommand){this.executeCommand(this._pendingCutCommand);
this._pendingCutCommand=null;
}if(this._shortcutHit){return false;
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_onKeyPressed:function(M){var N=this;
if(!N._pendingTextTypeCmd){N.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}var O=N._shortcut;
if(O&&this._shortcutHit){delete N._shortcut;
if(O!=g&&O!=B){M.preventDefault();
return false;
}}},_normalizeInsertedText:function(R){var T=this.getDomRange();
var O=function(V){return L.isTextNode(V)&&!L.isZwspTextNode(V);
};
if(!T||!T.isCollapsed()||!O(T.commonAncestorContainer)){return;
}var M=T.commonAncestorContainer;
var S=M.previousSibling;
if(O(S)){var U=T.startOffset;
var N=M.length;
S.data+=M.data;
M.parentNode.removeChild(M);
M=S;
var Q=S.length-(U==N?0:N-U);
T.setStart(S,Q);
T.setEnd(S,Q);
T.select();
}if(R&&R.normalizeRight){var P=M.nextSibling;
if(O(P)){M.data+=P.data;
P.parentNode.removeChild(P);
T.select();
}}},_focusLastVisibleTool:function(){var M=this.get_toolAdapter().get_tools();
if(this.get_isInAccessibleMode()){this._focusLastAccessibleToolElement(M);
}else{this._focusLastVisibleToolElement(M);
}},_focusLastAccessibleToolElement:function(N){var M=N[N.length-1].get_element();
M.parentNode.childNodes[0].focus();
},_focusLastVisibleToolElement:function(N){var M=this._getLastVisibleToolElement(N);
M.focus();
},_getLastVisibleToolElement:function(O){var N;
for(var M=O.length-1;
M<O.length;
M--){N=O[M].get_element();
if(N.style.display!=="none"){return N;
}}},_onPaste:function(P){var O=this;
var S=O.get_stripFormattingOptions();
if(S==c.StripFormattingOptions.NoneSupressCleanMessage||O._isTargetTextElement(P)){return;
}if(O._pasting){return $telerik.cancelRawEvent(P);
}O._pasting=true;
var N=L.getClipboardAsHtml(O);
if(!N){return;
}var R=O.usesContentFilter("RemoveScripts"),M=L.cleanPastedContent(N,S,O.get_localization()["askwordcleaning"],R,O);
if(M){var Q=O.getDomRange();
window.setTimeout(function(){Q.select();
O.pasteHtml(M,"Paste");
O._scrollToSelectionEnd();
O._normalizeInsertedText({normalizeRight:true});
delete O._pasting;
},5);
}else{delete O._pasting;
}return $telerik.cancelRawEvent(P);
},_onBeforePaste:function(P){var Q=this,O=Q.get_document(),V=Q.getSelection(),X=Q.get_stripFormattingOptions(),W=!(X&c.StripFormattingOptions.AllExceptNewLines||X&c.StripFormattingOptions.All);
if(Q._isTargetTextElement(P)||X==c.StripFormattingOptions.NoneSupressCleanMessage){return;
}if(W&&!L.containsHtmlAtClipboard(P)){var R=new b.ClipboardImagesProvider().getImages(P);
if(R.length>0){Q._insertBlobImages(R);
return $telerik.cancelRawEvent(P);
}}if(Q._pasting){return $telerik.cancelRawEvent(P);
}Q._pasting=true;
Q._pendingCutCommand=null;
var M=Q.get_contentArea(),Z=L.getPasteContainer(M),T=Q.getDomRange();
if(O.createRange){var Y=O.createRange();
if(Y.selectNodeContents){Y.selectNodeContents(Z);
}V.selectRange(Y);
}else{if(Z.setActive){Z.setActive();
}}var aa=P.clipboardData.types;
var S=(aa.contains&&aa.contains("text/html"))||(aa.indexOf&&aa.indexOf("text/html"));
if(S){var N=P.clipboardData.getData("text/html");
var U=/<!--StartFragment-->([\s\S]*)<!--EndFragment-->/;
Z.innerHTML=N.replace(U,"$1");
this.jsHrefStorage.storeHrefs(Z);
Z.innerHTML="";
}if(!Q.afterPasteDelegate){Q.afterPasteDelegate=Function.createDelegate(Q,Q._onAfterPaste);
}window.setTimeout(function(){Q.afterPasteDelegate(T,Z);
},0);
},_onAfterPaste:function(Q,S){this.jsHrefStorage.restoreHrefs(S);
var O=this;
var N=S.innerHTML;
if($telerik.isSafari){var P=a(S).next();
if(P.is(S.nodeName+"."+S.className)){P=P.get(0);
N+=P.innerHTML;
L.clearPasteContainer(S);
S=P;
}N=N.replace(/<div[^>]+class=\"telerik_paste_container\"[^>]*><br[/\s]*><\/div>/gi,"<br/>");
N=N.replace(/<div[^>]+class=\"telerik_paste_container\"[^>]*>(.*?)<\/div>/gi,"$1<br/>");
N=N.replace(/<br[/\s]*>$/i,"");
}L.clearPasteContainer(S);
Q.select();
var R=O.usesContentFilter("RemoveScripts");
var M=L.cleanPastedContent(N,O.get_stripFormattingOptions(),O.get_localization()["askwordcleaning"],R,O);
O.pasteHtml(M,"Paste");
O._scrollToSelectionEnd();
O._normalizeInsertedText({normalizeRight:true});
delete O._pasting;
},_isTargetTextElement:function(M){return L.isTextElement(M.target?M.target:M.srcElement);
},_insertBlobImages:function(P){var N=this;
var Q=N.get_stripFormattingOptions();
var M=N.get_localization()["askwordcleaning"];
var O=function(R){var T=R.target;
if(/data:image\//.test(T.src)){var S=L.cleanPastedContent(L.getOuterHtml(T),Q,M,false,N);
N.pasteHtml(S,"Paste",null,false);
N.collapseRange();
N._scrollToSelectionEnd();
}};
a(P).on("load",O);
},_scrollToSelectionEnd:function(){var M=this;
var N=b.RangeEdges.endNode(M.getDomRange());
if(N){L.scrollTo(N,M);
}},_onResizeStart:function(M){var O=this.getSelectedElement();
if(O==M.srcElement){var N=this.get_localization()["resizecommand"]||"Resize";
this._pendingResizeCmd=new c.Editor.GenericCommand(N,this.get_contentWindow(),this);
}},onResizing:function(M){this.get_toolAdapter().repaint();
},_onResizeEnd:function(M){if(this._pendingResizeCmd){this.executeCommand(this._pendingResizeCmd);
}this.refreshContentZoom();
},_onDragStart:function(N){var M=this.get_contentWindow().document;
c.Editor.Utils.storeOriginalPathsAndAttributes(this.get_contentArea());
if($telerik.isFirefox){if(this.get_enableImmutableElements()&&N.target&&c.Editor.Utils.isImmutableNode(N.target)){return $telerik.cancelRawEvent(N);
}return;
}var R=this.get_localization()["movecommand"]||"Move";
this._pendingMoveCommand=new c.Editor.GenericCommand(R,this.get_contentArea(),this);
this._startRange=null;
if(!N.ctrlKey&&!N.ctrlLeft){this._startRange=M.selection?M.selection.createRange():M.body.createTextRange();
if(this._startRange.length){var Q=M.body.createTextRange();
var O=this._startRange.item(0);
if("IMG"==O.tagName&&"A"==O.parentNode.tagName&&O.parentNode.childNodes.length==1){O=O.parentNode;
}c.Editor.Utils.storeOriginalPathsAndAttributes(O);
try{Q.moveToElementText(O);
this._startRange=Q;
}catch(P){}}}},_onDragEnd:function(N){var M=this.get_contentWindow().document;
c.Editor.Utils.restoreOriginalPathsAndAttributes(this.get_contentArea());
if($telerik.isFirefox){return;
}if(this._pendingMoveCommand){if(this._startRange){var Q=M.selection?M.selection.createRange():M.body.createTextRange();
if(Q.length){var R=M.body.createTextRange();
try{R.moveToElementText(Q.item(0));
}catch(P){}Q=R;
}try{if(Q.compareEndPoints&&0!=Q.compareEndPoints("StartToStart",this._startRange)&&0!=Q.compareEndPoints("EndToEnd",this._startRange)){this._startRange.execCommand("Delete",false,null);
}}catch(O){}}this.executeCommand(this._pendingMoveCommand);
this._pendingMoveCommand=null;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},_onDrop:function(M){setTimeout($telerik.$.proxy(function(){c.Editor.Utils.restoreOriginalPathsAndAttributes(this.get_contentArea());
},this),0);
this._saveTypedContent(false,"on drop operation executing");
var N=this.get_localization()["Drop"]||"Drop external content";
this._pendingDockCommand=new c.Editor.GenericCommand(N,this.get_contentWindow(),this);
if(this._elementsResizableWidget){window.setTimeout(h(this,this._elementResizingSelectionChangeHandler),0);
}},_onDocumentDragEnd:function(M){if(!this._pendingDockCommand){return;
}this.executeCommand(this._pendingDockCommand);
this._pendingDockCommand=null;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_trackChangesLoad:function(){var M=this,N=M.getToolByName("EnableTrackChangesOverride");
if(N){N.setOn(M.get_enableTrackChanges()?0:1);
}this.set_canRejectTrackChange(M.set_canAcceptTrackChange());
if(M.get_enableComments()){Telerik.Web.UI.Editor.TrackChanges.initialize(M);
M.attachInternalHandler("onkeydown",function(O){Telerik.Web.UI.Editor.TrackChanges.checkInsertionPoint(M.getSelectedElement(),M);
});
}},_initializeSelectDeleteTables:function(){var M=this;
M._selectDeleteTable=new b.SelectDeleteTable(M);
M._onTableSelectingDelegate=M._onTableSelectingDelegate||h(M,M._onTableSelecting);
M._onTableDeletingDelegate=M._onTableDeletingDelegate||h(M,M._onTableDeleting);
M._onSelectDeleteTableSelectionChangeDelegate=M._onSelectDeleteTableSelectionChangeDelegate||h(M,M._onSelectDeleteTableSelectionChange);
M._selectDeleteTable.on({tableSelecting:M._onTableSelectingDelegate,tableDeleting:M._onTableDeletingDelegate});
M.add_selectionChange(M._onSelectDeleteTableSelectionChangeDelegate);
},_onTableSelecting:function(O){var P=this;
var S=P.getDomRange();
var M=a(O.get_target());
var N=M.find("caption:visible,td:visible,th:visible");
var Q=N.get(0);
var R=N.last().get(0);
S.setStart(Q.firstChild||Q,0);
S.setEndAfter(R.lastChild||R);
S.select();
P.setFocus();
P.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_onTableDeleting:function(M){this._deleteTable(M.get_target());
},_deleteTable:function(O){var N=this;
var M=new b.GenericCommand(N.get_localization()["deletetable"],N.get_contentWindow(),N);
a(O).remove();
N.executeCommand(M);
N.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_onSelectDeleteTableSelectionChange:function(M){var P=M.getDomRange();
var Q=M.getSelectedElement(P);
var O=L.isTag(Q,"table")?Q:L.getElementParentByTag(Q,"TABLE");
var N=M.get_renderMode()===G.Mobile;
M._selectDeleteTable.hideButtons();
if(O){M._selectDeleteTable.showSelectButton(O);
if(L.isContentSelected(O,P)){M._selectDeleteTable.showDeleteButton(O);
if(N){M._hideResizeHandle("NE");
}}if(N){M._hideResizeHandle("NW");
}}},_hideResizeHandle:function(M){var P=this._elementsResizableWidget;
if(P){var O=P._handlesCollection;
var N=O[M];
a(N?N.get_handle():K).hide();
}},_hideSelectDeleteTableButtons:function(){var M=this;
if(M._selectDeleteTable){M._selectDeleteTable.hideButtons();
}},get_rippleZonesConfiguration:function(){if(!this._rippleZonesConfiguration){var R=[];
var S=this.get_toolAdapter();
var P=c.MaterialRippleType.Icon;
var V=this._view;
if(this.get_renderMode()===G.Mobile){var O=[{containerSelector:".reIcon",rippleType:P}];
R.push({element:V.headerContainer(),rippleConfigurations:O});
R.push({element:this.get_headerToolsContainer(),rippleConfigurations:O});
R.push({element:S.get_element(),rippleConfigurations:[{containerSelector:".reModules .reIcon, .reToolHeader .reMore .reTabIcon, .reToolHeader .reIcon",rippleType:P},{containerSelector:".reTabChooser > ul > li, .reToolContent .reButton, .reToolContent .reDropDown, .reDropDownBody .reButton"}]});
}else{var U=".reTool, .reDropdown";
var Q=".reModes > a";
if(!this.get_ribbonBar()){var N=this.get_toolAdapter().get_toolbarHolder();
var T=N&&N.get_contentElement?N.get_contentElement():this.get_toolContainer();
R.push({element:T,rippleConfigurations:[{containerSelector:U}]});
}var M=V.modesRowContainer();
if(M){R.push({element:M.parentNode,rippleConfigurations:[{containerSelector:U+","+Q}]});
}}this._rippleZonesConfiguration=R;
}return this._rippleZonesConfiguration;
},_stopSelectDeleteTableWidget:function(){var M=this;
if(M._selectDeleteTable){M._selectDeleteTable.hideButtons();
}}};
a.registerControlProperties(c.RadEditor,{ajaxSpellCheckScriptReference:"",spellAllowAddCustom:true,spellCheckJSON:{},enableUndoRedo:true,headerToolsToolAdapter:null,toolAdapter:null,fullPage:null,dialogOpener:null,ribbonBar:null,links:[],colors:["","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffffff","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#f2f2f2","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#d8d8d8","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#92cddc","#fac08f","#bfbfbf","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#31859b","#e36c09","#a5a5a5","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#205867","#974806","#c00000","#ff0000","#ffc000","#ffff00","#92d050","#00b050","#00b0f0","#0070c0","#002060","#7030a0"],fontNames:["Arial","Courier New","Garamond","Georgia","MS Sans Serif","Segoe UI","Tahoma","Times New Roman","Verdana"],fontSizes:[1,2,3,4,5,6,7],symbols:["&#8364;","&#162;","&#163;","&#165;","&#164;","&#169;","&#174;","&#8482;","&#177;","&ne;","&#8776;","&#8804;","&#8805;","&#247;","&#215;","&#8734;","&#189;","&#188;","&#190;","&#178;","&#179;","&#8240;","&#182;","&#167;","&#945;","&#946;","&#916;","&#181;","&#937;","&#8721;","&#216;","&ang;","&#186;","&#171;","&raquo;","&#183;","&#8226;","&#8224;","&#8225;","&#402;"],realFontSizes:["8px","9px","10px","11px","12px","13px","14px","16px","18px","20px","22px","24px","26px","28px","32px","36px","48px","72px"],snippets:[],cssClasses:[],cssFiles:[],languages:[],paragraphs:[["<p>","Normal"],["<h1>","<h1>Heading 1</h1>"],["<h2>","<h2>Heading 2</h2>"],["<h3>","<h3>Heading 3</h3>"],["<h4>","<h4>Heading 4</h4>"],["<h5>","<h5>Heading 5</h5>"],["<h6>","<h6>Heading 6</h6>"],["<dir>","<dir>Directory List</dir>"],["<menu>","<menu>Menu List</menu>"],["<pre>","<pre>Formatted</pre>"],["<address>","<address>Address</address>"]],formatSets:[],toolsWidth:null,maxTextLength:null,maxHtmlLength:null,toolProviderID:null,autoResizeHeight:false,toolbarMode:n.Default,editModes:c.EditModes.All,stripFormattingOptions:c.StripFormattingOptions.None,contentFilters:c.EditorFilters.DefaultFilters,newLineMode:c.EditorNewLineModes.P,contentAreaCssFile:"",tableLayoutCssFile:"",mozillaFlashOverlayImage:"FlashManager.gif",toolAdapterType:"",headerToolsToolAdapterType:"",enableResize:true,headerToolsJSON:[],toolJSON:[],modulesJSON:[],contextMenusJSON:[],skin:"Default",language:"en-us",contentWindow:null,document:null,contentArea:null,contentAreaMode:c.EditorContentAreaMode.Iframe,isInAccessibleMode:false,enableAriaSupport:false,enableComments:false,enableTrackChanges:false,emptyMessage:"",isSkinTouch:false,currentFormatting:null,editType:o.Normal,findReplaceOverlay:null,useRadContextMenu:true,radContextMenu:null});
a.registerControlEvents(c.RadEditor,["firstShow","pasteHtml","editReady","submit","commandExecuted","commandExecuting","selectionChange","domChange","init","load","modeChange","toggleScreenMode","spellCheckLoaded","pasteDom","pasteBlockElement","orientationChange",t]);
c.RadEditor.registerClass("Telerik.Web.UI.RadEditor",c.RadWebControl);
b.OrientationEventArgs=function(M){b.OrientationEventArgs.initializeBase(this);
this._orientation=M;
};
b.OrientationEventArgs.prototype={get_orientation:function(){return this._orientation;
}};
b.OrientationEventArgs.registerClass("Telerik.Web.UI.Editor.OrientationEventArgs",Sys.EventArgs);
b.DomRangeEventArgs=function(M){b.DomRangeEventArgs.initializeBase(this);
this._range=M;
};
b.DomRangeEventArgs.prototype={get_range:function(){return this._range;
}};
b.DomRangeEventArgs.registerClass("Telerik.Web.UI.Editor.DomRangeEventArgs",Sys.EventArgs);
function s(M){if(M.get_contentAreaMode()==c.EditorContentAreaMode.Iframe){var N=M.get_contentWindow();
return L.isWindowDestroyed(N)?K:N;
}else{return M.get_contentArea();
}}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=Telerik.Web.UI;
a.AccessibleRadEditorBase=function(c){c.set_useClassicDialogs(true);
c.removeShortCut("InsertTab");
c.addShortCut("<h2>","ALT+2");
c.addShortCut("<h3>","ALT+3");
c.addShortCut("<h4>","ALT+4");
c.addShortCut("<h5>","ALT+5");
c.addShortCut("<p>","CTRL+SHIFT+C");
c.addShortCut("TableWizard","CTRL+SHIFT+T");
this.makeAccessibleTools(c);
var b=c.get_toolAdapter();
b.setFocus=function(){var e=$telerik.getElementByClassName(c.get_element(),"reToolbarWrapper","DIV");
if(e){var d=e.getElementsByTagName("INPUT")[0];
window.setTimeout(function(){if(d&&d.focus){d.focus();
}},100);
return false;
}};
c.add_commandExecuting(Function.createDelegate(this,this.editorCommandExecuting));
};
a.AccessibleRadEditorBase.prototype={editorCommandExecuting:function(e,b){if(!b||!b.get_commandName){return;
}var d=b.get_commandName();
if(d=="LinkManager"){if($telerik.isIE){e.get_document().execCommand("CreateLink",true,null);
}else{var j=window.prompt("Enter a URL:","http://");
if(j){e.get_document().execCommand("CreateLink",false,j);
}}e.setFocus();
b.set_cancel(true);
}else{if(d=="MoveFocusToTextEditor"){if($telerik.isIE){e.get_document().body.focus();
}else{e.setFocus();
}b.set_cancel(true);
}else{if(d=="Underline"||d=="Italic"){b.set_cancel(true);
}else{if(d=="<h2>"||d=="<h3>"||d=="<h4>"||d=="<h5>"||d=="<p>"){e.fire("FormatBlock",{value:d});
b.set_cancel(true);
}else{if(d=="InsertTable"){var h=window.prompt("Enter row and column count separated by space, followed by optional heading row index and heading column index","");
if(null!=h){var k=h.split(" ");
var i=k[0]?parseInt(k[0].trim(),10):0;
var c=k[1]?parseInt(k[1].trim(),10):0;
if(i&&c&&!isNaN(i)&&!isNaN(c)){var f=Telerik.Web.UI.Editor.Utils.createTable(i,c);
this.updateHeadingRows(f,k[2]?parseInt(k[2].trim(),10)-1:-1);
this.updateHeadingColumns(f,k[3]?parseInt(k[3].trim(),10)-1:-1);
var g=Telerik.Web.UI.Editor.Utils.getOuterHtml(f);
e.pasteHtml(g,d);
}}b.set_cancel(true);
}}}}}},makeAccessibleTools:function(c){var j=c.get_toolAdapter().get_tools();
for(var e=0;
e<j.length;
e++){var h=j[e];
var k=Object.getType(h);
var g=null;
if(k==Telerik.Web.UI.EditorSplitButton||k.inheritsFrom(Telerik.Web.UI.EditorSplitButton)){g=this.replaceSplitButton(h,c);
}else{if(k==Telerik.Web.UI.EditorDropDown||k.inheritsFrom(Telerik.Web.UI.EditorDropDown)){g=this.replaceDropdown(h,c);
}else{g=this.replaceButton(h,c);
}}if(g){var d=h.get_element();
d.parentNode.insertBefore(g,d);
d.style.display="none";
if(g.tagName.toUpperCase()=="SELECT"){var b=h.get_name();
g.id=c.get_id()+"_"+b;
var f=document.createElement("label");
f.htmlFor=g.id;
f.style.top="-10000px";
f.style.left="-10000px";
f.style.position="absolute";
f.innerHTML=h.get_text();
d.parentNode.insertBefore(f,g);
}}}if($telerik.isIE){this.fixIEFocusProblem(j[0].get_element().previousSibling,true);
this.fixIEFocusProblem(j[j.length-1].get_element().previousSibling,false);
}},fixIEFocusProblem:function(b,e){var d=b.parentNode.parentNode.getElementsByTagName("INPUT");
var f=e?d[1]:d[d.length-2];
var c=true;
b.onfocus=function(g){if(c){if(f){f.focus();
}c=false;
window.setTimeout(function(){b.focus();
window.setTimeout(function(){c=true;
},10);
},10);
}};
},replaceButton:function(f,d){var e=document.createElement("input");
e.type="button";
e.title=f.get_text();
var c=f.get_name();
var b=c;
if(c=="MoveFocusToTextEditor"){b="Custom";
}e.className="reAccessibleTool "+b;
e.onclick=function(){d.fire(c);
};
return e;
},replaceSplitButton:function(d,b){var c=d.get_name();
if(c=="Undo"||c=="Redo"||c=="InsertTable"){return this.replaceButton(d,b);
}else{alert("No implementation for converting split button "+c+" into an accessible tool");
}},replaceDropdown:function(m,b){var h=document.createElement("select");
var n=m.get_element();
var k=n.getElementsByTagName("SPAN")[0];
h.style.width=(k||n).style.width;
var e=[];
if(m.get_name()=="FormatBlock"){e=b.get_paragraphs();
}h.options[0]=new Option("-------------------------------","");
for(var c=0;
c<e.length;
c++){var d=e[c];
var o=d[0];
var l=d[1];
var j=b.get_shortCutManager().findShortCutByName(o);
if(j){l+=" ("+j.get_shortCutString()+")";
}h.options[h.options.length]=new Option(l,o);
}var g=false;
h.onclick=function(){if(g==true){f();
}else{if(h.click){h.click();
}g=true;
}};
h.onkeydown=function(i){if(!i){i=window.event;
}if(i.keyCode==13){f();
}else{return true;
}};
function f(){g=false;
var i=h[h.selectedIndex].value;
if(i){b.fire("FormatBlock",{value:i});
}h.selectedIndex=0;
}return h;
},updateHeadingRows:function(h,b){if(isNaN(b)||b<0){return;
}var k=h.getElementsByTagName("THEAD")[0];
if(!k){k=h.createTHead();
}for(var c=0;
c<=b;
c++){var g=h.rows[0];
var f=k.insertRow(-1);
for(var d=0;
d<g.cells.length;
d++){var e=h.ownerDocument.createElement(c==b?"TH":"TD");
f.insertBefore(e,null);
}h.deleteRow(h.rows.length-1);
}},updateHeadingColumns:function(h,c){if(isNaN(c)||c<0){return;
}for(var f=0;
f<h.tBodies.length;
f++){var l=h.tBodies[f];
for(var d=0;
d<l.rows.length;
d++){var g=l.rows[d];
for(var e=0;
e<g.cells.length;
e++){var b=e==c?"TH":"TD";
this.changeCellType(g.cells[e],b);
}}}},changeCellType:function(b,d){if(b.tagName.toUpperCase()!=d.toUpperCase()){var c=b.ownerDocument.createElement(d.toUpperCase());
b.parentNode.replaceChild(c,b);
}}};
a.AccessibleRadEditor=function(b){a.AccessibleRadEditor.initializeBase(this,[b]);
};
a.AccessibleRadEditor.prototype={initialize:function(){a.AccessibleRadEditor.callBaseMethod(this,"initialize");
},dispose:function(){a.AccessibleRadEditor.callBaseMethod(this,"dispose");
}};
a.AccessibleRadEditor.registerClass("Telerik.Web.UI.AccessibleRadEditor",a.RadEditor);
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a,p,o){function h(s){var r=s.startContainer||(s.length?s.item(0):(s.commonParentElement?s.commonParentElement():s.parentElement()));
return r.nodeType==9?r:r.ownerDocument;
}function q(r){return r.defaultView||r.parentWindow;
}function i(s){if(!s){s=window;
}var r=s.document;
if(s.getSelection||r.getSelection){return s.getSelection()||r.getSelection();
}else{return null;
}}function g(r){var s=i();
return s?r.createRange():r.selection?(r.selection.type=="None"?r.body.createTextRange():r.selection.createRange()):null;
}b.DomRange=function(s,r){this.options=a.extend({preventCalculateEdges:false},r||{});
this.range=s;
this._initialCalculateEdges();
};
b.DomRange.START_TO_START=0;
b.DomRange.START_TO_END=1;
b.DomRange.END_TO_END=2;
b.DomRange.END_TO_START=3;
b.DomRange.toDomRange=function(r){return(!r||b.DomRange.isInstanceOfType(r))?r:new b.DomRange(r);
};
b.DomRange.createRange=function(r){return new b.DomRange(g(r));
};
b.DomRange.rangeFromWindow=function(u){if(!u){return null;
}var r=u.document;
var t=i(u);
if(t){if(t.rangeCount<1){return null;
}var s;
if(t.getRangeAt){s=t.getRangeAt(0);
}else{s=r.createRange();
s.setStart(t.anchorNode,t.anchorOffset);
s.setEnd(t.focusNode,t.focusOffset);
}return new b.DomRange(s);
}else{if(r.selection){return new b.DomRange(r.selection.createRange());
}}return null;
};
b.DomRange.prototype={selectNodeContents:function(r){if(this.range.length){this.range.addElement(r);
}else{this.setEnd(r,r[r.nodeType===1?"childNodes":"nodeValue"].length);
this.setStart(r,0);
}},selectNode:function(r){this.setStartBefore(r);
this.setEndAfter(r);
},setStart:function(r,s){this.startContainer=r;
this.startOffset=s;
this._calculateRangeProperties();
},setEnd:function(r,s){this.endContainer=r;
this.endOffset=s;
this._calculateRangeProperties();
},setStartBefore:function(r){this.setStart(r.parentNode,p.findNodeIndex(r));
},setStartAfter:function(r){this.setStart(r.parentNode,p.findNodeIndex(r)+1);
},setEndBefore:function(r){this.setEnd(r.parentNode,p.findNodeIndex(r));
},setEndAfter:function(r){this.setEnd(r.parentNode,p.findNodeIndex(r)+1);
},insertNode:function(v){var z=this;
var r=z._updateBrowserRange();
var A=z.startContainer;
var t=z.endContainer;
var x=A.parentNode;
var w=z.startOffset;
var s=h(r);
var u=function(E,D,C){var F=C||v;
if(D){E.insertBefore(F,D);
}else{E.appendChild(F);
}if(E===t){z.endOffset++;
}};
if(p.isTextNode(A)){if(w==0){u(x,A);
}else{if(w>=A.length){u(x,A.nextSibling);
}else{var B=A.data;
var y=s.createTextNode(B.substring(0,w));
A.data=B.substring(w);
u(x,A,y);
u(x,A);
if(A===t){this.endOffset-=w;
}}}}else{u(A,A.childNodes[w]);
}this.setStartBefore(v);
},extractContents:function(){var r=this._updateBrowserRange();
if(r.extractContents){return r.extractContents();
}else{var t=document;
var u=t.createDocumentFragment();
var s=t.createElement("div");
s.innerHTML=this.getHtml();
while(s.childNodes.length){u.appendChild(s.firstChild);
}r.pasteHTML("");
return u;
}},deleteContents:function(){if(this.range.deleteContents){var r=this._updateBrowserRange();
r.deleteContents();
}else{this.extractContents();
}},cloneRange:function(){var r=this._updateBrowserRange();
if($telerik.isIE&&r.length){var t=this.cloneControlRange(r);
if(t){return new b.DomRange(t,this.options);
}}var s=null;
var u=this._cloneBrowserRange();
if(u){s=new b.DomRange(u,this.options);
s.setStart(this.startContainer,this.startOffset);
s.setEnd(this.endContainer,this.endOffset);
}return s;
},_cloneBrowserRange:function(){if(this.range.cloneRange){return this.range.cloneRange();
}else{if(this.range.duplicate){return this.range.duplicate();
}else{if($telerik.isIE&&this.range.length){return this.cloneControlRange(this.range);
}}}return null;
},cloneControlRange:function(s){var v=s.length;
if(v){var u=s.item(0);
var r=u.ownerDocument.body;
s=r.createControlRange();
for(var t=0;
t<v;
t++){s.addElement(this.range.item(t));
}return s;
}return null;
},compareBoundaryPoints:function(s,u){var r=this._updateBrowserRange();
if(r.compareBoundaryPoints){var t=r.compareBoundaryPoints(s,u.getBrowserRange());
return t;
}else{if(r.compareEndPoints){return r.compareEndPoints(this._pointPairToCompare(s),u.getBrowserRange());
}else{return 0;
}}},collapse:function(r){if(r){this.endContainer=this.startContainer;
this.endOffset=this.startOffset;
}else{this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}this._calculateRangeProperties();
},isCollapsed:function(){return this.collapsed;
},surroundContents:function(s){var r=this._updateBrowserRange();
if(r.surroundContents){s.appendChild(r.extractContents());
r.insertNode(s);
}else{s.innerHTML=r.htmlText;
r.pasteHTML(s.outerHTML);
}},toString:function(){var r=this._updateBrowserRange();
if(r.text!=o){return r.text;
}else{if(r.toString){return r.toString();
}else{return"";
}}},inRange:function(s){var r=this._updateBrowserRange();
if(r.inRange){return r.inRange(s.getBrowserRange());
}else{var u=this.compareBoundaryPoints(b.DomRange.START_TO_START,s);
var t=this.compareBoundaryPoints(b.DomRange.END_TO_END,s);
return u<1&&t>-1;
}},getBrowserRange:function(){return this._updateBrowserRange();
},getParentElement:function(){return this.commonAncestorContainer||this._getBrowserRangeParent();
},getText:function(){return this.toString();
},getHtml:function(){var r=this._updateBrowserRange();
if(r.cloneContents){var t=r.cloneContents();
var s=t.ownerDocument.createElement("div");
s.appendChild(t);
return s.innerHTML;
}else{if(r.length){return r.item(0).outerHTML;
}else{return r.htmlText||"";
}}},pasteHTML:function(u){var r=this._updateBrowserRange();
if(r.pasteHTML){r.pasteHTML(u);
}else{if(r.extractContents){var s=r.extractContents().ownerDocument;
var t=s.createElement("div");
t.innerHTML=u;
while(t.childNodes.length){r.insertNode(t.firstChild);
}}}},setCursorInEmptyNode:function(s){s.innerHTML="&#x200b;";
this.setStart(s,0);
try{this.setEnd(s,0);
}catch(r){this.setEnd(s,1);
}finally{if(!$telerik.isOpera){if(!$telerik.isIE||$telerik.isIE9Mode){this.selectNodeContents(s);
}if(!$telerik.isIE){this.deleteContents();
}}this.collapse(!$telerik.isIE||$telerik.isIE9Mode);
this.select();
if(!$telerik.isOpera){s.innerHTML="";
}}},moveStart:function(x,s){if(this.range.moveStart){return this.range.moveStart(x,s);
}else{var t=h(this.range);
var w=t.defaultView.getSelection();
var v;
if(w.modify){var r=this.cloneRange();
r.collapse(true);
r.select();
if(s>0){while(s-->0){v=w.modify("move","forward",x);
}}else{while(s++<0){v=w.modify("move","backward",x);
}}var u=w.getRangeAt(0);
r=this.cloneRange();
this.setStart(u.startContainer,u.startOffset);
r.select();
return v;
}else{return 0;
}}},moveEnd:function(x,s){if(this.range.moveEnd){return this.range.moveEnd(x,s);
}else{var t=h(this.range);
var w=t.defaultView.getSelection();
var v;
if(w.modify){var r=this.cloneRange();
r.collapse(false);
r.select();
if(s>0){while(s-->0){v=w.modify("move","forward",x);
}}else{while(s++<0){v=w.modify("move","backward",x);
}}var u=w.getRangeAt(0);
r=this.cloneRange();
this.setEnd(u.endContainer,u.endOffset);
r.select();
return v;
}else{return 0;
}}},moveToElementText:function(u){var v=this.range;
var r=h(v);
var x=this._createTempNode(r);
var t=this._createTempNode(r);
var w=v.duplicate();
var s=v.duplicate();
u.insertBefore(x,u.firstChild);
u.appendChild(t);
w.moveToElementText(x);
s.moveToElementText(t);
v.setEndPoint("EndToEnd",s);
v.setEndPoint("StartToEnd",w);
u.removeChild(x);
u.removeChild(t);
},snapToRange:function(r,s){switch(r){case b.DomRange.START_TO_START:this.setStart(s.startContainer,s.startOffset);
break;
case b.DomRange.START_TO_END:this.setStart(s.endContainer,s.endOffset);
break;
case b.DomRange.END_TO_END:this.setEnd(s.endContainer,s.endOffset);
break;
case b.DomRange.END_TO_START:this.setEnd(s.startContainer,s.startOffset);
break;
}},select:function(){var r=this._updateBrowserRange();
if(r.select){try{r.select();
}catch(s){}}else{var t=this.clear(r);
if(t){t.addRange(r);
this.scrollIntoView(t);
}}},scrollIntoView:function(s){var r=s.anchorNode.parentNode;
if(r.scrollIntoViewIfNeeded){r.scrollIntoViewIfNeeded();
}},clear:function(r){var t=r||this.range;
var s=h(t);
var v=q(s);
if(v.getSelection||s.getSelection){var u=v.getSelection?v.getSelection():s.getSelection();
u.removeAllRanges();
return u;
}},inspect:function(s){var r=function(t,u){u=typeof u=="undefined"?"":" "+u;
return t.nodeName+u+(s?"":" - "+p.getOuterHtml(t));
};
return"collapsed: "+this.isCollapsed()+"\nstart: "+r(this.startContainer,this.startOffset)+"\nend: "+r(this.endContainer,this.endOffset)+"\ncommon: "+r(this.commonAncestorContainer);
},_pointPairToCompare:function(r){return b.DomRange.START_TO_START==r?"StartToStart":b.DomRange.START_TO_END==r?"EndToStart":b.DomRange.END_TO_END==r?"EndToEnd":b.DomRange.END_TO_START==r?"StartToEnd":"";
},_setStartRangeAtNodeOffset:function(x,y,v){var t=h(this.range);
var A=t.body.createTextRange();
if(p.isTextNode(x)){var z=this._createTempNode(t);
x.parentNode.insertBefore(z,x);
this._selectTempNode(A,z);
A.moveStart("character",y);
}else{var s=x.childNodes;
if(y<s.length){var r=s[y];
if(p.isTextNode(r)){var B=this._createTempNode(t);
x.insertBefore(B,r);
this._selectTempNode(A,B);
}else{A.moveToElementText(s[y]);
}}else{if(y==s.length){var w=s.length==0;
try{if(w){x.innerHTML="a";
}}catch(u){w=false;
}A.moveToElementText(x);
A.collapse(false);
if(w){x.innerHTML="";
}}}}return A;
},normalizeEdges:function(){if(this.endContainer.nodeType==3&&this.endContainer.nodeValue.length==this.endOffset){this._snapToSibling("nextSibling");
}if(this.endContainer.nodeType==3&&this.endOffset==0){this._snapToSibling("previousSibling");
}if(this.startContainer.nodeType==3&&this.startOffset==0&&p.findNodeIndex(this.startContainer)==0){this.startContainer=this.startContainer.parentNode;
if(this.range.setStart){this.range.setStart(this.startContainer,0);
}}if(this._isBrowserRangeCollapsed()){this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}else{if(p.isTextNode(this.startContainer)&&this.startOffset==this.startContainer.nodeValue.length){var r=this.startContainer,s;
while(r&&!(s=r.nextSibling)){r=r.parentNode;
}if(r&&s){this.startContainer=s;
this.startOffset=0;
}}}this._calculateRangeProperties();
},_snapToSibling:function(r){var s=r=="nextSibling";
var t=this.endContainer;
this.endContainer=this.endContainer.parentNode;
this.endOffset=t[r]?p.findNodeIndex(!s?t:t[r]):(s?this.endContainer.childNodes.length:0);
if(this.range.setEnd){this.range.setEnd(this.endContainer,this.endOffset);
}},_isControlRange:function(){return !!this.range.length;
},_updateBrowserRange:function(){if(this._isControlRange()||p.isTag(this.startContainer,"textarea")){return this.range;
}this._updateBrowserRangeStart();
this._updateBrowserRangeEnd();
this._updateBrowserRangeStart();
return this.range;
},_updateBrowserRangeStart:function(){var r=this.startContainer;
var s=this.startOffset;
if(this.range.setStart){this.range.setStart(r,s);
}else{this.range.setEndPoint("StartToStart",this._setStartRangeAtNodeOffset(r,s));
}},_updateBrowserRangeEnd:function(){var r=this.endContainer;
var s=this.endOffset;
if(this.range.setEnd){this.range.setEnd(r,s);
}else{this.range.setEndPoint("EndToStart",this._setStartRangeAtNodeOffset(r,s,true));
}},_initialCalculateEdges:function(r){if(this.options.preventCalculateEdges){return;
}this._calculateEdge(true,r);
this._calculateEdge(false,r);
this._fixIE_plainTextStartOffset();
this._calculateRangeProperties();
},_fixIE_plainTextStartOffset:function(){var r=this.range.htmlText;
if(r===o||c(r)){return;
}if(this.startContainer===this.endContainer&&(this.endOffset-this.startOffset)>r.length){this.startOffset=this.endOffset-r.length;
}},_calculateEdges:function(r){this._updateBrowserRange();
this._initialCalculateEdges(r);
},_calculateEdge:function(B,J){var L=this.range;
var z=this._isBrowserRangeCollapsed();
var t=h(L);
var r=B?"startContainer":"endContainer";
var G=B?"startOffset":"endOffset";
var u=L[r];
var v=L[G]||0;
if(!u){if(L.length){var D=L.item(0);
u=D.parentNode;
v=p.findNodeIndex(D)+(B?0:1);
}else{var M,w;
var s=L.duplicate();
s.collapse(B);
var I=s.parentElement(),A=I.childNodes.length==0;
if(!p.canHaveChildren(I)||p.isTag(I,"textarea")){u=I;
}else{M=this._createTempNode(t);
w=B?"StartToStart":"StartToEnd";
this._traverseToEdgeNode(w,I,s,M,0);
u=A?I:M.nextSibling;
}if(!u){if(B&&!z){I.removeChild(M);
var H=I;
while(H==I&&this._moveCursorByCharacter(s)){I=s.parentElement();
}this._traverseToEdgeNode(w,I,s,M,0);
u=M.nextSibling;
}if(!u){var K=M.previousSibling;
if(!J&&K&&p.isTextNode(K)){this[r]=K;
this[G]=K.length||K.data.length||K.nodeValue.length;
}else{if(!this.startContainer){this.startContainer=I;
this.startOffset=p.findNodeIndex(M);
}this.endContainer=I;
this.endOffset=I[I.nodeType===1?"childNodes":"nodeValue"].length-1;
}I.removeChild(M);
return;
}}if(M){I.removeChild(M);
}s.setEndPoint(B?"EndToStart":"EndToEnd",L);
if(p.isTextNode(u)){var N=s.text,C=0,E=u.nodeValue,O=e(N),F=n(E),P=n(N),x=E.indexOf(N),y=F.indexOf(P);
if(x==-1&&y>-1){C=f(E,N)-O;
}v=Math.max(y,0)+N.length+C;
}else{if(r=="startContainer"&&p.isAncestorOrSelf(u,L.parentElement())||(A&&r=="endContainer")){v=0;
}else{v=p.findNodeIndex(u);
u=u.parentNode;
}}}}this[r]=u;
this[G]=v;
},_traverseToEdgeNode:function(t,v,s,x,u){var w=this.range,r=1;
do{v.insertBefore(x,x.previousSibling);
s.moveToElementText(x);
r=s.compareEndPoints(t,w);
}while(x.previousSibling&&r>u);
return r;
},_calculateRangeProperties:function(){this.commonAncestorContainer=p.findCommonAncestor(this.startContainer,this.endContainer);
this.collapsed=this.startContainer==this.endContainer&&this.startOffset==this.endOffset;
},_getBrowserRangeParent:function(){var r=this.range;
if(r.commonAncestorContainer){return r.commonAncestorContainer;
}else{if(r.commonParentElement){return r.commonParentElement();
}else{if(r.parentElement){return r.parentElement();
}else{if(r.length){return r.item(0).parentNode;
}else{return null;
}}}}},_isBrowserRangeCollapsed:function(){var s=this.range;
try{if(s.isCollapsed){return s.isCollapsed();
}else{if(s.collapsed!==o){return s.collapsed;
}else{if(s.length!==o){return s.length==0;
}else{if(s.text!==o){return s.text==""&&!d(s.htmlText);
}else{return this.toString()=="";
}}}}}catch(r){return true;
}},_moveCursorByCharacter:function(r){this._storeCursorPosition(r);
r.move("character");
return this._cursorHasMoved(r);
},_storeCursorPosition:function(r){this._cursorPos=this._getCursorPos(r);
},_cursorHasMoved:function(r){var t=this._cursorPos;
var s=this._getCursorPos(r);
return s.x!=t.x||s.y!=t.y;
},_getCursorPos:function(r){return{x:r.offsetLeft,y:r.offsetTop};
},_createTempNode:function(r){var s=r.createElement("span");
s.innerHTML="&#x200b;";
return s;
},_selectTempNode:function(r,s){r.moveToElementText(s);
s.parentNode.removeChild(s);
}};
b.DomRangeMemento=function(t){var s=b.DomRange.toDomRange(t);
this.collapsed=s.isCollapsed();
if(!p.isTextNode(s.startContainer)&&s.startContainer.childNodes[s.startOffset]&&!p.isTextNode(s.startContainer.childNodes[s.startOffset])){this.startContainer=s.startContainer.childNodes[s.startOffset];
this.startOffset=false;
}else{this.startContainer=s.startContainer;
this.startOffset=s.startOffset;
}if(!p.isTextNode(s.endContainer)&&s.endContainer.childNodes[s.endOffset]&&!p.isTextNode(s.endContainer.childNodes[s.endOffset])){this.endContainer=s.endContainer.childNodes[s.endOffset];
this.endOffset=false;
}else{if(!p.isTextNode(s.endContainer)&&!p.isTag(s.endContainer,"img")&&s.endContainer.childNodes>0&&!s.endContainer.childNodes[s.endOffset]){this.endContainer=s.endContainer;
this.endOffset="outside";
}else{this.endContainer=s.endContainer;
this.endOffset=s.endOffset;
}}};
b.DomRangeMemento.prototype={restoreToRange:function(s){this.compensateOffsetInIE9();
this.restoreStart(s);
if(this.endOffset===false){s.setEndBefore(this.endContainer);
}else{if(this.endOffset=="outside"){s.setEnd(this.endContainer,Math.max(1,this.endContainer.childNodes.length-1));
}else{s.setEnd(this.endContainer,this.endOffset);
}}this.restoreStart(s);
if(this.collapsed){s.collapse();
}s.select();
},restoreStart:function(r){if(this.startOffset===false){r.setStartBefore(this.startContainer);
}else{r.setStart(this.startContainer,this.startOffset);
}},compensateOffsetInIE9:function(){if(!$telerik.isIE9){return;
}if(this.beginsWithWhitespace(this.startContainer)){this.startOffset++;
}if(this.beginsWithWhitespace(this.endContainer)){this.endOffset++;
}},beginsWithWhitespace:function(r){return p.isTextNode(r)&&/^\s/.test(r.nodeValue);
}};
function e(r){var s=r.match(/\n/g);
return(s&&s.length)||0;
}var k="\n";
function f(v,r){var u=0;
var s=r.length;
for(var t=0;
t<s;
t++){var w=v[t+u];
if(w!==r[t]&&w===k){u++;
}}return u;
}function n(r){return r.replace(/\n/g,"");
}function c(r){return r.indexOf("<")<r.indexOf(">");
}var m=/^<[^>]+>$/;
var j=/^<[\s\S]+>$/;
var l=/^<[^<]+>$/;
function d(r){return j.test(r)&&(m.test(r)||!l.test(r));
}})(Telerik.Web.UI.Editor,$telerik.$,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a,g,f){function d(j){var i=j.startContainer||(j.commonParentElement?j.commonParentElement():(j.length?j.item(0):j.parentElement()));
return i.nodeType==9?i:i.ownerDocument;
}function h(i){return i.defaultView||i.parentWindow;
}function e(j){if(!j){j=window;
}var i=j.document;
if(j.getSelection||i.getSelection){return j.getSelection()||i.getSelection();
}else{return null;
}}function c(){var i=e();
return i?document.createRange():document.selection?(document.selection.type=="None"?document.body.createTextRange():document.selection.createRange()):null;
}b.DomRangeExplicit=function(j,i){this.options=a.extend({preventCalculateEdges:false},i||{});
this.range=j;
this._calculateEdges();
};
b.DomRangeExplicit.START_TO_START=0;
b.DomRangeExplicit.START_TO_END=1;
b.DomRangeExplicit.END_TO_END=2;
b.DomRangeExplicit.END_TO_START=3;
b.DomRangeExplicit.toDomRange=function(i){return(b.DomRangeExplicit.isInstanceOfType(i))?i:new b.DomRangeExplicit(i);
};
b.DomRangeExplicit.createRange=function(i){return new b.DomRangeExplicit(c(i));
};
b.DomRangeExplicit.rangeFromWindow=function(l){if(!l){return null;
}var i=l.document;
var k=e(l);
if(k){if(k.rangeCount<1){return null;
}var j;
if(k.getRangeAt){j=k.getRangeAt(0);
}else{j=i.createRange();
j.setStart(k.anchorNode,k.anchorOffset);
j.setEnd(k.focusNode,k.focusOffset);
}return new b.DomRangeExpicit(j);
}else{if(i.selection){return new b.DomRangeExpicit(i.selection.createRange());
}}return null;
};
b.DomRangeExplicit.prototype={selectNodeContents:function(i){var j=this.range;
if(j.selectNodeContents){j.selectNodeContents(i);
}else{if(this.range.length){this.range.addElement(i);
}else{if(j.moveToElementText){this.setEnd(i,i[i.nodeType===1?"childNodes":"nodeValue"].length);
this.setStart(i,0);
}}}this._calculateEdges(true);
},selectNode:function(i){var j=this.range;
if(j.selectNode){j.selectNode(i);
}else{if(j.length){j.addElement(i);
}else{if(j.moveToElementText){j.moveToElementText(i);
}}}this._calculateEdges(true);
},setStart:function(i,j){if(this.range.setStart){this.range.setStart(i,j);
}else{this.range.setEndPoint("StartToStart",this._setStartRangeAtNodeOffset(i,j));
}this._calculateEdges();
},setEnd:function(i,j){if(this.range.setEnd){this.range.setEnd(i,j);
}else{this.range.setEndPoint("EndToStart",this._setStartRangeAtNodeOffset(i,j,true));
}this._calculateEdges();
},setStartBefore:function(i){var j=this.range;
if(j.setStartBefore){j.setStartBefore(i);
this._calculateEdges();
}else{this.setStart(i.parentNode,g.findNodeIndex(i));
}},setStartAfter:function(i){var j=this.range;
if(j.setStartAfter){j.setStartAfter(i);
this._calculateEdges();
}else{this.setStart(i.parentNode,g.findNodeIndex(i)+1);
}},setEndBefore:function(i){var j=this.range;
if(j.setEndBefore){j.setEndBefore(i);
this._calculateEdges();
}else{this.setEnd(i.parentNode,g.findNodeIndex(i));
}},setEndAfter:function(i){var j=this.range;
if(j.setEndAfter){j.setEndAfter(i);
this._calculateEdges();
}else{this.setEnd(i.parentNode,g.findNodeIndex(i)+1);
}},insertNode:function(m){if(this.range.insertNode){this.range.insertNode(m);
}else{if(this.range.pasteHTML){var i=d(this.range);
var o=this.range.duplicate();
var n=this.range.duplicate();
var j=this.range.duplicate();
this.range.collapse(true);
this.range.pasteHTML("<span id='__insertNodeBefore'>a</span><span id='__insertNodeAfter'>b</span>");
var l=a("span[id=__insertNodeBefore]",i)[0];
var k=a("span[id=__insertNodeAfter]",i)[0];
k.parentNode.insertBefore(m,k);
n.moveToElementText(l);
j.moveToElementText(k);
this.range.setEndPoint("EndToEnd",o.compareEndPoints("EndToEnd",j)==1?o:j);
this.range.setEndPoint("StartToStart",o.compareEndPoints("StartToStart",n)==-1?o:n);
k.parentNode.removeChild(k);
l.parentNode.removeChild(l);
}}},extractContents:function(){if(this.range.extractContents){return this.range.extractContents();
}else{var j=document;
var k=j.createDocumentFragment();
var i=j.createElement("div");
i.innerHTML=this.getHtml();
while(i.childNodes.length){k.appendChild(i.firstChild);
}this.range.pasteHTML("");
return k;
}},deleteContents:function(){var i=this.range;
if(i.deleteContents){i.deleteContents();
}else{this.extractContents();
}},cloneRange:function(){if(this.range.cloneRange){return new b.DomRangeExplicit(this.range.cloneRange(),this.options);
}else{if(this.range.duplicate){return new b.DomRangeExplicit(this.range.duplicate(),this.options);
}else{if($telerik.isIE&&this.range.length){var i=this.cloneControlRange(this.range);
if(i){return new b.DomRangeExplicit(i,this.options);
}}}}return null;
},cloneControlRange:function(k){var n=k.length;
if(n){var m=k.item(0);
var j=m.ownerDocument.body;
k=j.createControlRange();
for(var l=0;
l<n;
l++){k.addElement(this.range.item(l));
}return k;
}return null;
},compareBoundaryPoints:function(i,k){if(this.range.compareBoundaryPoints){var j=this.range.compareBoundaryPoints(i,k.range);
return j;
}else{if(this.range.compareEndPoints){return this.range.compareEndPoints(this._pointPairToCompare(i),k.range);
}else{return 0;
}}},collapse:function(i){this.range.collapse(i);
this._calculateEdges();
},isCollapsed:function(){var i=this.range;
if(i.isCollapsed){return i.isCollapsed();
}else{if(i.collapsed!=f){return i.collapsed;
}else{if(i.length!=f){return i.length==0;
}else{if(i.htmlText!==f){return i.htmlText=="";
}else{return this.toString()=="";
}}}}},surroundContents:function(i){if(this.range.surroundContents){i.appendChild(this.range.extractContents());
this.range.insertNode(i);
}else{i.innerHTML=this.range.htmlText;
this.range.pasteHTML(i.outerHTML);
}},toString:function(){if(this.range.text!=f){return this.range.text;
}else{if(this.range.toString){return this.range.toString();
}else{return"";
}}},inRange:function(i){if(this.range.inRange){return this.range.inRange(i.range);
}else{var k=this.compareBoundaryPoints(b.DomRangeExplicit.START_TO_START,i);
var j=this.compareBoundaryPoints(b.DomRangeExplicit.END_TO_END,i);
return k<1&&j>-1;
}},getParentElement:function(){var i=this.range;
if(i.commonAncestorContainer){return i.commonAncestorContainer;
}else{if(i.commonParentElement){return i.commonParentElement();
}else{if(i.parentElement){return i.parentElement();
}else{if(i.length){return i.item(0).parentNode;
}else{return null;
}}}}},getText:function(){return this.toString();
},getHtml:function(){if(this.range.cloneContents){var j=this.range.cloneContents();
var i=j.ownerDocument.createElement("div");
i.appendChild(j);
return i.innerHTML;
}else{if(this.range.length){return this.range.item(0).outerHTML;
}else{return this.range.htmlText||"";
}}},pasteHTML:function(k){if(this.range.pasteHTML){this.range.pasteHTML(k);
}else{if(this.range.extractContents){var i=this.range.extractContents().ownerDocument;
var j=i.createElement("div");
j.innerHTML=k;
while(j.childNodes.length){this.range.insertNode(j.firstChild);
}}}},setCursorInEmptyNode:function(j){j.innerHTML="&#x200b;";
this.setStart(j,0);
try{this.setEnd(j,0);
}catch(i){this.setEnd(j,1);
}finally{if(!$telerik.isOpera){if(!$telerik.isIE||$telerik.isIE9Mode){this.selectNodeContents(j);
}if(!$telerik.isIE){this.deleteContents();
}}this.collapse(!$telerik.isIE||$telerik.isIE9Mode);
this.select();
if(!$telerik.isOpera){j.innerHTML="";
}}},moveStart:function(o,j){if(this.range.moveStart){return this.range.moveStart(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(true);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setStart(l.startContainer,l.startOffset);
i.select();
return m;
}else{return 0;
}}},moveEnd:function(o,j){if(this.range.moveEnd){return this.range.moveEnd(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(false);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setEnd(l.endContainer,l.endOffset);
i.select();
return m;
}else{return 0;
}}},moveToElementText:function(l){var m=this.range;
var i=d(m);
var o=this._createTempNode(i);
var k=this._createTempNode(i);
var n=m.duplicate();
var j=m.duplicate();
l.insertBefore(o,l.firstChild);
l.appendChild(k);
n.moveToElementText(o);
j.moveToElementText(k);
m.setEndPoint("EndToEnd",j);
m.setEndPoint("StartToEnd",n);
l.removeChild(o);
l.removeChild(k);
},snapToRange:function(i,j){var k=j.range;
if(this.range.setEndPoint){i=b.DomRangeExplicit.START_TO_START==i?"StartToStart":b.DomRangeExplicit.START_TO_END==i?"StartToEnd":b.DomRangeExplicit.END_TO_END==i?"EndToEnd":b.DomRangeExplicit.END_TO_START==i?"EndToStart":"";
this.range.setEndPoint(i,k);
this._calculateEdges();
}else{switch(i){case b.DomRangeExplicit.START_TO_START:this.setStart(k.startContainer,k.startOffset);
break;
case b.DomRangeExplicit.START_TO_END:this.setStart(k.endContainer,k.endOffset);
break;
case b.DomRangeExplicit.END_TO_END:this.setEnd(k.endContainer,k.endOffset);
break;
case b.DomRangeExplicit.END_TO_START:this.setEnd(k.startContainer,k.startOffset);
break;
}}},select:function(){if(this.range.select){this.range.select();
}else{var i=d(this.range);
var k=h(i);
if(k.getSelection||i.getSelection){var j=k.getSelection?k.getSelection():i.getSelection();
j.removeAllRanges();
j.addRange(this.range);
}}},_pointPairToCompare:function(i){return b.DomRangeExplicit.START_TO_START==i?"StartToStart":b.DomRangeExplicit.START_TO_END==i?"EndToStart":b.DomRangeExplicit.END_TO_END==i?"EndToEnd":b.DomRangeExplicit.END_TO_START==i?"StartToEnd":"";
},_setStartRangeAtNodeOffset:function(m,n,l){var k=d(this.range);
var p=k.body.createTextRange();
if(g.isTextNode(m)){var o=this._createTempNode(k);
m.parentNode.insertBefore(o,m);
this._selectTempNode(p,o);
p.moveStart("character",n+($telerik.isIE9&&l&&/^\s/.test(m.nodeValue)?1:0));
}else{var j=m.childNodes;
if(n<j.length){var i=j[n];
if(g.isTextNode(i)){var q=this._createTempNode(k);
if(l){if(i.nextSibling){m.insertBefore(q,i.nextSibling);
}else{m.appendChild(q);
}}else{m.insertBefore(q,i);
}p.moveToElementText(q);
m.removeChild(q);
}else{p.moveToElementText(j[n]);
}}else{if(n==j.length){p.moveToElementText(m);
p.collapse(!l);
}}}return p;
},normalizeEdges:function(){if(this.endContainer.nodeType==3&&this.endContainer.nodeValue.length==this.endOffset){this._snapToSibling("nextSibling");
}if(this.endContainer.nodeType==3&&this.endOffset==0){this._snapToSibling("previousSibling");
}if(this.startContainer.nodeType==3&&this.startOffset==0&&g.findNodeIndex(this.startContainer)==0){this.startContainer=this.startContainer.parentNode;
if(this.range.setStart){this.range.setStart(this.startContainer,0);
}}if(this.isCollapsed()){this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}else{if(g.isTextNode(this.startContainer)&&this.startOffset==this.startContainer.nodeValue.length){var i=this.startContainer,j;
while(i&&!(j=i.nextSibling)){i=i.parentNode;
}if(i&&j){this.startContainer=j;
this.startOffset=0;
}}}this.commonAncestorContainer=this.range.commonAncestorContainer||g.findCommonAncestor(this.startContainer,this.endContainer);
},_snapToSibling:function(i){var j=this.endContainer;
this.endContainer=this.endContainer.parentNode;
this.endOffset=j[i]?g.findNodeIndex(j[i]):(i=="nextSibling"?this.endContainer.childNodes.length:0);
if(this.range.setEnd){this.range.setEnd(this.endContainer,this.endOffset);
}},_calculateEdges:function(i){if(this.options.preventCalculateEdges){return;
}this._calculateEdge(true,i);
this._calculateEdge(false,i);
this.commonAncestorContainer=this.range.commonAncestorContainer||g.findCommonAncestor(this.startContainer,this.endContainer);
this.collapsed=this.isCollapsed();
},_calculateEdge:function(p,u){var w=this.range;
var o=this.isCollapsed();
var k=d(w);
var i=p?"startContainer":"endContainer";
var r=p?"startOffset":"endOffset";
var l=w[i];
var m=w[r]||0;
if(!l){if(w.length){var q=w.item(0);
l=q.parentNode;
m=g.findNodeIndex(q)+(p?0:1);
}else{var j=w.duplicate();
j.collapse(p);
var t=j.parentElement();
var x,n;
if(g.isTag(t,"br")){l=t;
}else{x=this._createTempNode(k);
n=p?"StartToStart":"StartToEnd";
do{t.insertBefore(x,x.previousSibling);
j.moveToElementText(x);
}while(x.previousSibling&&j.compareEndPoints(n,w)>0);
l=x.nextSibling;
}if(!l){if(p&&!o){t.removeChild(x);
var s=t;
while(s==t&&this._moveCursorByCharacter(j)){t=j.parentElement();
}do{t.insertBefore(x,x.previousSibling);
j.moveToElementText(x);
}while(x.previousSibling&&j.compareEndPoints(n,w)>0);
l=x.nextSibling;
}if(!l){var v=x.previousSibling;
if(!u&&v&&g.isTextNode(v)){this[i]=v;
this[r]=v.nodeValue.length;
}else{if(!this.startContainer){this.startContainer=t;
this.startOffset=0;
}this.endContainer=t;
this.endOffset=t[t.nodeType===1?"childNodes":"nodeValue"].length-1;
}t.removeChild(x);
return;
}}if(x){t.removeChild(x);
}j.setEndPoint(p?"EndToStart":"EndToEnd",w);
if(g.isTextNode(l)){m=j.text.length;
}else{if(i=="startContainer"&&g.isAncestorOrSelf(l,w.parentElement())){m=0;
}else{m=g.findNodeIndex(l);
l=l.parentNode;
}}}}this[i]=l;
this[r]=m;
},_moveCursorByCharacter:function(i){this._storeCursorPosition(i);
i.move("character");
return this._cursorHasMoved(i);
},_storeCursorPosition:function(i){this._cursorPos=this._getCursorPos(i);
},_cursorHasMoved:function(i){var k=this._cursorPos;
var j=this._getCursorPos(i);
return j.x!=k.x||j.y!=k.y;
},_getCursorPos:function(i){return{x:i.offsetLeft,y:i.offsetTop};
},_createTempNode:function(i){var j=i.createElement("span");
j.innerHTML="&#x200b;";
return j;
},_selectTempNode:function(i,j){i.moveToElementText(j);
j.parentNode.removeChild(j);
}};
})(Telerik.Web.UI.Editor,$telerik.$,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=function(e){this.top=e;
};
c.prototype={extractBefore:function(e){return this._traverseSide({edge:e,next:function(f){return f.previousSibling;
},insert:function(f,g){f.insertBefore(g,f.firstChild);
}});
},extractAfter:function(e){return this._traverseSide({edge:e,next:function(f){return f.nextSibling;
},insert:function(f,g){f.appendChild(g);
}});
},_traverseSide:function(j){var l=this.top,g=l.ownerDocument,h=g.createDocumentFragment(),f=j.edge;
do{var k=f.parentNode;
f=j.next(f);
while(f){var i=j.next(f);
j.insert(h,f);
f=i;
}if(k!=l){var e=k.cloneNode(false);
e.innerHTML="";
e.appendChild(h);
j.insert(h,e);
}f=k;
}while(f&&f!=l);
return h;
}};
b.DomTreeExtractor=c;
b.DomTreeExtractor.registerClass("Telerik.Web.UI.Editor.DomTreeExtractor");
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,n){var o=b.Utils;
var c=o.canHaveChildren;
var m=o.isTextNode;
b.RangeEdges=function(){};
b.RangeEdges.startNode=function(p){if(l(p)){return k(p);
}};
b.RangeEdges.endNode=function(p){if(l(p)){var q=k(p);
return p.isCollapsed()||o.isTag(q?q.parentNode:q,"textarea")?q:f(p);
}};
b.RangeEdges.commonNode=function(q){if(l(q)){var r=b.RangeEdges.startNode(q);
if(q.isCollapsed()){return r;
}var p=b.RangeEdges.endNode(q);
return o.findCommonAncestor(r,p);
}};
var k=function(r){var p=r.startContainer;
var q=r.startOffset;
if(!r.isCollapsed()&&m(p)&&p.length==q){p=i(p);
}p=e(p,q)||p;
return g(p);
};
var f=function(t){var r=t.endContainer;
var s=t.endOffset;
if(t.startOffset+1==t.endOffset&&t.startContainer==t.endContainer){r=e(r,t.startOffset)||r;
return h(r);
}if(m(r)&&s!=0){return r;
}var p=d(r,s);
if(p&&c(p)){return h(p);
}r=p||r;
if(!c(r)&&!(m(r)&&s==0)){return r;
}else{if(r.lastChild){var q=h(r);
if(q==k(t)){return q;
}}}if((m(r)&&s==0)||(r!=t.endContainer&&s!=0)){r=j(r);
}return h(r);
};
var e=function(r,p){if(c(r)){var q=r.childNodes;
return q.length==p?q[p-1]:q[p];
}};
var d=function(q,p){if(c(q)){return q.childNodes[p-1];
}};
var g=function(p){while(p.firstChild){p=p.firstChild;
}return p;
};
var h=function(p){while(p.lastChild){p=p.lastChild;
}return p;
};
var j=function(q){var p=false;
while(q.previousSibling&&o.isCompletelyEmptyDom(q.previousSibling)){q=q.previousSibling;
if(!m(q)&&!c(q)){return q;
}p=true;
}if(p&&q){return q;
}while(!q.previousSibling){q=q.parentNode;
}return q.previousSibling;
};
var i=function(p){while(!p.nextSibling){p=p.parentNode;
}return p.nextSibling;
};
var l=function(p){return p&&b.DomRange.isInstanceOfType(p);
};
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
Type.registerNamespace("Telerik.Web.UI.Editor.FragmentsCondition");
(function(a,b,d,c){b.RangeFragmentsTraverser=function(e){this.iterator=new b.RangeIterator(e);
this.range=this.iterator.range;
this.traversedFragments=[];
this.nodesToTraverse=[];
};
b.RangeFragmentsTraverser.prototype={traverseFragments:function(e){var f=this.nodesToTraverse;
this.iterator.iterate(function(g){f.push(g);
});
if(f.length==0){return;
}this.normalizeRangeEdgesForTables(e);
this.splitRangeEdges();
this.clearEmptyTextNodes(this.nodesToTraverse);
while(this.nodesToTraverse.length){this.collectNode(this.nodesToTraverse.shift(),e);
}this.removeDuplicatedEnd();
},collectNode:function(h,e){while(h&&this.isInRange(h)){if(!this.isSuitable(h,e)){this.removeTraversedNode(h);
if(h.firstChild){this.collectNode(h.firstChild,e);
}h=h.nextSibling;
continue;
}var f=new b.FragmentContainer();
var g=h;
while(g&&this.isSuitable(g,e)){if(e(g)){this.removeTraversedNode(g);
}h=g;
g=h.nextSibling;
f.addNode(h);
}this.storeFragment(f);
h=h?h.nextSibling:null;
}},storeFragment:function(e){if(e.nodes.length){this.traversedFragments.push(e);
}},isSuitable:function(f,e){return e(f)&&this.isInRange(f);
},isInRange:function(f){var g=this.range.cloneRange();
if(g.range.length){for(var e=0;
e<g.range.length;
e++){if(g.range.item(e)==f){return true;
}}return false;
}g.selectNodeContents(f);
return this.range.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.END_TO_END,g)>-1&&this.range.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.START_TO_START,g)<1;
},removeTraversedNode:function(e){var g=this.nodesToTraverse;
var f=a.inArray(e,g);
if(f!=-1){g.splice(f,1);
}},trimNodesToTraverse:function(){var f=this.nodesToTraverse;
for(var e=0;
e<f.length;
e++){if(d.isTextNode(f[e])){d.trimExtraWhitespace(f[e]);
}}},normalizeRangeEdgesForTables:function(e){var i=this.nodesToTraverse;
var h=i[i.length-1];
var k=function(l){return d.isTag(h,l);
};
var g=k("tr");
var f=k("table")||k("thead")||k("tbody");
var j=!e(h);
if(f&&j){this.substitudeLastNodeWithChildren(h.getElementsByTagName("tr"));
this.normalizeRangeEdgesForTables(e);
}if(g&&j){this.substitudeLastNodeWithChildren(h.childNodes);
}},substitudeLastNodeWithChildren:function(e){var g=this.nodesToTraverse;
g.pop();
for(var f=0;
f<e.length;
f++){g.push(e[f]);
}},splitRangeEdges:function(){var e=this.splitEnd(this.range.endContainer,this.range.endOffset);
var f=this.splitStart(this.range.startContainer,this.range.startOffset);
if(f){this.range.setStartBefore(f);
}if(e){this.range.setEndAfter(e);
}this.range.select();
},splitStart:function(f,g){if(d.isTextNode(f)){var j=f.data;
var h=f.parentNode;
if(g===f.length){return f.nextSibling;
}else{if(g>0&&g<f.length){var e=f.ownerDocument;
var i=e.createTextNode(j.substring(0,g));
f.data=j.substring(g);
h.insertBefore(i,f);
return f;
}}return f;
}return d.canHaveChildren(f)?f.childNodes[g]:f;
},splitEnd:function(i,j){if(d.isTextNode(i)){var l=i.data;
var k=i.parentNode;
if(j===0){return i.previousSibling;
}else{if(j>0&&j<i.length){var g=i.ownerDocument;
var h=g.createTextNode(l.substring(j));
i.data=l.substring(0,j);
k.insertBefore(h,i.nextSibling);
return i;
}}return i;
}if(d.canHaveChildren(i)){var e=i.childNodes;
var f=e[j-1];
return f||d.traversePreviousNode(i.firstChild);
}else{return i;
}},removeDuplicatedEnd:function(){var f=this.traversedFragments;
if(f.length<2){return;
}var e=f.length,g=f[e-1],h=g.nodes[0],i=f[e-2],j=i.nodes[i.nodes.length-1];
while(d.isAncestorOf(j,h)){g.removeNodeAt(0);
if(g.nodes.length==0){f.pop();
break;
}h=g.nodes[0];
}},clearEmptyTextNodes:function(g){for(var f=0;
f<g.length;
){var h=g[f];
if(d.isTextNode(h)&&h.nodeValue==""){var e=g.splice(f,1)[0];
if(e.parentNode){e.parentNode.removeChild(e);
}}else{f++;
}}}};
b.RangeFragmentsTraverser.registerClass("Telerik.Web.UI.Editor.RangeFragmentsTraverser");
b.BlockFragmentsTraverser=function(e){this.options=a.extend({breakCondition:b.FragmentsCondition.isInlineNode},e||{});
this.currentFragment=new b.FragmentContainer();
};
b.BlockFragmentsTraverser.prototype={traverseFragment:function(f,g){if(!g){g=this.options.breakCondition;
}var e=this.currentFragment;
this.traverseLeft(f,g);
e.addNode(f);
this.traverseRight(f,g);
return e;
},traverseLeft:function(h,i){var e=this.currentFragment;
var f=h;
var g=[];
while((f=f.previousSibling)&&i(f)){g.push(f);
}while(g.length){e.addNode(g.pop());
}},traverseRight:function(g,h){var e=this.currentFragment;
var f=g;
while((f=f.nextSibling)&&h(f)){e.addNode(f);
}}};
b.BlockFragmentsTraverser.registerClass("Telerik.Web.UI.Editor.BlockFragmentsTraverser");
b.FragmentsCondition.isInlineNode=function(e){return e.nodeType==3||!d.isBlockElement(e);
};
b.FragmentsCondition.isInlineTag=function(e){return function(f){return b.FragmentsCondition.isInlineNode(f)&&!d.isTag(f,e);
};
};
b.FragmentsCondition.isInlineNodeForIE8=function(e){return e.nodeType==3||!d.isBlockElementOrNewLine(e);
};
b.FragmentsCondition.inlineNotLink=b.FragmentsCondition.isInlineTag("a");
b.FragmentsCondition.inlineNotLinkForIE8=function(e){return b.FragmentsCondition.isInlineNodeForIE8(e)&&!d.isTag(e,"a");
};
b.FragmentContainer=function(){this.nodes=[];
};
b.FragmentContainer.prototype={addNode:function(e){this.nodes.push(e);
},addAll:function(f){for(var e=0;
e<f.length;
e++){this.addNode(f[e]);
}},addNodeAt:function(f,e){this.nodes.splice(e,0,f);
},removeNodeAt:function(e){this.nodes.splice(e,1);
},removeNode:function(f){var e=this.indexOf(f);
if(e!=-1){this.removeNodeAt(e);
}},contains:function(e){return this.indexOf(e)!=-1;
},indexOf:function(e){return a.inArray(e,this.nodes);
},getParent:function(){return this.nodes.length?this.nodes[0].parentNode:null;
},appendTo:function(g){var h=this.nodes,e,f;
for(e=0,f=h.length;
e<f;
e++){g.appendChild(h[e]);
}},insertBefore:function(f){var h=f.parentNode;
var g=this.nodes;
for(var e=0;
e<g.length;
e++){h.insertBefore(g[e],f);
}},insertBeforeFirst:function(e){if(!this.nodes.length){return;
}var f=this.getParent();
f.insertBefore(e,this.nodes[0]);
},appendNodeAfter:function(f){if(!this.nodes.length){return;
}var g=this.getParent();
var e=this.nodes[this.nodes.length-1];
g.insertBefore(f,e.nextSibling);
},remove:function(){var h=this.getParent();
if(!h){return;
}var g=this.nodes;
for(var e=0,f=g.length;
e<f;
e++){h.removeChild(g[e]);
}},clear:function(){this.nodes.length=0;
},isEmpty:function(e){return !d.some(this.nodes,function(f){return(d.isTag(f,"img")||!d.isWhitespaceNode(f))&&(!e||!e(f));
});
},all:function(e){return d.every(this.nodes,e);
},any:function(e){return d.some(this.nodes,e);
}};
b.FragmentContainer.registerClass("Telerik.Web.UI.Editor.FragmentContainer");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,k){var l=b.Utils;
var c=Telerik.Web.Browser;
var f=c.ie&&c.version<9;
var m="\u200b";
var j="_reSelectionEdge";
var g="_reSelectedElement";
var i="_startoffset";
var e="_endoffset";
var h="_startindex";
var d="_endindex";
b.RangeHolder=function(){};
b.RangeHolder.prototype={markRangeEdges:function(t){var v=this;
var u=v._createMarker(t.startContainer.ownerDocument);
if(l.isTextNode(t.startContainer)&&l.isTextNode(t.endContainer)){v._markSelectedTextNodes(t);
}else{if(t.isCollapsed()||l.isZwspTextNode(b.RangeEdges.commonNode(t))){v._insertNode(u,t);
}else{var q=v._traverseFragments(t);
if(q.length==0){return;
}var o=q[0];
var r=q[q.length-1];
var p=o.nodes[0];
var s=r.nodes[r.nodes.length-1];
if(l.isTableCell(p)&&p===s){a(p).addClass(g);
}else{var n=u.cloneNode(true);
o.insertBeforeFirst(u);
o.addNodeAt(u,0);
r.appendNodeAfter(n);
r.addNode(n);
}}}},selectWithinMarkers:function(q){if(!q||!q.length){return;
}var s=q[0],p=q[1],o=s.ownerDocument,r=b.DomRange.rangeFromWindow(o.defaultView)||b.DomRange.createRange(o);
var n=new b.Consolidator();
if(!n.normalizeTextEdge(s,r,true)){r.setStartAfter(s);
}if(p&&!n.normalizeTextEdge(p,r,false)){r.setEndBefore(p);
}if(!p){r.collapse(true);
}r.select();
a(q).remove();
},_restoreTextSelection:function(o,p,n){var q=this;
if(p){q._setRangeEdge(o,p,true);
q._removeMarkerAttributes(p,true);
}if(n){q._setRangeEdge(o,n,false);
q._removeMarkerAttributes(n,false);
}if(!p&&n){o.collapse(false);
}else{if(p&&!n){o.collapse(true);
}}if(p||n){o.select();
}},_removeMarkerAttributes:function(n,o){if(!n){return;
}if(o===true){a(n).removeAttr(i).removeAttr(h);
}else{if(o===false){a(n).removeAttr(e).removeAttr(d);
}else{a(n).removeAttr(i).removeAttr(h);
a(n).removeAttr(e).removeAttr(d);
}}},_setRangeEdge:function(t,p,u){var s=u?i:e;
var r=u?"setStart":"setEnd";
var o=u?h:d;
var n=parseInt(p.getAttribute(o),10);
var q=parseInt(p.getAttribute(s),10);
if(!isNaN(q)){t[r](p.childNodes[n],q);
}},get_markerSelector:function(){return"span."+j;
},_restoreCollapsedRange:function(u,q){var s=q.parentNode;
var n=new b.Consolidator();
var t=q.previousSibling;
var r=q.nextSibling;
if(n.normalizeTextEdge(q,u)){u.collapse();
}else{if(l.isTextNode(r)||(!t&&l.canHaveChildren(r))){u.setStart(r,0);
u.collapse(true);
}else{if(l.isTextNode(t)){u.setStart(t,t.length);
u.collapse(true);
}else{var v=f?m+m:m;
var p=q.ownerDocument.createTextNode(v);
s.insertBefore(p,q);
u.setEnd(p,v.length-1);
u.collapse();
}}}a(q).remove();
try{u.select();
}catch(o){}},_traverseFragments:function(o){var p=new b.RangeFragmentsTraverser(o);
var n=a.proxy(this._traverseCondition,this);
p.traverseFragments(n);
return p.traversedFragments;
},_traverseCondition:function(n){return b.FragmentsCondition.isInlineNode(n)&&!l.isWhitespaceBetweenTableCells(n);
},_createMarker:function(n){var o=n.createElement("span");
o.className=j;
return o;
},_markSelectedTextNodes:function(p){var r=this;
var q=p.startContainer;
var o=p.endContainer;
var n={};
n[i]=p.startOffset+r._offset(q);
n[h]=r._index(q);
a(q.parentNode).attr(n);
n={};
n[e]=p.endOffset+r._offset(o);
n[d]=r._index(o);
a(o.parentNode).attr(n);
},_index:function(q){var p=l.findNodeIndex(q);
var n=q;
var r=q.previousSibling;
for(var o=p;
o>=0;
o--){if(l.isTextNode(n)&&l.isTextNode(r)){p--;
}n=r;
r=n?n.previousSibling:k;
}return p;
},_offset:function(n){var o=0;
while(l.isTextNode(n.previousSibling)){o+=n.previousSibling.length;
n=n.previousSibling;
}return o;
},_insertNode:function(o,p){var n=b.RangeEdges.commonNode(p);
if(l.isZwspTextNode(n)){n.parentNode.insertBefore(o,n.nextSibling);
}else{var q=new b.Selection(n.ownerDocument.defaultView);
q.insertNode(o,p);
}}};
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.RangeIterator=function(f,e){this.options=a.extend({normalizeEdges:$telerik.isIE&&!$telerik.isIE9Mode},e||{});
f=this.range=b.DomRange.toDomRange(f);
if(this.range.isCollapsed()){return;
}this._normalizeRangeEdges();
var g=f.commonAncestorContainer;
this._next=f.startContainer==g&&!d.isTextNode(f.startContainer)?f.startContainer.childNodes[f.startOffset]:d.findAncestorUntil(g,f.startContainer);
this._end=f.endContainer==g&&!d.isTextNode(f.endContainer)?f.endContainer.childNodes[f.endOffset]:d.findAncestorUntil(g,f.endContainer).nextSibling;
};
b.RangeIterator.prototype={iterate:function(e){var f=this.nextNode();
while(f){if(this._hasSubTree(f)){this._buildSubTraverser(f).iterate(e);
}else{e(f);
}f=this.nextNode();
}},nextNode:function(){var e=this._next;
this._next=e&&e.nextSibling!=this._end?e.nextSibling:null;
return e;
},_hasSubTree:function(e){return !d.isTextNode(e)&&d.canHaveChildren(e)&&(d.isAncestorOrSelf(e,this.range.startContainer)||d.isAncestorOrSelf(e,this.range.endContainer));
},_buildSubTraverser:function(e){var f=this.range.cloneRange();
f.selectNodeContents(e);
if(d.isAncestorOrSelf(e,this.range.startContainer)){f.setStart(this.range.startContainer,this.range.startOffset);
}if(d.isAncestorOrSelf(e,this.range.endContainer)){f.setEnd(this.range.endContainer,this.range.endOffset);
}return new b.RangeIterator(f,a.extend({},this.options));
},_normalizeRangeEdges:function(){if(this.options.normalizeEdges){this.range.normalizeEdges();
}},_collectEdgeNode:function(f,g,e){return d.isTextNode(f)||(e&&d.isTextNode(f.childNodes[g]))?f:f.childNodes[g];
}};
b.RangeIterator.registerClass("Telerik.Web.UI.Editor.RangeIterator");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.RangeTraverser=function(e){this.iterator=new b.RangeIterator(e);
this.range=this.iterator.range;
this.traversedNodes=[];
};
b.RangeTraverser.prototype={traverse:function(){var f=this.traversedNodes;
var e=function(g){if(g.nodeType==3||g.tagName.toLowerCase()=="img"){f.push(g);
}else{g=g.firstChild;
while(g){e(g);
g=g.nextSibling;
}}};
this.iterator.iterate(e);
}};
b.RangeTraverser.registerClass("Telerik.Web.UI.Editor.RangeTraverser");
b.RangeBlockTraverser=function(f,e){this.iterator=new b.RangeIterator(f);
this.range=this.iterator.range;
this.options=a.extend({isSuitableNode:d.isBlockElement},e||{});
this.traversedNodes=[];
};
b.RangeBlockTraverser.prototype={traverse:function(i){i=i||Function.emptyFunction;
var g=this.traversedNodes;
this.iterator.iterate(function(j){g.push(j);
});
if(!g.length){var h=this.range;
var f=[d.isTextNode(h.startContainer)?h.startContainer:h.startContainer.childNodes[h.startOffset],d.isTextNode(h.endContainer)?h.endContainer:h.endContainer.childNodes[h.endOffset],h.commonAncestorContainer];
while(f.length!=0&&g.length==0){var e=f.shift();
if(e&&!i(e)){g.push(e);
}}}this.edgesToBlock(g,i);
return g;
},edgesToBlock:function(n,q){var p=this.options;
var k=p.isSuitableNode;
var f=function(i){return d.getConditionalParentUntil(i,k,q);
};
var m=n.length-1;
var h=n[0]=f(n[0]);
var l=n[m]=f(n[m]);
var e=h;
var g=function(i){if(k(i)){return true;
}var o=f(i);
if(i===o||(k(o)&&e!==o)){e=o;
return o;
}};
for(var j=1;
j<n.length-1;
j++){if(!g(n[j])){n.splice(j,1);
j--;
}}e=l;
for(var r=n.length-2;
r>0;
r--){if(g(n[r])){break;
}n.splice(r,1);
r++;
}}};
b.RangeBlockTraverser.registerClass("Telerik.Web.UI.Editor.RangeBlockTraverser");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,o){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI,b=c.Editor,d=40,l="reIconSelected",m="reToolText",f="reTabIcon",k="reMore",e="click",j="load",g="itemSelected",i="itemsListShowing",n='<span class="reButton">	<span class="'+m+'">#titleText#</span>	<span class="'+k+'">		<span class="'+f+' reIconMore"></span>	</span></span><div style="display: none;" class="reTabChooserOverlay"> </div><ul class="reToolList reToolDropDown" style="display: none">#items#</ul>',h='<li>	<span class="'+m+'">#itemText#</span>	<span class="'+f+' #selectedIconClass#"></span></li>';
b.TabChooser=function(p){b.TabChooser.initializeBase(this,[p]);
};
b.TabChooser.prototype={initialize:function(){var p=this;
b.TabChooser.callBaseMethod(p,"initialize");
p._createUI();
p._attachEventHandlers();
p.raiseEvent(j);
},_createUI:function(){var r=this,q=r.get_items(),p=n.replace("#titleText#",q[0]||"&nbsp;").replace("#items#",r._getItemsHtml());
a(r.get_element()).html(p);
},_getItemsHtml:function(){var r=this.get_items(),p="";
for(var q=0,s=r.length;
q<s;
q++){p+=h.replace("#itemText#",r[q]).replace("#selectedIconClass#",q==0?l:"");
}return p;
},_attachEventHandlers:function(){var p=this;
p._onMoreIconClickDelegate=Function.createDelegate(p,p._onMoreIconClick);
p._itemClickDelegate=Function.createDelegate(p,p._onItemClick);
p._overlayClickDelegate=Function.createDelegate(p,p._onOverlayClick);
a(p.get_buttonElement()).on(e,p._onMoreIconClickDelegate);
a(p.get_itemsContainer()).on(e,p._itemClickDelegate);
a(p.get_overlayElement()).on(e,p._overlayClickDelegate);
},_detachEventHandlers:function(){var p=this;
a(p.get_buttonElement()).off(e,p._onMoreIconClickDelegate);
a(p.get_itemsContainer()).off(e,p._itemClickDelegate);
a(p.get_overlayElement()).off(e,p._overlayClickDelegate);
},_onMoreIconClick:function(q){$telerik.cancelRawEvent(q.originalEvent);
var p=new b.TabChooserEventArgs(this.get_itemsContainer());
this.raiseEvent(i,p);
this.showItemsList();
},_onItemClick:function(p){var s=this,q=s._getItemElement(p);
if(!s._isSelected(q)){var r=s.get_items()[a(q).index()];
s.selectTab(r);
}s.hideItemsList();
},_onOverlayClick:function(){this.hideItemsList();
},_getItemElement:function(p){var q=p.target;
if(q.nodeName!="LI"){q=q.parentNode;
}return q;
},get_listItemHeight:function(){var r=this;
if(!r._itemHeight){var q=r.get_itemsContainer();
var p=a(q).find("li:visible:first");
if(p.length>0){r._itemHeight=p.get(0).offsetHeight;
}else{p=a(h.replace("#itemText#","tmp item").replace("#selectedIconClass#","")).appendTo(q);
r._itemHeight=p.get(0).offsetHeight;
p.remove();
}}return r._itemHeight;
},_isSelected:function(p){return a("."+f,p).hasClass(l);
},selectTab:function(r){var s=this;
var q=a(s.get_itemsContainer());
var p=q.children().get(Array.indexOf(s.get_items(),r));
if(p){q.find("."+l).removeClass(l);
a(p).find("."+f).addClass(l);
s.raiseEvent(g,new b.TabChooserEventArgs(r));
}},selectContextualTab:function(r){var s=this;
var p=s._getContextualElement(r);
var q=s._getContextualTab(p)||s.get_defaultTab();
s.selectTab(q);
},_getContextualElement:function(q){var r=this._getTabsContextSelector();
var p=b.Utils.getElementParentByCondition(q,function(s){return a(s).is(r);
});
return p;
},_getTabsContextSelector:function(){var q=this;
if(!q._selector){var p=[];
Array.forEach(q.get_contexts(),function(r){p=p.concat(r);
});
q._selector=q._toJquerySelector(p);
}return q._selector;
},_getContextualTab:function(r){if(!r){return;
}var v=this;
var u=v.get_items();
var q=v.get_contexts();
var t=a(r);
for(var s=0;
s<q.length;
s++){var p=q[s];
if(t.is(v._toJquerySelector(p))){return u[s];
}}},_toJquerySelector:function(p){return p.join(",").replace(/[\,]+/g,",").replace(/^\,|\,$/g,"");
},get_buttonElement:function(){var p=this;
if(!p._moreButtonElement){p._moreButtonElement=a("."+k,p.get_element()).get(0);
}return p._moreButtonElement;
},get_textElement:function(){var p=this;
if(!p._textElement){p._textElement=a("."+m,p.get_element()).get(0);
}return p._textElement;
},get_overlayElement:function(){var p=this;
if(!p._overlayElement){p._overlayElement=a(".reTabChooserOverlay",p.get_element()).get(0);
}return p._overlayElement;
},show:function(p){var q=a(this.get_element());
q.css({position:"absolute",opacity:0,display:""});
q.stopTransition();
q.transition({opacity:1},d,"easeOut",function(){q.css("position","static");
p&&p();
});
},hide:function(p){var q=a(this.get_element());
q.stopTransition();
q.transition({opacity:0},d,"easeOut",function(){q.css("display","none");
p&&p();
});
},showItemsList:function(){var p=this;
a(p.get_itemsContainer()).show().css({top:p._calculateItemsListTopPosition(),"max-height":(p.get_listItemHeight()*p.get_maxVisibleItems())+"px"});
a(p.get_overlayElement()).show();
},_calculateItemsListTopPosition:function(){var r=this,p=r.get_element(),s=$telerik.getBounds(p).y-p.offsetTop,q=Math.min(r.get_maxVisibleItems(),a("li:visible",r.get_itemsContainer()).length);
s-=r.get_listItemHeight()*Math.floor(q/2);
return s+"px";
},hideItemsList:function(){a(this.get_itemsContainer()).hide();
a(this.get_overlayElement()).hide();
},get_itemsContainer:function(){var p=this;
if(!p._itemsContainer){p._itemsContainer=a("ul.reToolList",p.get_element()).get(0);
}return p._itemsContainer;
},itemsListIsVisible:function(){return a(this.get_itemsContainer()).is(":visible");
},get_text:function(){return a(this.get_textElement()).html();
},set_text:function(p){a(this.get_textElement()).html(p);
},dispose:function(){this._detachEventHandlers();
b.TabChooser.callBaseMethod(this,"dispose");
}};
a.registerControlProperties(b.TabChooser,{items:[],contexts:[],defaultTab:"",maxVisibleItems:6});
a.registerControlEvents(b.TabChooser,[j,i,g]);
b.TabChooser.registerClass("Telerik.Web.UI.Editor.TabChooser",c.RadWebControl);
b.TabChooserEventArgs=function(p){b.TabChooserEventArgs.initializeBase(this);
this._value=p;
};
b.TabChooserEventArgs.prototype={get_value:function(){return this._value;
},set_value:function(p){this._value=p;
}};
b.TabChooserEventArgs.registerClass("Telerik.Web.UI.Editor.TabChooserEventArgs",Sys.EventArgs);
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI");
var c=Telerik.Web.UI;
var b=c.Editor;
b.BaseToolAdapter=function(e){b.BaseToolAdapter.initializeBase(this,[e]);
this._tools=[];
};
b.BaseToolAdapter.prototype={initialize:function(){b.BaseToolAdapter.callBaseMethod(this,"initialize");
},attachEventHandlers:function(){},detachEventHandlers:function(){},getToolByName:function(e){return b.Utils.first(this.get_tools(),function(f){return f.get_name()===e;
});
},setToolState:function(n,h){if(!n){n=this._tools;
}var e=this.get_editor(),k=this._rangeState||b.DomRange.rangeFromWindow(e.get_contentWindow())||e.domRangeToFirstText();
for(var f=0;
f<n.length;
f++){var j=n[f];
if(j.get_name){var m=j.get_name();
if(j.setState){var l=h;
if(null==l){l=e.getToolState(m,k);
}if(null!=l){j.setState(l);
}}var o=e.get_contentWindow();
var g=o.document===d||o.document.defaultView===d;
if(j.updateValue&&!g){j.updateValue(e.getToolValue(m,k));
}}}this._rangeState=null;
},get_tools:function(){return this._tools;
},repaint:function(){},_raiseEditorEvent:function(h,i){if(!h.get_enabled()){return;
}var g=this.get_events().getHandler("toolClick");
if(g){var e=h.get_name?h.get_name():"";
var f=new c.EditorCommandEventArgs(e,h,i);
g(h,f);
}},_onEditorSelectionChange:function(f,e){this.setToolState();
},dispose:function(){var e=this;
e.detachEventHandlers();
b.BaseToolAdapter.callBaseMethod(e,"dispose");
e._tools=[];
}};
a.registerControlProperties(b.BaseToolAdapter,{editor:null,element:null});
a.registerControlEvents(b.BaseToolAdapter,["toolClick"]);
b.BaseToolAdapter.registerClass("Telerik.Web.UI.Editor.BaseToolAdapter",Sys.UI.Control);
})($telerik.$);
(function(a,y){Type.registerNamespace("Telerik.Web.UI");
var c=Telerik.Web.UI;
var k=c.EditorToolbarMode;
var j=c.EditModes;
var m=window;
var d=m.$telerik;
var b=c.Editor;
var l=b.Utils;
var q=a.proxy;
var f=Function.createDelegate;
var h=".";
var e=10;
var x="type";
var i="duration";
var p="none";
var w="toolBarAnimation";
var v="ToggleEditMode";
var r="RadEditor";
var u="reWrapper";
var t="reDropDownBody";
var s="reDropdown";
var g="div[id*='dialogOpener'].RadWindow";
var o="reInlineEditorSelected";
var n="inlineEditCompleted";
b.DefaultToolAdapter=function(z){var A=this;
b.DefaultToolAdapter.initializeBase(A,[z]);
A._editor=null;
A._toolJSON=[];
A._tools=[];
A._contextMenusEnabled=true;
A.isIE=d.isIE;
A._editorIEFirstShow=false;
A._contentAreaMode="";
A._animation={};
A._toolBarInitialShowExecuted=null;
A._inlineEditingStarted=false;
A._contextMenuFunctionality=null;
};
b.DefaultToolAdapter._visibleToolAdapter=null;
b.DefaultToolAdapter.prototype={initialize:function(){var A=this;
var z=A.get_editor();
var B=z.get_toolbarMode();
this._onEditorSelectionChangeDelegate=f(this,this._onEditorSelectionChange);
this._onEditorModeChangeDelegate=f(this,this._onEditorModeChange);
this._onEditorLoadDelegate=f(this,this._onEditorLoad);
this._onToolBarClickDelegate=f(this,this._onToolBarClick);
this._onToolBarKeyDownDelegate=f(this,this._onToolBarKeyDown);
this._onDropDownValueSelectedDelegate=f(this,this._onDropDownValueSelected);
this._onDropDownBeforeShowDelegate=f(this,this._onDropDownBeforeShow);
this._onDropDownHideDelegate=f(this,this._onDropDownHide);
this._onClientDragStartDelegate=f(this,this._onClientDragStart);
A._changeToolBarVisibilityDelegate=q(A._changeToolBarVisibility,A);
A._initializeAnimation();
this._initContextMenus();
this._registerEditorHandlers();
switch(B){case k.Default:z.add_firstShow(Function.createDelegate(this,function(){this._attachToolbarJsonToHtml();
}));
break;
case k.Floating:A._createFloatingButton();
break;
case k.PageTop:case k.ShowOnFocus:this._attachToolBarEventHandlers();
break;
}if(z._isInInlineEditMode()){A._attachToolBarEventHandlers();
}if(this._isToolBarFloating()){this._editorInitialBounds=d.getSize(z.get_element());
}this._registerToolBarHolderHandlers();
this._contextMenuFunctionality=this._createContextMenuFunctionality();
},_createContextMenuFunctionality:function(){var z=this.get_editor();
if(!z.get_useRadContextMenu()){return new c.Editor.EditorContextMenuFunctionality();
}else{return new c.Editor.RadContextMenuFunctionality();
}},repaint:function(){if(Telerik.Web.Browser.ff&&Telerik.Web.Browser.version>=62){var z=this.get_editor();
z._contentAreaCommonInitialization();
}},_attachToolbarJsonToHtml:function(){var F=this;
if(F._initializedToolbars){return;
}F._initializedToolbars=true;
var H=this.get_toolJSON(),G=this._getToolBarElements(),I=[],D,J;
var A=F.get_editor();
for(D=0;
D<H.length;
D++){var E=H[D];
var C=G[D];
this._initializeToolbar(E,C);
var z=E.attributes;
J=z?z.dockingzone:null;
if(J){I[I.length]=[J,C];
}}if(d.isIE){var B=this.get_element();
if(!A._isInInlineEditMode()){B.style.height="";
}}for(D=0;
D<I.length;
D++){var L=I[D][0];
J=L.charAt(0).toUpperCase()+L.substring(1);
if(J=="Top"){continue;
}var K=$get(A.get_id()+J);
if(J=="Left"||J=="Right"){if(A.get_renderMode()==c.RenderMode.Lite){d.$(K).addClass("reToolBarWrapper reToolBarWrapper"+J);
d.$(A.get_element()).addClass("reToolBar"+J);
}else{if(A.get_renderMode()==c.RenderMode.Classic){d.$(A.get_element()).addClass("reToolBar"+J);
}}}if(!K){K=$get(L);
}if(K){if(K.innerHTML=="&nbsp;"){K.innerHTML="";
}K.appendChild(I[D][1]);
}}},_setToolbarHolderProperties:function(){var z=this.get_editor();
var B=z.get_toolbarMode();
var D=this.get_toolbarHolder();
var C=c.WindowBehaviors;
var A=c.EditorToolbarMode;
if((B===A.ShowOnFocus)||(B===A.PageTop)||z._isInInlineEditMode()){D.set_behaviors(C.None);
D.set_visibleTitlebar(false);
}else{D.set_behaviors(C.Move+C.Close+C.Pin);
}this.get_element().style.visibility="visible";
},_showToolbarHolder:function(D){var B=this;
var z=B.get_editor();
var A=c.EditorToolbarMode;
if(!D){if(this._toolbarHolder){this._toolbarHolder.hide();
}return;
}if((z.isFullScreen()&&!this._isToolBarFloating())||z.get_dialogOpener().get_hasOpenedDialog()){return;
}var E=b.DefaultToolAdapter._visibleToolAdapter;
if(E==this&&E._toolbarHolder&&E._toolbarHolder.isVisible()){E.get_toolbarHolder().setActive(true);
return;
}if(E&&E._showToolbarHolder){E._showToolbarHolder(false);
}b.DefaultToolAdapter._visibleToolAdapter=this;
this.get_window();
this._setToolbarHolderProperties();
this._toolbarHolder.show();
if(z._isInInlineEditMode()&&!B._toolBarInitialShowExecuted){B._toolBarInitialShowExecuted=true;
B._hidePopup();
}if(d.isIE&&this._fakeToolbarParentCreated){var C=z.get_toolbarMode();
if(C===A.ShowOnFocus||C===A.PageTop||z._isInInlineEditMode()){this._fakeToolBarParent.style.display="none";
}}this.setToolState();
},_hidePopup:function(){var A=this;
var B=A.get_toolbarHolder();
var z=B?B.get_popupElement():null;
if(z){a(z).css({display:p});
}},_positionWindow:function(){var A=Telerik.Web.UI.EditorToolbarMode;
var z=this.get_editor();
var B=z.get_toolbarMode();
if(B==A.ShowOnFocus||z._isInInlineEditMode()){this._positionToolbarAboveEditor();
}else{if(B==A.PageTop){this._positionOnPageTop();
}else{if(B==A.Floating){if(!this._wasShown){this._positionToolbarAboveEditor();
this._wasShown=true;
}}}}},get_window:function(){if(!this._toolbarHolder){var C=this;
var A=C.get_editor();
var E=A.get_toolbarMode();
var D=Telerik.Web.UI.EditorToolbarMode;
var B=A.get_dialogOpener();
var z;
var F;
if((E==D.Default||E==D.RibbonBar)&&!A._isInInlineEditMode()){return null;
}z=B&&B.get_container?B.get_container():null;
if(!z){return;
}F=z.clone(A.get_id()+"_toolbarMode");
F.set_visibleStatusbar(false);
F.set_keepInScreenBounds(E==D.RibbonBarFloating||E==D.Floating);
F.setSize(this.get_element().offsetWidth+10,1);
F.add_show(Function.createDelegate(this,function(H,G){var J=A.get_toolbarMode(),I=Telerik.Web.UI.EditorToolbarMode;
if(F._renderMode==Telerik.Web.UI.RenderMode.Lite){this._onWindowShowLite(H,G);
}else{this._onWindowShow(H,G);
}this._positionWindow();
if(J==I.PageTop||J==I.RibbonBarPageTop){H.get_popupElement().style.height="";
H.get_contentElement().style.height="";
}}));
this._toolbarHolder=F;
if(A._isInInlineEditMode()){C._setToolBarAnimation();
}this._moveToolbarsToEditor(false);
}return this._toolbarHolder;
},_onWindowShowLite:function(H,A){var I=this;
var B=I.get_editor();
var C=B.get_element();
var D=H.get_contentElement();
var F=H.get_popupElement();
var z=a(F);
var K=B.get_toolbarMode();
var J=c.EditorToolbarMode;
var E=B._isInInlineEditMode();
if(!D||!F){return;
}F.style.zIndex="10000";
a(F).addClass("reToolbarWindow");
a(F).addClass(a(C).attr("class")+" reToolbarWindow");
if(E){z.removeClass(o);
}I._setToolBarWidth(H);
H.setActive(true);
a(".rwContent",F).css("padding","1px 0px 0px 0px");
this._attachToolbarJsonToHtml();
var G=function(){F.style.height="";
D.style.height="";
};
switch(K){case J.ShowOnFocus:G();
break;
case J.RibbonBarPageTop:case J.RibbonBarFloating:case J.RibbonBarShowOnFocus:case J.RibbonBar:G();
D.style.overflow="hidden";
a(".rwContent",F).css("padding","0px 0px 5px 0px");
break;
}if(E){G();
}},_onWindowShow:function(D,z){var E=this;
var A=E.get_editor();
var B=A._isInInlineEditMode();
var F=D.get_contentElement();
var C;
if(!F){return;
}C=D.get_popupElement();
C.style.zIndex="10000";
D.setActive(true);
Sys.UI.DomElement.addCssClass(C,"reToolbarWindow");
if(B){E._addInlineEditModeStyles(C);
}this._attachToolbarJsonToHtml();
F.style.overflow="";
E._setToolBarWidth(D);
F.style.width="100%";
},_setToolBarWidth:function(D){var C=this;
var z=C.get_editor();
var B=z.get_element();
var E=z.get_toolsWidth();
var A;
if(!E){A=this._isToolBarFloating()?this._editorInitialBounds:d.getSize(B);
D.set_width(A.width);
}else{D.set_width(E);
}},_addInlineEditModeStyles:function(B){var D=this;
var A=D.get_editor();
var C=A.get_skin();
var z=a(B);
z.addClass(r);
z.addClass(C);
z.addClass(u);
},_initializeAnimation:function(){var B=this;
var A=B.get_editor();
var z=A._animationSettings;
if(z){B._animation=z[w];
}},get_animationType:function(){var B=this;
var z=B._getAnimation();
var A=z?z[x]:null;
return A;
},set_animationType:function(A){var z=this;
if(z._toolbarHolder){z._animation[x]=A;
z._toolbarHolder.set_animation(A);
}},get_animationDuration:function(){var B=this;
var z=B._getAnimation();
var A=z?z[i]:null;
return A;
},set_animationDuration:function(A){var z=this;
if(z._toolbarHolder){z._animation[i]=A;
z._toolbarHolder.set_animationDuration(A);
}},_setToolBarAnimation:function(C){var A=this;
var B=A.get_toolbarHolder();
var z=A._getAnimation();
if(z){B.set_animation(z[x]);
B.set_animationDuration(z[i]);
}},_getAnimation:function(){return this._animation;
},_moveToolbarsToEditor:function(B){var A=this.get_element();
if(!B){if(!this._fakeToolbarParentCreated){var z=this._fakeToolBarParent=A.ownerDocument.createElement("div");
z.control=A.control;
A.parentNode.appendChild(z);
this._fakeToolbarParentCreated=true;
A.control=null;
var C=z.style;
C.height=C.fontSize=C.lineHeight="1px";
C.border="1px solid red";
C.visibility="hidden";
if(!d.isIE){C.display="none";
}}var E=this.get_toolbarHolder();
E.set_contentElement(A);
A.style.width="100%";
}else{A.style.width="";
var D=this.get_editor().get_TopZone();
D.appendChild(A);
}},_positionToolbarAboveEditor:function(){var D=this._toolbarHolder;
var B=D.get_popupElement();
if(B){B.style.height="";
}var z=this.get_editor();
var A=d.getBounds(z.get_element());
var E=A.x;
var C=d.getBounds(D.get_popupElement()).height;
var F=A.y-C;
D.moveTo(E,F);
},_positionOnPageTop:function(){var B=this._toolbarHolder;
var z=B._getViewportBounds();
var C=z.scrollLeft;
var D=z.scrollTop;
B.moveTo(C,D);
var A=this.get_editor().get_toolsWidth();
if(A&&A.indexOf("%")==-1){B.set_width(A);
}else{B.get_popupElement().style.width="";
}if(!B.isPinned()){B.togglePin();
}},_createFloatingButton:function(){this._onToggleFloatingToolbarDelegate=Function.createDelegate(this,this._onToggleFloatingToolbar);
var A=this.get_editor();
var F=A.get_skin();
var D=A.getLocalizedString("ToggleFloatingToolbar");
var G={name:"ToggleFloatingToolbar",text:(null==D)?"ToggleFloatingToolbar":D,addClickHandler:true,skin:F};
var C={valueSelected:this._onToggleFloatingToolbarDelegate};
var E=A.get_renderMode()==Telerik.Web.UI.RenderMode.Lite?"Lightweight":Telerik.Web.UI.RenderMode.toString(A.get_renderMode());
var z=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(E,G,C);
var B=Telerik.Web.UI.Editor.UI.StaticToolsUI.createToolWrapper(E,z,F);
var H=$get(A.get_id()+"Top");
if(H){H.appendChild(B);
}},_onToggleFloatingToolbar:function(){var z=!this._toolbarHolder||!this._toolbarHolder.isVisible();
this._showToolbarHolder(z);
},_attachToolBarEventHandlers:function(){var D=this;
var z=D.get_editor();
var B=function(){D._showToolbarHolder(true);
z._addInlineEditorSelectedStyles();
};
var C=function(){var F=D.get_editor();
if(!D._editorIEFirstShow){var E=F.get_toolbarMode();
var G=Telerik.Web.UI.EditorToolbarMode;
if(!F._emptyMessageContainer&&(E!=G.Floating||E!=G.RibbonBarFloating)){D._editorIEFirstShow=true;
return;
}}B();
};
var A=this.get_editor();
if(A.isIE){if(z._isInInlineEditMode()){A.add_selectionChange(B);
}else{this.get_editor().add_editReady(function(){A.attachInternalHandler("beforeeditfocus",C);
A.attachInternalHandler("focusin",B);
});
}}else{A.add_selectionChange(B);
}A.add_modeChange(D._changeToolBarVisibilityDelegate);
A.add_submit(function(){D._showToolbarHolder(false);
});
A.add_toggleScreenMode(function(){var E=D.get_editor();
var F=E.isFullScreen();
D._moveToolbarsToEditor(F);
var G=D.get_toolbarHolder();
if(F){G.hide();
}else{G.show();
}});
D._bodyClickDelegate=Function.createDelegate(D,D._onBodyClick);
d.addExternalHandler(document.body,"mouseup",D._bodyClickDelegate);
if(this.get_editor().get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){this._divContentAreaMouseDownDelegate=Function.createDelegate(this,this._onBodyMouseDown);
d.addExternalHandler(document.body,"mousedown",this._divContentAreaMouseDownDelegate);
}},_changeToolBarVisibility:function(){var C=this;
var B=C.get_editor();
var z=B.get_mode();
var A=c.EditModes;
if(!B._isInInlineEditMode()){C._showToolbarHolder(z===A.Design);
}},_disposeToolbarModeHandlers:function(){var z=this;
if(this._bodyClickDelegate){d.removeExternalHandler(document.body,"mouseup",this._bodyClickDelegate);
this._bodyClickDelegate=null;
}if(this._divContentAreaMouseDownDelegate){d.removeExternalHandler(document.body,"mousedown",this._divContentAreaMouseDownDelegate);
this._divContentAreaMouseDownDelegate=null;
}z._changeToolBarVisibilityDelegate=null;
},onContextMenu:function(B){if(!this._contextMenusEnabled){return;
}var C=this.get_editor();
if(C.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this.createContextMenus();
var D=this._getContextElement(B);
if(C.get_enableImmutableElements()&&Telerik.Web.UI.Editor.Utils.isImmutableNode(D)){return;
}var E=D.tagName;
var z=this._contextMenuFunctionality.getContextMenuByTagName(E);
if("TH"==E&&!z){z=this._contextMenuFunctionality.getContextMenuByTagName("TD");
}var A="";
if(!z){var G=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"A");
if(!G){G=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TD");
}if(!G){G=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TABLE");
}if(G){A=G.tagName;
D=G;
}else{A="*";
}z=this._contextMenuFunctionality.getContextMenuByTagName(A);
}if(z&&E=="IMG"&&D&&"true"==D.getAttribute("isflash")){z=null;
}if(!this.isIE&&A=="*"){return;
}if(z){var H={contentAreaMode:this.get_contentAreaMode(),docNode:document.documentElement||document,editorContentAreaElement:C.get_contentAreaElement()};
this._contextMenuFunctionality.showContextMenu(z,B,H);
if(d.isSafari){try{var I=D.tagName;
if(I=="IMG"||I=="TD"||I=="TR"){C.selectElement(D);
}}catch(F){}}}return d.cancelRawEvent(B);
},enableContextMenus:function(z){this._contextMenusEnabled=z;
},_getContextElement:function(z){var A=this.get_editor();
var D=z.srcElement||z.target;
var B=function(E){return l.isTag(D,E);
};
var C=function(E){return A.findContent("img[usemap='#"+E.id+"']")[0];
};
if(B("area")){D=C(D.parentNode);
}else{if(B("map")){D=C(D);
}}return D;
},_initContextMenus:function(){var z=Function.createDelegate(this,this.onContextMenu);
var B=Function.createDelegate(this,this.onClick);
var A=this.get_editor();
A.add_editReady(function(){A.attachInternalHandler("contextmenu",z);
});
A.add_editReady(function(){A.attachInternalHandler("click",B);
});
},createContextMenus:function(){if(this._contextMenuFunctionality.isContextMenuInitialized){return;
}var A=this.get_editor();
var z=A.get_contextMenusJSON();
var B={valueSelected:this._onDropDownValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate,hide:this._onDropDownHideDelegate};
this._contextMenuFunctionality.initializeContextMenus(B,z,A);
},onClick:function(){if(this._contextMenuFunctionality.openedContextMenu){this._contextMenuFunctionality.hideContextMenu();
}},dispose:function(){delete this._fakeToolbarParentCreated;
var A=this._getToolBarElements();
if(A){for(var z=0;
z<A.length;
z++){$clearHandlers(A[z]);
}}this._tools=[];
this._disposeToolbarModeHandlers();
var B=this._toolbarHolder;
if(B&&B.dispose){B.dispose();
}this._contextMenuFunctionality.dispose();
Telerik.Web.UI.Editor.DefaultToolAdapter.callBaseMethod(this,"dispose");
},setFocus:function(){var z=this._tools[0];
window.setTimeout(function(){if(z){z.setFocus();
}},100);
return false;
},getContextMenuByTagName:function(z){this.createContextMenus();
return this._contextMenuFunctionality.getContextMenuByTagName(z);
},getToolByName:function(A){for(var z=0;
z<this._tools.length;
z++){var B=this._tools[z];
if(B&&B.get_name()==A){return B;
}}return null;
},setToolState:function(M,E){var I=this;
var A=I.get_editor();
var F;
var L=M||this._tools;
var N=L.length;
try{F=this._rangeState||b.DomRange.rangeFromWindow(A.get_contentWindow());
}catch(B){}var z=A.get_contentArea();
if(!F||!(z===F.commonAncestorContainer||a.contains(z,F.commonAncestorContainer))){F=A.domRangeToFirstText();
}var O=A.get_contentWindow();
var D=l.isWindowDestroyed(O)||!O.document;
if(A.get_mode()===j.Design&&!D){var J=[];
for(var C=0;
C<N;
C++){var H=L[C];
if(H.get_name){var K=H.get_name();
if(H.setState){if(H.get_items&&H.get_items().get_count&&H.get_items().get_count()>0){J.push(H);
}var G=E;
if(null==G){G=A.getToolState(K,F);
}if(null!=G){H.setState(G);
}}if(H.updateValue){H.updateValue(A.getToolValue(K,F));
}if(K=="ToggleTableBorder"&&"_disabledContentAreaStylesheet" in A){H.setOn(A._disabledContentAreaStylesheet);
}}}this._contextMenuFunctionality.setToolContainersState(J);
}this._rangeState=null;
},_convertCommandsArray:function(A){var E=[];
for(var D=0;
D<A.length;
D++){var B=A[D];
var C=(D+1)+". "+B.get_title();
if(B.get_argument){var z=B.get_argument();
if(z){C+=' ["'+z+'"]';
}}E[D]=[D+1,C];
}return E;
},_onDropDownHide:function(B,z){var A=this.get_editor();
A.enableContentArea(true);
},_onClientDragStart:function(A,z){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
},_onDropDownBeforeShow:function(P,z){var D=this.get_editor();
var E;
var B;
if(d.isIE&&Telerik.Web.UI.EditorSplitButton.isInstanceOfType(P)&&P.isArrowClicked(event?event.srcElement:null)){D.setFocus();
}if(Telerik.Web.UI.EditorToolStrip.isInstanceOfType(P)){this.setToolState(P.get_items());
}else{if(this._contextMenuFunctionality.isContextMenu(P)){var A=this._contextMenuFunctionality.getContextMenuItems(P);
this.setToolState(A);
}}if(!D.getSelection().isControl()&&!this._contextMenuFunctionality.isContextMenu(P)){D.enableContentArea(false);
}var R=P.get_name?P.get_name():"";
if(R=="Undo"){var S=D.get_commandsManager().getCommandsToUndo();
S=this._convertCommandsArray(S);
P.set_items(S);
}else{if(R=="Redo"){var O=D.get_commandsManager().getCommandsToRedo();
O=this._convertCommandsArray(O);
P.set_items(O);
}else{if(R=="ModuleManager"){var F=D.get_renderMode()==c.RenderMode.Classic;
var J=D.get_modulesManager();
var H=F?"reModule_hidden_icon":"ModuleHiddenIcon";
var L=F?"reModule_visible_icon":"ModuleVisibleIcon";
if(!J){return;
}var K=J.get_modules();
var I=[];
for(E=0;
E<K.length;
E++){var G=K[E];
var M=G.get_name();
var Q=G.get_title();
if(!Q){Q=M;
}B=G.get_visible()?L:H;
I[E]=[M,Q,B];
}P.set_updateHeader(false);
P.set_items(I);
}}}var C=this._contextMenuFunctionality.getContextMenuItems(P);
if(C&&C.length>0){return;
}var N=null;
switch(R){case"ApplyClass":N=D.getCssArray();
break;
case"FontName":N=Array.clone(D.get_fontNames());
break;
case"FontSize":N=D.get_fontSizes();
break;
case"InsertSymbol":N=D.get_symbols();
if((d.isIE||d.isSafari)&&N&&N.length){for(E=0;
E<N.length;
E++){if(N[E]=="&"){N[E]="&amp;";
}if(N[E]=="<"){N[E]="&lt;";
}}}break;
case"BackColor":case"ForeColor":N=D.get_colors();
break;
case"RealFontSize":N=D.get_realFontSizes();
break;
case"InsertSnippet":N=D.get_snippets();
break;
case"Zoom":N=["10%","20%","50%","100%","150%","200%","300%","500%"];
break;
case"FormatBlock":N=D.get_paragraphs();
break;
case"FormatSets":N=D.get_formatSets();
break;
case"InsertCustomLink":N=D.get_links();
break;
case"AjaxSpellCheck":case"SpellCheck":N=D.get_languages();
break;
}if(N){P.set_items(N);
}},_initializeToolbar:function(R,O){var P=this._getToolBarItemElements(O);
var Q=R.tools;
var C=this.get_editor();
var M=C.get_skin();
var K=0;
if(Q){var S=0;
var J=Q.length;
for(var F=0;
F<J;
F++){var H=this._getItemElementByIndex(P,F);
if(typeof(H)=="undefined"){break;
}var T=this._getToolElement(H);
S+=H.offsetWidth;
var z=Q[F];
var W=z.type;
var V=z.name;
var U=Telerik.Web.UI.EditorToolType;
var A=Telerik.Web.UI.EditorButton;
var N=null;
var X=false;
var D=C.get_enableAriaSupport();
if(D){P[F].setAttribute("role","presentation");
var I=P[J+1];
if(I){I.setAttribute("role","presentation");
}if(W!=U.Separator){H.setAttribute("role","presentation");
}}if(W){switch(W){case U.Button:A=c.EditorButton;
break;
case U.Separator:if(!K){K+=parseInt(d.getCurrentStyle(H,"marginLeft"),e);
K+=parseInt(d.getCurrentStyle(H,"marginRight"),e);
if(D){H.setAttribute("role","separator");
}}S+=K;
A=null;
break;
case U.DropDown:A=Telerik.Web.UI.EditorDropDown;
if(V=="FontName"){A=Telerik.Web.UI.Editor.FontNameDropDown;
}else{if(V=="FontSize"){A=Telerik.Web.UI.Editor.FontSizeDropDown;
}else{if(V=="FormatBlock"||V=="RealFontSize"||V=="Zoom"){A=Telerik.Web.UI.EditorUpdateableDropDown;
}else{if(V=="FormatSets"){A=Telerik.Web.UI.Editor.FormatSetsDropDown;
}else{if(V=="ApplyClass"){A=Telerik.Web.UI.Editor.ApplyClassDropDown;
}else{if(V=="InsertCustomLink"){A=Telerik.Web.UI.Editor.InsertCustomLinkDropDown;
}}}}}}X=true;
break;
case U.SplitButton:A=Telerik.Web.UI.EditorSplitButton;
if(V=="ForeColor"||V=="BackColor"){A=Telerik.Web.UI.Editor.ColorPicker;
z.addCustomColorText=C.getLocalizedString("AddCustomColor");
}else{if(V=="Undo"||V=="Redo"){A=Telerik.Web.UI.Editor.UndoRedoDropDown;
}}X=true;
break;
case U.ToolStrip:A=Telerik.Web.UI.EditorToolStrip;
if(V=="InsertTable"){A=Telerik.Web.UI.Editor.InsertTable;
}if(V=="FormatPainter"){A=Telerik.Web.UI.Editor.FormatPainterStrip;
}X=true;
break;
case U.Custom:break;
}}if(z.attributes){for(var G in z.attributes){z[G.toLowerCase()]=z.attributes[G];
}}if(A){var E=null;
if(X){E={valueSelected:this._onDropDownValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate,hide:this._onDropDownHideDelegate};
z.skin=M;
}if(C._enableRippleEffect){z._enableRippleEffect=true;
}N=$create(A,z,E,null,T);
if(this.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){N.set_contentAreaMode(Telerik.Web.UI.EditorContentAreaMode.Div);
}if(N.set_enableAriaSupport&&W!=U.Separator){N.set_enableAriaSupport(D);
}}if(N){Array.add(this._tools,N);
var L=N.get_shortCut();
if(L){var B=N.get_name();
if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(N)&&B!="Undo"&&B!="Redo"){B="reToolAdapter_"+B;
Telerik.Web.UI.Editor.CommandList[B]=this._toolAdapterDropDownExpander;
}C.setShortCut(B,L);
}this._attachHandlerToToolElementParent(T);
}}this._toolbarSizeFixIE(O);
this._attachHandlerToToolbarElement(O);
}},_getToolBarItemElements:function(z){return z.getElementsByTagName("li");
},_getItemElementByIndex:function(A,z){return this._editor._renderMode==c.RenderMode.Classic?A[z+1]:A[z];
},_getToolElement:function(z){return z.firstChild;
},_attachHandlerToToolbarElement:function(z){$addHandlers(z,{click:this._onToolBarClickDelegate,keydown:this._onToolBarKeyDownDelegate},this);
},_attachHandlerToToolElementParent:function(z){},_toolbarSizeFixIE:function(z){if(!d.isIE7){return;
}var A=0;
a(z).children().each(function(B,C){A+=C.offsetWidth;
});
z.style.width=A+"px";
},_toolAdapterDropDownExpander:function(z,A){var B=A.getToolByName(z.replace("reToolAdapter_",""));
B.setFocus();
B.show();
B.selectNextItem();
return false;
},_onEditorModeChange:function(G,z){var H=this;
var B=H.get_editor();
var A=Telerik.Web.UI.EditModes,F=G.get_mode(),E=d.isIE&&(d.isIE10Mode&&!d.isIE10),D=F==A.Design;
this._setEnabled(D);
if(!d.isFirefox&&!E&&F==A.Html){var C=this.getToolByName("FindAndReplace");
if(C){this._setToolEnabled(C,true);
}}if(B._isInInlineEditMode()){H._enableToggleEditModeTool();
B._addInlineEditorSelectedStyles();
}if(D){this.setToolState();
}},_enableToggleEditModeTool:function(){var A=this;
var z=A.getToolByName(v);
if(z){z.set_enabled(true);
}},_onEditorSelectionChange:function(A,z){this.setToolState();
},_onEditorLoad:function(A,z){this.setToolState();
},_setEnabled:function(A){var B=this;
var C=B._tools;
var D=C.length;
var z;
for(z=0;
z<D;
z++){C[z].set_enabled(A);
}},_setToolEnabled:function(A,z){A.set_enabled(z);
},_isToolBarFloating:function(){var z=this.get_editor().get_toolbarMode();
var A=Telerik.Web.UI.EditorToolbarMode;
return z==A.RibbonBarFloating||z==A.Floating;
},_registerEditorHandlers:function(){var z=this.get_editor();
z.add_load(this._onEditorLoadDelegate);
z.add_selectionChange(this._onEditorSelectionChangeDelegate);
z.add_modeChange(this._onEditorModeChangeDelegate);
},_registerToolBarHolderHandlers:function(){var z=this.get_editor();
if(z.get_toolbarMode()==Telerik.Web.UI.EditorToolbarMode.Floating){var A=this.get_toolbarHolder();
if(typeof(A)!="undefined"){A.add_dragStart(this._onClientDragStartDelegate);
}}},_onBodyMouseDown:function(z){var A=z.srcElement||z.target;
this._updateMouseIsDownOnContentAreaFlag(A);
},_updateMouseIsDownOnContentAreaFlag:function(A){var B=this;
var z=B.get_editor().get_contentArea();
B._mouseIsDownOnContentArea=d.isDescendantOrSelf(z,A)||l.isEditorEmptyMessage(A);
},_onBodyClick:function(B){var E=this;
var z=E.get_editor();
B=B||window.event;
var C=B.srcElement||B.target;
var A=E.get_element();
if(A&&!d.getVisible(A)||(z.get_mode()==c.EditModes.Html&&C===z.get_textArea())){return;
}var F=E.get_toolbarHolder();
var D=F?F.get_popupElement():null;
if(D){E._mouseIsDownOnToolbarHolder=d.isDescendantOrSelf(D,C);
}if(z.get_contentAreaMode()==c.EditorContentAreaMode.Div){if(d.isDescendantOrSelf(z.get_contentArea(),C)){E._preventToolbarFromHiding=true;
}}if(z._isInInlineEditMode()){E._onInlineEditModeBodyClick(C);
}if(E._preventToolbarFromHiding){E._preventToolbarFromHiding=false;
return;
}if(E._mouseIsDownOnContentArea!==true&&E._mouseIsDownOnToolbarHolder!==true){E._showToolbarHolder(false);
}if(E._mouseIsDownOnContentArea!==y){E._mouseIsDownOnContentArea=false;
}},_onInlineEditModeBodyClick:function(z){var A=this;
A._updateEditMode();
A._updateMouseIsDownOnContentAreaFlag(z);
A._updateInlineEditorSelectedStyle(z);
A._updateToolbarVisibilityFlag(z);
A._handleInlineEditCompletedEvent(z);
},_updateEditMode:function(){var C=this;
var B=C.get_editor();
var A=c.EditModes;
var z=B.get_mode();
if(C._mouseIsDownOnToolbarHolder===false&&z===A.Html){B.fire(v,{});
}},_updateInlineEditorSelectedStyle:function(A){var B=this;
var z=B.get_editor();
if(B._isElementOutsideOfEditor(A)){z._removeInlineEditorSelectedStyles();
}},_isElementOutsideOfEditor:function(z){var C=this;
var A=null;
var B=C._mouseIsDownOnToolbarHolder;
A=!B&&C._mouseIsDownOnContentArea===false&&C._isElementInDialog(z)===false&&C._isElementInDropDown(z)===false;
return A;
},_updateToolbarVisibilityFlag:function(z){var A=this;
if(A._isElementInDialog(z)||A._isElementInDropDown(z)){A._preventToolbarFromHiding=true;
}},_isElementInDialog:function(z){var A=a(z).parents(g);
return(A.length>0);
},_isElementInDropDown:function(A){var z=a(A);
var C=z.parents(h+t);
var D=z.parents(h+s);
var B=(C.length>0)||(D.length>0)||z.hasClass(s)||z.hasClass(t);
return B;
},_handleInlineEditCompletedEvent:function(A){var B=this;
var z=B.get_editor();
if(B._isElementOutsideOfEditor(A)){if(B._inlineEditingStarted){a.raiseControlEvent(z,n,{});
B._inlineEditingStarted=false;
}}else{if(B._inlineEditingStarted===false){B._inlineEditingStarted=true;
}}},_onDropDownValueSelected:function(A,z){this._preventToolbarFromHiding=true;
var B=this._contextMenuFunctionality.getSelectedValue(A,z);
if(this._contextMenuFunctionality.isContextMenuItem(B)||c.EditorButton.isInstanceOfType(B)){this._raiseEditorEvent(B,null);
}else{this._raiseEditorEvent(A,B);
}},_onToolBarKeyDown:function(A){var C=A.keyCode;
if(9==C||37==C||39==C||121==C){if(Telerik.Web.UI.Editor.PopupController){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
}}if(121==C){var B=this.get_editor();
window.setTimeout(function(){if(B){B.setFocus();
}},100);
if(A.rawEvent){d.cancelRawEvent(A.rawEvent);
}return d.cancelRawEvent(A);
}if(9==C){return;
}var z=this._getSelectedTool(A);
if(!Telerik.Web.UI.EditorButton.isInstanceOfType(z)){return;
}if(37==C||39==C){var E=z;
while(true){E=(37==C)?this._getPreviousTool(E):this._getNextTool(E);
if(null==E){break;
}if(E.get_enabled()){break;
}}if(E&&E.get_enabled()){E.setFocus();
}}if(13==C&&z&&!z.get_selectedItem){this._raiseEditorEvent(z,null);
return;
}if(!Telerik.Web.UI.EditorDropDown.isInstanceOfType(z)){return;
}if(38==C||40==C){var D=false;
if(!z.isExpanded()){z.show();
D=true;
}if(D||40==C){z.selectNextItem();
}else{z.selectPreviousItem();
}}else{if(13==C){z.hide();
if(z.get_activeIndex){z.set_selectedIndex(z.get_activeIndex());
}this._onDropDownValueSelected(z);
}else{if(27==C){z.hide();
}}}},_onToolBarClick:function(A){var z=this._getSelectedTool(A);
if(z){if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(z)){z.click(A);
}else{this._raiseEditorEvent(z);
}}if(this._contextMenuFunctionality.openedContextMenu){this._contextMenuFunctionality.hideContextMenu();
}d.cancelRawEvent(A);
},_raiseEditorEvent:function(C,D){var B=this.get_events().getHandler("ToolClick");
if(B){var z=C.get_name?C.get_name():"";
var A=new Telerik.Web.UI.EditorCommandEventArgs(z,C,D);
B(C,A);
}},_getPreviousTool:function(A){var z=Array.indexOf(this._tools,A);
return this._tools[z-1];
},_getNextTool:function(A){var z=Array.indexOf(this._tools,A);
return this._tools[z+1];
},_getSelectedTool:function(A){var B=Telerik.Web.UI.EditorButton.getToolRootNode(A.target);
if(null==B){return;
}var z=B.control;
if(null==z){return;
}if(z.get_enabled&&z.get_enabled()==false){return;
}if(A&&z){A.preventDefault();
A.stopPropagation();
}return z;
},_getToolBarElements:function(){var z=this.get_element();
if(!z){return null;
}var A=z.getElementsByTagName("ul");
return A;
},get_tools:function(){return this._tools;
},get_toolbarHolder:function(){return this.get_window();
},get_editor:function(){return this._editor;
},set_editor:function(z){if(this._editor!=z){this._editor=z;
}},get_contentAreaMode:function(){return(this._contentAreaMode!="")?this._contentAreaMode:Telerik.Web.UI.EditorContentAreaMode.Iframe;
},set_contentAreaMode:function(z){if(this._contentAreaMode!=z){this._contentAreaMode=z;
}},get_toolJSON:function(){return this._toolJSON;
},set_toolJSON:function(z){this._toolJSON=z;
},add_toolClick:function(z){this.get_events().addHandler("ToolClick",z);
},remove_toolClick:function(z){this.get_events().removeHandler("ToolClick",z);
}};
b.DefaultToolAdapter.registerClass("Telerik.Web.UI.Editor.DefaultToolAdapter",Sys.UI.Control);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var d="span.reButton";
var e=$telerik.cancelRawEvent;
b.HeaderToolsToolAdapter=function(g){b.HeaderToolsToolAdapter.initializeBase(this,[g]);
};
b.HeaderToolsToolAdapter.prototype={initialize:function(){var h=this;
h._attachToolsJsonToHtml();
h._handleDoubleClick();
a(h.get_element()).on("mousedown",e);
var g=h.get_editor();
g.add_selectionChange(Function.createDelegate(h,h._onEditorSelectionChange));
g.add_modeChange(Function.createDelegate(h,h._onEditorModeChange));
},_attachToolsJsonToHtml:function(){var k=this;
var n=k.get_headerToolsJSON();
var g=a(k.get_element()).find(d);
var m=k._tools;
var o=Function.createDelegate(k,k._raiseEditorEvent);
for(var j=0;
j<n.length;
j++){var l=n[j];
var h=g.filter(".re"+l.name).get(0);
if(h){g=g.not(h);
Array.add(m,k._createTool(h,l,o));
}}},_createTool:function(h,g,j){g._rendermode="Mobile";
g.addClickHandler=true;
var i=$create(c.EditorButton,g,null,null,h);
i.add_valueSelected(j);
return i;
},_handleDoubleClick:function(){var g=this.get_element();
a(g).doubletap(function(h){return e(h);
});
},_onEditorModeChange:function(h,g){var k=h.get_mode();
var j=k==c.EditModes.Html;
if(j){var i=["ToggleScreenMode","FindAndReplace","ToggleEditMode"];
Array.forEach(this.get_tools(),function(l){if(!Array.contains(i,l.get_name())){l.set_enabled(false);
l.setOn(false);
}});
}else{if(k==c.EditModes.Design){Array.forEach(this.get_tools(),function(l){l.set_enabled(true);
});
}}this._setToolOn("ToggleEditMode",j);
},_setToolOn:function(h,g){Array.forEach(this.get_tools(),function(i){if(i.get_name()==h){i.setOn(g);
}});
},dispose:function(){var g=this;
a(g.get_element()).off("mousedown",e);
b.HeaderToolsToolAdapter.callBaseMethod(g,"dispose");
}};
a.registerControlProperties(b.HeaderToolsToolAdapter,{headerToolsJSON:null});
b.HeaderToolsToolAdapter.registerClass("Telerik.Web.UI.Editor.HeaderToolsToolAdapter",b.BaseToolAdapter);
})($telerik.$);
(function(a,h){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var c=b.Editor;
var g="reVisibilityHidden";
var e=Telerik.Web.Platform;
var d=e.ios;
var i=e.windowsphone;
var f=d||i;
c.MobileKeyboardAdapter=function(j){c.MobileKeyboardAdapter.initializeBase(this,[j]);
this.currentDomRange=null;
};
c.MobileKeyboardAdapter.prototype={showKeyboard:function(){this.showKeyboardOverlay();
this.raiseEvent("keyboardShown",Sys.EventArgs.Empty);
},hideKeyboard:function(){var k=this,j=c.DomRange.rangeFromWindow(k.get_contentWindow());
this.hideKeyboardOverlay();
k.raiseEvent("keyboardHidden",new c.DomRangeEventArgs(j));
},hideKeyboardPermanent:function(){var j=this;
j.add_keyboardHidden(function(){j.dispose();
});
this.hideKeyboard();
},showKeyboardOverlay:function(){if(f){a(this.get_toolBarContainer()).addClass(g);
}},hideKeyboardOverlay:function(){if(f){a(this.get_toolBarContainer()).removeClass(g);
}},getSelection:function(){var j=this.get_contentWindow()||((document.defaultView)?document.defaultView:document.parentWindow);
return new c.Selection(j);
},dispose:function(){c.MobileKeyboardAdapter.callBaseMethod(this,"dispose");
}};
c.MobileKeyboardAdapter.registerClass("Telerik.Web.UI.Editor.MobileKeyboardAdapter",Telerik.Web.UI.RadWebControl);
a.registerControlProperties(c.MobileKeyboardAdapter,{contentWindow:null,contentAreaElement:null,toolBarContainer:null});
a.registerControlEvents(c.MobileKeyboardAdapter,["keyboardHidden","keyboardShown"]);
})($telerik.$);
(function(a,d){var b=Telerik.Web.UI;
var c=b.Editor;
c.DivModeKeyboardToggler=function(e){c.DivModeKeyboardToggler.initializeBase(this,[e]);
};
c.DivModeKeyboardToggler.prototype={showKeyboard:function(){var e=this.get_element();
e.focus();
c.DivModeKeyboardToggler.callBaseMethod(this,"showKeyboard");
},hideKeyboard:function(){var e=this.get_element();
e.blur();
c.DivModeKeyboardToggler.callBaseMethod(this,"hideKeyboard");
}};
c.DivModeKeyboardToggler.registerClass("Telerik.Web.UI.Editor.DivModeKeyboardToggler",c.MobileKeyboardAdapter);
})($telerik.$);
(function(a,h){var b=Telerik.Web.UI;
var f=b.Editor;
var g=window;
f.IframeModeKeyboardToggler=function(i){f.IframeModeKeyboardToggler.initializeBase(this,[i]);
};
f.IframeModeKeyboardToggler.prototype={showKeyboard:function(){var j=this.get_contentWindow();
var i=this.get_element();
var k=d(j.document);
c(k,i);
k.focus();
j.focus();
i.focus();
i.removeChild(k);
f.IframeModeKeyboardToggler.callBaseMethod(this,"showKeyboard");
},hideKeyboard:function(){var i=this.get_contentAreaElement();
var k=i.parentNode;
var j=e(g.document);
k.insertBefore(j,i);
j.focus();
k.removeChild(j);
f.IframeModeKeyboardToggler.callBaseMethod(this,"hideKeyboard");
}};
f.IframeModeKeyboardToggler.registerClass("Telerik.Web.UI.Editor.IframeModeKeyboardToggler",f.MobileKeyboardAdapter);
function d(i){var j=i.createElement("input");
j.type="text";
j.style.fontSize="initial";
j.style.width=j.style.height=0;
return j;
}function e(i){var j=i.createElement("div");
j.setAttribute("contentEditable","true");
j.className="reEditableDecoy";
return j;
}function c(i,j){if(j.firstChild){j.insertBefore(i,j.firstChild);
}else{j.appendChild(i);
}}})($telerik.$);
(function(a,e){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var d=b.Editor;
var c=b.EditorContentAreaMode;
d.MobileKeyboardAdapterFactory={createMobileKeyboardAdapter:function(f,g){var i=g.properties||{};
var h=g.eventList||{};
var j=f===c.Iframe?d.IframeModeKeyboardToggler:f===c.Div?d.DivModeKeyboardToggler:d.MobileKeyboardAdapter;
return $create(j,i,h,null,g.element);
}};
})($telerik.$);
(function(a,L){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var M=b.Utils;
var o=c.EditorToolType;
var p=c.EventType;
var i=Function.createDelegate;
var r=window;
var d=r.$telerik;
var k=r.document;
var z=a.proxy;
var m=".telerikEditor";
var g="click";
var E=".reToolHeader";
var B=".reTabChooser";
var s="reHidden";
var F=".reToolView";
var J=".reToolContent";
var K=".reToolsOverlay";
var l=".reDropDownsContainer";
var A="tab";
var h="context";
var H="easeOut";
var I="-25vw";
var j="div";
var D=6;
var C=3;
var x=b.Orientation;
var y=Telerik.Web.Platform;
var e=y.android;
var t=y.ios;
var O=y.windowsphone;
var f=Telerik.Web.Browser;
var w=f.safari;
var v=f.opera;
var G=140;
var n=c.EditorContentAreaMode;
var u="reIphone";
var N="reWindowsPhone";
b.MobileToolAdapter=function(P){var Q=this;
b.MobileToolAdapter.initializeBase(Q,[P]);
Q._$element=a(P);
};
b.MobileToolAdapter.prototype={initialize:function(){var P=this;
b.MobileToolAdapter.callBaseMethod(P,"initialize");
P._raiseEditorEventDelegate=i(P,P._raiseEditorEvent);
P._onEditorLoadDelegate=i(P,P._onEditorLoad);
P._onEditorSelectionChangeDelegate=i(P,P._onEditorSelectionChange);
P._onEditorModeChangeDelegate=i(P,P._onEditorModeChange);
P._onEditorOrientationChangeDelegate=i(P,P._onEditorOrientationChange);
P._onInitialDropDownShowDelegate=i(P,P._onInitialDropDownShow);
P._slideInToolsHandler=z(P._slideInTools,P);
P._onKeyboardHideDelegate=i(P,P._onKeyboardHide);
P._onKeyboardShowDelegate=i(P,P._onKeyboardShow);
P._editEnabled=false;
P._attachToolbarJsonToHtml();
P._initializeToolsHeader();
P._initializeHighLightCommand();
P._fixToolViewHeight();
P.attachEventHandlers();
},_attachToolbarJsonToHtml:function(){var R=this.get_toolJSON();
var P=this._getToolBarElements();
for(var Q=0,S=R.length;
Q<S;
Q++){this._initializeToolbar(R[Q],P[Q]);
}},_initializeToolbar:function(X,V){var U=this;
var W=X.tools;
var Z;
var T;
var Q;
if(W){Z=new b.ToolFactory();
Q=U.get_editor();
for(var R=0,S=W.length;
R<S;
R++){var P=W[R];
var aa=P.name;
var Y=this._getToolElement(aa,V);
P._rendermode="Mobile";
P.addClickHandler=true;
if(aa=="ForeColor"||aa=="BackColor"){P.addCustomColorText=Q.getLocalizedString("MobileAddCustomColor");
P.currentColorText=Q.getLocalizedString("MobileCurrentColor");
P.clearText=Q.getLocalizedString("Clear");
}if(Q._enableRippleEffect){P._enableRippleEffect=true;
}T=Z.createTool(P,Y);
if(T){Array.add(this._tools,T);
U._attachToolEventHandlers(T,P);
}}}},_fixToolViewHeight:function(){var R=this;
var P=R._$element;
function Q(){var V;
var U;
var S;
var T;
V=k.createElement(j);
V.style.height="50vh";
U=k.createElement(j);
U.style.height="100%";
V.appendChild(U);
k.body.appendChild(V);
T=r.getComputedStyle?getComputedStyle(U,null):U.currentStyle;
S=parseInt(T.height,10);
k.body.removeChild(V);
return(S>0);
}if(!Q()){P.find(F).css("height",P.height());
}},_initializeToolsHeader:function(){var P=this;
P._toolHeaderElement=a(P.get_editor().get_element()).find(E).get(0);
if(P._toolHeaderElement){P._initializeTabChooser();
P._initializeToolNavigator();
}},_initializeHighLightCommand:function(){var R=this;
var P=R.get_editor();
var Q=t||e||O;
if(Q){R._highlightCommand=new b.HighlightCommand(P);
R._highlighted=false;
P.add_commandExecuting(function(U,S){var T=S.get_commandName();
if(T!="MobileEdit"&&R.isEditEnabled()){R._removeSelectionHighlight();
}});
P.add_commandExecuted(function(V,S){var T=S.get_commandName();
var U=R.isEditEnabled();
if(T!="MobileEdit"&&U){R._highlightSelection();
}if((T==="Image Manager"||T==="InsertTable"||T==="LinkManager")&&U){R.get_tabChooser().selectContextualTab(M.getSelectedElement(V));
}});
}},_highlightSelection:function(S){var T=this;
var Q=T._highlightCommand;
var P=T.get_editor();
var R=P._isFullScreen;
if(Q&&!T._highlighted&&R){T._scrollToSelection(S);
T._selectRangeIfChanged(S);
Q.highlight();
T._highlighted=true;
}},_scrollToSelection:function(P){if(P){var Q=P.startContainer;
var R=!M.isTextNode(Q)?Q.childNodes[P.startOffset]:L;
Q=R||Q;
Q=M.isTextNode(Q)?Q.parentNode:Q;
if(Q.scrollIntoView){Q.scrollIntoView();
}}},_selectRangeIfChanged:function(Q){if(t&&Q){var P=this.get_editor().getDomRange();
if(!P||Q.collapsed!=P.collapsed){Q.select();
}}},_removeSelectionHighlight:function(){var Q=this;
var P=Q._highlightCommand;
if(P&&Q._highlighted){if(O){this.get_editor().setActive();
}P.remove();
Q._highlighted=false;
}},attachEventHandlers:function(){var P=this;
P._registerEditorHandlers();
P._handleDoubleClick();
P._attachHeaderToolsEventHandlers();
},_attachHeaderToolsEventHandlers:function(){var U=this;
var P=U.get_editor();
var Q=P.get_headerToolsToolAdapter();
var R;
if(Q){R=Q.get_tools();
for(var S=0,T=R.length;
S<T;
S++){R[S].add_valueSelected(U._slideInToolsHandler);
}}},detachEventHandlers:function(){var Q=this;
var P=Q.get_editor();
P.remove_selectionChange(Q._onEditorLoadDelegate);
P.remove_selectionChange(Q._onEditorSelectionChangeDelegate);
P.remove_modeChange(Q._onEditorModeChangeDelegate);
P.remove_orientationChange(Q._onEditorOrientationChangeDelegate);
Q._detachHeaderToolsEventHandlers();
Q._detachToolBarsEventHandlers();
},_detachHeaderToolsEventHandlers:function(){var U=this;
var P=U.get_editor();
var Q=P.get_headerToolsToolAdapter();
var R;
if(Q){R=Q.get_tools();
for(var S=0,T=R.length;
S<T;
S++){R[S].remove_valueSelected(U._slideInToolsHandler);
}}},_detachToolBarsEventHandlers:function(){var P=this;
var Q=P._getToolBarElements();
a(Q).off(g).offEvent(p.Move+m).offEvent(p.Up+m);
},_registerEditorHandlers:function(){var Q=this;
var P=Q.get_editor();
P.add_load(Q._onEditorLoadDelegate);
P.add_selectionChange(Q._onEditorSelectionChangeDelegate);
P.add_modeChange(Q._onEditorModeChangeDelegate);
P.add_orientationChange(Q._onEditorOrientationChangeDelegate);
},get_mobileKeyboardAdapter:function(){var P=this.get_editor();
if(!this._mobileKeyboardAdapter||this._currentContentArea!==P.get_contentArea()){this._initializeKeyboardAdapter();
}return this._mobileKeyboardAdapter;
},_initializeKeyboardAdapter:function(){var Q=this,P=Q.get_editor();
Q._currentContentArea=P.get_contentArea();
Q._mobileKeyboardAdapter=b.MobileKeyboardAdapterFactory.createMobileKeyboardAdapter(P.get_contentAreaMode(),{properties:{contentWindow:P.get_contentWindow(),contentAreaElement:P.get_contentAreaElement(),toolBarContainer:Q.get_element()},element:Q._currentContentArea});
Q._mobileKeyboardAdapter.add_keyboardShown(Q._onKeyboardShowDelegate);
Q._mobileKeyboardAdapter.add_keyboardHidden(Q._onKeyboardHideDelegate);
},toggleEdit:function(){var R=this;
var P=this.get_editor();
var Q=R.isEditEnabled();
if(Q){R._editEnabled=false;
R.resetUI();
R.showKeyboard();
}else{R.hideKeyboard();
R._editEnabled=true;
R._$element.find(J).scrollTop(0);
}P._setToolOn("MobileEdit",R.isEditEnabled());
},resetUI:function(){var P=this;
if(P.currentDropDown){P.currentDropDown.hide();
}},isEditEnabled:function(){return this._editEnabled;
},_onKeyboardHide:function(Q,P){this._updateDomInspector();
},_updateDomInspector:function(){var Q=this;
var P=Q._getDomInspector();
if(P){P.set_visible(true);
P.showDomPath();
}},_getDomInspector:function(){var Q=this.get_editor().get_modulesManager();
if(Q){var P=Q.getModuleByName("RadEditorDomInspector");
if(P&&P.get_enabled()){return P;
}}},_onKeyboardShow:function(){this._hideElement();
},_hideElement:function(){var P=this;
P._$element.addClass(s);
P._removeSelectionHighlight();
},_showElement:function(P){var Q=this;
Q._$element.removeClass(s);
Q._highlightSelection(P);
},showKeyboard:function(){this.get_mobileKeyboardAdapter().showKeyboard();
},hideKeyboard:function(){var P=this.get_editor();
this._showElement(P.getDomRange());
this.get_mobileKeyboardAdapter().hideKeyboard();
},hideKeyboardPermanent:function(){var Q=this;
var P=Q.get_mobileKeyboardAdapter();
P.remove_keyboardHidden(Q._onKeyboardHideDelegate);
P.hideKeyboardPermanent();
Q._mobileKeyboardAdapter=L;
},_onEditorLoad:function(Q,P){var R=this;
R._setEditorElementDecoration(Q);
if(!R._mobileKeyboardAdapter){R._initializeKeyboardAdapter();
}},_setEditorElementDecoration:function(Q){var R=q();
if(Q&&R){var P=a(Q.get_element());
if(Q.get_contentAreaMode()==n.Iframe){a(Q.get_document()).find("html").addClass(R);
}P.addClass(R);
if(w){P.addClass("reSafari");
}else{if(v){P.addClass("reOpera");
}}}},_onEditorSelectionChange:function(Q,P){var S=this,R=S.isEditEnabled();
S.setToolState();
if(R&&(t||O)){S.hideKeyboard();
}if(!R){setTimeout(function(){S._tabChooser.selectContextualTab(M.getSelectedElement(Q));
},50);
}},_onEditorModeChange:function(R,P){var T=this,Q=c.EditModes,S=R.get_mode();
if(T.isEditEnabled()&&S!=Q.Design){T.toggleEdit();
}else{if(S===Q.Design){T._editEnabled=false;
T.showKeyboard();
R.focusFirstText();
}}},_onEditorOrientationChange:function(Q,P){var V=this,T=P.get_orientation(),S=T==x.Portrait?D:C,U=V._tabChooser,R=U.itemsListIsVisible();
U.hideItemsList();
U.set_maxVisibleItems(S);
if(R){window.setTimeout(function(){U.showItemsList();
},0);
}},_slideInTools:function(){var Q=this;
var P=Q._$element;
if(Q._shouldExecuteToolsContainerAnimation){P.children(F).children(K).hide();
P.find(J).transition({"margin-left":0},G,H);
Q._shouldExecuteToolsContainerAnimation=false;
}},_slideOutTools:function(){var R=this;
var Q=R._$element.children(F);
var P=Q.children(J);
P.transition({"margin-left":I},G,H);
R._shouldExecuteToolsContainerAnimation=true;
},_getToolHeaderElement:function(){return this._toolHeaderElement;
},getOrientation:function(){var P=window.orientation;
return(P==-90||P==90)?x.LandScape:x.Portrait;
},_initializeTabChooser:function(){var W=this;
var V=a(W._getToolHeaderElement()).children(B).get(0);
if(V){var X=W._getUniqueTabs();
var Q=W._getContexts(X);
var R=W._getFirstUncontexedTab()||"&nbsp;";
var T=W.getOrientation()==x.Portrait?D:C;
W._initializeListsByTabs();
var P={items:X,contexts:Q,defaultTab:R,maxVisibleItems:T};
var S={itemSelected:i(W,W._tabChooserItemSelected),itemsListShowing:i(W,W._tabsListShowing)};
var U=W._tabChooser=$create(b.TabChooser,P,S,null,V);
U.selectTab(R);
}},_getUniqueTabs:function(){var P=this;
if(P._uniqueTabs){return P._uniqueTabs;
}var Q=P._uniqueTabs=[];
Array.forEach(P.get_toolJSON(),function(R){var S=P._getAttribute(R.attributes,A);
if(S&&Array.indexOf(Q,S)==-1){Q.push(S);
}});
return Q;
},_getContexts:function(R){var S=this;
var P={};
Array.forEach(S.get_toolJSON(),function(U){var V=S._getAttribute(U.attributes,A);
var T=S._getAttribute(U.attributes,h)||"";
if(!P[V]){P[V]=[];
}P[V].push(T);
});
var Q=[];
Array.forEach(R,function(T){Q.push(P[T]);
});
return Q;
},_initializeListsByTabs:function(){var Q=this;
var P=Q._listsByTabs={};
Array.forEach(Q.get_toolJSON(),function(R,S){var T=Q._getAttribute(R.attributes,A);
if(T){if(!P[T]){P[T]=[];
}P[T].push(S);
}});
},_getAttribute:function(Q,P){return Q&&P in Q?Q[P]:L;
},_initializeToolNavigator:function(){var Q=this;
var R=Q._getToolHeaderElement();
if(R){var P={back:i(Q,Q._onNavigationBack),close:i(Q,Q._onNavigationClose)};
Q._toolNavigator=$create(b.ToolNavigator,null,P,null,R);
}},_tabChooserItemSelected:function(S,P){var T=this;
var R=P.get_value();
var Q=a(J,T.get_element()).children();
Q.addClass(s);
Array.forEach(T._listsByTabs[R]||[],function(U){Q.eq(U).removeClass(s);
});
S.set_text(R);
},_tabsListShowing:function(S,P){var V=this;
var R=V._getSelectedElement();
var Q=a(P.get_value()).children();
var T=V._getUniqueTabs();
var U={};
Array.forEach(V.get_toolJSON(),function(X,Y){var W=X.attributes;
var aa=V._getAttribute(W,A);
var Z=V._getAttribute(W,h)||"*";
if(!U[aa]&&V._isContextElement(R,aa,Z)){U[aa]=true;
}});
Array.forEach(T,function(X,W){Q.eq(W)[U[X]?"show":"hide"]();
});
},_getSelectedElement:function(){var P=this.get_editor();
var Q=P.getSelectedElement();
if(!Q){P.setFocus();
Q=P.getSelectedElement();
}return Q;
},_isContextElement:function(P,S,R){if(!S||!R||!P){return true;
}var Q=!!M.getElementParentByCondition(P,function(T){return a(T).is(R);
});
return Q;
},_getFirstUncontexedTab:function(){var Q=this;
var P=M.first(Q.get_toolJSON(),function(T){var R=T.attributes;
var U=Q._getAttribute(R,A);
var S=Q._getAttribute(R,h);
return U&&(!S||S=="*");
});
return P?P.attributes.tab:"";
},_handleDoubleClick:function(){var P=this.get_element();
a(P).doubletap(function(Q){return d.cancelRawEvent(Q);
});
},_getToolElement:function(Q,P){return a(".re"+Q,P).get(0);
},_getToolBarElements:function(){var P=this.get_element();
if(!P){return null;
}return a("ul",P).toArray();
},_attachToolEventHandlers:function(Q,P){var R=this;
switch(P.type){case o.Button:Q.add_valueSelected(R._raiseEditorEventDelegate);
break;
case o.DropDown:case o.SplitButton:case o.ToolStrip:Q.add_show(R._onInitialDropDownShowDelegate);
Q.add_show(i(R,R._onDropDownShow));
Q.add_hide(i(R,R._onDropDownHide));
Q.add_valueSelected(i(R,R._onDropDownValueSelected));
break;
default:Q.add_valueSelected(R._raiseEditorEventDelegate);
break;
}},get_toolNavigator:function(){return this._toolNavigator;
},get_tabChooser:function(){return this._tabChooser;
},_onInitialDropDownShow:function(Q,P){var R=this;
R._initializeDropDownItems(Q);
Q.remove_show(R._onInitialDropDownShowDelegate);
},_initializeDropDownItems:function(P){var T=this;
var S=T.get_editor();
var R=P.get_name();
var Q;
switch(R){case"ApplyClass":Q=S.getCssArray();
break;
case"FontName":Q=Array.clone(S.get_fontNames());
break;
case"FontSize":Q=S.get_fontSizes();
break;
case"BackColor":case"ForeColor":Q=S.get_colors();
break;
case"RealFontSize":Q=S.get_realFontSizes();
break;
case"FormatBlock":Q=S.get_paragraphs();
break;
default:break;
}if(Q){P.set_items(Q);
}},_onDropDownShow:function(U,T){var X=this;
var V=U.get_name();
var W=X.get_editor().getLocalizedString(V)||V;
var Q=X._$element;
var S=Q.children(F);
var P=S.children(l);
var R=S.children(J);
X.currentDropDown=U;
X._tabChooser.hide(function(){X._toolNavigator.show(W);
});
X._slideOutTools();
P.show();
R.hide();
},_onDropDownHide:function(T,S){var V=this;
var U=V.get_editor();
var R=V._$element.children(F);
var P=R.children(l);
var Q=R.children(J);
V.currentDropDown=L;
U.enableContentArea(true);
Q.show();
P.hide();
V._toolNavigator.back(function(){V._tabChooser.show();
});
V._slideInTools();
},_onDropDownValueSelected:function(Q,P){var S=this;
var R=Q.get_selectedItem();
if(c.EditorButton.isInstanceOfType(R)){Q.set_selectedIndex(-1);
S._raiseEditorEvent(R,R.get_name());
}else{if(Q.updateValue){Q.updateValue(R);
}S._raiseEditorEvent(Q,R);
}},_onNavigationBack:function(){var P=this;
if(P.currentDropDown){P.currentDropDown.hide();
}P._slideInTools();
},_onNavigationClose:function(){this.get_editor().fire("MobileEdit");
},dispose:function(){var R=this,S=R.get_tools();
for(var P=0,Q=S.length;
P<Q;
P++){S[P].dispose();
}b.MobileToolAdapter.callBaseMethod(R,"dispose");
}};
a.registerControlProperties(b.MobileToolAdapter,{animationType:null,animationDuration:300,editor:null,contentAreaMode:null,toolJSON:null});
a.registerControlEvents(b.MobileToolAdapter,["toolClick"]);
b.MobileToolAdapter.registerClass("Telerik.Web.UI.Editor.MobileToolAdapter",b.BaseToolAdapter);
function q(){return t?u:O?N:L;
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,e){var c=Telerik.Web.UI;
var b=c.Editor;
var d="RadEditor";
b.RibbonBarToolAdapter=function(f){b.RibbonBarToolAdapter.initializeBase(this,[f]);
this._ribbonBar=null;
this._toolsWrapper=null;
this._ribbonBarButtons=[];
this._ribbonBarSplitButtons=[];
this._ribbonBarItems=[];
this._toolbarEnum=Telerik.Web.UI.EditorToolbarMode;
this._toolBarMode=null;
};
b.RibbonBarToolAdapter.prototype={initialize:function(){var h=this;
var i=this.get_toolbarMode();
var g=c.EditorToolbarMode;
var f=h.get_editor();
b.RibbonBarToolAdapter.callBaseMethod(this,"initialize");
this._moveRibbonBarInToolsWrapper();
this._initializeRibbonBarButtons();
this._onRibbonBarButtonClickedDelegate=Function.createDelegate(this,this._onRibbonBarButtonClick);
this._registerribbonBarHandlers();
this._filterToolbarJson();
this._attachToolbarJsonToHtml();
if((i!==g.RibbonBar)||f._isInInlineEditMode()){this.get_window();
switch(i){case g.RibbonBarFloating:this._createFloatingButton();
break;
case g.RibbonBarPageTop:case g.RibbonBarShowOnFocus:this._attachToolBarEventHandlers();
break;
}}this._initializeToolsWrapper();
this._addToggleScreenHandler();
},repaint:function(f){var g=this.get_ribbonBar();
if(f===true){g._setRibbonSize({width:1});
}g.repaint();
},_moveRibbonBarInToolsWrapper:function(){var g=this.get_ribbonBar(),f=g.get_element().parentNode;
this.get_toolsWrapper().appendChild(g.get_element());
this._clearRibbonBarElementWidth();
g.repaint();
$telerik.$(f).remove();
this._clearRibbonBarElementWidth();
},_clearRibbonBarElementWidth:function(){this.get_ribbonBar().get_element().style.width="";
},_initializeToolsWrapper:function(){var f=this.get_editor();
var g=f._isInInlineEditMode();
var j=this.get_toolsWrapper(),k=j.style,i=this.get_toolbarMode(),h="1px";
if(!g){k.height="";
k.visibility="visible";
k.overflow="visible";
k.paddingTop=h;
if($telerik.isFirefox){k.paddingLeft=h;
k.paddingRight=h;
}}if((i!==this._toolbarEnum.RibbonBar)||g){a(j).addClass(d);
j.parentNode.style.overflow="hidden";
}},_addToggleScreenHandler:function(){this._toggleScreenModeDelegate=Function.createDelegate(this,this._clearRibbonBarElementWidth);
this.get_editor().add_toggleScreenMode(this._toggleScreenModeDelegate);
},_positionWindow:function(){var g=this;
var h=g.get_toolbarMode();
var f=g.get_editor();
switch(h){case this._toolbarEnum.RibbonBarShowOnFocus:this._positionToolbarAboveEditor();
break;
case this._toolbarEnum.RibbonBarPageTop:this._positionOnPageTop();
break;
case this._toolbarEnum.RibbonBarFloating:if(!this._wasShown){this._positionToolbarAboveEditor();
this._wasShown=true;
}break;
}if(f._isInInlineEditMode()){g._positionToolbarAboveEditor();
}this._clearRibbonBarElementWidth();
},_positionOnPageTop:function(){var g=this._toolbarHolder;
var f=g._getViewportBounds();
var h=f.scrollLeft;
var i=f.scrollTop;
g.moveTo(h,i);
g.get_popupElement().style.width="100%";
if(!g.isPinned()){g.togglePin();
}},_setToolbarHolderProperties:function(){var h=this;
var i=this.get_toolbarMode();
var k=this._toolbarHolder;
var j=c.WindowBehaviors;
var g=c.EditorToolbarMode;
var f=h.get_editor();
if(i===g.RibbonBarShowOnFocus||i===g.RibbonBarPageTop||f._isInInlineEditMode()){k.set_behaviors(j.None);
k.set_visibleTitlebar(false);
}else{k.set_behaviors(j.Move+j.Close+j.Pin);
}this.get_element().style.visibility="visible";
},_showToolbarHolder:function(g){var f=this.get_editor(),h=this.get_toolbarMode();
if(!g){if(this._toolbarHolder){this._toolbarHolder.hide();
}return;
}if((f.isFullScreen()&&!this._isToolBarFloating())||f.get_dialogOpener().get_hasOpenedDialog()){return;
}var k=Telerik.Web.UI.Editor.DefaultToolAdapter._visibleToolAdapter;
if(k==this&&k._toolbarHolder&&k._toolbarHolder.isVisible()){k.get_toolbarHolder().setActive(true);
return;
}if(k&&k._showToolbarHolder){k._showToolbarHolder(false);
}Telerik.Web.UI.Editor.DefaultToolAdapter._visibleToolAdapter=this;
var j=this.get_window();
this._setToolbarHolderProperties();
this._toolbarHolder.show();
if($telerik.isIE){var i=$telerik.$(f.get_TopZone());
switch(h){case this._toolbarEnum.RibbonBarShowOnFocus:case this._toolbarEnum.RibbonBarPageTop:i.children().first().css("display","none");
break;
}if(f._isInInlineEditMode()){i.children().first().css("display","none");
}}j.get_contentElement().parentNode.style.overflow="visible";
this.repaint();
},_filterToolbarJson:function(){var n=this.get_toolJSON(),f,k,g,h,o,m;
for(f=0,k=n.length;
f<k;
f++){h=n[f];
o=h.tools;
for(g=o.length-1;
g>-1;
g--){m=o[g];
if(typeof(m.name)=="undefined"||!m.type||(m.type==Telerik.Web.UI.EditorToolType.ToolStrip&&m.name!="InsertTable")){o.splice(g,1);
}}}},_initializeRibbonBarButtons:function(){var t=this.get_ribbonBar();
var v=t.get_tabs();
for(var m=0,s=v.get_count();
m<s;
m++){var u=v.getTab(m);
var h=u.get_groups(m);
for(var q=0,f=h.get_count();
q<f;
q++){var g=h.getGroup(q);
var p=g.get_items();
for(var r=0,n=p.get_count();
r<n;
r++){var o=p.getItem(r);
this._initializeRibbonBarButton(o);
}}}},_initializeRibbonBarButton:function(f){if(f.get_value){this._ribbonBarButtons.push(f);
this._ribbonBarItems.push(f);
this._addSetOnMethodToButton(f);
this._addIsOnMethodToButton(f);
}else{if(f instanceof Telerik.Web.UI.RibbonBarSplitButton){this._ribbonBarSplitButtons.push(f);
this._ribbonBarItems.push(f);
}}},_addSetOnMethodToButton:function(f){f.setOn=function(g){if(this.set_toggled){this.set_toggled(g);
}};
},_addIsOnMethodToButton:function(f){f.isOn=function(){return(this.get_toggled)?this.get_toggled():false;
};
},_registerribbonBarHandlers:function(){var f=this.get_ribbonBar();
f.add_buttonToggled(this._onRibbonBarButtonClickedDelegate);
f.add_splitButtonClicked(this._onRibbonBarButtonClickedDelegate);
},_onRibbonBarButtonClick:function(j,f){var g=f.get_button();
if(g.set_toggled){g.set_toggled(false);
}var h=g.get_value();
var i=new Telerik.Web.UI.EditorCommandEventArgs(h,null,null);
this.get_editor().fire(h,i);
},get_ribbonBar:function(){if(!this._ribbonBar){this._ribbonBar=this.get_editor().get_ribbonBar();
}return this._ribbonBar;
},get_toolsWrapper:function(){if(!this._toolsWrapper){this._toolsWrapper=this.get_editor().get_TopZone().children[0];
}return this._toolsWrapper;
},getToolByName:function(f){return this.getRibbonBarButtonByName(f)||Telerik.Web.UI.Editor.RibbonBarToolAdapter.callBaseMethod(this,"getToolByName",[f]);
},getRibbonBarButtonByName:function(f){var g=this.get_ribbonBar();
return g.findButtonByValue(f)||g.findToggleButtonByValue(f)||g.findItemByAttribute("rel",f);
},_setEnabled:function(f){this._setRibbonBarItemsEnabled(f);
this._setEditorToolsEnabled(f);
},_setRibbonBarItemsEnabled:function(g){var j=this._ribbonBarItems;
for(var f=0,k=j.length;
f<k;
f++){var h=j[f];
this._setToolEnabled(h,g);
}},_setEditorToolsEnabled:function(g){var h=this._tools;
for(var f=0;
f<h.length;
f++){this._setToolEnabled(h[f],g);
}},_setToolEnabled:function(h,g){h.set_enabled(g);
var f=h.get_element();
if(!g){Sys.UI.DomElement.addCssClass(f,"rrbImagePlaceholderDisabled");
}else{Sys.UI.DomElement.removeCssClass(f,"rrbImagePlaceholderDisabled");
}},_getToolBarElements:function(){var f=this.get_ribbonBar().get_element();
if(!f){return null;
}var g=$telerik.$(f).find("div.rrbButtonGroup").get();
return g;
},_getToolBarItemElements:function(f){return $telerik.$(f).find("div.rrbTemplateItem").get();
},_getItemElementByIndex:function(g,f){return g[f];
},_getToolElement:function(f){return f.getElementsByTagName("A")[0];
},_attachHandlerToToolElementParent:function(f){var g=f.parentNode;
if($telerik.isSafari){g.setAttribute("onmousedown","return false;");
}$addHandlers(g,{click:this._onToolBarClickDelegate,keydown:this._onToolBarKeyDownDelegate},this);
},_attachHandlerToToolbarElement:function(f){},_toolbarSizeFixIE:function(f){},_onEditorSelectionChange:function(g,f){this.get_ribbonBar()._hideMenus();
this.setRibbonBarToolState();
this.setToolState();
this._rangeState=null;
},setRibbonBarToolState:function(n,h){if(!n){n=this._ribbonBarButtons;
}var f=this.get_editor(),k=Telerik.Web.UI.Editor.DomRange.rangeFromWindow(f.get_contentWindow());
this._rangeState=k;
for(var g=0;
g<n.length;
g++){var j=n[g];
var m=j.get_value();
var l=h;
if(null==l){l=f.getToolState(m,k);
}if(null!=l){this._setRibbonBarButtonState(j,l);
}}},_setRibbonBarButtonState:function(f,g){if(g==Telerik.Web.UI.Editor.CommandStates.Disabled){this._setToolEnabled(f,false);
}else{this._setToolEnabled(f,true);
if(g==Telerik.Web.UI.Editor.CommandStates.Off){f.set_toggled(false);
}else{f.set_toggled(true);
}}},get_toolbarMode:function(){if(!this._toolbarMode){this._toolbarMode=this.get_editor().get_toolbarMode();
}return this._toolbarMode;
},set_toolbarMode:function(f){this._toolbarMode=f;
}};
Telerik.Web.UI.Editor.RibbonBarToolAdapter.registerClass("Telerik.Web.UI.Editor.RibbonBarToolAdapter",Telerik.Web.UI.Editor.DefaultToolAdapter);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,j){var c=Telerik.Web.UI;
var b=c.Editor;
var h="div.rrbCommandGroup";
var g=".rrbImagePlaceholder";
var i="reToolIcon reRibbonToolIcon";
b.RibbonBarToolAdapterLite=function(k){b.RibbonBarToolAdapterLite.initializeBase(this,[k]);
};
b.RibbonBarToolAdapterLite.prototype={_getToolBarElements:function(){var k=this.get_ribbonBar().get_element();
if(!k){return null;
}return $telerik.$(k).find(h).get();
},_initializeRibbonBarButton:function(k){b.RibbonBarToolAdapterLite.callBaseMethod(this,"_initializeRibbonBarButton",[k]);
d(k);
}};
b.RibbonBarToolAdapterLite.registerClass("Telerik.Web.UI.Editor.RibbonBarToolAdapterLite",b.RibbonBarToolAdapter);
function d(m){var k=e(m);
var l=f(m);
k.addClass(i).addClass("re"+l);
var n=m.get_items&&m.get_items();
if(n){n.forEach(d);
}}function f(k){return k.get_value()||k.get_element().getAttribute("rel");
}function e(k){return a(k.get_element()).find(g);
}})($telerik.$);
(function(c){Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
var a=Telerik.Web.UI.Editor;
var b=Function.emptyFunction;
a.BaseContextMenuFunctionality=function(){};
a.BaseContextMenuFunctionality.prototype={initializeContextMenus:b,createContextMenu:b,getContextMenuByTagName:b,showContextMenu:b,getContextMenuItems:b,isContextMenuItem:b,isContextMenu:b,getSelectedValue:b,hideContextMenu:b,setToolContainersState:b,dispose:b};
a.BaseContextMenuFunctionality.registerInterface("Telerik.Web.UI.Editor.BaseContextMenuFunctionality");
})();
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
var d="telerikEditor";
var c=Function.createDelegate;
var e=b.EventType;
var g=e.Up+"."+d;
var f="Mobile";
b.EditorButton=function(h){b.EditorButton.initializeBase(this,[h]);
this._enabled=true;
this._text="";
this._isOn=false;
this._contentAreaMode="";
this._enableAriaSupport=false;
this._rendermode="";
this._shortCut="";
this._enableRippleEffect=false;
};
b.EditorButton.getToolRootNode=function(h){while(h&&h.tagName!="A"){h=h.parentNode;
}return h;
};
b.EditorButton.prototype={initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorButton");
this.__attachEventHandlers();
},__attachEventHandlers:function(){if(this.get_addClickHandler()){var h=this.get_element();
if(!this._clickDelegate){this._clickDelegate=c(this,this.click);
if(this.get_rendermode()==f){this._attachMobileHandlers(h);
}else{this._attachHandlers(h);
}}}},_attachHandlers:function(h){$telerik.onEvent(h,g,this._clickDelegate);
},_attachMobileHandlers:function(h){b.Editor.UI.TapEvent.onTap(h,{down:c(this,this.select),move:c(this,this.deselect),tap:this._clickDelegate,namespace:d});
},__detachEventHandlers:function(){var h=this.get_element();
if(this._clickDelegate&&h){if(this.get_rendermode()==f){this._detachMobileHandlers(h);
}else{this._detachHandlers(h);
}delete this._clickDelegate;
}},_detachHandlers:function(h){$telerik.offEvent(h,g,this._clickDelegate);
},_detachMobileHandlers:function(h){b.Editor.UI.TapEvent.offTap(h);
},dispose:function(){this.__detachEventHandlers();
b.EditorButton.callBaseMethod(this,"dispose");
},click:function(h){this.raiseEvent("valueSelected");
return $telerik.cancelRawEvent(h);
},select:function(){this._view.select();
},deselect:function(){this._view.deselect();
},add_valueSelected:function(h){this.get_events().addHandler("valueSelected",h);
},remove_valueSelected:function(h){this.get_events().removeHandler("valueSelected",h);
},raiseEvent:function(i,h){var j=this.get_events().getHandler(i);
if(j){if(!h){h=Sys.EventArgs.Empty;
}j(this,h);
}},set_width:function(h){this._width=h;
if(this._view){this._view.set_width(h);
}},get_width:function(){if(this._view){this._width=this._view.get_width();
}return this._width;
},set_height:function(h){this._height=h;
if(this._view){this._view.set_height(h);
}},get_height:function(){if(this._view){this._width=this._view.get_width();
}return this._width;
},get_tooltipIncrease:function(){if(this._view){this._tooltipIncrease=this._view.get_tooltipIncrease();
}return this._tooltipIncrease;
},set_tooltipIncrease:function(h){this._tooltipIncrease=h;
if(this._view){this._view.set_tooltipIncrease(h);
}},get_tooltipDecrease:function(){if(this._view){this._tooltipDecrease=this._view.get_tooltipDecrease();
}return this._tooltipDecrease;
},set_tooltipDecrease:function(h){this._tooltipDecrease=h;
if(this._view){this._view.set_tooltipDecrease(h);
}},get_shortCut:function(){return this._shortCut;
},set_shortCut:function(h){this._shortCut=this._parseShortCut(h);
this._updateAnchorTitle();
},_parseShortCut:function(l){var j=(l+"").replace(/\s/g,""),i=Telerik.Web.Platform;
if(j.indexOf("/")!=-1&&j.indexOf("CMD")!=-1&&j.match(/CTRL|F[\d]/)){var k=j.split("/"),h=k[0].indexOf("CMD")>-1;
if(i&&i.mac){j=h?k[0]:k[1];
}else{j=h?k[1]:k[0];
}}return j;
},_updateAnchorTitle:function(){var h=this.get_shortCut(),i=this.get_text();
if(h){i=i.replace(/\([^\)]*\)/,"("+h+")");
}a(this.getAnchorElement()).attr("title",i);
},isTarget:function(h){return $telerik.isDescendantOrSelf(this.get_element(),h.target);
},setState:function(h){this.set_enabled(h!=b.Editor.CommandStates.Disabled);
this.setOn(h==b.Editor.CommandStates.On);
},setFocus:function(){var h=this.getAnchorElement();
if(h&&h.focus){h.focus();
}},get_enabled:function(){return this._enabled;
},set_enabled:function(h){if(this._enabled!=h){this._enabled=h;
if(this._view){if(h){this._view.enable();
}else{this._view.disable();
}}}},get_enableAriaSupport:function(){return this._enableAriaSupport;
},set_enableAriaSupport:function(j,i){if(this.get_enableAriaSupport()!=j){this._enableAriaSupport=j;
var h=this.getAnchorElement();
if(!h){return;
}if(this.get_enableAriaSupport()){i=i?i:"button";
h.setAttribute("role",i);
}}},isOn:function(){return this._isOn;
},setOn:function(i,h){if(this._isOn!=i){this._isOn=i;
if(this._view){if(this._isOn){this._view.select(h);
}else{this._view.deselect(h);
}}}},get_text:function(){if(this._text){return this._text;
}var h=this.getAnchorElement();
if(h&&h.getAttribute("title")){return h.getAttribute("title");
}return this.get_name();
},set_text:function(h){if(this._text!=h){this._text=h;
if(this.get_showText()&&this._view){this._view.set_text(h);
}this.set_title(h);
}},set_title:function(h){this._view&&this._view.set_title(h);
},get_contentAreaMode:function(){if(this._contentAreaMode!=""){return this._contentAreaMode;
}else{return b.EditorContentAreaMode.Iframe;
}},set_contentAreaMode:function(h){this._contentAreaMode=h;
},getAnchorElement:function(){return this.get_element();
},getSpanElement:function(){if(this.rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode==="Lightweight")){return null;
}else{var h=this.getAnchorElement();
var i=h.firstChild;
while(i!=null&&(i.tagName==null||i.tagName.toLowerCase()!="span")){i=i.nextSibling;
}return i;
}}};
a.registerControlProperties(b.EditorButton,{clientStateFieldID:null,attributes:{},addClickHandler:false,autoPostBack:false,name:"",showIcon:true,showText:false,skin:"",type:null,rendermode:"Classic",clientTypeName:"Telerik.Web.UI.EditorButton"});
a.registerControlEvents(b.EditorButton,["valueSelected"]);
b.EditorButton.registerClass("Telerik.Web.UI.EditorButton",Sys.UI.Control);
Telerik.Web.UI.EditorSpinBoxEventArgs=function(h,i){Telerik.Web.UI.EditorSpinBoxEventArgs.initializeBase(this);
this._newValue=h;
this._oldValue=i;
};
Telerik.Web.UI.EditorSpinBoxEventArgs.prototype={get_oldValue:function(){return this._oldValue;
},get_newValue:function(){return this._newValue;
}};
Telerik.Web.UI.EditorSpinBoxEventArgs.registerClass("Telerik.Web.UI.EditorSpinBoxEventArgs",Sys.CancelEventArgs);
Telerik.Web.UI.EditorSpinBox=function(h){Telerik.Web.UI.EditorSpinBox.initializeBase(this,[h]);
this._width="50px";
this._className="reSpinBox";
this._selectedItem="";
this._initialValue="";
this._visibleInput=true;
this._enabledIncrease=true;
this._enabledDecrease=true;
};
Telerik.Web.UI.EditorSpinBox.prototype={dispose:function(){this._inputElement.onchange=null;
this._inputElement.onkeypress=null;
this._inputElement.onclick=null;
this._inputElement=null;
this._increaseButton.onclick=null;
this._increaseButton=null;
this._decreaseButton.onclick=null;
this._decreaseButton=null;
Telerik.Web.UI.EditorSpinBox.callBaseMethod(this,"dispose");
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSpinBox");
},_executeFunction:function(h,i,k){if(k){if(i.Executed){i.Executed=false;
return $telerik.cancelRawEvent(h);
}}i.Executed=true;
var l=(this._selectedItem!="")?this._selectedItem:this._initialValue;
this._selectedItem=i.value;
var j=new Telerik.Web.UI.EditorSpinBoxEventArgs(i.value,l);
this.raiseEvent("valueSelected",j);
},_onPlusMinusClickHandler:function(h){var j=this._view.getSpinBoxArrowFormEvent(h);
if(!j){return;
}var k=this.get_value();
k=k.replace(/^0+(\d)/ig,"$1");
if(""==k){k="0";
}var l=parseInt(k,10);
var i=l+"";
if(isNaN(l)){return;
}else{i=k.substring(i.length);
}if(j==this._increaseButton){if(this._enabledIncrease){l++;
}else{return;
}}else{if(j==this._decreaseButton){if(this._enabledDecrease){l--;
}else{return;
}}else{j=null;
}}if(j&&l>=0){this.set_value(l+i);
this._executeFunction(h,this._inputElement);
}return false;
},_onChangeHandler:function(h){if(!h){h=window.event;
}this._executeFunction(h,this._inputElement);
},_onKeyPressHandler:function(h){if(!h){h=window.event;
}if(h.keyCode==13){this._executeFunction(h,this._inputElement);
return $telerik.cancelRawEvent(h);
}},_onKeyDownHandler:function(h){if(!h){h=window.event;
}h.returnValue=this._isKeyValid(h);
},_onKeyUpHandler:function(h){if(!h){h=window.event;
}if(this._isKeyValid(h,true)){var k=this._selectedItem;
var j=this.get_value();
var i=new Telerik.Web.UI.EditorSpinBoxEventArgs(j,k);
this.raiseEvent("valueSelected",i);
}},_isKeyValid:function(i,l){try{if(!i){i=window.event;
}var k=i.keyCode;
var h=((48<=k&&k<=57)||(96<=k&&k<=105)||(13==k)||(8==k)||(46==k)||(9==k)||(!l&&35<=k&&k<=40));
return h;
}catch(j){return true;
}},get_selectedItem:function(){return this._selectedItem;
},get_value:function(){return this._inputElement.value;
},set_value:function(h){if(null==h){h="";
}this._inputElement.value=h;
if(this._initialValue==""){this._initialValue=h;
}},get_width:function(){return this._width;
},set_width:function(i){this._width=i;
var h=this.get_element();
h.style.width=this._width;
},get_enabledIncrease:function(){return this._enabledIncrease;
},set_enabledIncrease:function(h){this._enabledIncrease=h;
this._setButtonState(this._increaseButton,h);
},get_enabledDecrease:function(){return this._enabledDecrease;
},set_enabledDecrease:function(h){this._enabledDecrease=h;
this._setButtonState(this._decreaseButton,h);
},_setButtonState:function(h,i){if(!i){Sys.UI.DomElement.addCssClass(h,"disabled-button");
}else{Sys.UI.DomElement.removeCssClass(h,"disabled-button");
}},get_visibleInput:function(){return this._visibleInput;
},set_visibleInput:function(h){this._visibleInput=h;
if(this._inputElement){if(!this._visibleInput){this._inputElement.style.display="none";
}else{this._inputElement.style.display="";
}}}};
Telerik.Web.UI.EditorSpinBox.registerClass("Telerik.Web.UI.EditorSpinBox",Telerik.Web.UI.EditorButton);
Telerik.Web.UI.EditorCheckBox=function(h){Telerik.Web.UI.EditorCheckBox.initializeBase(this,[h]);
this._selectedItem=false;
};
Telerik.Web.UI.EditorCheckBox.prototype={dispose:function(){this._inputElement.onclick=null;
this._inputElement.Parent=null;
this._inputElement=null;
Telerik.Web.UI.EditorCheckBox.callBaseMethod(this,"dispose");
},get_selectedItem:function(){return this._selectedItem;
},set_value:function(h){if(this._inputElement.checked!=h){this._inputElement.checked=h;
}},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorCheckBox");
var h=document.createElement("input");
h.setAttribute("type","CHECKBOX");
h.Parent=this;
h.onclick=function(i){var j=this.Parent;
j._selectedItem=!j._selectedItem;
this.checked=j._selectedItem;
j._selectedItem=this.checked;
j.raiseEvent("valueSelected");
};
this._inputElement=h;
this.get_element().appendChild(h);
}};
Telerik.Web.UI.EditorCheckBox.registerClass("Telerik.Web.UI.EditorCheckBox",Telerik.Web.UI.EditorButton);
Telerik.Web.UI.EditorTextBox=function(h){Telerik.Web.UI.EditorTextBox.initializeBase(this,[h]);
this._width="100px";
this._selectedItem="";
};
Telerik.Web.UI.EditorTextBox.prototype={dispose:function(){this._inputElement.onchange=null;
this._inputElement.onkeypress=null;
this._inputElement.onclick=null;
this._inputElement.Parent=null;
this._inputElement=null;
Telerik.Web.UI.EditorTextBox.callBaseMethod(this,"dispose");
},get_width:function(){return this._width;
},set_width:function(h){this._width=h;
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorTextBox");
var i=document.createElement("input");
i.setAttribute("type","text");
i.style.width=this.get_width();
i.Parent=this;
var h=function(j,k,l){if(l){if(k.Executed){k.Executed=false;
return $telerik.cancelRawEvent(j);
}}k.Executed=true;
k.Parent._selectedItem=k.value;
k.Parent.raiseEvent("valueSelected");
return $telerik.cancelRawEvent(j);
};
i.onchange=function(j){if(!j){j=window.event;
}return h(j,this,true);
};
i.onclick=function(j){this.focus();
};
i.onkeypress=function(j){if(!j){j=window.event;
}if(j.keyCode==13){return h(j,this);
}};
this._inputElement=i;
this.get_element().appendChild(i);
},get_selectedItem:function(){return this._selectedItem;
},get_value:function(){return this._inputElement.value;
},set_value:function(h){if(null==h){h="";
}this._inputElement.value=h;
}};
Telerik.Web.UI.EditorTextBox.registerClass("Telerik.Web.UI.EditorTextBox",Telerik.Web.UI.EditorButton);
b.ImageDialogCaller=function(h){b.ImageDialogCaller.initializeBase(this,[h]);
this._hidePropertiesTab=false;
};
b.ImageDialogCaller.prototype={dispose:function(){this._inputElement=null;
var h=this.get_pushButton();
if(h){h.onclick=null;
}this.set_pushButton(null);
this.set_editor(null);
b.ImageDialogCaller.callBaseMethod(this,"dispose");
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ImageDialogCaller");
var h=this.get_element();
this._inputElement=h.getElementsByTagName("INPUT")[0];
var i=h.getElementsByTagName("A")[0];
this.set_pushButton(i);
if(i){i.onclick=Function.createDelegate(this,this._onButtonClickHandler);
}},_onButtonClickHandler:function(h){this.callImageDialog();
},_dialogCallbackFunction:function(k,h){var j=h&&h.get_value?h.get_value():null;
var i=j[j.length-1];
var l="";
if(i&&i.getAttribute){l=i.getAttribute("src",2);
}if(l){this._inputElement.value=l;
this.raiseEvent("valueSelected");
}},callImageDialog:function(){var i=Function.createDelegate(this,this._dialogCallbackFunction);
var l=this.get_editor();
var j=null;
if(l){j=l.get_dialogOpener();
}else{if(b.Dialogs&&b.Dialogs.CommonDialogScript&&b.Dialogs.CommonDialogScript.get_windowReference()){j=b.Dialogs.CommonDialogScript.get_windowReference().get_dialogOpener();
}}var o=null;
var n;
if(j){n=j.get_additionalQueryString();
var p=this._inputElement.value;
if(p){var m=p;
j.set_additionalQueryString(n+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(m));
var k=l?l.get_document():document;
o=k.createElement("img");
o.setAttribute("src",m);
}}var h=new b.EditorCommandEventArgs("ImageManager",null,o);
b.Editor.CommandList._getDialogArguments(h,"IMG",l,"ImageManager");
if(this._hidePropertiesTab){h._hidePropertiesTab=true;
}if(l){l.showDialog("ImageManager",h,i);
}else{if(j){j.open("ImageManager",h,i);
}}if(j){j.set_additionalQueryString(n);
}},get_value:function(){return this._inputElement.value;
},set_value:function(h){if(null==h){h="";
}this._inputElement.value=h;
}};
a.registerControlProperties(b.ImageDialogCaller,{pushButton:null,editor:null,width:""});
b.ImageDialogCaller.registerClass("Telerik.Web.UI.ImageDialogCaller",b.EditorButton);
})();
(function(a,u){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI,l="reFirstItem",q="reLastItem",r=".reEditorColorList",g="click",s="reSelectedColor",t="."+s,k=".reCurrentColor",j=".reCurrentColorHex",h="reColorListItem",i="."+h,e="reIconClearButton",d="reClearButton",f=".reClearButton",c=".reAddCustomColor",p='<li class="reColorListItem" style="width: # width #; background-color: # bgcolor #;"></li>',o='<ul class="reToolList reToolDropDown" unselectable="on"></ul>',m='<span title="# text #" role="button" class="reButton reAddCustomColor"># text #</span>',n='<div class="reColorPickerHeader">	<span role="button" title="Clear" class="reButton reClearButton" style="display: none;">		<span class="reIcon reIconClearButton"></span>	</span>	<span class="reCurrentColorWrapper">		<span style="background-color: # currentValue #;" class="reCurrentColor"></span>		<span class="reCurrentColorHex"># currentValueText #</span>	</span></div>';
b.EditorColorList=function(v){var w=this;
b.EditorColorList.initializeBase(w,[v]);
w._items=[];
w._value="";
w._addCustomColorText="Add Custom Color";
};
b.EditorColorList.prototype={initialize:function(){b.EditorColorList.callBaseMethod(this,"initialize");
this._$element=a(this.get_element());
this._createUI();
this._initialized=true;
this._attachElementsEventHandlers();
},_createUI:function(){this.renderHeader();
this.renderItemsContainer();
this.renderItems();
this.renderFooter();
},renderHeader:function(){var x=this,y=x.get_value(),w=y||x.get_currentColorText(),v=n.replace(/# currentValue #/ig,y).replace(/# currentValueText #/ig,w);
x._$element.append(v);
},renderItemsContainer:function(){var v=a(o).appendTo(this.get_element()).get(0);
this.set_itemsContainer(v);
},renderItems:function(){var z=this,y=z.get_itemsContainer();
z._renderedItems=0;
y.innerHTML="";
for(var w=0;
w<z._items.length;
w++){var x=z._items[w];
var v=z.renderItemContainer(y,x);
if(!x){a(v).hide();
z._showClearColorButton();
}else{z._styleEdges(v,w);
z._renderedItems++;
}}},_styleEdges:function(v,w){var A=this,z=A.get_itemsperrow(),x=A._renderedItems%z==0,y=A._renderedItems%z==z-1||w==A._items.length-1;
if(x){a(v).addClass(l);
}if(y){a(v).addClass(q);
if(!x){a(v.previousSibling).removeClass(q);
}}},_showClearColorButton:function(){this._$element.find(f).show();
},renderItemContainer:function(x,w){var y=parseFloat(100/this.get_itemsperrow(),10)+"%",v=a(p.replace(/# width #/g,y).replace(/# bgcolor #/g,w));
a(x).append(v);
return v.get(0);
},renderFooter:function(){var v=this.get_addCustomColorText(),w=m.replace(/# text #/g,v);
this._$element.append(w);
},_attachElementsEventHandlers:function(v){var x=this,w=this.get_element();
a(".reToolList",w).add(".reClearButton",w).add(".reAddCustomColor",w).on(g+r,a.proxy(x._onClick,x));
},_detachElementsEventHandlers:function(){var v=this.get_element();
a(".reToolList",v).add(".reClearButton",v).add(".reAddCustomColor",v).off(g+r);
},get_items:function(){return this._items;
},set_items:function(v){this._items=v;
if(this._initialized){this.renderItems();
}},get_value:function(){return this._value;
},set_value:function(v){this._value=v;
this._updateHeader();
this._markSelectedItem();
this.raiseEvent("valueSelected");
},_updateHeader:function(){var w=this,x=w.get_value(),v=w._rgbToHex(x)||w.get_currentColorText();
w._$element.find(k).css("background-color",w.get_value());
w._$element.find(j).html(v);
},_markSelectedItem:function(){var w=this,v=w._rgbToHex;
w._$element.find(t).removeClass(s);
w._$element.find(i).each(function(y,x){if(v(w.get_value()).toLowerCase()==v(x.style.backgroundColor).toLowerCase()){a(x).addClass(s);
return false;
}});
},get_itemsContainer:function(){return this._itemsContainer;
},set_itemsContainer:function(v){this._itemsContainer=v;
},get_text:function(){return this._text;
},click:function(){},_onClick:function(v){var x=this,w=v.target;
if(x._isClearButton(w)){x.set_value("");
}else{if(x._isColorItem(w)){x._colorItemClicked(v);
}else{if(x._isAddCustomColorButton(w)){x._customColorClicked();
}}}},_isClearButton:function(w){var v=a(w);
return v.hasClass(e)||v.hasClass(d);
},_isColorItem:function(v){return a(v).hasClass(h);
},_isAddCustomColorButton:function(v){return a(v).hasClass("reAddCustomColor");
},_colorItemClicked:function(v){var w=v.target,x=this._rgbToHex(w.style.backgroundColor);
this.set_value(x);
},_customColorClicked:function(x){var y=this,v=y._testValidColor(window.prompt(y.get_addCustomColorText(),"#"));
if(v){y._items.push(v);
var w=y.renderItemContainer(y.get_itemsContainer(),v);
y._styleEdges(w,y._items.length-1);
y._renderedItems++;
y.set_value(v);
}$telerik.cancelRawEvent(x);
},_testValidColor:function(v){if(v){var x=document.createElement("a");
try{x.style.borderBottom="3px solid "+v;
}catch(w){v="";
}finally{x=null;
}}return v;
},_rgbToHex:function(v){if(v.toLowerCase().indexOf("rgb")!=-1){var x="#";
var w=function(z){var y=parseInt(z,10).toString(16);
x+=(y.length==1?"0"+y:y);
return z;
};
v=v.replace(/(\d+)/gi,w);
w=null;
return x;
}else{return v;
}},set_addCustomColorText:function(v){this._addCustomColorText=v;
if(this._initialized){this._$element.find(c).html(this._addCustomColorText);
}},get_addCustomColorText:function(){return this._addCustomColorText;
},dispose:function(){this._detachElementsEventHandlers();
b.EditorColorList.callBaseMethod(this,"dispose");
}};
b.EditorColorList.registerClass("Telerik.Web.UI.EditorColorList",b.EditorButton);
a.registerControlProperties(b.EditorColorList,{itemsperrow:6,currentColorText:"Select Color"});
a.registerControlEvents(b.EditorColorList,["valueSelected"]);
})($telerik.$);
(function(b){Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
var a=Telerik.Web.UI;
a.Editor.EditorContextMenuFunctionality=function(){this._contextMenus=null;
this.isContextMenuInitialized=false;
this.openedContextMenu=null;
};
a.Editor.EditorContextMenuFunctionality.prototype={initializeContextMenus:function(g,e,f){this._contextMenus={};
var d=f.get_contentAreaElement();
var k=f.get_skin();
var j=f.get_renderMode();
for(var h=0;
h<e.length;
h++){var c=e[h];
c.sizetofit=true;
c.parentElement=d;
c.skin=k;
c._rendermode=Telerik.Web.UI.RenderMode.toString(j)=="Lite"?"Lightweight":Telerik.Web.UI.RenderMode.toString(j);
var m=$create(Telerik.Web.UI.EditorContextMenu,c,g,null,document.createElement("span"));
var l=c.tagName?c.tagName:"*";
this._contextMenus[l]=m;
}this.isContextMenuInitialized=true;
},createContextMenu:function(h,c,g,j){var d=g.get_contentAreaElement();
var l=g.get_skin();
var k=g.get_renderMode();
c.sizetofit=true;
c.parentElement=d;
c.skin=l;
c._rendermode=Telerik.Web.UI.RenderMode.toString(k)=="Lite"?"Lightweight":Telerik.Web.UI.RenderMode.toString(k);
var m=$create(Telerik.Web.UI.EditorContextMenu,c,h,null,document.createElement("span"));
var f=j.contextMenuId;
var n=j.trackChangeGroup;
if(f!="*"){var e=this._contextMenus[f];
if(e){m._tools=m._tools.concat(e._tools);
}else{return this._contextMenus[n];
}}var i=f+"::"+n;
this._contextMenus[i]=m;
return m;
},getContextMenuByTagName:function(c){return this._contextMenus[c];
},showContextMenu:function(c,d){c.set_eventObject(d);
c.show();
this.openedContextMenu=c;
},getContextMenuItems:function(c){return c.get_items();
},isContextMenuItem:function(c){return Telerik.Web.UI.EditorButton.isInstanceOfType(c);
},isContextMenu:function(c){return Telerik.Web.UI.EditorContextMenu.isInstanceOfType(c);
},getSelectedValue:function(c,d){return c.get_selectedItem();
},hideContextMenu:function(){this.openedContextMenu=null;
},setToolContainersState:function(){},dispose:Function.emptyFunction};
a.Editor.EditorContextMenuFunctionality.registerClass("Telerik.Web.UI.Editor.EditorContextMenuFunctionality",null,a.Editor.BaseContextMenuFunctionality);
})();
(function(a,v){Type.registerNamespace("Telerik.Web.UI");
var c=window.$telerik;
var b=Telerik.Web.UI;
var r=b.RenderMode;
var d=Telerik.Web.Browser;
var p=Telerik.Web.PositioningMode;
var k=b.EventType;
var q=a.proxy;
var e=Function.createDelegate;
var o="Mobile";
var n="li";
var u=".reToolView";
var i=".reDropDownsContainer";
var t="reRowSelected";
var s="reDropDownSelected";
var j=".telerikEditor";
var f=".";
var m="linear";
var l="hide";
var w="100vw";
var g="dblclick";
var h=120;
b.EditorDropDown=function(x){b.EditorDropDown.initializeBase(this,[x]);
this.isIE=c.isIE;
this._popupVisible=false;
this._rendered=false;
this._childrenRendered=false;
this._popupElement=null;
this._itemRootElement=null;
this._onPopupClickDelegate=null;
this._onPopupMouseDownDelegate=null;
this._onPopupMouseOverDelegate=null;
this._items=[];
this._isArrayCollection=false;
this._selectedIndex=-1;
this._activeIndex=-1;
};
b.EditorDropDown.prototype={initialize:function(){var x=this;
b.EditorDropDown.callBaseMethod(x,"initialize");
x._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(x,"EditorDropDown");
if(x._isMobileRenderMode()){x._attachElementHandlers();
}},_attachElementHandlers:function(){var y=this;
var x=a(y.get_element());
y._clickHandler=q(y.click,y);
b.Editor.UI.TapEvent.offTap(x[0]);
b.Editor.UI.TapEvent.onTap(x[0],{down:e(y,y.select),move:e(y,y.deselect),tap:y._clickHandler,namespace:"telerikEditor"});
x.doubletap(c.cancelRawEvent);
x.off(g+j);
x.on(g+j,c.cancelRawEvent);
},select:function(){var y=this;
var x=a(y.get_element());
x.addClass(s);
},deselect:function(){var y=this;
var x=a(y.get_element());
x.removeClass(s);
},dispose:function(){var x=this;
b.EditorDropDown.callBaseMethod(x,"dispose");
x.detachEventHandlers();
x.disposeChildren();
},click:function(y){var x=this;
if(x._isMobileRenderMode()){a(x.get_element()).removeClass(s);
}x.show();
return c.cancelRawEvent(y);
},isExpanded:function(){return this._popupVisible;
},show:function(){var x=this;
if(this._popupVisible){return;
}if(this.get_clearSelectedOnShow()){this.set_selectedIndex(-1);
}var y=false;
if(!this._rendered){this.render();
x.attachEventHandlers();
y=true;
}this.raiseEvent("show");
if(this._childrenRendered&&!this._allChildrenRendered()){this.disposeChildren();
}if(!this._childrenRendered){this.renderChildren();
x._attachItemsContainerEventHandlers();
x._attachItemsEventHandlers();
this._childrenRendered=true;
y=true;
}if(y){this._makeAllItemsUnselectable();
}if(x._isMobileRenderMode()){x._showPopup();
}else{this._show();
}if(this.get_enableAriaSupport()){this._popupElement.removeAttribute("aria-hidden");
}},configurePopupPropertiesBeforeShow:function(){var x=this;
if(x._isMobileRenderMode()){x._popupBehavior.set_positioningMode(p.None);
}else{x._popupBehavior.set_positioningMode(p.BottomLeft);
}},hide:function(){var x=this;
if(this._popupBehavior){this._popupBehavior.hide();
}this._popupVisible=false;
this._getPopupVisibilityController().notifyPopupClosed(x);
if(!x._isMobileRenderMode()){x.raiseEvent(l);
}if(this.get_enableAriaSupport()&&this._popupElement){this._popupElement.setAttribute("aria-hidden","true");
}},onPopupMouseOver:function(y){var x=this.resolveActiveIndex(y);
if(x>-1){this.set_activeIndex(x,y);
}c.cancelRawEvent(y);
},_onPopupClick:function(x){var y=this.resolveActiveIndex(x);
c.cancelRawEvent(x);
if(y>-1){this._selectedIndex=y;
if(this.get_enableAriaSupport()){this.selectUIItem(null,null,true);
}this.hide();
this.raiseEvent("valueSelected");
}},get_activeIndex:function(){return this._activeIndex;
},set_activeIndex:function(y,x){this._activeIndex=y;
this.selectUIItem(x);
},selectPreviousItem:function(){var x=this.get_activeIndex();
if(x-1>=0){this.set_activeIndex(x-1);
}},selectNextItem:function(){var x=this.get_activeIndex();
if(x+1<this._items.length){this.set_activeIndex(x+1);
}},selectUIItem:function(y,E,A){if(!this._popupElement||!this._view){return;
}var D=this.get_popupElement();
var x=this._view.getItemElements(D);
var B=x.length;
var G=this.get_activeIndex();
var F=null;
var H=this.get_enableAriaSupport()&&A;
for(var z=0;
z<B;
z++){var C=x[z];
if(!this._headerClassName||C.className!=this._headerClassName){if(H){C.removeAttribute("aria-selected");
}if(C.item_index==G){a(C).addClass("reItemOver");
F=C;
if(H){F.setAttribute("aria-selected","true");
D.setAttribute("aria-activedescendant",F.getAttribute("id"));
D.childNodes[0].setAttribute("aria-activedescendant",F.getAttribute("id"));
}}else{if(E&&C.item_index<=G){a(C).addClass("reItemOver");
}else{a(C).removeClass("reItemOver");
}}}}if(F&&!y){this._scrollIntoView(F);
}return F;
},_scrollIntoView:function(x){c.scrollIntoView(x);
},attachEventHandlers:function(){var x=this;
if(!this._popupElement){return;
}x.detachEventHandlers();
this._onPopupMouseOverDelegate=Function.createDelegate(this,this.onPopupMouseOver);
this._onPopupClickDelegate=Function.createDelegate(this,this._onPopupClick);
if(x._isMobileRenderMode()){x._attachElementHandlers();
x._attachItemsContainerEventHandlers();
x._attachItemsEventHandlers();
x._attachPopupElementEventHandlers();
}else{$addHandler(this._popupElement,"mouseover",this._onPopupMouseOverDelegate);
c.addHandler(this._popupElement,this._getPopupClickEventName(),this._onPopupClickDelegate);
}},_attachItemsContainerEventHandlers:function(){var x=this;
var y=x._itemRootElement;
if(x._isMobileRenderMode()){b.Editor.UI.TapEvent.onTap(y,{move:q(x._onItemsContainerMove,x),tap:q(x._onItemsContainerUp,y),namespace:"telerikEditor"});
}},_onItemsContainerMove:function(x){var y=x.currentTarget;
a(y).children(n+f+t).removeClass(t);
},_onItemsContainerUp:function(x){var y=this;
a(y).children(n+f+t).removeClass(t);
},_attachItemsEventHandlers:function(){var x=this;
var A=a(x._itemRootElement).children(n);
var B=A.length;
var y=q(x._highlightCurrentItem,x);
for(var z=0;
z<B;
z++){if(x._isMobileRenderMode()){b.Editor.UI.TapEvent.onTap(A[z],{down:y,tap:x._onPopupClickDelegate,namespace:"telerikEditor"});
}}},_attachPopupElementEventHandlers:function(){var y=this;
var x=a(y.get_popupElement());
x.doubletap(c.cancelRawEvent);
x.on(g+j,c.cancelRawEvent);
},_onItemDown:function(z){var y=this;
var x=a(y.get_popupElement());
y._highlightCurrentItem(z);
x.offEvent(k.Up+j,y._onPopupClickDelegate);
x.onEvent(k.Up+j,y._onPopupClickDelegate);
},_highlightCurrentItem:function(x){a(x.currentTarget).addClass(t);
},detachEventHandlers:function(){var x=this;
if(x._isMobileRenderMode()){x._detachElementEventHandlers();
x._detachItemsContainerEventHandlers();
x._detachItemsEventHandlers();
x._detachPopupElementEventHandlers();
}else{if(null!=this._onPopupMouseOverDelegate){$removeHandler(this._popupElement,"mouseover",this._onPopupMouseOverDelegate);
this._onPopupMouseOverDelegate=null;
}if(null!=this._onPopupClickDelegate){c.removeHandler(this._popupElement,this._getPopupClickEventName(),this._onPopupClickDelegate);
this._onPopupClickDelegate=null;
}}x._clickHandler=null;
},_detachElementEventHandlers:function(){var y=this;
var x=a(y.get_element());
b.Editor.UI.TapEvent.offTap(x);
x.offEvent(j);
x.off("click");
x.off("touchend");
},_detachItemsContainerEventHandlers:function(){b.Editor.UI.TapEvent.offTap(this._itemRootElement);
a(this._itemRootElement).off(j);
},_detachItemsEventHandlers:function(){a(this._itemRootElement).children(n).off(j);
},_detachPopupElementEventHandlers:function(){var y=this;
var x=a(y.get_popupElement());
x.offEvent(j);
x.off("click");
x.off("touchend");
},_getPopupClickEventName:function(){return this._shouldPreferMousedown()?"mousedown":"click";
},_shouldPreferMousedown:function(){return(c.isIE&&!d.iemobile)||d.edge||this.get_contentAreaMode()==b.EditorContentAreaMode.Div||Telerik.Web.Platform.ios;
},disposeChildren:function(){this._childrenRendered=false;
if(this._itemRootElement&&this._itemRootElement.parentNode){var x=this._itemRootElement;
this.renderItemRoot();
x.parentNode.replaceChild(this._itemRootElement,x);
}},render:function(){this._createUI();
this.renderHeader();
this.renderChildren();
this.renderFooter();
this._rendered=true;
this._childrenRendered=true;
},renderHeader:function(){if(this._view){this._view.renderHeader();
}},renderFooter:function(){if(this._view){this._view.renderFooter();
}},renderItemRoot:function(){this._itemRootElement=this._view?this._view.renderItemRoot():null;
return this._itemRootElement;
},renderNewRow:function(){return this._view?this._view.renderNewRow(this._itemRootElement):null;
},renderItemContainer:function(x){return this._view?this._view.renderItemContainer(this._itemRootElement,x):null;
},renderChildren:function(){return this._view?this._view.renderChildren():null;
},renderChild:function(x,y,A){if(this._view){this._view.renderChild(x,y,A);
}if(this.get_enableAriaSupport()){var z=this._popupBehavior.get_id()+"_"+A;
x.setAttribute("id",z);
x.setAttribute("role","option");
}},resolveActiveIndex:function(x){var y=x.target;
var z=-1;
while(y&&y!=this._itemRootElement){if(null!=y.item_index){z=y.item_index;
break;
}y=y.parentNode;
}return z;
},markItemContainer:function(y,x){y.item_index=x;
},_makeAllItemsUnselectable:function(){if(!this._popupElement){return;
}this._popupElement.setAttribute("unselectable","on");
var x=this._popupElement.getElementsByTagName("*");
var z=x.length;
for(var y=0;
y<z;
y++){x[y].unselectable="on";
}},_show:function(){this.configurePopupPropertiesBeforeShow();
var B=this._popupElement;
var C=this.get_sizetofit();
var A=B.style.overflow;
if(C){B.style.overflowY="hidden";
}this._itemRootElement.style.width="100%";
this._popupBehavior.show();
B.style.width=this.get_popupwidth();
B.style.height=this.get_popupheight();
var z=this._getPopupChildrenHeight();
if(z!="0px"){z=this._getQuirksModeHeight(B,z);
}if(C){B.style.width=this._getPopupChildrenWidth();
B.style.height=z;
}else{var x=parseInt(z,10);
var y=parseInt(B.style.height,10);
if(x<y&&x>(y/2)){B.style.height=z;
}}this._popupBehavior.show();
this._getPopupVisibilityController().set_activePopup(this);
B.style.zIndex="100000";
if(C){B.style.overflowY=A;
}this._popupVisible=true;
},_showPopup:function(){var x=this;
x.configurePopupPropertiesBeforeShow();
x._popupBehavior.show();
x._getPopupVisibilityController().set_activePopup(x);
x._popupVisible=true;
},_getQuirksModeHeight:function(C,A){try{if(c.quirksMode){var x=c.getBorderBox(C);
var B=c.getPaddingBox(C);
var z=parseInt(A,10)+(x.top*2);
z+=B.top+B.bottom;
A=z+"px";
}}catch(y){}return A;
},_getPopupChildrenWidth:function(){var x=this.get_popupElement().childNodes;
var A=0;
for(var y=0;
y<x.length;
y++){var z=x[y].offsetWidth;
if(z&&z>A){A=z;
}}return A+"px";
},_getPopupChildrenHeight:function(){var x=this.get_popupElement().childNodes;
var y=0;
for(var z=0;
z<x.length;
z++){if(x[z].offsetHeight){y+=x[z].offsetHeight;
}}return y+"px";
},_getPopupVisibilityController:function(){return b.Editor.PopupController;
},getUniqueID:function(){if(!window.RadEditor_uniqueSeed){window.RadEditor_uniqueSeed=new Date()-101;
}if(!window.RadEditor_uniqueIdCounter){window.RadEditor_uniqueIdCounter=1;
}else{window.RadEditor_uniqueIdCounter++;
}var x=window.RadEditor_uniqueSeed-window.RadEditor_uniqueIdCounter;
return"UniqueID"+x;
},_createUI:function(){var x=this;
var z=x._isMobileRenderMode();
if(this._popupBehavior){return;
}var y=this.get_element();
if(!this._popupElement){var B=document.createElement("div");
var C="";
if(this._rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode=="Lightweight")){C="RadEditor_"+this.get_skin();
}else{C=this.get_skin();
}c.addCssClasses(B,[C,this.get_rootpopupclassname(),this.get_popupclassname()]);
this._popupElement=B;
this._addRippleZone(B);
this._popupElement.style.display="none";
if(!z){this._popupElement.style.position="absolute";
}if(z){a(y).closest(u).find(i).append(x._popupElement);
}else{document.body.appendChild(this._popupElement);
}}this.renderItemRoot();
this._popupElement.appendChild(this._itemRootElement);
this._popupBehavior=$create(Telerik.Web.PopupBehavior,{id:this.getUniqueID(),parentElement:y,_useAnimation:z},null,null,this._popupElement);
if(z){x._setAnimation();
}if(this.get_enableAriaSupport()){var A=this.get_popupElement();
A.setAttribute("role","listbox");
A.setAttribute("aria-hidden","true");
A.setAttribute("aria-label",this.get_element().title);
}},_addRippleZone:function(x){if(this._enableRippleEffect){var z=b.Editor.UI.ToolsPopupElementRippleConfigurationsFactory.get_rippleConfigurations(x);
var y=b.MaterialRippleManager.getInstance();
if(z&&y){y.initializeRippleZone({element:x,rippleConfigurations:z});
}}},_isMobileRenderMode:function(){var x=this;
var y=x._rendermode;
return(y===r.Mobile||y===o);
},_setAnimation:function(){var y=this;
var x=a(y.get_popupElement());
y._popupBehavior.set_showAnimation({easing:m,duration:h,properties:{"margin-left":0}});
y._popupBehavior.set_hideAnimation({easing:m,duration:h,properties:{"margin-left":w},callback:function(){x.hide();
y.raiseEvent(l);
}});
x.css("margin-left",w);
},_allChildrenRendered:function(){return true;
},get_popupElement:function(){return this._popupElement;
},get_selectedItem:function(){if(this._items&&this._selectedIndex>-1){var x=this._items[this._selectedIndex];
var y=((true==this._isArrayCollection)||(x instanceof Array))?x[0]:x;
return y;
}return null;
},get_selectedIndex:function(){return this._selectedIndex;
},set_selectedIndex:function(x){this._selectedIndex=x;
this.set_activeIndex(x);
},get_items:function(){return this._items;
},set_items:function(x){if(this._popupVisible){this.hide();
}this.disposeChildren();
this._items=x;
},set_enableAriaSupport:function(y){b.EditorDropDown.callBaseMethod(this,"set_enableAriaSupport",[y]);
var x=this.getAnchorElement();
if(x&&this.get_enableAriaSupport()){x.setAttribute("aria-haspopup","true");
}}};
a.registerControlProperties(b.EditorDropDown,{popupheight:"16.7em",popupwidth:"16.7em",rootpopupclassname:"reDropDownBody",popupclassname:"",sizetofit:false,itemsperrow:1,clearSelectedOnShow:true});
a.registerControlEvents(b.EditorDropDown,["show","hide"]);
b.EditorDropDown.registerClass("Telerik.Web.UI.EditorDropDown",b.EditorButton);
Telerik.Web.UI.EditorUpdateableDropDown=function(x){Telerik.Web.UI.EditorUpdateableDropDown.initializeBase(this,[x]);
};
Telerik.Web.UI.EditorUpdateableDropDown.prototype={initialize:function(){b.EditorUpdateableDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorUpdateableDropDown");
},updateValue:function(z){var x=this;
if(null==z){return;
}try{if(!z){z=this.get_text();
}if(this._view){x._view.updateElementsOnValueChange(z);
}this._value=z;
}catch(y){}},get_value:function(){if(!this._value||this._value==this.get_text()){return"";
}return this._value;
},set_value:function(x){this.updateValue(x);
},dispose:function(){Telerik.Web.UI.EditorUpdateableDropDown.callBaseMethod(this,"dispose");
}};
Telerik.Web.UI.EditorUpdateableDropDown.registerClass("Telerik.Web.UI.EditorUpdateableDropDown",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.EditorSelfUpdateableDropDown=function(x){Telerik.Web.UI.EditorSelfUpdateableDropDown.initializeBase(this,[x]);
this._clientStateFieldID=null;
};
Telerik.Web.UI.EditorSelfUpdateableDropDown.prototype={initialize:function(){b.EditorSelfUpdateableDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSelfUpdateableDropDown");
},_onPopupClick:function(x){var z=this.resolveActiveIndex(x);
c.cancelRawEvent(x);
if(z>-1){this._selectedIndex=z;
this.hide();
var y=this.get_selectedItem();
if(y){this.updateValue(y);
}this.raiseEvent("valueSelected");
}}};
Telerik.Web.UI.EditorSelfUpdateableDropDown.registerClass("Telerik.Web.UI.EditorSelfUpdateableDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.EditorSplitButton=function(x){Telerik.Web.UI.EditorSplitButton.initializeBase(this,[x]);
this._updateHeader=true;
};
Telerik.Web.UI.EditorSplitButton.prototype={click:function(x){var z=this;
if(z._isMobileRenderMode()){a(z.get_element()).removeClass(s);
z.show();
}else{var y=this.isArrowClicked(x.target);
if(y||!this._updateHeader){this.show();
}else{var A=this.get_selectedItem();
if(null==A){this.show();
}else{this.raiseEvent("valueSelected");
}}}},initialize:function(){Telerik.Web.UI.EditorSplitButton.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSplitButton");
this.set_clearSelectedOnShow(false);
},isArrowClicked:function(y){var x=this._getArrowElement();
if(y==x){return true;
}return false;
},_getArrowElement:function(){if(this._view){return this._view.getSplitArrow();
}return null;
},get_updateHeader:function(){return this._updateHeader;
},set_updateHeader:function(x){this._updateHeader=x;
}};
Telerik.Web.UI.EditorSplitButton.registerClass("Telerik.Web.UI.EditorSplitButton",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.EditorToolStrip=function(x){Telerik.Web.UI.EditorToolStrip.initializeBase(this,[x]);
this._tools=[];
};
Telerik.Web.UI.EditorToolStrip.prototype={initialize:function(){b.EditorToolStrip.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorToolStrip");
},selectUIItem:function(y){var x=this._activeIndex;
for(var z=0;
z<this._items.length;
z++){var A=this._items[z];
if(z==x&&A.get_enabled()){this._selectTool(A);
}else{this._deselectTool(A);
}}},_selectTool:function(y){y.setOn(true,"aria-selected");
var x=y.getAnchorElement();
if(x&&this.get_enableAriaSupport()){this.get_popupElement().setAttribute("aria-activedescendant",x.getAttribute("id"));
}if(this.get_showText()){this._view.updateText(y.get_text());
}},_deselectTool:function(x){x.setOn(false,"aria-selected");
},set_selectedIndex:function(x){var z=this._view,y=this.get_updateHeader();
if(y&&z._clearHeader){z._clearHeader();
}Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"set_selectedIndex",[x]);
if(y&&z._updateHeader){z._updateHeader();
}},hide:function(){Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"hide");
if(this.isIE){var z=this.get_selectedItem();
if(!z||!z.get_element){return;
}var x=z.get_element();
if(x){var y=x.cloneNode(true);
x.replaceNode(y);
z._element=y;
}}},show:function(){var y=this._items;
for(var x=0,z=y.length;
x<z;
x++){var A=y[x];
A.setOn(false,"aria-selected");
}Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"show");
},_onPopupClick:function(x){var z=this._resolveSelectedTool(x);
c.cancelRawEvent(x);
if(z){var y=Array.indexOf(this._items,z);
if(c.isSafari){this._selectedIndex=y;
this.set_activeIndex(y);
}else{this.set_selectedIndex(y);
}this.hide();
this.raiseEvent("valueSelected");
}},renderChildren:function(){if(this._view){this._view.renderChildren();
}},_resolveSelectedTool:function(x){for(var y=0;
y<this._items.length;
y++){var z=this._items[y];
if(z.isTarget(x)){if(z.get_enabled()){return z;
}else{return null;
}}}},get_tools:function(){return this._tools;
},set_tools:function(x){this._tools=Array.clone(x);
}};
Telerik.Web.UI.EditorToolStrip.registerClass("Telerik.Web.UI.EditorToolStrip",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.EditorContextMenu=function(x){Telerik.Web.UI.EditorContextMenu.initializeBase(this,[x]);
this._parentElement=null;
this._eventObject=null;
};
Telerik.Web.UI.EditorContextMenu.prototype={initialize:function(){this.set_updateHeader(false);
this.set_clearSelectedOnShow(true);
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorContextMenu");
},show:function(){this.set_activeIndex(-1);
Telerik.Web.UI.EditorContextMenu.callBaseMethod(this,"show");
},configurePopupPropertiesBeforeShow:function(){var z=this._popupBehavior;
if(this._isMobileRenderMode()){z.set_positioningMode(Telerik.Web.PositioningMode.None);
}else{z.set_positioningMode(Telerik.Web.PositioningMode.Absolute);
}var y=this.get_parentElement();
if(y){if(Telerik.Web.UI.Editor.Utils.isEditorContentArea(y)&&y.tagName=="DIV"){y=document.body;
}z.set_parentElement(y);
}var x=this._eventObject;
if(x){z.set_x(x.clientX+10);
z.set_y(x.clientY+10);
}},set_eventObject:function(x){this._eventObject=x;
},get_tagName:function(){return this._tagName;
},set_tagName:function(x){this._tagName=x;
},get_parentElement:function(){return this._parentElement;
},set_parentElement:function(x){this._parentElement=x;
}};
Telerik.Web.UI.EditorContextMenu.registerClass("Telerik.Web.UI.EditorContextMenu",Telerik.Web.UI.EditorToolStrip);
})($telerik.$);
(function(){Type.registerNamespace("Telerik.Web.UI.Editor");
var a=$telerik.$;
var b=Telerik.Web.UI;
var d=b.Editor;
var e=d.Utils;
var c=Function.createDelegate;
Telerik.Web.UI.Editor.AlignmentSelector=function(f){Telerik.Web.UI.Editor.AlignmentSelector.initializeBase(this,[f]);
this._tagName="TD";
this._selectedTuple=null;
this._noAlignmentIndex=0;
this._onValueSelectedDelegate=null;
this._clientStateFieldID=null;
};
Telerik.Web.UI.Editor.AlignmentSelector.prototype={initialize:function(){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"AlignmentSelector");
this.set_popupwidth("6.5em");
this.set_popupheight("8.33em");
this.set_popupclassname("reAlignmentSelector");
this.set_itemsperrow(3);
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
this.setTagName(this._tagName);
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"dispose");
},_imgAlignment:[["",""],["none",""],["",""],["",""],["top",""],["",""],["left",""],["absmiddle",""],["right",""],["",""],["bottom",""],["",""]],_cellAlignment:[["",""],["none",""],["",""],["left","top"],["center","top"],["right","top"],["left","middle"],["center","middle"],["right","middle"],["left","bottom"],["center","bottom"],["right","bottom"]],_tableAlignment:[["",""],["none",""],["",""],["left",""],["center",""],["right",""],["",""],["",""],["",""],["",""],["",""],["",""]],_captionAlignment:[["",""],["none",""],["",""],["left","top"],["center","top"],["right","top"],["",""],["",""],["",""],["left","bottom"],["center","bottom"],["right","bottom"]],_alignmentClassName:["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"],_getLookupTableByTagName:function(f){switch(f.toUpperCase()){case"IMG":return this._imgAlignment;
case"TABLE":return this._tableAlignment;
case"TD":return this._cellAlignment;
case"TH":return this._cellAlignment;
case"CAPTION":return this._captionAlignment;
default:return null;
}},_configureAlignmentTable:function(o){if(!this._rendered){this.render();
}var n=this._itemRootElement;
var g=0;
for(var h=0;
h<n.rows.length;
h++){var l=false;
for(var m=0;
m<n.rows[h].cells.length;
m++){var f=n.rows[h].cells[m];
var k=this._isAvailable(g++);
f.style.visibility=k?"visible":"hidden";
l|=k;
}if(null!=document.all){n.rows[h].style.display=l?"":"none";
}}},_isAvailable:function(g){var h=false;
if(this._items){var f=this._items[g];
h=((null!=f)&&(""!=f[0]||""!=f[1]));
}return h;
},_onDropDownValueSelected:function(){this.set_selectedIndex(this.get_selectedIndex());
},_selectAlignment:function(f,l){f=(""==f||!f)?"none":f.toUpperCase();
l=!l?"":l.toUpperCase();
if(this._items){var j=-1;
for(var h=0;
h<this._items.length;
h++){if(this._isAvailable(h)){var g=this._items[h][0].toUpperCase();
var k=this._items[h][1].toUpperCase();
if(-1==j){j=h;
}if((f==g||f==k)&&(l==g||l==k)){this.set_selectedIndex(h);
return;
}}}this.set_selectedIndex(j);
}},set_selectedIndex:function(f){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"set_selectedIndex",[f]);
if(this._view){this._view.decorate(this._alignmentClassName[f]);
}},setTagName:function(f){this._tagName=f;
this._items=this._getLookupTableByTagName(this._tagName);
this.set_selectedIndex(this._noAlignmentIndex);
},updateValue:function(f,g){this._selectAlignment(f,g);
},getAlign:function(){var f=this._items[this._selectedIndex];
var g=(f?f[0]:"");
if("none"==g){g="";
}return g;
},getVAlign:function(){var f=this._items[this._selectedIndex];
var g=(f?f[1]:"");
if("none"==g){g="";
}return g;
},show:function(){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"show");
this._itemRootElement.cellSpacing=0;
this._configureAlignmentTable(this._tagName);
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(f){this._clientStateFieldID=f;
}};
Telerik.Web.UI.Editor.AlignmentSelector.registerClass("Telerik.Web.UI.Editor.AlignmentSelector",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.InsertTableHelper=function(f){Telerik.Web.UI.Editor.InsertTableHelper.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.InsertTableHelper.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertTableHelper.callBaseMethod(this,"initialize");
var f=new Array(this.get_itemsperrow()*this.get_itemsperrow());
for(var g=0;
g<f.length;
g++){f[g]=g;
}this._items=f;
},hide:function(){},renderChild:function(f,g,i){var j=document.createElement("div");
j.innerHTML="&nbsp;";
f.appendChild(j);
var h=this._getDimensionByIndex(i);
f.setAttribute("title"," "+h.rows+" x "+h.cols+" ");
},_getDimensionByIndex:function(k){var l=0;
var j=0;
var g=this.get_itemsperrow();
for(var f=0;
f<this._items.length;
f++){if(f%g==0){l++;
j=0;
}j++;
if(k==f){break;
}}var h={rows:l,cols:j};
return h;
},get_selectedItem:function(){var f=this.get_selectedIndex();
return this._getDimensionByIndex(f);
},selectUIItem:function(k,o){var f=this._popupElement.getElementsByTagName("TD");
var m=f.length;
var p=this.get_activeIndex();
var j=this._getDimensionByIndex(p);
var g=j.cols;
for(var l=0;
l<m;
l++){var n=f[l];
var h=n.item_index;
if(h<=p&&n.cellIndex<g){n.className="reItemOver";
}else{n.className="";
}}}};
Telerik.Web.UI.Editor.InsertTableHelper.registerClass("Telerik.Web.UI.Editor.InsertTableHelper",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.Editor.InsertTable=function(f){Telerik.Web.UI.Editor.InsertTable.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.InsertTable.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"initialize");
this._onTableHelperValueSelectedDelegate=Function.createDelegate(this,this._onTableHelperValueSelected);
this._tableHelper=null;
this._tableHelperItemsPerRow=this.get_itemsperrow();
this.set_itemsperrow(6);
this.set_popupwidth("12em");
this.set_updateHeader(false);
var g=this.get_tools();
this._longTool=g[0];
Array.removeAt(g,0);
for(var f=0;
f<g.length;
f++){g[f].showText=false;
}},show:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"show");
this._tableHelper.set_selectedIndex(-1);
},_onPopupClick:function(f){this._tableHelperClicked=false;
Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"_onPopupClick",[f]);
},_onTableHelperValueSelected:function(){this._tableHelperClicked=true;
this.set_selectedIndex(-1);
var f=this.getSpanElement();
if(f){f.className="InsertTable";
}this.hide();
this.raiseEvent("valueSelected");
},get_selectedItem:function(){if(this._tableHelperClicked){return this._tableHelper.get_selectedItem();
}else{return Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"get_selectedItem");
}},renderHeader:function(){var f={skin:this.get_skin(),itemsperrow:this._tableHelperItemsPerRow,sizetofit:true};
var g={valueSelected:this._onTableHelperValueSelectedDelegate};
var j=$create(Telerik.Web.UI.Editor.InsertTableHelper,f,g,null,document.createElement("div"));
j.set_rootpopupclassname("");
this._tableHelper=j;
j.render();
j.attachEventHandlers();
var i=j.get_popupElement();
i.style.display="";
i.style.visibility="visible";
i.style.position="";
i.style.cssFloat="left";
var h=this.get_popupElement();
h.insertBefore(i,h.firstChild);
},renderChildren:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"renderChildren");
var g=this._itemRootElement;
if(this._longTool){var i=document.createElement("ul");
g.insertBefore(i,g.firstChild);
this._longTool.showText=true;
var f=document.createElement("li");
i.appendChild(f);
var h=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(this._rendermode,this._longTool,null,null,null,f);
h.get_element().style.width="auto";
this._items[this._items.length]=h;
}}};
Telerik.Web.UI.Editor.InsertTable.registerClass("Telerik.Web.UI.Editor.InsertTable",Telerik.Web.UI.EditorToolStrip);
Telerik.Web.UI.Editor.FormatPainterStrip=function(f){Telerik.Web.UI.Editor.FormatPainterStrip.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.FormatPainterStrip.prototype={initialize:function(){Telerik.Web.UI.Editor.FormatPainterStrip.callBaseMethod(this,"initialize");
this.renderItemRoot();
this.renderChildren();
this.set_selectedIndex(0);
}};
Telerik.Web.UI.Editor.FormatPainterStrip.registerClass("Telerik.Web.UI.Editor.FormatPainterStrip",Telerik.Web.UI.EditorToolStrip);
Telerik.Web.UI.Editor.ColorPicker=function(f){Telerik.Web.UI.Editor.ColorPicker.initializeBase(this,[f]);
this._clientStateFieldID=null;
this._addCustomColorText="Add Custom Color";
this._renderedChildrenCount=0;
};
Telerik.Web.UI.Editor.ColorPicker.prototype={initialize:function(){Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ColorPicker");
this.set_popupclassname("reColorPicker");
this.set_sizetofit(true);
this.set_itemsperrow(10);
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"dispose");
},disposeChildren:function(){var f=this;
f._renderedChildrenCount=0;
Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(f,"disposeChildren");
},_onDropDownValueSelected:function(){var f=this.get_selectedItem();
this.set_color(f);
},get_value:function(){return this.get_color();
},set_value:function(f){this.set_color(f);
},set_color:function(f){if(!f){f="";
}if(this._view){this._view.decorate(f);
}this._color=f;
},get_color:function(){return this._color;
},onPopupMouseOver:function(f){Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"onPopupMouseOver",[f]);
var g=this.get_activeIndex();
var h=this._items[g];
if(null==h){return;
}if(this._infoSpan1){this._infoSpan1.innerHTML=h;
this._infoSpan1.style.backgroundColor=h;
}if(this._infoSpan2){this._infoSpan2.innerHTML=h;
this._infoSpan2.style.color=h;
}},_customColorClicked:function(g){var f=window.prompt(this.get_addCustomColorText(),"#");
if(f){var l=document.createElement("a");
try{l.style.borderBottom="3px solid "+f;
}catch(h){f="";
}finally{l=null;
}}if(f){this._items[this._items.length]=f;
var j=(this._items.length-1);
if(0==(j%this.get_itemsperrow())){this.renderNewRow();
}var k=this.renderItemContainer();
this.markItemContainer(k,j);
this.renderChild(k,this._items[j],j);
this.set_selectedIndex(j);
this.hide();
this.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(g);
},_allChildrenRendered:function(){var f=this;
return f._renderedChildrenCount==f._items.length;
},renderFooter:function(){var f=document.createElement("div");
f.style.textAlign="center";
var g=document.createElement("a");
g.className="reCustomColor";
g.setAttribute("href","#");
g.innerHTML=this.get_addCustomColorText();
$addHandlers(g,{click:this._customColorClicked},this);
f.appendChild(g);
this.get_popupElement().appendChild(f);
var h=document.createElement("div");
h.className="reColorPickerFooter";
var i=document.createElement("span");
i.className="reDarkColor";
var j=document.createElement("span");
j.className="reLightColor";
i.innerHTML=j.innerHTML="&nbsp";
h.appendChild(i);
h.appendChild(j);
this.get_popupElement().appendChild(h);
this._infoSpan1=i;
this._infoSpan2=j;
},renderChild:function(f,g,h){var i=document.createElement("div");
if(null!=g){i.style.backgroundColor=g;
i.setAttribute("title",g);
i.innerHTML="&nbsp;";
}f.appendChild(i);
this._renderedChildrenCount++;
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(f){this._clientStateFieldID=f;
},get_addCustomColorText:function(){return this._addCustomColorText;
},set_addCustomColorText:function(f){this._addCustomColorText=f;
}};
Telerik.Web.UI.Editor.ColorPicker.registerClass("Telerik.Web.UI.Editor.ColorPicker",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.MobileColorPicker=function(g){var f=this;
Telerik.Web.UI.Editor.MobileColorPicker.initializeBase(f,[g]);
f._clientStateFieldID=null;
f._renderedChildrenCount=0;
};
Telerik.Web.UI.Editor.MobileColorPicker.prototype={initialize:function(){var f=this;
Telerik.Web.UI.Editor.MobileColorPicker.callBaseMethod(f,"initialize");
f.set_clearSelectedOnShow(false);
f._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(f,"ColorPicker");
f.set_popupclassname("reColorPicker");
f.set_itemsperrow(6);
},_attachItemsEventHandlers:function(){},_attachPopupElementEventHandlers:function(){var f=this;
var g=f.get_popupElement();
d.MobileColorPicker.callBaseMethod(f,"_attachPopupElementEventHandlers");
d.UI.TapEvent.onTap(g,c(f,f._onPopupClick));
},_detachPopupElementEventHandlers:function(){var f=this.get_popupElement();
d.MobileColorPicker.callBaseMethod(this,"_detachPopupElementEventHandlers");
d.UI.TapEvent.offTap(f);
},_onPopupClick:function(g){var f=this,h=g.target;
if(f._isAddCustomColorElement(h)){f._customColorClicked(g);
}else{if(f._isClearColorElement(h)){f._clearColorClicked(g);
}else{if(f._isCurrentColorWrapperElement(h)){f._currentCollorClicked(g);
}else{return Telerik.Web.UI.Editor.MobileColorPicker.callBaseMethod(f,"_onPopupClick",[g]);
}}}},_isAddCustomColorElement:function(g){var f=this.get_addCustomColorElement();
return g===f||g.parentNode==f;
},_isClearColorElement:function(g){var f=this.get_clearColorElement();
return g===f||g.parentNode===f;
},_isCurrentColorWrapperElement:function(g){var f=this.get_currentColorWrapperElement();
return g&&f===g||f===g.parentNode;
},_customColorClicked:function(h){var g=this,f=g._testValidColor(window.prompt(g.get_addCustomColorText(),"#"));
if(f){g._items[g._items.length]=f;
var j=(g._items.length-1);
var k=g.renderItemContainer(f);
g.markItemContainer(k,j);
g.renderChild(k,g._items[j],j);
g.set_selectedIndex(j);
g.hide();
g.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(h);
},_testValidColor:function(f){if(f){var h=document.createElement("a");
try{h.style.borderBottom="3px solid "+f;
}catch(g){f="";
}finally{h=null;
}}return f;
},_clearColorClicked:function(g){var f=this;
f.set_selectedIndex(f._clearColorItemIndex);
f.hide();
f.raiseEvent("valueSelected");
$telerik.cancelRawEvent(g);
},_currentCollorClicked:function(g){var f=this,h=f.get_selectedIndex();
if(h>-1&&h!=f._clearColorItemIndex){f.hide();
f.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(g);
},isEmptyValue:function(f){return !f||f==this.get_text();
},get_addCustomColorText:function(){return this._addCustomColorText;
},set_addCustomColorText:function(f){this._addCustomColorText=f;
},get_currentColorText:function(){return this._currentColorText;
},set_currentColorText:function(f){this._currentColorText=f;
},get_clearText:function(){return this._clearText;
},set_clearText:function(f){this._clearText=f;
},get_addCustomColorElement:function(){return this._view?this._view.get_addCustomColorElement():null;
},get_currentColorWrapperElement:function(){return this._view?this._view.get_currentColorWrapperElement():null;
},get_clearColorElement:function(){return this._view?this._view.get_clearColorElement():null;
}};
Telerik.Web.UI.Editor.MobileColorPicker.registerClass("Telerik.Web.UI.Editor.MobileColorPicker",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.UndoRedoDropDown=function(f){Telerik.Web.UI.Editor.UndoRedoDropDown.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.UndoRedoDropDown.prototype={renderFooter:function(){},get_selectedItem:function(){var f=Telerik.Web.UI.Editor.UndoRedoDropDown.callBaseMethod(this,"get_selectedItem");
if(!f){f=1;
}return f;
},selectUIItem:function(f,g){return Telerik.Web.UI.Editor.UndoRedoDropDown.callBaseMethod(this,"selectUIItem",[f,true]);
}};
Telerik.Web.UI.Editor.UndoRedoDropDown.registerClass("Telerik.Web.UI.Editor.UndoRedoDropDown",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.ApplyClassDropDown=function(f){Telerik.Web.UI.Editor.ApplyClassDropDown.initializeBase(this,[f]);
this._onValueSelectedDelegate=null;
this._clientStateFieldID=null;
this._clearclasstext="Clear Class";
this._isArrayCollection=true;
};
Telerik.Web.UI.Editor.ApplyClassDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ApplyClassDropDown");
this.set_popupclassname("reApplyClass");
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
this._cssClassRegex=/[^\{]*\{([^\}]+)\}/gi;
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"dispose");
},_onDropDownValueSelected:function(){this.updateValue(this.get_selectedItem());
},_getClassIcon:function(g){if(!g){g="";
}else{g=g.toLowerCase();
}var f=document.createElement("span");
f.innerHTML="&nbsp;"+g;
f.className="reClass_"+g;
return f;
},_getClassTag:function(f){return e.getTagByStyleRule(f)||"All";
},_getClassCss:function(g){var h=this._cssClassRegex;
var f="";
if(null!=g.cssText){f=g.cssText;
f=f.replace(h,"$1");
}else{f=g.style.cssText;
}return f;
},_getDisplayName:function(g){if(!g||!g.selectorText){return"";
}var h=g.selectorText;
var i=h.indexOf(".");
if(-1==i){i=0;
}else{i+=1;
}var f=h.indexOf(":");
if(-1==f){f=h.length;
}return h.substring(i,f);
},_getClassName:function(h){var i=h&&h.selectorText?h.selectorText:"";
var g=i.lastIndexOf(".");
if(g==-1){return"";
}var f=i.indexOf(" ",g);
if(-1==f){f=i.indexOf(":",g);
}if(-1==f){f=i.length;
}return i.substring((g+1),f);
},set_items:function(f){Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"set_items",[f]);
if(this._items.length==0||this._items[0][0]!=""){this._items.splice(0,0,["",{cssText:"",selectorText:this.get_clearclasstext()}]);
}},renderChild:function(f,g,h){this._view.renderChild(f,g);
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(f){this._clientStateFieldID=f;
},get_clearclasstext:function(){return this._clearclasstext;
},set_clearclasstext:function(f){this._clearclasstext=f;
}};
Telerik.Web.UI.Editor.ApplyClassDropDown.registerClass("Telerik.Web.UI.Editor.ApplyClassDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.FontNameDropDown=function(f){Telerik.Web.UI.Editor.FontNameDropDown.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.FontNameDropDown.prototype={updateValue:function(g){try{if(!g){g=this._isMobileRenderMode?" ":this.get_text();
}if(null==g||"AZBY"==g){return;
}Telerik.Web.UI.Editor.FontNameDropDown.callBaseMethod(this,"updateValue",[g]);
}catch(f){}},renderChildren:function(){var j=this._items;
if(j&&j[0]&&!(j[0] instanceof Array)){for(var f=0;
f<j.length;
f++){var g=j[f];
var h=g=="Wingdings"||g=="Webdings"?"Arial":g;
j[f]=[g,String.format("<span style='font:inherit; font-family: {0}'>",h)+g+"</span>"];
}}return Telerik.Web.UI.Editor.FontNameDropDown.callBaseMethod(this,"renderChildren");
}};
Telerik.Web.UI.Editor.FontNameDropDown.registerClass("Telerik.Web.UI.Editor.FontNameDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.FontSizeDropDown=function(f){Telerik.Web.UI.Editor.FontSizeDropDown.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.FontSizeDropDown.prototype={renderChildren:function(){var h=this._items;
if(h&&h[0]&&!(h[0] instanceof Array)){for(var f=0;
f<h.length;
f++){var g=h[f];
h[f]=[g,String.format("<font size={0}>",g)+g+"</font>"];
}}return Telerik.Web.UI.Editor.FontSizeDropDown.callBaseMethod(this,"renderChildren");
}};
Telerik.Web.UI.Editor.FontSizeDropDown.registerClass("Telerik.Web.UI.Editor.FontSizeDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.InsertCustomLinkDropDown=function(f){Telerik.Web.UI.Editor.InsertCustomLinkDropDown.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"InsertCustomLinkDropDown");
},selectUIItem:function(f,h,g){},show:function(){return Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"show");
},renderChildren:function(){this.FlatLinksArray=[];
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"renderChildren");
},get_selectedItem:function(){var f=this.FlatLinksArray[this.get_selectedIndex()];
return{innerHTML:f.name,href:f.href,target:f.target,title:f.toolTip};
}};
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.registerClass("Telerik.Web.UI.Editor.InsertCustomLinkDropDown",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.Editor.FormatSetsDropDown=function(f){Telerik.Web.UI.Editor.FormatSetsDropDown.initializeBase(this,[f]);
this._blockElements=b.Editor.formatSetBlockElements;
this._defaultBlockSets=[["p","Normal"],["h1","<h1 style='margin: 0px;'>Heading 1</h1>"],["h2","<h2 style='margin: 0px;'>Heading 2</h2>"],["h3","<h3 style='margin: 0px;'>Heading 3</h3>"],["h4","<h4 style='margin: 0px;'>Heading 4</h4>"],["h5","<h5 style='margin: 0px;'>Heading 5</h5>"],["menu","<menu style='margin: 0px;'>Menu list</menu>"],["pre","<pre style='margin: 0px;'>Formatted</pre>"],["address","<address style='margin: 0px;'>Address</address>"]];
this._headerClassName="reFormatSetsHeader";
this._indexItemDictionary=[];
};
Telerik.Web.UI.Editor.FormatSetsDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"initialize");
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
},set_items:function(f){this._updateLocalSets(f);
Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"set_items",[f]);
},_updateLocalSets:function(f){this._blockSets=[];
this._elementSets=[];
this._inlineSets=[];
for(var g=0,h=f.length;
g<h;
g++){this._sortFormatSet(f[g]);
}if(this._blockSets.length==0){this._blockSets=this._defaultBlockSets;
}},_sortFormatSet:function(f){if(this.isInlineSet(f)){this._inlineSets.push(f);
}else{if(this.isBlockSet(f)){this._blockSets.push(f);
}else{this._elementSets.push(f);
}}},isInlineSet:function(f){return !f[0];
},isBlockSet:function(f){return a.inArray((f[0]||"").toLowerCase(),this._blockElements)!=-1;
},get_elementSetsByTagName:function(k){var l=[],g=this.get_elementSets(),f;
for(var h=0,j=g.length;
h<j;
h++){f=g[h];
if(f[0].toLowerCase()==k.toLowerCase()){l.push(f);
}}return l;
},renderChildren:function(){this.disposeChildren();
this._indexItemDictionary=[];
this._renderElementChildren();
this._renderInlineChildren();
this._renderBlockChildren();
},_renderElementChildren:function(){var f=[],j=this.get_selectedElement(),k=this._getContextTagNames(j);
for(var g=0,h=k.length;
g<h;
g++){a.merge(f,this.get_elementSetsByTagName(k[g]));
}this._renderSectionChildren(f,this.get_elementSetsText());
},_renderInlineChildren:function(){this._renderSectionChildren(this.get_inlineSets(),this.get_inlineSetsText());
},_renderBlockChildren:function(){this._renderSectionChildren(this.get_blockSets(),this.get_blockSetsText());
},_renderSectionChildren:function(f,g){if(f.length>0){this._renderHeaderItem(g);
this._renderFormatSetItems(f);
}},_getContextTagNames:function(f){var h=[];
while(f&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(f)){var g=f.tagName;
if(g){g=g.toLowerCase();
if(a.inArray(g,h)==-1){h.push(g);
}}f=f.parentNode;
}return h;
},_renderHeaderItem:function(g){var f=this._createItemContainer();
f.className=this._headerClassName;
this.renderChild(f,["",g],f.item_index);
},_createItemContainer:function(){this.renderNewRow();
var g=this.renderItemContainer(),f=this._getLastItemIndex();
this.markItemContainer(g,f);
return g;
},_renderFormatSetItems:function(g){var k=g.length;
for(var h=0;
h<k;
h++){var f=this._createItemContainer(),j=f.item_index;
this.renderChild(f,g[h],j);
}},_getLastItemIndex:function(){return this._view.getItemElements(this._itemRootElement).length-1;
},renderChild:function(f,g,h){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"renderChild",[f,g,h]);
this._indexItemDictionary[h]=g;
},get_selectedItem:function(){var f=this._indexItemDictionary[this._selectedIndex];
if(f){return f;
}else{return null;
}},updateValue:function(g){var h=(g&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(g.selectedElement))?g.selectedElement:null,f=(g&&g.commandText)?Telerik.Web.UI.Editor.Utils.stripFormatting(g.commandText,"ALL"):"";
this.set_selectedElement(h);
Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"updateValue",[f]);
},_onDropDownValueSelected:function(){var f=this.get_selectedItem();
if(f){f.commandText=f[1];
}this.updateValue(f);
},hide:function(){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"hide");
this._childrenRendered=false;
}};
a.registerControlProperties(b.Editor.FormatSetsDropDown,{clientStateFieldID:null,blockSetsText:"Block Format Sets",inlineSetsText:"Inline Format Sets",elementSetsText:"Element Format Sets",blockSets:[],inlineSets:[],elementSets:[],selectedElement:null,clientTypeName:"Telerik.Web.UI.Editor.FormatSetsDropDown"});
Telerik.Web.UI.Editor.FormatSetsDropDown.registerClass("Telerik.Web.UI.Editor.FormatSetsDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
})();
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor._PopupController=function(){this._activePopup=null;
this._registerGlobalBodyEventHandlers();
};
Telerik.Web.UI.Editor._PopupController.prototype={_registerGlobalBodyEventHandlers:function(){var a=function(g,f){var j=window.frames;
for(var d=0;
d<j.length;
d++){var h=null;
try{h=j[d].document;
}catch(c){}if(!h){continue;
}try{if(g!==false){f.attachToDocument(h);
}else{f.detachFromDocument(h);
}}catch(c){}}};
var b=Function.createDelegate(null,function(c){if(c.keyCode==27){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
}});
$telerik.addExternalHandler(document.body,"keydown",b);
$telerik.addExternalHandler(document.body,"mousedown",this._hideHandler);
Sys.Application.add_unload(function(){$telerik.removeExternalHandler(document.body,"mousedown",Telerik.Web.UI.Editor.PopupController._hideHandler);
$telerik.removeExternalHandler(document.body,"keydown",b);
a(false,Telerik.Web.UI.Editor.PopupController);
});
a(true,this);
},attachToDocument:function(a){$telerik.addExternalHandler(a,"mousedown",this._hideHandler);
},detachFromDocument:function(b){try{$telerik.removeExternalHandler(b,"mousedown",this._hideHandler);
}catch(a){}},_hideHandler:function(a){Telerik.Web.UI.Editor.PopupController._hideIfOutsidePopup(a);
},hideActivePopup:function(){if(this._activePopup!=null){this._activePopup.hide();
this._activePopup=null;
}},_hideIfOutsidePopup:function(a){if(this._activePopup!=null){if(!this._activePopup.get_popupElement){return;
}var b=this._activePopup.get_popupElement();
if(!this._isMouseOverElement(a,b)){this.hideActivePopup();
}}},_isMouseOverElement:function(a,b){var f=null;
try{f=$telerik.getBounds(b);
}catch(c){return false;
}if(a&&a.target&&a.target.tagName=="SELECT"&&a.clientX<0){return true;
}var d=$telerik.getDocumentRelativeCursorPosition(a);
return $telerik.containsPoint(f,d.left,d.top);
},notifyPopupClosed:function(a){if(this._activePopup==a){this._activePopup=null;
}},set_activePopup:function(a){if(this._activePopup&&(a!=this._activePopup)){this._activePopup.hide();
}this._activePopup=a;
},get_activePopup:function(){return this._activePopup;
}};
Telerik.Web.UI.Editor._PopupController.registerClass("Telerik.Web.UI.Editor._PopupController",null);
(function(){if(!Telerik.Web.UI.Editor.PopupController){var a=function(){window.setTimeout(function(){Telerik.Web.UI.Editor.PopupController=new Telerik.Web.UI.Editor._PopupController();
},100);
};
a();
}})();
(function(a,l){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var f=c.EditorToolType;
var g="";
var h="FontName";
var k="RealFontSize";
var d="ApplyClass";
var i="ForeColor";
var e="BackColor";
var j="FormatBlock";
b.ToolFactory=function(){};
b.ToolFactory.prototype={createTool:function(m,o){var n=this;
var p=m.type;
if(o){switch(p){case f.Button:return n.createEditorButton(m,o);
case f.DropDown:return n.createEditorDropDown(m,o);
case f.SplitButton:return n.createEditorSplitButton(m,o);
case f.ToolStrip:return n.createEditorToolStrip(m,o);
case f.Separator:return null;
default:return n.createEditorButton(m,o);
}}else{return null;
}},createEditorButton:function(m,n){return $create(c.EditorButton,m,null,null,n);
},createEditorDropDown:function(m,o){var p=m.name||g;
var n;
switch(p){case h:n=b.FontNameDropDown;
break;
case j:case k:n=c.EditorUpdateableDropDown;
break;
case d:n=b.ApplyClassDropDown;
break;
default:n=c.EditorDropDown;
}return $create(n,m,null,null,o);
},createEditorSplitButton:function(m,o){var p=m.name||g,n;
switch(p){case i:case e:n=b.MobileColorPicker;
break;
}if(n){return $create(n,m,null,null,o);
}return null;
},createEditorToolStrip:function(m,n){return $create(c.EditorToolStrip,m,null,null,n);
}};
})($telerik.$);
(function(a,g){Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var e=".RadEditor";
var f="mousedown"+e;
var d=".rmLink, .rmLink .rmLeftImage, .rmLink .rmText";
var c=Telerik.Web.Browser;
b.Editor.RadContextMenuFunctionality=function(){this._contextJSON=null;
this._radContextMenu=null;
this.isContextMenuInitialized=false;
this.openedContextMenu=null;
};
b.Editor.RadContextMenuFunctionality.prototype={initializeContextMenus:function(k,h,j){this._eventsList=k;
this._contextJSON=h;
var i=j.get_radContextMenu();
this._radContextMenu=i;
this._attachContextMenuEventHandlers(k);
this._applyUnselectableToItems();
this.isContextMenuInitialized=true;
},_attachContextMenuEventHandlers:function(i){var h=this._radContextMenu;
this._onItemClickingDelegate=Function.createDelegate(this,this._onItemClicking);
if(c.ie){var j=this._getMenuNodes();
j.on(f,Function.createDelegate(this,this._onItemMouseDown));
}else{h.add_itemClicking(this._onItemClickingDelegate);
h.add_itemClicked(i.valueSelected);
}h.add_shown(i.show);
h.add_hidden(i.hide);
},_onItemMouseDown:function(i){var h=this._radContextMenu;
i.preventDefault();
var j=this._createMenuEventArgs(i);
if(j){this._eventsList.valueSelected(h,j);
h.hide();
}},_createMenuEventArgs:function(i){var h=this._radContextMenu;
var l=a(i.delegateTarget);
var k=l.find(".rmText");
var m=k.html();
var j=h.findItemByText(m);
if(j.get_items().get_count()>0){return;
}return new b.RadMenuItemEventArgs(j,i.originalEvent);
},_onItemClicking:function(i,h){var j=h.get_item().get_items().get_count()>0;
h.set_cancel(j);
},_applyUnselectableToItems:function(){var j=this._radContextMenu.get_allItems();
for(var h=0;
h<j.length;
h++){this._applyUnselectable(j[h].get_element());
}},_applyUnselectable:function(i){var h=a(i).find(d);
h.attr("unselectable","on");
},createContextMenu:function(l,h,k,n){var i=n.contextMenuId;
var o=n.trackChangeGroup;
var p=h.tools;
if(i!="*"){var j=this._showItemsByTagName(i);
if(j.length>0){p=h.tools.concat(j);
}else{return this.getContextMenuByTagName(o);
}}var m=i+"::"+o;
this._contextJSON.push({tagName:m,tools:p});
return this.getContextMenuByTagName(m);
},getContextMenuByTagName:function(i){this._radContextMenu.hide();
this._hideAllItems();
var h=this._showItemsByTagName(i);
if(h&&h.length>0){this._showItemsByValue(h);
return this._radContextMenu;
}return null;
},_hideAllItems:function(){var h=this._radContextMenu.get_items();
for(var j=0;
j<h.get_count();
j++){var k=h.getItem(j);
k.set_visible(false);
}},_showItemsByTagName:function(m){var j=this._contextJSON;
for(var k=0;
k<j.length;
k++){var h=j[k];
var l=h.tagName?h.tagName:"*";
if(l===m){return h.tools;
}}},_showItemsByValue:function(m){var j=0;
for(var h=0;
h<m.length;
h++){var l=m[h];
var k=this._getItemByValue(l.name,j);
k.set_visible(true);
j=k.get_index();
}},_getItemByValue:function(n,l){var m=(l!==0)?l+1:l;
var j=this._radContextMenu.get_items();
for(var k=m;
k<j.get_count();
k++){var h=j.getItem(k);
if(h.get_value()===n){return h;
}}},showContextMenu:function(h,k,n){var l={x:k.clientX,y:k.clientY};
if(n.contentAreaMode===Telerik.Web.UI.EditorContentAreaMode.Iframe){var m=$telerik.getBounds(n.editorContentAreaElement);
var i=n.docNode;
var j=$telerik.getBounds(i);
l.x+=m.x-j.x;
l.y+=m.y-j.y;
}else{l.x+=a(document).scrollLeft();
l.y+=a(document).scrollTop();
}this.openedContextMenu=h;
var o=h.get_selectedItem();
if(o){o.set_selected(false);
}h.showAt(l.x,l.y);
},getContextMenuItems:function(h){var i=h.get_items();
if(i.get_count){i=this._getVisibleItems(h);
}return i;
},_getVisibleItems:function(h){var m=[];
var j=h.get_allItems();
for(var k=0;
k<j.length;
k++){var l=j[k];
if(this._isItemVisible(l)){this._updateVisibleItems(m,l);
}}return m;
},_isItemVisible:function(h){return h.get_visible()&&!(h.get_level()>0&&!this._itemHasVisibleParent(h));
},_itemHasVisibleParent:function(h){while(Telerik.Web.UI.RadMenuItem.isInstanceOfType(h.get_parent())){h=h.get_parent();
}return h.get_visible();
},_updateVisibleItems:function(i,h){this._extendRadContextMenuItem(h);
i.push(h);
},_extendRadContextMenuItem:function(h){var i={get_name:function(){return this.get_value();
},setState:function(j){this.set_enabled(j!==b.Editor.CommandStates.Disabled);
},setOn:function(j){this.set_selected(j);
}};
a.extend(h,i);
},isContextMenuItem:function(h){return Telerik.Web.UI.RadMenuItem.isInstanceOfType(h);
},isContextMenu:function(h){return Telerik.Web.UI.RadContextMenu.isInstanceOfType(h);
},getSelectedValue:function(h,j){if(j.get_item){var i=j.get_item();
i.get_name=i.get_value;
i._name=i._value;
return i;
}else{return h.get_selectedItem();
}},hideContextMenu:function(){this._radContextMenu.hide();
this.openedContextMenu=null;
},setToolContainersState:function(j){for(var h=0;
h<j.length;
h++){var k=j[h];
k.set_enabled(this._shouldEnableToolsContainer(k));
}},dispose:function(){this._eventsList=null;
var h=this._getMenuNodes();
if(h){h.off(f);
}},_shouldEnableToolsContainer:function(l){var k=l.get_items();
for(var h=0;
h<k.get_count();
h++){var j=k.getItem(h);
if(j.get_enabled()){return j.get_enabled();
}}return false;
},_getMenuNodes:function(){return this._radContextMenu&&a(this._radContextMenu.get_element()).find(".rmLink");
}};
b.Editor.RadContextMenuFunctionality.registerClass("Telerik.Web.UI.Editor.RadContextMenuFunctionality",null,b.Editor.BaseContextMenuFunctionality);
})($telerik.$);
(function(a,n){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var k=b.Editor;
var d="back";
var h="close";
var g="click";
var j="display";
var c=40;
k.ToolNavigator=function(o){k.ToolNavigator.initializeBase(this,[o]);
this.navigatables=[];
};
k.ToolNavigator.prototype={initialize:function(){k.ToolNavigator.callBaseMethod(this,"initialize");
this._renderUI();
this.attachEventHandlers();
},show:function(o){if(!o){return;
}this.navigatables.push(o);
this._prepareShowAnimation();
this._updateTitle();
this._animateShow();
},back:function(o){this._prepareBackAnimation();
this.navigatables.pop();
this._animateBack(o);
},attachEventHandlers:function(){this._backDelegate=Function.createDelegate(this,this._backHandler);
this._closeDelegate=Function.createDelegate(this,this._closeHandler);
a(this._backBtn).onEvent(g,this._backDelegate);
a(this._closeBtn).onEvent(g,this._closeDelegate);
},detachEventHandlers:function(){a(this._backBtn).offEvent(g,this._backDelegate);
a(this._closeBtn).offEvent(g,this._closeDelegate);
this._backDelegate=n;
this._closeDelegate=n;
},dispose:function(){this.detachEventHandlers();
this._title=n;
this._backBtn=n;
this._closeBtn=n;
k.ToolNavigator.callBaseMethod(this,"dispose");
},_renderUI:function(){var q=this.get_element();
var o=this._backBtn=m.buildBackBtn();
var r=this._title=m.buildTitle();
var p=this._closeBtn=m.buildCloseBtn();
this._hideUI();
q.appendChild(o);
q.appendChild(r);
q.appendChild(p);
},_showUI:function(){this._backBtn.style.opacity=1;
this._title.style.opacity=1;
},_hideUI:function(){a(this._backBtn).css({opacity:0,marginLeft:0});
this._title.style.opacity=0;
},_prepareShowAnimation:function(){var o=(this.navigatables.length===1);
var p=a(o?this._backBtn:this._title);
p.css(this._asideStateCss());
p.css(j);
},_animateShow:function(){this._getAnimateUI().transition(this._normalStateCss(),c,"easeOut");
},_prepareBackAnimation:function(){this._getAnimateUI().stopTransition();
},_animateBack:function(p){var r=this;
var o=a(this._backBtn);
var s=a(this._title);
var q=!this._getLastNavigatable();
s.transition(this._asideStateCss(),c,"easeOut",function(){r._updateTitle();
r._restoreTitle();
});
if(q){o.transition(this._asideStateCss(),c,"easeOut",function(){r._hideUI();
if(p){p();
}});
}},_getAnimateUI:function(){return a(this._backBtn).add(this._title);
},_restoreTitle:function(){a(this._title).css(this._normalStateCss());
},_normalStateCss:function(){return{marginLeft:0,opacity:1};
},_asideStateCss:function(){return{marginLeft:"40vw",opacity:0};
},_updateTitle:function(){this._setTitle(this._getLastNavigatable());
},_setTitle:function(o){this._title.innerHTML=o||"";
},_getLastNavigatable:function(){return this.navigatables[this.navigatables.length-1];
},_backHandler:function(){this.raiseEvent(d);
},_closeHandler:function(){this.raiseEvent(h);
}};
a.registerControlEvents(k.ToolNavigator,[d,h]);
k.ToolNavigator.registerClass("Telerik.Web.UI.Editor.ToolNavigator",b.RadWebControl);
var e='<span class="reButton reBackButton" title="" role="button">	<span class="reIcon reIconBack"></span></span>';
var l='<span class="reToolText t-flex"></span>';
var i='<span class="reButton reCloseButton" title="Hide Tools" role="button">	<span class="reIcon reIconClose"></span></span>';
var m=k.ToolNavigator.UIBuilder={backBtnTemplate:e,titleTemplate:l,closeBtnTemplate:i,buildBackBtn:function(o){return f(o||this.backBtnTemplate);
},buildTitle:function(o){return f(o||this.titleTemplate);
},buildCloseBtn:function(o){return f(o||this.closeBtnTemplate);
}};
function f(o){return a(o)[0];
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,c){b.TrackerBase=function(d){var e=this;
e.editor=d;
e.nodes=[];
};
b.TrackerBase.prototype={_zeroWidthCharacter:"\u200b",stopTracking:function(){var d=this;
d.detachEvents();
d.isTracking=false;
},createTrackedNode:function(g){var h=this;
var d=h.getTrackableChars();
var e=g||h.editor.get_document();
var f=e.createTextNode(d);
h.trackNode(f);
return f;
},getTrackableChars:function(){return this._zeroWidthCharacter;
},trackNode:function(d){this.nodes.push(d);
},cleanUpNodes:function(){var f=this,e=f.nodes;
while(e.length){var d=e.pop();
if(!f._isNodeRemoved(d)){f._cleanUpNode(d);
}}},_cleanUpNode:function(d){if(c.isTextNode(d)){this.removeFirstZeroWidthChar(d);
}else{a(d).remove();
}},_isNodeRemoved:function(f){try{return !a.contains(this.editor.get_contentArea(),f);
}catch(d){return true;
}},removeFirstZeroWidthChar:function(g){var h=this._zeroWidthCharacter;
try{if(!g||!g.nodeValue){return;
}if($telerik.isIE){g.nodeValue=g.nodeValue.replace(new RegExp("["+h+"]+",""),"");
}else{var f=g.nodeValue.indexOf(h);
if(f!=-1){g.deleteData(f,1);
}}}catch(d){}},reset:function(){this.cleanUpNodes();
},removeZeroWidthNodes:function(){var m=this,g=m.nodes,l=new RegExp("^["+m._zeroWidthCharacter+"]+$");
var j=m.nodeValuePairs=[];
for(var d=0;
d<g.length;
d++){var f=g[d];
if(c.isTextNode(f)&&!m._isNodeRemoved(f)){var h=f.nodeValue;
if(l.test(h)){j.push({node:f,value:f.nodeValue});
var k=c.getBlockParent(f);
var e=k&&c.isNodeEmptyRecursive(k);
f.nodeValue=e?"\u00A0":"";
}else{m.removeFirstZeroWidthChar(f);
}}}},restoreZeroWidthNodes:function(){var f=this,e=f.nodeValuePairs||[];
while(e.length){var d=e.pop();
d.node.nodeValue=d.value;
}},dispose:function(){var d=this;
d.stopTracking();
d.editor=null;
}};
Telerik.Web.UI.Editor.TrackerBase.registerClass("Telerik.Web.UI.Editor.TrackerBase");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.EmptyWhitespaceCharTracker=function(e){var f=this;
b.EmptyWhitespaceCharTracker.initializeBase(f,[e]);
f.cleanUpDelegate=Function.createDelegate(f,f.cleanUpWhitespace);
f.cleanUpKeypressDelegate=Function.createDelegate(f,f.cleanUpWhitespaceKeypress);
};
b.EmptyWhitespaceCharTracker.prototype={startTracking:function(){var g=this,f=g.editor,e=f.get_contentArea();
g.isTracking=true;
f.add_submit(g.cleanUpDelegate);
a(e).on("keypress",g.cleanUpKeypressDelegate);
$telerik.addExternalHandler(e,"mousedown",g.cleanUpDelegate);
$telerik.addExternalHandler(e,"touchstart",g.cleanUpDelegate);
},cleanUpWhitespaceKeypress:function(f){var i=this;
if(!i.shouldCleanUp(f)){return;
}var h=i.nodes;
while(h.length){var g=h.pop();
i._cleanUpNodeKeypress(g);
}},_cleanUpNodeKeypress:function(f){var g=this,e=15;
if(d.isTextNode(f)){setTimeout(function(){g.removeFirstZeroWidthChar(f);
},e);
}else{a(f).remove();
}},cleanUpWhitespace:function(f){var g=this;
if(!g.shouldCleanUp(f)){return;
}g.cleanUpNodes();
},shouldCleanUp:function(f){return f.type!="keypress"||!$telerik.isChrome||(f.keyCode>32&&f.keyCode<40);
},detachEvents:function(){var g=this,f=g.editor,e=f.get_contentArea();
f.remove_submit(g.cleanUpDelegate);
a(e).off("keypress",g.cleanUpKeypressDelegate);
$telerik.removeExternalHandler(e,"mousedown",g.cleanUpDelegate);
$telerik.removeExternalHandler(e,"touchstart",g.cleanUpDelegate);
},dispose:function(){var e=this;
if(!e.isTracking){return;
}b.EmptyWhitespaceCharTracker.callBaseMethod(e,"dispose");
e.cleanUpDelegate=null;
}};
Telerik.Web.UI.Editor.EmptyWhitespaceCharTracker.registerClass("Telerik.Web.UI.Editor.EmptyWhitespaceCharTracker",Telerik.Web.UI.Editor.TrackerBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,f){var b=c.Editor;
var g=b.Utils;
var d=Telerik.Web.Browser;
var e=d.ie&&d.version==10;
b.NodesTracker=function(h){var i=this;
i.isActive=true;
b.NodesTracker.initializeBase(i,[h]);
if(!i.isActive){return;
}i.isLegacyIE=$telerik.isIE&&!$telerik.isIE9Mode;
i.cleanUpDelegate=Function.createDelegate(i,i.cleanUpNodes);
i.keyupDelegate=Function.createDelegate(i,i.keyupHandler);
i.keydownDelegate=Function.createDelegate(i,i.keydownHandler);
i.pasteDomDelegate=Function.createDelegate(i,i.pasteDomHandler);
i.modeChangeDelegate=Function.createDelegate(i,i.modeChangeHandler);
};
b.NodesTracker.prototype={startTracking:function(){var i=this;
if(!i.isActive){return;
}var h=i.editor;
i.isTracking=true;
h.add_submit(i.cleanUpDelegate);
h.add_pasteDom(i.pasteDomDelegate);
h.add_modeChange(i.modeChangeDelegate);
a(h.get_contentArea()).on({keydown:i.keydownDelegate,keyup:i.keyupDelegate});
},isTracked:function(h){var i=this;
return h&&i.isZeroWidthNode(h)&&a.inArray(h,i.nodes)!=-1;
},removeTrackedNode:function(h){if(!h){return;
}var j=this;
var i=a.inArray(h,j.nodes);
if(i!=-1){if(g.isTextNode(h)){h.nodeValue=h.nodeValue.replace(new RegExp(j._zeroWidthCharacter,"g"),"");
if(h.length==0){a(h).remove();
}}else{a(h).remove();
}j.nodes.splice(i,1);
}},update:function(r,s){var u=this,p=u.nodes;
r=r||b.DomRange.toDomRange(u.editor.getSelection().getRange(true));
var h=r.commonAncestorContainer,n=g.isTextNode(h),t=r.startOffset;
for(var k=p.length-1;
k>=0;
k--){var o=p[k];
if(u.shouldCleanUpNode(o)){var m=n&&h===o;
if(m&&s){continue;
}var j=m?h.length:f;
var l=m?h.nodeValue.indexOf(u._zeroWidthCharacter):-1;
u._cleanUpNode(o);
p.splice(k,1);
if(m&&l!=-1){var q=l<t?t-(j-h.length):t;
g._setCursorInTextNode(r,h,q,q);
}}}},removeFirstZeroWidthChar:function(i){var k=this;
b.NodesTracker.callBaseMethod(k,"removeFirstZeroWidthChar",[i]);
var j=!k._isNodeRemoved(i)?i.parentNode:f;
var h=j&&i.length==0&&g.isNodeEmptyRecursive(j);
if(h&&!g.isEditorContentArea(j)&&j.innerHTML!="&nbsp;"){i.nodeValue="\u00A0";
}},shouldCleanUpNode:function(j){var i,l;
try{i=g.isTextNode(j);
l=i?j.length:null;
if(i&&!l){return true;
}}catch(h){return true;
}if(!i){return false;
}if((l>1&&!new RegExp("^["+this._zeroWidthCharacter+"]+$","").test(j.nodeValue))||(this._isNodeRemoved(j)||j.nextSibling||(j.previousSibling&&!g.isTag(j.previousSibling,"br")))){return true;
}var k=j.parentNode;
while(!g.isBlockElement(k)){if(g.isTextNode(k.nextSibling)){return true;
}k=k.parentNode;
}},isZeroWidthNode:function(h){return g.isTextNode(h)&&new RegExp("^["+this._zeroWidthCharacter+"]+$","").test(h.nodeValue);
},getTrackableChars:function(){var h=this;
var i=h._zeroWidthCharacter;
if(h.isLegacyIE){return i+i;
}else{return b.NodesTracker.callBaseMethod(h,"getTrackableChars");
}},selectTrackedNode:function(i,j){var h=j.length-1;
g._setCursorInTextNode(i,j,h,h);
},keyupHandler:function(h){var k=this,j=k.isDelete(h),i=k.isBackspace(h);
if(!k._cleanUpOnKeyup&&(!k._shouldHandleKeyEvent(h)||(!j&&!i))){return;
}if(k._cleanUpOnKeyup){delete k._cleanUpOnKeyup;
}k.update();
},keydownHandler:function(j){var w=this;
if(!w._shouldHandleKeyEvent(j)){return;
}var n=w.isLeftArrow(j),o=w.isRightArrow(j),m=w.isDelete(j),l=w.isBackspace(j),p=w.isTyping(j);
if(!m&&!l&&!n&&!o&&!p){return;
}var k=w.editor,v=k.getSelection(),i=b.DomRange.toDomRange(v.getRange(true));
if(!i||!i.collapsed){return;
}var h=b.RangeEdges.commonNode(i);
if(!w.isZeroWidthNode(h)){return;
}var r=h.length;
var s=n||l?0:r;
if(n||o){g._setCursorInTextNode(i,h,s,s);
}else{if(l||m){if(w.isLegacyIE||g.isSingleChild(h)){if(e&&l){var u=g.getBlockParent(h);
if(g.isTag(u,"li")&&g.isNodeEmptyRecursive(u)){return;
}}g._setCursorInTextNode(i,h,0,r);
k.get_document().execCommand("delete",false,null);
}else{g._setCursorInTextNode(i,h,s,s);
}}else{if(p&&!(Telerik.Web.Browser.edge&&Telerik.Web.Browser.version>16)){var t=w.isLegacyIE?r-1:r;
g._setCursorInTextNode(i,h,t,r);
w._cleanUpOnKeyup=true;
var q=h.nextSibling;
if(g.isList(q)){h.parentNode.insertBefore(k.get_document().createTextNode("\n"),q);
}}}}},_shouldHandleKeyEvent:function(h){if(h.ctrlKey||h.altKey||h.metaKey||!this.nodes.length||this.editor.isKeyEventComposed(h)){return false;
}return true;
},pasteDomHandler:function(j,h){var m=this;
m.convertSingleNbspToTrackedZwsp(h.get_element());
var i=h.get_cursor(),l=i.previousSibling,k=i.nextSibling;
if(m.isZeroWidthNode(l)){a(l).remove();
}if(m.isZeroWidthNode(k)){a(k).remove();
}},modeChangeHandler:function(i,h){var j=this;
if(i.get_mode()==c.EditModes.Design){j.convertSingleNbspToTrackedZwsp();
j.addTrackedZwspBeforeInnerLists();
}},convertSingleNbspToTrackedZwsp:function(h){var l=this;
h=h||l.editor.get_contentArea();
var k=/^[\u00A0]$/;
var j=function(m){return g.isTextNode(m)&&k.test(m.nodeValue)&&g.isSingleChild(m)&&!g.isTableCell(m.parentNode);
};
var i=function(m){m.nodeValue=l.getTrackableChars();
l.trackNode(m);
};
if(j(h)){i(h);
}else{a(g.getAllChildNodesBy(h,j)).each(function(m,n){i(n);
});
}},addTrackedZwspBeforeInnerLists:function(){var i=this;
var h=i.editor;
h.findContent("ol,ul").each(function(j,k){var l=k.parentNode;
if(g.isTag(l,"li")){var m=k.previousSibling;
if(!m||(g.isTextNode(m)&&g.isTextNodeEmpty(m)&&!i.isZeroWidthNode(m))){l.insertBefore(i.createTrackedNode(),k);
}}});
},isTyping:function(h){return g.isTypingKey(h)&&!this.isDeleting(h);
},isLeftOrRightArrow:function(h){return !h.altKey&&!h.ctrlKey&&!h.shiftKey&&(this.isLeftArrow(h)||this.isRightArrow(h));
},isLeftArrow:function(h){return h.keyCode==37;
},isRightArrow:function(h){return h.keyCode==39;
},isDeleting:function(h){return this.isDelete(h)||this.isBackspace(h);
},isDelete:function(h){return h.keyCode==46;
},isBackspace:function(h){return h.keyCode==8;
},detachEvents:function(){var i=this;
if(!i.isActive){return;
}var h=i.editor;
h.remove_submit(i.cleanUpDelegate);
h.remove_pasteDom(i.pasteDomDelegate);
h.remove_modeChange(i.modeChangeDelegate);
a(h.get_contentArea()).off({keydown:i.keydownDelegate,keyup:i.keyupDelegate});
},dispose:function(){var h=this;
if(!h.isActive||!h.isTracking){return;
}b.NodesTracker.callBaseMethod(h,"dispose");
h.cleanUpDelegate=h.keyupDelegate=h.keydownDelegate=h.pasteDomDelegate=h.modeChangeDelegate=f;
}};
b.NodesTracker.registerClass("Telerik.Web.UI.Editor.NodesTracker",b.TrackerBase);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,g,b,f){var e=Telerik.Web.UI.Widgets.Polling;
var d=Function.createDelegate;
c.SizerBase=function(h){var i=this;
i.editor=h;
i._sizes={};
i.isContentAreaModeDiv=h.get_contentAreaMode()==b.EditorContentAreaMode.Div;
};
c.SizerBase.prototype={setEditorSize:function(n,k){var m=this,j=m.editor,o=j.get_element(),i=m._isSizeInPercent(n)?n:parseInt(n,10)+"px",h=m._isSizeInPercent(k)?k:parseInt(k,10)+"px",l=j.get_mainTable();
m._setCss(o,{width:i,height:h});
if(l){m._setHeight(l,h);
}m.onRepaint(true);
},setContentElementHeight:function(){this.whenToolbarStyled(d(this,this._setContentElementHeight));
},getMinWidth:function(){return this.editor.get_TopZone().parentNode.offsetWidth;
},lineHeight:35,getMinHeight:function(){var j=this.editor,i=new c.DimensionsCalculator(j),h=i._getSupportingUIHeight();
return h+this.lineHeight;
},setWrapperMinDimentions:function(i){var h=this.editor.get_element();
if(i||!h.style.minHeight){h.style.minHeight=this.getMinHeight()+"px";
}if(!h.style.minWidth){h.style.minWidth=this.getMinWidth()+"px";
}},ensureMinDimentions:function(){var h=this.editor.get_element(),l=this.editor.get_mainTable(),k=h.style.minWidth,j=h.style.minHeight,m=!/%/.test(h.style.width)?h.style.width:h.clientWidth,i=!/%/.test(h.style.height)?h.style.height:h.clientHeight;
if(k&&m&&parseInt(k,10)>parseInt(m,10)){h.style.width=k;
}if(j&&i&&parseInt(j,10)>parseInt(i,10)){h.style.height=j;
l.style.height=j;
}},whenToolbarStyled:function(h){var k=this._getFirstToolbarList();
var i="listStyleType";
var j="none";
if($telerik.getComputedStyle(k,i)==j){h();
}else{e.css(k,i,j).always(h);
}},getIframe:function(){var h=this.editor;
return h.get_mode()!=b.EditModes.Html?h.get_contentAreaElement():h._getHtmlModeTextarea();
},onResizeStart:function(){this.setWrapperMinDimentions(true);
},onResizing:function(){},onResizeEnd:function(){this.ensureMinDimentions();
this.setContentElementHeight();
var h=parseInt(this.editor.get_element().style.height,10);
this.editorHeight=!this.editorHeight?h:Math.min(this.editorHeight,h);
},modeChanged:function(){this.setContentElementHeight();
},onRepaint:function(i){if(!i){return;
}var j=this;
var h=j.editor;
if(h._shouldAutoResizeHeight()){if(h.isFullScreen()){j.disableAutoResizeHeight();
}else{j.makeAutoResizeHeight();
}}else{j.setContentElementHeight();
}},moduleToggleVisibility:function(j){var i=this.editor,m=i.get_element(),l=i.get_mainTable(),h=parseInt(m.style.height,10),k=this.editorHeight;
m.style.minHeight=this.getMinHeight()+"px";
if(!j&&k&&k<h&&/px$/i.test(m.style.height)){m.style.height=k+"px";
l.style.height=k+"px";
}this.setContentElementHeight();
},hideDesignViewElement:function(h){h.style.display="none";
},setHtmlViewElementHeight:function(h){h.style.height="2px";
},isHeightChanged:function(){var p=this,h=p.editor.get_contentArea(),n=$telerik.isIE&&!p.isContentAreaModeDiv,o=p._sizes,l;
if(n){l=h.style.position;
h.style.position="absolute";
}var k=h.scrollHeight,j=h.offsetHeight,i=h.clientHeight,m=true;
if(o.contentAreaScrollHeight&&o.contentAreaOffsetHeight&&o.contentAreaClientHeight&&o.contentAreaScrollHeight==k&&o.contentAreaOffsetHeight==j&&o.contentAreaClientHeight==i){m=false;
}else{o.contentAreaScrollHeight=k;
o.contentAreaOffsetHeight=j;
o.contentAreaClientHeight=i;
}if(n){h.style.position=l;
}return m;
},_getFirstToolbarList:function(){return a(this.editor.get_element()).find("ul.reToolBar,ul.reToolbar,ul.rrbTabs")[0];
},_setHeight:function(h,i){this._setCss(h,{height:i});
},_setCss:function(h,i){a(h).css(i);
},_isSizeInPercent:function(h){var i=h+"";
return/%$/.test(i);
}};
Telerik.Web.UI.Editor.UI.SizerBase.registerClass("Telerik.Web.UI.Editor.UI.SizerBase");
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,b,d){var c=".reBottomTable";
b.DimensionsCalculator=function(e){this.editor=e;
};
b.DimensionsCalculator.prototype={calculateContentHeight:function(){var e=this.containerHeight(),f=e-this._getSupportingUIHeight();
return f;
},calculateContainerHeightByContentHeight:function(e){return e+this._getSupportingUIHeight();
},isContainerPxHeight:function(){return/px/i.test(this.editor.get_element().style.height);
},containerHeight:function(){var e=this.editor.get_element(),f=this.containerHeightComputed(),g=this._isPxHeight(f);
if(g){f=parseInt(f,10);
}else{f=e.clientHeight||e.offsetHeight;
}return f;
},containerHeightComputed:function(){var f=this.editor,e=f.get_element();
return $telerik.getComputedStyle(e,"height");
},_getSupportingUIHeight:function(){var g=this.editor,n=g.get_mainTable(),m=a.makeArray(n.rows),h=m.length-1,o=this._getToolbarHeight(a(".reToolCell",m[2])[0]),e=m[0].offsetHeight+m[1].offsetHeight+m[h].offsetHeight+this._getIframeParentTdBorders(a(".reContentCell",m[3])[0]),k=this._getModulesHeight(m[h-1]),l=0;
var i=a(c,m[h-2])[0];
var j=i?i.offsetHeight:0;
e=($telerik.isIE6||$telerik.isIE7||$telerik.isIE8)?Math.min(e,4):e;
var f=g._getCurrentArea();
if(f.nodeName=="TEXTAREA"&&($telerik.isIE7||(!("box-sizing" in f.style)))){l+=this.getComputedSizes(f,["padding-top","padding-bottom"]);
}return o+e+j+k+l;
},_isPxHeight:function(e){return e.indexOf("px")!=-1;
},_isPercentHeight:function(){return/%/.test(this.editor.get_element().style.height);
},_getIframeParentTdBorders:function(e){return this.getComputedSizes(e,["border-top-width","border-bottom-width"]);
},_getModulesHeight:function(f){var e=0;
$telerik.$(".reModule",f).each(function(){e+=this.offsetHeight;
});
return e;
},_getToolbarHeight:function(e){var l=this;
var h=a(e);
var k=h.find("table.reAjaxspell_wrapper")[0];
if(k&&$telerik.getVisible(k)){return e.offsetHeight;
}var j=h.find("div.RadRibbonBar")[0];
if(j){return l._getRibbonBarHeight(j);
}if(h.find("div.reToolbarWrapper").length==0&&h.find("ul.reToolbar").length==1){return l._getFloatingToolbarHeight(e);
}var g=0;
if(!e.style.height){var m=e.firstChild,i=m.style.overflow,f=m.style.cssFloat;
e.style.height="10px";
m.style.overflow="auto";
m.style.cssFloat="left";
g=m.offsetHeight;
e.style.height="";
m.style.overflow=i;
m.style.cssFloat=f;
}return g;
},_getRibbonBarHeight:function(f){var h=this;
var g=h.getComputedSizes(f,["height"]);
var e=h.getComputedSizes(f.parentNode,["padding-top","padding-bottom"]);
if(!g){g=f.offsetHeight||a(f).find(".rrbContentWrapOut").get(0).offsetHeight;
}return g+e;
},_getFloatingToolbarHeight:function(f){var j=this;
var g=j.getComputedSizes(f,["height"]);
if(g){return g;
}else{var e=0;
var h=$telerik.getComputedStyle;
var i=["margin-top","margin-bottom","border-top-width","border-bottom-width"];
Array.forEach(a.makeArray(f.childNodes),function(k){var l=h(k,"height",0);
if(l=="auto"&&k.nodeName=="UL"){l=j._getToolsListHeight(k);
}e+=j._toNumber(l)+j.getComputedSizes(k,i);
});
return e;
}},_getToolsListHeight:function(e){var f=0;
Array.forEach(a.makeArray(a(e).children()),function(g){f=Math.max(f,g.offsetHeight);
});
return f;
},_toNumber:function(f){var e=f?parseFloat(f):0;
return !isNaN(e)?e:0;
},getComputedSizes:function(f,e){var h=$telerik.getComputedStyle;
var j=this;
var i=0;
var g=parseFloat(h(f,"font-size"));
Array.forEach(e,function(k){var l=h(f,k,0);
if(/em/i.test(l)){l=g*j._toNumber(l);
}i+=j._toNumber(l);
});
return i;
}};
})($telerik.$,Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.Sizer=function(f){c.Sizer.initializeBase(this,[f]);
};
c.Sizer.prototype={_setContentElementHeight:function(){var j=this.editor,i=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(j),l=i.isContainerPxHeight(),m=i._isPercentHeight(),n=i._getSupportingUIHeight(),f=i.containerHeight(),o=j.get_element(),k=this.getIframe(),g=$telerik.getBorderBox(k),h=f-n-g.vertical;
if(f<n+this.lineHeight){f=n+this.lineHeight;
if(l){o.style.height=f+"px";
}h=this.lineHeight;
}k.style.height=h+"px";
if(m){j.get_mainTable().style.height=f+"px";
this.percentHeightFirstLoad=m;
}if(!this.editorHeight){this.editorHeight=f;
}},onResizeStart:function(){c.Sizer.callBaseMethod(this,"onResizeStart");
var f=this.getIframe();
f.style.height=this.lineHeight+"px";
},modeChanged:function(f){if(this.percentHeightFirstLoad&&f!=Telerik.Web.UI.EditModes.Html){this.getIframe().style.height="0px";
}c.Sizer.callBaseMethod(this,"modeChanged");
}};
c.Sizer.registerClass("Telerik.Web.UI.Editor.UI.Sizer",c.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerAutoResizeHeight=function(f){c.SizerAutoResizeHeight.initializeBase(this,[f]);
this.isLegacyIE=$telerik.isIE6||$telerik.isIE7||$telerik.isIE8;
};
c.SizerAutoResizeHeight.prototype={makeAutoResizeHeight:function(j,i){var g=this.editor;
if(j===false||g.isFullScreen()){return;
}var f=g.get_contentArea(),k=g.get_mainTable(),l=g.get_element(),h=this.getIframe();
if(!this._sizes.editorMinHeight){this._sizes.editorMinHeight=this._getEditorMinHeight(l);
}if(h.style.height=="100%"){h.style.height="";
}l.style.height="";
k.style.height="";
this._setCss(f,{"min-height":this.getIframeMinHeight()+"px",overflow:"hidden",height:"auto"});
this.resizeIframeHeight(true);
},disableAutoResizeHeight:function(){var g=this.editor,f=g.get_contentArea(),h=this.getIframe();
this._setCss(f,{"min-height":"",overflow:"",height:""});
h.style.height="100%";
},_getEditorMinHeight:function(f){return/px/i.test(f.style.height)?parseInt(f.style.height,10):f.offsetHeight;
},resizeIframeHeight:function(g){if((!this.isHeightChanged()&&!g)||this.editor.isFullScreen()){return;
}var f=this.getIframe();
this.setIframeHeight(f);
this.saveIframeHeight(f);
if(this.editor._contentAreaWrapper){this.editor._contentAreaWrapper.style.height=f.style.height;
}},setIframeHeight:function(g){var j=this.getIframeMinHeight(),i=g.style.height?parseInt(g.style.height,10):0;
var h=this.calculateIframeHeight();
var k=Math.max(h,j);
var n=0;
if(this.editor.get_mode()==Telerik.Web.UI.EditModes.Preview){var f=this.editor.get_contentArea(),m=$telerik.getComputedStyle(f,"margin-top")||$telerik.getComputedStyle(f,"marginTop")||0,l=$telerik.getComputedStyle(f,"margin-bottom")||$telerik.getComputedStyle(f,"marginBottom")||0;
n=parseInt(m,10)+parseInt(l,10);
f.style.marginTop="0px";
f.style.marginBottom="0px";
f.style.paddingTop="0px";
f.style.paddingBottom="0px";
}if(Math.abs(k-n-i)>10){g.style.height=(k-n)+"px";
}},saveIframeHeight:function(g){var f=this.editor;
if(f.get_mode()==Telerik.Web.UI.EditModes.Design){this._sizes.iframeHight=g.offsetHeight;
}},modeChanged:function(){var i=this.editor,g=i.get_mode(),h=Telerik.Web.UI.EditModes,f=i.get_contentArea(),j=this.getIframe();
f.style.margin="";
f.style.padding="";
if(i.isFullScreen()){j.style.height="100%";
}else{if(g==h.Design){this.makeAutoResizeHeight(true,true);
this._sizes.iframeHight=j.offsetHeight;
}else{if(g==h.Html){if(this._sizes.iframeHight){j.style.height=(this._sizes.iframeHight)+"px";
j.style.overflow="";
}else{this.makeAutoResizeHeight(true,true);
j.style.height=(i.get_textArea().scrollHeight+1)+"px";
}}else{if(g==h.Preview){if(this._sizes.iframeHight){j.style.height=(this._sizes.iframeHight)+"px";
f.style.height="";
}else{this.makeAutoResizeHeight(true,true);
f.style.height="";
}f.style.marginTop="0px";
f.style.marginBottom="0px";
f.style.paddingTop="0px";
f.style.paddingBottom="0px";
}}}}},getIframeMinHeight:function(){var g=this.editor,h=this._sizes.editorMinHeight,f=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(g),j=f._getSupportingUIHeight(),i=Math.max(h-j,this.lineHeight);
return i;
},calculateIframeHeight:function(){var i=this.editor,f=i.get_contentArea(),h=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(i),m=h._getSupportingUIHeight(),g=Math.max(this.getContentAreaHeight(f),this.lineHeight),l=this._sizes.editorMinHeight,j=Math.max(m+g,l),k=j-m;
this._sizes.contentAreaHeight=g;
return k;
},getContentAreaHeight:function(f){var j=this.isLegacyIE;
var g=f.style.cssFloat;
var i=f.style.height;
var k;
f.style.cssFloat="left";
f.style.height="auto";
if(!j){k=f.style.overflow;
f.style.overflow="";
}var h=!j?f.offsetHeight:f.scrollHeight;
f.style.cssFloat=g;
f.style.height=i;
if(!j){f.style.overflow=k;
}return h;
},onSubmitSetEditorHeight:function(){var f=this.editor.get_element();
var g=$telerik.getComputedStyle(f,"height");
if(g&&/px$/i.test(g)){f.style.height=g;
this.editor.get_mainTable().style.height=g;
}},moduleToggleVisibility:function(){this.resizeIframeHeight(true);
},setHtmlViewElementHeight:function(f){var g=this;
if(g._sizes.iframeHight){f.style.height=g._sizes.iframeHight+"px";
}else{c.SizerAutoResizeHeight.callBaseMethod(g,"setHtmlViewElementHeight",[f]);
}}};
c.SizerAutoResizeHeight.registerClass("Telerik.Web.UI.Editor.UI.SizerAutoResizeHeight",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerAutoResizeHeightDivMode=function(f){c.SizerAutoResizeHeightDivMode.initializeBase(this,[f]);
};
c.SizerAutoResizeHeightDivMode.prototype={resizeIframeHeight:function(g){var h=this;
if((!h.isHeightChanged()&&!g)||h.editor.isFullScreen()){return;
}var f=h.getIframe();
if(!f.style.minHeight){f.style.minHeight=h.getIframeMinHeight()+"px";
}h.saveIframeHeight(f);
},modeChanged:function(){var i=this;
var g=i.getIframe();
var f=i.editor;
if(f.get_mode()==b.EditModes.Design){if(f.isFullScreen()){g.style.height="100%";
}else{if(g.style.height){g.style.height="";
g.parentNode.style.height="";
}}return;
}var h=i._sizes;
if(h.iframeHight){g.style.height=(h.iframeHight)+"px";
g.style.overflow="";
}},hideDesignViewElement:function(g){var f=this.editor.get_element();
if(!f.style.height){var h=$telerik.getComputedStyle(f,"height");
if(!/px$/i.test(h)){h=f.clientHeight+"px";
}f.style.height=h;
setTimeout(function(){f.style.height="";
},0);
}g.style.display="none";
}};
c.SizerAutoResizeHeightDivMode.registerClass("Telerik.Web.UI.Editor.UI.SizerAutoResizeHeightDivMode",Telerik.Web.UI.Editor.UI.SizerAutoResizeHeight);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a){a.SizerEditTypeInline=function(b){a.SizerEditTypeInline.initializeBase(this,[b]);
};
a.SizerEditTypeInline.prototype={getIframeMinHeight:function(){return this.lineHeight;
}};
a.SizerEditTypeInline.registerClass("Telerik.Web.UI.Editor.UI.SizerEditTypeInline",a.SizerAutoResizeHeightDivMode);
})(Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,b){b.SizerFactory={getSizer:function(e){var h=e.get_renderMode();
var g=e._isInInlineEditMode();
var d=e.get_autoResizeHeight();
var f=e.get_contentAreaMode()==a.EditorContentAreaMode.Div;
if(h===c.Lite){if(g){return new b.SizerLightweightEditTypeInline(e);
}else{if(d){return f?new b.SizerLightweightAutoResizeHeightDivMode(e):new b.SizerLightweightAutoResizeHeight(e);
}else{return new b.SizerLightweight(e);
}}}else{if(h==c.Classic){if(g){return new b.SizerEditTypeInline(e);
}else{if(d){return f?new b.SizerAutoResizeHeightDivMode(e):new b.SizerAutoResizeHeight(e);
}else{if($telerik.isIE6||$telerik.isIE7||$telerik.isIE8){return new b.SizerLegacyIE(e);
}else{return new b.Sizer(e);
}}}}else{if(h===c.Mobile){return new b.SizerMobile(e);
}}}}};
})(Telerik.Web.UI,Telerik.Web.UI.RenderMode,Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerLegacyIE=function(f){c.SizerLegacyIE.initializeBase(this,[f]);
};
c.SizerLegacyIE.prototype={_setContentElementHeight:function(){this.cancelResizing=true;
var k=this.editor,j=k.get_mode(),n=j==b.EditModes.Html,s=k.get_element(),i=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(k),m=i.isContainerPxHeight(),o=i._isPercentHeight(),r=i._getSupportingUIHeight(),g=i.containerHeight(),h=g-r,l=this.getIframe(),p=k.get_mainTable(),f=$get(k.get_id()+"Center");
if(o&&!this.percentHeightFirstLoad){var t=this.getWrapperHeight(s);
if(t<=0){return;
}p.style.height=t+"px";
}if(o){g=parseInt(p.style.height,10);
h=g-r;
}if(g<r+this.lineHeight){g=r+this.lineHeight;
if(m){s.style.height=g+"px";
}f.style.height="";
h=this.lineHeight;
}l.style.height=h+"px";
if(!n){if(Math.abs(l.parentNode.offsetHeight-s.offsetHeight)<5&&l.parentNode.style.height=="100%"){l.parentNode.style.height="";
}}else{if(n){var q=k.get_textArea();
f.style.height="";
q.style.height=($telerik.isIE7?h-2:h)+"px";
setTimeout(function(){var v=q.createTextRange();
var u=v.getBookmark();
q.value=q.value;
v.moveToBookmark(u);
v.collapse(true);
v.select();
},0);
}}if(o&&!this.percentHeightFirstLoad){this.percentHeightFirstLoad=o;
if(parseInt(p.style.height,10)!=this.getWrapperHeight(s)){p.style.height=this.getWrapperHeight(s)+"px";
}}if(!this.editorHeight){this.editorHeight=g;
}setTimeout(Function.createDelegate(this,function(){this.cancelResizing=false;
}),10);
},getWrapperHeight:function(f){this._wrapperBorders=this._wrapperBorders==d?this.getWrapperBordersWidth(f):this._wrapperBorders;
return f.clientHeight-this._wrapperBorders;
},getWrapperBordersWidth:function(h){var g=$telerik.getComputedStyle(h,"border-top-width")||$telerik.getComputedStyle(h,"borderTopWidth"),f=$telerik.getComputedStyle(h,"border-bottom-width")||$telerik.getComputedStyle(h,"borderBottomWidth");
g=isNaN(parseInt(g,10))?0:parseInt(g,10);
f=isNaN(parseInt(f,10))?0:parseInt(f,10);
return g+f;
},onResizeStart:function(){c.SizerLegacyIE.callBaseMethod(this,"onResizeStart");
this.editor.get_contentArea().style.height=this.lineHeight+"px";
this.setContentElementHeight();
},onResizing:function(){if(!this.cancelResizing){this.ensureMinDimentions();
this.setContentElementHeight();
}},onResizeEnd:function(){this.ensureMinDimentions();
c.SizerLegacyIE.callBaseMethod(this,"onResizeEnd");
}};
Telerik.Web.UI.Editor.UI.SizerLegacyIE.registerClass("Telerik.Web.UI.Editor.UI.SizerLegacyIE",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
(function(a,b,c,d){c.SizerLightweight=function(e){c.SizerLightweight.initializeBase(this,[e]);
this._view=e._view;
};
c.SizerLightweight.prototype={moduleToggleVisibility:function(){this.setContentElementHeight();
},onSubmitSetEditorHeight:function(){},_setContentElementHeight:function(){var i=this,j=i._view,f=i.editor,g=f.get_element(),k=g.offsetHeight,e=Math.round(k-i._calcUiHeight()),h=i._getFontSize(g);
i._setHeight(j.contentAreaContainer(),i._convertPxToEm(e,h));
i._setHeight(i.getIframe(),"100%");
},_calcUiHeight:function(){var m=this,p=m._view,h=m.editor,g=new c.DimensionsCalculator(h),n=p.toolBarContainer(),o=m._getComponentHeight(n),l=g.getComputedSizes(h.get_element(),["padding-top","padding-bottom"]),i=g.getComputedSizes(n,["margin-bottom"]),f=g.getComputedSizes(p.contentAreaContainer(),["border-top-width","border-bottom-width"]),j=m._getComponentHeight(p.modesRowContainer()),k=m._getComponentHeight(p.modulesContainer()),e=h.get_ajaxSpellCheck()?m._getComponentHeight(a(".reAjaxSpellWrapper:first",h.get_element())[0]):0;
return o+j+k+i+f+l+e;
},_getComponentHeight:function(e){return e&&$telerik.getVisible(e)?e.offsetHeight:0;
},_getFontSize:function(e){return parseFloat($telerik.getComputedStyle(e,"font-size"));
},_convertPxToEm:function(f,e){return(f/e)+"em";
},onResizeStart:function(){},onResizeEnd:function(){},onResizing:function(){this.setContentElementHeight();
},modeChanged:function(f){var e=this;
e._toggleContentElementVisibility(f);
e.setContentElementHeight();
},_toggleContentElementVisibility:function(j){var i=this,f=i.editor,k=i._view,h=j==b.EditModes.Html,g=h?f.get_contentAreaElement():f._getHtmlModeTextarea(),e=h?"none":"";
i._setCss(k.modulesContainer(),{display:e});
i._setHeight(g,0);
}};
c.SizerLightweight.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweight",c.SizerBase);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightAutoResizeHeight=function(e){c.SizerLightweightAutoResizeHeight.initializeBase(this,[e]);
};
c.SizerLightweightAutoResizeHeight.prototype={makeAutoResizeHeight:function(){var g=this,f=g.editor,e=f.get_contentArea();
g._setCss(e,{height:"auto"});
g.resizeIframeHeight(true);
g._setCss(e,{"min-height":this.contentAreaMinHeight+"px"});
},resizeIframeHeight:function(j){var k=this,h=k.editor;
if((!k.isHeightChanged()&&!j)||h.isFullScreen()){return;
}var i=h.get_element(),m=k._view,f=m.contentAreaContainer(),e=h.get_contentArea();
k._setHeight(f,"");
var g=$telerik.isIE&&!$telerik.isIE9Mode?e.scrollHeight:e.offsetHeight,l=k._calcUiHeight();
k.contentAreaMinHeight=k._getContentElementMinHeigth(l,g);
g=Math.max(k.contentAreaMinHeight,g);
k.contentHeight=g;
k.setContentAreaElementHeight();
k.setContentAreaMinHeight(e);
k._setHeight(f,g);
k._setHeight(i,l+g);
},_getContentElementMinHeigth:function(g,e){var f=this;
f.editorHeight=Math.round(f.editorHeight||a(f.editor.get_element()).height());
return Math.round(f.contentAreaMinHeight||Math.max(f.lineHeight,f.editorHeight-g));
},setContentAreaElementHeight:function(){var f=this;
var e=f.editor;
f._setHeight(e.get_contentAreaElement(),"100%");
},setContentAreaMinHeight:function(){},moduleToggleVisibility:function(){},modeChanged:function(k){var i=this;
var f=i.editor;
if(f.isFullScreen()){i.modeChangedFullScreen(k);
}else{if(k==b.EditModes.Design){i._toggleContentElementVisibility(k);
i.resizeIframeHeight(true);
}else{var h=i.getIframe();
var g=f.get_element();
var j=i._calcUiHeight();
var e=i.contentHeight||g.offsetHeight-j;
i._setHeight(h,e);
i._setHeight(g,e+j);
}}},modeChangedFullScreen:function(e){this.setContentElementHeight();
},disableAutoResizeHeight:function(){var f=this,e=f.editor;
f.setContentElementHeight();
f._setCss(e.get_contentArea(),{"min-height":"",height:""});
}};
c.SizerLightweightAutoResizeHeight.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightAutoResizeHeight",c.SizerLightweight);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightAutoResizeHeightDivMode=function(e){c.SizerLightweightAutoResizeHeightDivMode.initializeBase(this,[e]);
};
c.SizerLightweightAutoResizeHeightDivMode.prototype={makeAutoResizeHeight:function(){var e=this;
e._setHeight(e.editor.get_contentArea(),"");
c.SizerLightweightAutoResizeHeightDivMode.callBaseMethod(e,"makeAutoResizeHeight");
},modeChanged:function(g){var f=this;
var e=f.editor;
if(e.isFullScreen()){f.modeChangedFullScreen(g);
}else{if(g==b.EditModes.Design){f._setHeight(e.get_contentArea(),"");
}c.SizerLightweightAutoResizeHeightDivMode.callBaseMethod(f,"modeChanged",[g]);
}},setContentAreaMinHeight:function(e){if(!e.style.minHeight){var f=this;
f._setCss(e,{"min-height":f.contentAreaMinHeight});
}},setContentAreaElementHeight:function(){}};
c.SizerLightweightAutoResizeHeightDivMode.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightAutoResizeHeightDivMode",c.SizerLightweightAutoResizeHeight);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightEditTypeInline=function(e){c.SizerLightweightEditTypeInline.initializeBase(this,[e]);
};
c.SizerLightweightEditTypeInline.prototype={_getContentElementMinHeigth:function(f,e){return e;
},setContentAreaMinHeight:function(e){}};
c.SizerLightweightEditTypeInline.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightEditTypeInline",c.SizerLightweightAutoResizeHeightDivMode);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,c,e){var d=c.Editor.UI;
var b=c.EditModes;
d.SizerMobile=function(f){d.SizerMobile.initializeBase(this,[f]);
};
d.SizerMobile.prototype={setContentElementHeight:function(){},onResizeStart:function(){},onResizeEnd:function(){},onResizing:function(){},modeChanged:function(f){if(f===b.Design){this.setContentElementHeight();
}},moduleToggleVisibility:function(f){},onSubmitSetEditorHeight:function(){},hideDesignViewElement:function(f){},setHtmlViewElementHeight:function(f){},onRepaint:function(f){}};
d.SizerMobile.registerClass("Telerik.Web.UI.Editor.UI.SizerMobile",d.SizerBase);
})($telerik.$,Telerik.Web.UI);
(function(a,v){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI;
var h=b.Editor;
var j=function(){};
var f=Function.createDelegate;
var d=$telerik.cancelRawEvent;
var k="reTap";
var m=b.EventType;
var g=m.Down;
var p=m.Move;
var o=m.Leave;
var w=m.Up;
var e="click";
var i="RadEditorTap";
h.UI.TapEvent=function(x,y){this.element=x;
this.options=a.extend({down:j,move:j,tap:j,namespace:k,selector:v},y||{});
this.downDelegate=f(this,this._down);
this.moveDelegate=f(this,this._move);
this.upDelegate=f(this,this._up);
this.tapHandlers=[];
this._moved=false;
};
h.UI.TapEvent.prototype={init:function(){this._doEvents(true);
this.tapHandlers.push(this.options.tap);
},on:function(x){var y=this.tapHandlers;
if(y.length===0){this.init();
}if(x&&!Array.contains(y,x)){y.push(x);
}},tap:function(x){Array.forEach(this.tapHandlers,function(y){c(y,x);
});
},off:function(x){if(x===v){this.dispose();
return true;
}Array.remove(this.tapHandlers,x);
if(this.tapHandlers.length===0){this.dispose();
return true;
}},dispose:function(){this._doEvents(false);
this.element=v;
},_doEvents:function(y){var x=this.element;
var B=this.options;
var A=function(C){return q(C,B.namespace);
};
var z=y?"onEvent":"offEvent";
$telerik[z](x,A(g),B.selector,this.downDelegate);
this._detachMoveHandler();
$telerik[z](x,A(w),B.selector,this.upDelegate);
$telerik[z](x,A(e),B.selector,d);
},_attachMoveHandler:function(){this._detachMoveHandler();
var y=this.options;
var x=y.namespace;
$telerik.onEvent(this.element,q(p,x),y.selector,this.moveDelegate);
$telerik.onEvent(this.element,q(o,x),y.selector,f(this,this._cancel));
},_detachMoveHandler:function(){var x=this.options.namespace;
$telerik.offEvent(this.element,q(p,x));
$telerik.offEvent(this.element,q(o,x));
},_down:function(x){this._moved=false;
this.pos=l(x);
this._attachMoveHandler();
c(this.options.down,x);
},_move:function(y){var x=!t(this.pos,l(y));
this._moved=this._moved||x;
if(this._moved){this._cancel(y);
}},_cancel:function(x){c(this.options.move,x);
this._detachMoveHandler();
},_up:function(x){if(!this._moved){this.tap(x);
}this._moved=false;
this._detachMoveHandler();
}};
h.UI.TapEvent.registerClass("Telerik.Web.UI.Editor.UI.TapEvent");
function c(y,x){if(n(y)){y(x);
}}function s(y,z){var x=a(y);
var A=x.data(i);
if(n(z)){z={tap:z};
}if(A){A.on(z.tap);
}else{A=new h.UI.TapEvent(y,z);
A.on();
x.data(i,A);
}return A;
}function r(y,A){var x=a(y);
var B=x.data(i);
var z=!A||n(A)?A:A.tap;
if(B){if(B.off(z)){x.removeData(i);
}}}function q(x,y){return y?[x,y].join("."):x;
}function l(x){var y=$telerik.getEventLocation(x);
return u(y.pageX,y.pageY);
}function t(y,z){var x=5;
return Math.sign(y.x)===Math.sign(z.x)&&Math.sign(y.y)===Math.sign(z.y)&&Math.abs(y.x-z.x)<x&&Math.abs(y.y-z.y)<x;
}function u(z,A){return{x:z,y:A};
}function n(x){return typeof(x)==="function";
}h.UI.TapEvent.onTap=s;
h.UI.TapEvent.offTap=r;
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI,c=Telerik.Web.UI.Editor.UI.StaticToolsUI=function(){};
c.createToolWrapper=function(f,e,g){return c["createToolWrapper"+f](e,g);
};
c.createToolWrapperClassic=function(h,i){var f=h.get_enableAriaSupport();
var j=document.createElement("ul");
var g=document.createElement("li");
g.innerHTML="&nbsp;";
g.className="reGrip grip_first";
j.appendChild(g);
j.className="reToolbar "+i;
if(f){g.setAttribute("role","presentation");
}g=document.createElement("li");
j.appendChild(g);
var e=h.get_element();
g.appendChild(e);
g=document.createElement("li");
g.innerHTML="&nbsp;";
g.className="reGrip grip_last";
j.appendChild(g);
if(f){g.setAttribute("role","presentation");
j.setAttribute("role","presentation");
}return j;
};
c.createToolWrapperLightweight=function(h,i){var f=h.get_enableAriaSupport();
var j=document.createElement("ul");
j.className="reToolBar RadEditor_"+i;
if(f){j.setAttribute("role","presentation");
}var g=document.createElement("li");
j.appendChild(g);
var e=h.get_element();
g.appendChild(e);
return j;
};
c.createButton=function(e,f){c["createButton"+e](f);
};
c.createButtonClassic=function(h){var e=document.createElement("a");
e.className=h.showText==true?"reTool_text":"reTool";
var g=h.text;
e.title=g?g:h.name;
e.href="javascript:void(0);";
e.setAttribute("unselectable","on");
var f;
if(h.showIcon!=false){f=document.createElement("span");
f.className=h.name;
f.innerHTML="&nbsp;";
f.setAttribute("unselectable","on");
e.appendChild(f);
}if(h.showText==true){f=document.createElement("span");
f.className="reButton_text";
f.innerHTML=h.text?h.text:h.name;
f.setAttribute("unselectable","on");
e.appendChild(f);
}return e;
};
c.createButtonLightweight=function(e){var g=e.text||e.name,f=a("<a href='javascript:void(0);'></a>").attr({title:g,unselectable:"on"}).addClass("reTool re"+e.name);
if(e.showText==true){f.text(g).addClass("reToolText");
}if(e.showIcon!=false){f.addClass("reToolIcon");
}return f.get(0);
};
c.createTool=function(h,j,f,k,e,g){if(!k){k=b.EditorButton;
}j.rendermode=h;
if(!e){e=c["createToolUI"+h](j,k);
}var i=$create(k,j,f,null,e);
if(g&&g.appendChild){g.appendChild(e);
}return i;
};
c.createToolUIClassic=function(h,i){var f=c.createButtonClassic(h);
if(f.tagName=="A"){var e=f,g;
if(i==b.EditorSplitButton||i.inheritsFrom(b.EditorSplitButton)){Sys.UI.DomElement.addCssClass(e,"reSplitButton");
g=document.createElement("span");
g.className="split_arrow";
g.innerHTML="&nbsp;";
e.appendChild(g);
}else{if(i==b.EditorDropDown||i.inheritsFrom(b.EditorDropDown)){Sys.UI.DomElement.removeCssClass(e,"reTool");
Sys.UI.DomElement.addCssClass(e,"reDropdown");
e.innerHTML="";
g=document.createElement("span");
g.innerHTML="&nbsp;";
var j=h.width?h.width:"50px";
g.style.width=j;
e.appendChild(g);
}}}return f;
};
c.createToolUILightweight=function(g,h){var f=c.createButtonLightweight(g);
if(h==b.EditorSplitButton||h.inheritsFrom(b.EditorSplitButton)){var e=a("<span></span>").addClass("reSplitArrow").attr("unselectable","on");
a(f).append(e).addClass("reSplitButton");
}else{if(h==b.EditorDropDown||h.inheritsFrom(b.EditorDropDown)){a(f).removeClass("reTool").addClass("reDropdown").width(g.width||"50px");
}}return f;
};
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI;
var c=b.Editor.UI;
c.ToolsPopupElementRippleConfigurationsFactory={get_rippleConfigurations:function(f){var e=a(f);
if(e.hasClass("reInsertTable")){return[{containerSelector:".reTableWizard"}];
}if(e.hasClass("reColorPicker")){return[{containerSelector:".reCustomColor"}];
}if(e.hasClass("reInsertSymbol")){return null;
}return[{containerSelector:"li"}];
}};
})($telerik.$);
(function(a,g){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI;
var c=Telerik.Web.UI.Editor.UI;
var f=b.RenderMode;
var e="Mobile";
var h="View";
var d="FontName";
c.ToolsViewFactory={getView:function(i,j){var k=this.getViewName(i,j);
return new c[k](i);
},getViewName:function(l,n){var m=l.get_name();
var k=l._rendermode;
var j=k=="Mobile"||k==f.Mobile;
var o;
if(j){if(m===d){o=e+m+h;
}else{o=e+n+h;
}}else{var i=l._rendermode=="Lightweight"||l._rendermode==f.Lite||(l._attributes&&l._attributes.rendermode=="Lightweight");
o=(i?"Lightweight":"Classic")+n+"View";
}return o;
}};
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.BaseEditorButtonView=function(d){var e=this;
e.owner=d;
e.initialize();
};
b.BaseEditorButtonView.prototype={initialize:function(){var g=this,e=g.owner;
var d=e.getAnchorElement();
if(d){d.setAttribute("unselectable","on");
}var f=e.getSpanElement();
if(f){f.setAttribute("unselectable","on");
}},dispose:function(){delete this.owner;
},set_width:function(d){},get_width:function(){},set_height:function(d){},get_height:function(){},set_tooltipIncrease:function(d){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(d){},get_tooltipDecrease:function(){},enable:function(){},disable:function(){},select:function(d){},deselect:function(d){},set_text:function(d){},set_title:function(d){},updateElementsOnValueChange:function(d){this.set_text((""+d));
}};
b.BaseEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.BaseEditorButtonView");
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.BaseEditorDropDownView=function(d){b.BaseEditorDropDownView.initializeBase(this,[d]);
};
b.BaseEditorDropDownView.prototype={renderItemRoot:function(){},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(d){},renderItemContainer:function(d){},renderChild:function(d,e,f){},getItemElements:function(d){}};
b.BaseEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.BaseEditorDropDownView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorButtonView=function(d){b.ClassicEditorButtonView.initializeBase(this,[d]);
};
b.ClassicEditorButtonView.prototype={set_width:function(e){var d=this.owner.getSpanElement();
if(d){d.style.width=e;
}},get_width:function(){return this.owner.get_element().offsetWidth;
},set_height:function(e){var d=this.owner.getSpanElement();
if(d){d.style.height=e;
}},get_height:function(){return this.owner.get_element().offsetHeight;
},set_tooltipIncrease:function(e){var d=this.owner.getAnchorElement();
if(d&&e){d.getElementsByTagName("A")[0].title=e;
}},get_tooltipIncrease:function(){var d=this.owner.getAnchorElement();
if(d){return d.getElementsByTagName("A")[0].title;
}},set_tooltipDecrease:function(e){var d=this.owner.getAnchorElement();
if(d&&e){d.getElementsByTagName("A")[1].title=e;
}},get_tooltipDecrease:function(){var d=this.owner.getAnchorElement();
if(d){return d.getElementsByTagName("A")[1].title;
}},enable:function(){var d=this.owner.getAnchorElement();
var e=this.owner.get_enableAriaSupport();
this._removeAnchorCssClass("reTool_disabled");
d.removeAttribute("disabled");
if(e){d.removeAttribute("aria-disabled");
}},disable:function(){var d=this.owner.getAnchorElement();
var e=this.owner.get_enableAriaSupport();
this._addAnchorCssClass("reTool_disabled");
d.setAttribute("disabled","disabled");
if(e){d.setAttribute("aria-disabled","true");
}},select:function(f){var g=this.owner.get_enableAriaSupport();
var d=this.owner.getAnchorElement();
var e=f?f:"aria-pressed";
this._addAnchorCssClass("reTool_selected");
if(d&&g){d.setAttribute(e,"true");
}},deselect:function(f){var g=this.owner.get_enableAriaSupport();
var d=this.owner.getAnchorElement();
var e=f?f:"aria-pressed";
this._removeAnchorCssClass("reTool_selected");
if(d&&g){d.removeAttribute(e);
}},set_text:function(d){this.owner.getSpanElement().innerHTML=d.replace(/\s+/ig,"&nbsp;");
},_addAnchorCssClass:function(d){Sys.UI.DomElement.addCssClass(this.owner.getAnchorElement(),d);
},_removeAnchorCssClass:function(d){Sys.UI.DomElement.removeCssClass(this.owner.getAnchorElement(),d);
}};
b.ClassicEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorButtonView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorDropDownView=function(d){b.ClassicEditorDropDownView.initializeBase(this,[d]);
};
b.ClassicEditorDropDownView.prototype={renderItemRoot:function(){var d=document.createElement("table");
d.border=0;
d.cellPadding=0;
d.setAttribute("unselectable","on");
d.style.cursor="default";
if(this.owner.get_enableAriaSupport()){d.setAttribute("role","presentation");
}return d;
},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(d){return d.insertRow(-1);
},renderItemContainer:function(f){var e=f.rows[f.rows.length-1];
var d=e.insertCell(-1);
return d;
},renderChildren:function(){var g=this.owner;
for(var d=0;
d<g._items.length;
d++){var h=false;
var e=g._items[d];
h=0==(d%g.get_itemsperrow());
if(h){g.renderNewRow();
}var f=g.renderItemContainer(e);
g.markItemContainer(f,d);
g.renderChild(f,e,d);
}},renderChild:function(d,e,f){var g=document.createElement("span");
if(e){var j=null;
var h=null;
if(e instanceof Array){j=e[1];
h=e[2];
}else{j=e;
}if(h){var i=document.createElement("span");
i.innerHTML="&nbsp;";
i.className=h;
g.appendChild(i);
}if(j){g.innerHTML+=j;
g.noWrap=true;
}}d.innerHTML=g.innerHTML;
},getItemElements:function(d){return d.getElementsByTagName("TD");
}};
b.ClassicEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorDropDownView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorUpdateableDropDownView=function(d){b.ClassicEditorUpdateableDropDownView.initializeBase(this,[d]);
};
b.ClassicEditorUpdateableDropDownView.prototype={};
b.ClassicEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorUpdateableDropDownView",b.ClassicEditorDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSelfUpdateableDropDownView=function(d){b.ClassicEditorSelfUpdateableDropDownView.initializeBase(this,[d]);
};
b.ClassicEditorSelfUpdateableDropDownView.prototype={};
b.ClassicEditorSelfUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSelfUpdateableDropDownView",b.ClassicEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSplitButtonView=function(d){b.ClassicEditorSplitButtonView.initializeBase(this,[d]);
};
b.ClassicEditorSplitButtonView.prototype={getSplitArrow:function(){var e=this.owner.getAnchorElement().getElementsByTagName("SPAN");
var d=e[e.length-1];
return d;
},getText:function(){},updateText:function(){}};
b.ClassicEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSplitButtonView",b.ClassicEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorToolStripView=function(d){b.ClassicEditorToolStripView.initializeBase(this,[d]);
};
b.ClassicEditorToolStripView.prototype={renderItemRoot:function(){var d=document.createElement("div");
d.className="reTlbVertical";
d.style.cssFloat="left";
d.style.width="100%";
return d;
},renderChildren:function(){var m=this.owner.get_tools();
var n=document.createElement("ul");
n.setAttribute("onmousedown","return false;");
n.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(n);
for(var f=0;
f<m.length;
f++){if(this._shouldRenderNewRow(f)){n=this.renderNewRow(n);
}var l=m[f];
if(null==l.showText){l.showText=true;
}var h=document.createElement("li");
n.appendChild(h);
var k=b.StaticToolsUI.createTool(this._renderMode,l,null,null,null,h);
var e=this.owner.get_enableAriaSupport();
if(e){var d=k.getAnchorElement();
if(d){k.set_enableAriaSupport(e,"option");
d.setAttribute("aria-posinset",f+1);
var g=this.owner._popupBehavior.get_id()+"_"+l.name;
h.setAttribute("role","presentation");
d.setAttribute("id",g);
var j=$telerik.getChildByClassName(d,"reButton_text");
if(j){j.setAttribute("id",g+"_text");
d.setAttribute("aria-describedby",j.id);
}}n.setAttribute("role","presentation");
}this.owner._items[this.owner._items.length]=k;
}},_getChildrenWrapperClass:function(){return"reToolbar "+this.owner.get_skin();
},_shouldRenderNewRow:function(d){var e=this.owner.get_itemsperrow();
return e>1&&d>1&&(d%e==0);
},renderNewRow:function(d){var e=document.createElement("ul");
e.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(e);
return e;
},_updateHeader:function(){var g=this.owner,j=g.get_selectedItem();
if(!j||!j.getSpanElement){return;
}var i=j.getSpanElement();
if(i){var f=i.cloneNode(true);
var e=g.getSpanElement();
var h=e.parentNode;
h.replaceChild(f,e);
var d=j.getAnchorElement();
if(d){h.setAttribute("title",d.getAttribute("title"));
}}},_renderMode:"Classic"};
b.ClassicEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorToolStripView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicAlignmentSelectorView=function(d){b.ClassicAlignmentSelectorView.initializeBase(this,[d]);
this._alignmentClassName=["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"];
};
b.ClassicAlignmentSelectorView.prototype={renderItemRoot:function(){var d=document.createElement("table");
d.border=0;
d.cellPadding=0;
d.setAttribute("unselectable","on");
d.style.cursor="default";
if(this.owner.get_enableAriaSupport()){d.setAttribute("role","presentation");
}return d;
},renderNewRow:function(d){return d.insertRow(-1);
},renderItemContainer:function(f){var e=f.rows[f.rows.length-1];
if(!e){e=this.renderNewRow(f);
}var d=e.insertCell(-1);
return d;
},renderChild:function(d,e,f){var g=document.createElement("div");
if(e){g.innerHTML="&nbsp;";
g.className=this._alignmentClassName[f];
}d.appendChild(g);
},getItemElements:function(d){return d.getElementsByTagName("TD");
},getSplitArrow:function(){var e=this.owner.getAnchorElement().getElementsByTagName("SPAN");
var d=e[e.length-1];
return d;
},decorate:function(d){var e=this.owner.getSpanElement();
e.className=d;
}};
b.ClassicAlignmentSelectorView.registerClass("Telerik.Web.UI.Editor.UI.ClassicAlignmentSelectorView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicApplyClassDropDownView=function(d){b.ClassicApplyClassDropDownView.initializeBase(this,[d]);
};
b.ClassicApplyClassDropDownView.prototype={renderChild:function(d,f){var l=this.owner;
var i=f[1];
if(i){var j=l._getClassTag(i);
var h=l._getClassCss(i);
var k=f[2]?f[2]:l._getDisplayName(i);
d.setAttribute("title",i.selectorText);
var e=l._getClassIcon(j);
d.appendChild(e);
var g=this._getChild(h,j,k);
d.appendChild(g);
}},_getChild:function(f,e,d){var g=document.createElement("div");
if(e.toLowerCase()=="a"){g=document.createElement("a");
g.href="#";
g.onmouseover="window.status = ''; return false;";
g.onclick=function(){return false;
};
g.style.cursor="default";
}if(null!=g.style.cssText){g.style.cssText=f;
}g.setAttribute("style",f);
g.innerHTML=d;
var h=g.style;
h.visibility="visible";
h.marginLeft="0px";
h.overflowX="hidden";
h.clear="none";
h.position="";
h.cssFloat="";
h.styleFloat="";
h.width="";
return g;
}};
b.ClassicApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicApplyClassDropDownView",b.ClassicEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicColorPickerView=function(d){b.ClassicColorPickerView.initializeBase(this,[d]);
};
b.ClassicColorPickerView.prototype={decorate:function(f){var d=this.owner.getSpanElement();
d.style.borderBottom="0px";
d.style.height="";
if(f){var h=d.offsetHeight;
if(h){d.style.height=(h-3)+"px";
}try{d.style.borderBottom="3px solid "+f;
}catch(g){}}},get_addCustomColorElement:function(){return null;
},get_currentColorWrapperElement:function(){return null;
},get_clearColorElement:function(){return null;
}};
b.ClassicColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.ClassicColorPickerView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorCheckBoxView=function(d){b.ClassicEditorCheckBoxView.initializeBase(this,[d]);
};
b.ClassicEditorCheckBoxView.prototype={};
b.ClassicEditorCheckBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorCheckBoxView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorContextMenuView=function(d){b.ClassicEditorContextMenuView.initializeBase(this,[d]);
};
b.ClassicEditorContextMenuView.prototype={};
b.ClassicEditorContextMenuView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorContextMenuView",b.ClassicEditorToolStripView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSpellSuggestionBoxView=function(d){b.ClassicEditorSpellSuggestionBoxView.initializeBase(this,[d]);
};
b.ClassicEditorSpellSuggestionBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSpellSuggestionBoxView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSpinBoxView=function(d){b.ClassicEditorSpinBoxView.initializeBase(this,[d]);
};
b.ClassicEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(d){var f=null;
if(!d){f=window.event.srcElement;
}else{f=d.target;
}while(f&&f.tagName.toLowerCase()!="a"){f=f.parentNode;
}return f;
},_createUI:function(){var k=this.owner;
var j=document.createElement("table");
j.cellSpacing=0;
j.cellPadding=0;
j.className=k.get_visibleInput()?k._className:"reTableWizardSpinBox";
j.insertRow(-1);
var g=j.rows[0].insertCell(-1);
var f=document.createElement("input");
f.className="radfd_skipme radPreventDecorate";
f.type="text";
f.onclick=function(l){f.focus();
};
f.onkeypress=Function.createDelegate(k,k._onKeyPressHandler);
f.onchange=Function.createDelegate(k,k._onChangeHandler);
k._inputElement=f;
g.appendChild(f);
if(!k.get_visibleInput()){k.set_visibleInput(false);
}var d;
if(k.get_visibleInput()){g=j.rows[0].insertCell(-1);
var i=document.createElement("table");
i.cellSpacing=0;
i.cellPadding=0;
i.insertRow(-1);
var h=i.rows[0].insertCell(-1);
d=this._createAnchorElement("Increase");
k._increaseButton=d;
h.appendChild(d);
i.insertRow(-1);
h=i.rows[1].insertCell(-1);
d=this._createAnchorElement("Decrease");
k._decreaseButton=d;
h.appendChild(d);
g.appendChild(i);
}else{g=j.rows[0].insertCell(-1);
d=this._createAnchorElement_noinput("Increase");
k._increaseButton=d;
g.appendChild(d);
g=j.rows[0].insertCell(-1);
d=this._createAnchorElement_noinput("Decrease");
k._decreaseButton=d;
g.appendChild(d);
}var e=k.get_element();
e.appendChild(j);
e.style.width=k.get_width();
},_createAnchorElement:function(g){var d=document.createElement("a");
var e=window.localization;
var f=typeof(e)!="undefined"&&e[g]?e[g]:g;
d.title=f;
d.href="javascript:void(0);";
d.innerHTML=f;
d.className="reSpinBox"+g;
d.onclick=Function.createDelegate(this.owner,this.owner._onPlusMinusClickHandler);
return d;
},_createAnchorElement_noinput:function(g){var d=document.createElement("a");
var e=window.localization;
var f=typeof(e)!="undefined"&&e[g]?e[g]:g;
d.title=f;
d.href="javascript:void(0);";
d.innerHTML="<span class='reTableWizardSpinBox_"+g+"'>"+f+"</span>";
d.onclick=Function.createDelegate(this.owner,this.owner._onPlusMinusClickHandler);
return d;
}};
b.ClassicEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorTextBoxView=function(d){b.ClassicEditorTextBoxView.initializeBase(this,[d]);
};
b.ClassicEditorTextBoxView.prototype={};
b.ClassicEditorTextBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorTextBoxView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicImageDialogCallerView=function(d){b.ClassicImageDialogCallerView.initializeBase(this,[d]);
};
b.ClassicImageDialogCallerView.prototype={};
b.ClassicImageDialogCallerView.registerClass("Telerik.Web.UI.Editor.UI.ClassicImageDialogCallerView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicInsertCustomLinkDropDownView=function(d){var e=this;
b.ClassicInsertCustomLinkDropDownView.initializeBase(e,[d]);
e._emptyIcon="reIcon_empty";
e._expandIcon="reIcon_plus";
e._collapseIcon="reIcon_minus";
e._linkCounter=0;
};
b.ClassicInsertCustomLinkDropDownView.prototype={renderItemRoot:function(){var d=document.createElement("ul");
d.className="reCustomLinks";
this._itemRootElement=d;
return this._itemRootElement;
},renderNewRow:function(d){},renderHeader:function(){},renderFooter:function(){},renderItemContainer:function(e){var d=document.createElement("li");
e.appendChild(d);
return d;
},renderChild:function(e,f,j){e.item_index=c;
var p=this;
var k=p._linkCounter;
p._linkCounter++;
p.owner.FlatLinksArray[k]=f;
var g=f.childLinks&&f.childLinks.length;
var m=document.createElement("span");
m.innerHTML="&nbsp;";
m.className="reCustomLinksIcon ";
m.className+=g?p._expandIcon:p._emptyIcon;
if(g){$addHandler(m,"click",function(r){var s=Sys.UI.DomElement.containsCssClass(this,p._expandIcon);
var t=this.parentNode.getElementsByTagName("UL")[0];
if(t){t.style.display=s?"":"none";
var q=s?p._expandIcon:p._collapseIcon;
var i=s?p._collapseIcon:p._expandIcon;
Sys.UI.DomElement.removeCssClass(this,q);
Sys.UI.DomElement.addCssClass(this,i);
}return $telerik.cancelRawEvent(r);
});
}e.appendChild(m);
var l=null;
if(f.href){l=document.createElement("a");
l.href="#";
l.innerHTML=f.name;
e.appendChild(l);
this.owner.markItemContainer(l,k);
}else{l=document.createElement("span");
l.innerHTML=f.name;
e.appendChild(l);
}if(g){var o=document.createElement("ul");
e.appendChild(o);
var d=f.childLinks;
for(var h=0;
h<f.childLinks.length;
h++){var n=d[h];
this.renderChild(p.renderItemContainer(o),n);
}o.style.display="none";
}},getItemElements:function(d){return null;
}};
b.ClassicInsertCustomLinkDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicInsertCustomLinkDropDownView",b.ClassicEditorDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorButtonView=function(d){Telerik.Web.UI.Editor.UI.LightweightEditorButtonView.initializeBase(this,[d]);
};
b.LightweightEditorButtonView.prototype={set_width:function(d){$telerik.$(this.owner.get_element()).width(d);
},get_width:function(){return $telerik.$(this.owner.get_element()).width();
},set_height:function(d){$telerik.$(this.owner.get_element()).height(d);
},get_height:function(){return $telerik.$(this.owner.get_element()).width();
},set_tooltipIncrease:function(d){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(d){},get_tooltipDecrease:function(){},enable:function(){$telerik.$(this.owner.get_element()).removeClass("reToolDisabled").removeAttr("disabled");
if(this.owner.get_enableAriaSupport()){$telerik.$(this.owner.get_element()).removeAttr("aria-disabled");
}},disable:function(){$telerik.$(this.owner.get_element()).addClass("reToolDisabled").attr("disabled","disabled");
if(this.owner.get_enableAriaSupport()){$telerik.$(this.owner.get_element()).attr("aria-disabled",true);
}},select:function(d){$telerik.$(this.owner.get_element()).addClass("reToolSelected").attr(d||"aria-pressed","true");
},deselect:function(d){$telerik.$(this.owner.get_element()).removeClass("reToolSelected").removeAttr(d||"aria-pressed");
},set_text:function(h){var g,f,e=this.owner.get_element(),d=e.childNodes;
if(d.length>0){for(f in d){g=d[f];
if(g.nodeType===3){g.nodeValue=h;
}}}else{e.innerHTML=h;
}},set_title:function(e){var d=this.owner.get_element();
d.title=e;
}};
b.LightweightEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorButtonView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorDropDownView=function(d){b.LightweightEditorDropDownView.initializeBase(this,[d]);
};
b.LightweightEditorDropDownView.prototype={renderItemRoot:function(){var d=a("<ul></ul>").css("cursor","default").attr("unselectable","on");
if(this.owner.get_enableAriaSupport()){d.attr("role","presentation");
}return d.get(0);
},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(d){var e=a("<li class='reClear'></li>");
a(d).append(e);
return e.get(0);
},renderItemContainer:function(e){var d=a("<li></li>");
a(e).append(d);
return d.get(0);
},renderChildren:function(){var g=this.owner;
for(var d=0;
d<g._items.length;
d++){var h=false;
var e=g._items[d];
h=g.get_itemsperrow()==1||(d>1&&0==(d%g.get_itemsperrow()));
if(h){g.renderNewRow();
}var f=g.renderItemContainer(e);
g.markItemContainer(f,d);
g.renderChild(f,e,d);
}g.renderNewRow();
},renderChild:function(d,e,g){var h,f;
if(e instanceof Array){h=e[1];
f=e[2];
}else{h=e;
}if(f){a(d).addClass("reToolIcon re"+f);
}a(d).html(h);
},getItemElements:function(d){return d.getElementsByTagName("LI");
}};
b.LightweightEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorDropDownView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorUpdateableDropDownView=function(d){b.LightweightEditorUpdateableDropDownView.initializeBase(this,[d]);
};
b.LightweightEditorUpdateableDropDownView.prototype={};
b.LightweightEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorUpdateableDropDownView",b.LightweightEditorDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSelfUpdateableDropDownView=function(d){b.LightweightEditorSelfUpdateableDropDownView.initializeBase(this,[d]);
};
b.LightweightEditorSelfUpdateableDropDownView.prototype={};
b.LightweightEditorSelfUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSelfUpdateableDropDownView",b.LightweightEditorUpdateableDropDownView);
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var c="reToolText";
b.LightweightEditorSplitButtonView=function(e){b.LightweightEditorSplitButtonView.initializeBase(this,[e]);
};
b.LightweightEditorSplitButtonView.prototype={getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
},getText:function(){var e=this.getSplitArrow();
return e.previousSibling;
},updateText:function(g){var h=this.getText();
if(h){h.nodeValue=g;
}else{var e=this.getSplitArrow();
var f=e.parentNode;
h=e.ownerDocument.createTextNode(g);
f.insertBefore(h,e);
Sys.UI.DomElement.addCssClass(f,c);
}}};
b.LightweightEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSplitButtonView",b.LightweightEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorToolStripView=function(d){b.LightweightEditorToolStripView.initializeBase(this,[d]);
};
b.LightweightEditorToolStripView.prototype={renderItemRoot:function(){var d=document.createElement("div");
d.className="reTlbVertical";
d.style.cssFloat="left";
d.style.width="100%";
return d;
},renderChildren:function(){var m=this.owner.get_tools();
var n=document.createElement("ul");
n.setAttribute("onmousedown","return false;");
n.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(n);
for(var f=0;
f<m.length;
f++){if(this._shouldRenderNewRow(f)){n=this.renderNewRow(n);
}var l=m[f];
if(null==l.showText){l.showText=true;
}var h=document.createElement("li");
n.appendChild(h);
var k=b.StaticToolsUI.createTool(this._renderMode,l,null,null,null,h);
var e=this.owner.get_enableAriaSupport();
if(e){var d=k.getAnchorElement();
if(d){k.set_enableAriaSupport(e,"option");
d.setAttribute("aria-posinset",f+1);
var g=this.owner._popupBehavior.get_id()+"_"+l.name;
h.setAttribute("role","presentation");
d.setAttribute("id",g);
var j=$telerik.getChildByClassName(d,"reButton_text");
if(j){j.setAttribute("id",g+"_text");
d.setAttribute("aria-describedby",j.id);
}}n.setAttribute("role","presentation");
}this.owner._items[this.owner._items.length]=k;
}},_getChildrenWrapperClass:function(){return"reToolBar RadEditor_"+this.owner.get_skin();
},_shouldRenderNewRow:function(d){var e=this.owner.get_itemsperrow();
return e==0||(d>0&&0==(d%e));
},renderNewRow:function(d){b.LightweightEditorToolStripView.callBaseMethod(this,"renderNewRow",[d]);
return d;
},_clearHeader:function(){var e=this.owner,d=e.get_element(),f=e.get_selectedItem();
if(f){a(d).removeClass("re"+f.get_name());
}else{a(d).removeClass("re"+e.get_name());
}},_updateHeader:function(){var d=this.owner,e=d.get_selectedItem();
if(e){a(d.get_element()).addClass("re"+e.get_name());
}},_renderMode:"Lightweight"};
b.LightweightEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorToolStripView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightAlignmentSelectorView=function(d){b.LightweightAlignmentSelectorView.initializeBase(this,[d]);
this._alignmentClassName=["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"];
};
b.LightweightAlignmentSelectorView.prototype={renderItemRoot:function(){var d=document.createElement("table");
d.border=0;
d.cellPadding=0;
d.setAttribute("unselectable","on");
d.style.cursor="default";
if(this.owner.get_enableAriaSupport()){d.setAttribute("role","presentation");
}return d;
},renderNewRow:function(d){return d.insertRow(-1);
},renderItemContainer:function(f){var e=f.rows[f.rows.length-1];
if(!e){e=this.renderNewRow(f);
}var d=e.insertCell(-1);
return d;
},renderChild:function(d,e,f){var g=document.createElement("div");
if(e){g.innerHTML="&nbsp;";
g.className=this._alignmentClassName[f];
}d.appendChild(g);
},getItemElements:function(d){return d.getElementsByTagName("TD");
},getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
},decorate:function(d){a(this.owner.get_element()).removeClass("reNoAlignment reTopLeft reTopCenter reTopRight reMiddleLeft reMiddleCenter reMiddleRight reBottomLeft reBottomCenter reBottomRight").addClass(d);
}};
b.LightweightAlignmentSelectorView.registerClass("Telerik.Web.UI.Editor.UI.LightweightAlignmentSelectorView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightApplyClassDropDownView=function(d){b.LightweightApplyClassDropDownView.initializeBase(this,[d]);
};
b.LightweightApplyClassDropDownView.prototype={renderChild:function(j,e){var f=this.owner;
var g=e[1];
var h;
if(g){if(e[0]){h=f._getClassTag(g);
h=h?h.charAt(0).toUpperCase()+h.substring(1):"All";
}else{h="Clear";
}var d=f._getClassCss(g);
var i=e[2]?e[2]:f._getDisplayName(g);
j.appendChild(this._getChild(d,h,i));
j.setAttribute("title",g.selectorText);
}},_getChild:function(e,i,f){var d="reRulePreview";
var h=(i.toLowerCase()=="a")?'<a class="'+d+'" href="#" unselectable="on" title="'+f+'" />':'<span class="'+d+'" />';
var g=a(h).html(f).css("cssText",e).css({visibility:"visible",marginLeft:"0px",overflowX:"hidden",clear:"none",position:"",cssFloat:"",styleFloat:"",width:"",cursor:"default"});
return a('<span class="reRuleIcon reIcon'+i+'" />').append(g).get(0);
}};
b.LightweightApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightApplyClassDropDownView",b.LightweightEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightColorPickerView=function(d){b.LightweightColorPickerView.initializeBase(this,[d]);
};
b.LightweightColorPickerView.prototype={decorate:function(d){var h=a("head").find("style#re"+this.owner.get_name()+"StyleHolder");
if(!h.get(0)){h=a("<style></style>").attr("id","re"+this.owner.get_name()+"StyleHolder");
a("head").append(h);
}var f="";
if(d){f="a.reToolIcon.reTool.re"+this.owner.get_name()+":before{color:"+d+";}";
}try{h.text(f);
}catch(g){h.prop("styleSheet").cssText=f;
}},get_addCustomColorElement:function(){return null;
},get_currentColorWrapperElement:function(){return null;
},get_clearColorElement:function(){return null;
}};
b.LightweightColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.LightweightColorPickerView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorCheckBoxView=function(d){b.LightweightEditorCheckBoxView.initializeBase(this,[d]);
};
b.LightweightEditorCheckBoxView.prototype={};
b.LightweightEditorCheckBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorCheckBoxView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorContextMenuView=function(d){b.LightweightEditorContextMenuView.initializeBase(this,[d]);
};
b.LightweightEditorContextMenuView.prototype={};
b.LightweightEditorContextMenuView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorContextMenuView",b.LightweightEditorToolStripView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSpellSuggestionBoxView=function(d){b.LightweightEditorSpellSuggestionBoxView.initializeBase(this,[d]);
};
b.LightweightEditorSpellSuggestionBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSpellSuggestionBoxView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSpinBoxView=function(d){b.LightweightEditorSpinBoxView.initializeBase(this,[d]);
};
b.LightweightEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(d){var f=d.target||window.event.target;
if(a(f).hasClass("reSpinBoxIncrease")||a(f).hasClass("reSpinBoxDecrease")){return f;
}return null;
},_createUI:function(){var g=this.owner,e=g.get_element();
var i=document.createElement("div");
a(i).addClass("reSpinBox");
var f=document.createElement("input");
g._inputElement=f;
f.className="radfd_skipme radPreventDecorate";
f.type="text";
f.onclick=function(j){f.focus();
};
f.onkeypress=Function.createDelegate(g,g._onKeyPressHandler);
f.onchange=Function.createDelegate(g,g._onChangeHandler);
i.appendChild(f);
if(!g.get_visibleInput()){g.set_visibleInput(false);
}if(g.get_visibleInput()){var h=document.createElement("div");
a(h).addClass("reSpinBoxButtons");
i.appendChild(h);
g._increaseButton=document.createElement("span");
a(g._increaseButton).addClass("reSpinBoxIncrease");
g._increaseButton.onclick=Function.createDelegate(g,g._onPlusMinusClickHandler);
h.appendChild(g._increaseButton);
g._decreaseButton=document.createElement("span");
a(g._decreaseButton).addClass("reSpinBoxDecrease");
g._decreaseButton.onclick=Function.createDelegate(g,g._onPlusMinusClickHandler);
h.appendChild(g._decreaseButton);
}else{var d=this._createAnchorElement("Increase");
g._increaseButton=d;
i.appendChild(d);
d=this._createAnchorElement("Decrease");
g._decreaseButton=d;
i.appendChild(d);
a(i).addClass("reSpinBoxHiddenInput");
}e.appendChild(i);
},_createAnchorElement:function(g){var f=this.owner;
var d=document.createElement("a");
var e=window.localization;
d.title=e&&e[g]?e[g]:g;
d.href="#";
d.className="reTool reToolIcon reSpinBox"+g;
a(d).on("click",Function.createDelegate(f,f._onPlusMinusClickHandler));
return d;
}};
b.LightweightEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorTextBoxView=function(d){b.LightweightEditorTextBoxView.initializeBase(this,[d]);
};
b.LightweightEditorTextBoxView.prototype={};
b.LightweightEditorTextBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorTextBoxView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightImageDialogCallerView=function(d){b.LightweightImageDialogCallerView.initializeBase(this,[d]);
};
b.LightweightImageDialogCallerView.prototype={};
b.LightweightImageDialogCallerView.registerClass("Telerik.Web.UI.Editor.UI.LightweightImageDialogCallerView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightInsertCustomLinkDropDownView=function(d){var e=this;
b.LightweightInsertCustomLinkDropDownView.initializeBase(e,[d]);
e._emptyIcon="reIconEmpty";
e._expandIcon="reIconAdd";
e._collapseIcon="reIconRemove";
e._linkCounter=0;
};
b.LightweightInsertCustomLinkDropDownView.prototype={renderItemRoot:function(){var d=document.createElement("ul");
d.className="reCustomLinks";
this._itemRootElement=d;
return this._itemRootElement;
},renderNewRow:function(d){},renderHeader:function(){},renderFooter:function(){},renderItemContainer:function(e){var d=document.createElement("li");
e.appendChild(d);
return d;
},renderChild:function(e,f,j){if("item_index" in e){delete e.item_index;
}var p=this;
var k=p._linkCounter;
p._linkCounter++;
p.owner.FlatLinksArray[k]=f;
var g=f.childLinks&&f.childLinks.length;
var m=document.createElement("span");
m.innerHTML="&nbsp;";
m.className="reCustomLinksIcon ";
m.className+=g?p._expandIcon:p._emptyIcon;
if(g){$addHandler(m,"click",function(r){var s=Sys.UI.DomElement.containsCssClass(this,p._expandIcon);
var t=this.parentNode.getElementsByTagName("UL")[0];
if(t){t.style.display=s?"":"none";
var q=s?p._expandIcon:p._collapseIcon;
var i=s?p._collapseIcon:p._expandIcon;
Sys.UI.DomElement.removeCssClass(this,q);
Sys.UI.DomElement.addCssClass(this,i);
}return $telerik.cancelRawEvent(r);
});
}e.appendChild(m);
var l=null;
if(f.href){l=document.createElement("a");
l.href="#";
l.innerHTML=f.name;
e.appendChild(l);
this.owner.markItemContainer(l,k);
}else{l=document.createElement("span");
l.innerHTML=f.name;
e.appendChild(l);
}if(g){var o=document.createElement("ul");
e.appendChild(o);
var d=f.childLinks;
for(var h=0;
h<f.childLinks.length;
h++){var n=d[h];
this.renderChild(p.renderItemContainer(o),n);
}o.style.display="none";
}},getItemElements:function(d){return null;
}};
b.LightweightInsertCustomLinkDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightInsertCustomLinkDropDownView",b.LightweightEditorDropDownView);
})($telerik.$);
(function(a,i){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI,g="reToolDisabled",h="reToolText",f="reButtonSelected",e="disabled",c="aria-disabled",d="aria-pressed";
b.MobileEditorButtonView=function(j){Telerik.Web.UI.Editor.UI.MobileEditorButtonView.initializeBase(this,[j]);
};
b.MobileEditorButtonView.prototype={set_width:function(j){},get_width:function(){return a(this.owner.get_element()).width();
},set_height:function(j){},get_height:function(){return a(this.owner.get_element()).width();
},set_tooltipIncrease:function(j){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(j){},get_tooltipDecrease:function(){},enable:function(){a(this.owner.get_element()).removeClass(g).removeAttr(e);
if(this.owner.get_enableAriaSupport()){a(this.owner.get_element()).removeAttr(c);
}},disable:function(){a(this.owner.get_element()).addClass(g).attr(e,e);
if(this.owner.get_enableAriaSupport()){a(this.owner.get_element()).attr(c,true);
}},select:function(j){a(this.owner.get_element()).addClass(f).attr(j||d,"true");
},deselect:function(j){a(this.owner.get_element()).removeClass(f).removeAttr(j||d);
},set_text:function(l){var j=this.owner.get_element();
var k=a("."+h,j);
if(k.length>0){k.html(l);
}else{a('<span class="'+h+'">'+l+"</span>").appendTo(j);
}}};
b.MobileEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorButtonView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,h){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var f="role";
var e="presentation";
var i="unselectable";
var d="on";
var g="<ul/>";
var c="reToolList reToolDropDown";
b.MobileEditorDropDownView=function(j){b.MobileEditorDropDownView.initializeBase(this,[j]);
};
b.MobileEditorDropDownView.prototype={renderItemRoot:function(){var k=this;
var j=a(g).addClass(c).attr(i,d);
if(k.owner.get_enableAriaSupport()){j.attr(f,e);
}return j.get(0);
},renderNewRow:function(j){}};
b.MobileEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorDropDownView",b.LightweightEditorDropDownView);
})($telerik.$);
(function(a,i){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var d=".reToolValue";
var f='<span class="reIcon reIconSelected"></span>';
var g=".reIcon.reIconSelected";
var e="li";
var c="";
var h=/'/g;
b.MobileEditorUpdateableDropDownView=function(j){b.MobileEditorUpdateableDropDownView.initializeBase(this,[j]);
};
b.MobileEditorUpdateableDropDownView.prototype={getItemValueElement:function(){return a(this.owner.get_element()).find(d).get(0);
},updateElementsOnValueChange:function(j){var k=this;
a(k.getItemValueElement()).text(j.replace(h,c));
k._markSelectedItem();
},_markSelectedItem:function(){var m=this;
var j=m.owner;
var k=j.get_popupElement();
var l=null;
a(k).find(g).remove();
l=a(k).find(e).get(j._selectedIndex);
a(l).prepend(f);
}};
b.MobileEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorUpdateableDropDownView",b.MobileEditorDropDownView);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var e=/'/g;
var c="";
var d="font-family";
b.MobileFontNameView=function(g){b.MobileFontNameView.initializeBase(this,[g]);
};
b.MobileFontNameView.prototype={updateElementsOnValueChange:function(g){var h=this;
a(h.getItemValueElement()).css(d,g).text(g.replace(e,c));
h._markSelectedItem();
}};
b.MobileFontNameView.registerClass("Telerik.Web.UI.Editor.UI.MobileFontNameView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.MobileEditorSplitButtonView=function(d){b.MobileEditorSplitButtonView.initializeBase(this,[d]);
};
b.MobileEditorSplitButtonView.prototype={getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
}};
b.MobileEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorSplitButtonView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var c=Telerik.Web.UI;
var b=c.Editor;
var d=b.UI;
var e=c.EditorToolType;
d.MobileEditorToolStripView=function(g){d.MobileEditorToolStripView.initializeBase(this,[g]);
};
d.MobileEditorToolStripView.prototype={getSplitArrow:function(){},renderChildren:function(){var i=this;
var h=i.owner;
var l=h._itemRootElement;
var k=h.get_tools();
var g=h.get_items();
var j=new b.ToolFactory();
Array.forEach(k,function(m){m._rendermode="Mobile";
m.type=e.Button;
g.push(j.createTool(m,i._appendTool(l,m)));
});
},_appendTool:function(h,g){var i=h.ownerDocument;
var l=i.createElement("li");
var j=i.createElement("span");
j.className="reIcon reIcon"+g.name;
var k=i.createElement("span");
k.className="reToolText";
k.innerHTML=g.text;
h.appendChild(l);
l.appendChild(j);
l.appendChild(k);
return l;
}};
d.MobileEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorToolStripView",d.MobileEditorSplitButtonView);
})($telerik.$);
(function(a,r){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI,o="li",i="reFirstItem",n="reLastItem",p="reSelectedColor",q="."+p,l=".reIcon:first",g=".reCurrentColor",f=".reCurrentColorHex",e=".reClearButton",c=".reAddCustomColor",h=".reCurrentColorWrapper",d=".reClearButton",m='<li style="width: # width #; background-color: # bgcolor #;"></li>',j='<span title="# text #" role="button" class="reButton reAddCustomColor"># text #</span>',k='<div class="reColorPickerHeader">	<span role="button" title="# clear #" class="reButton reClearButton" style="display: none;">		<span class="reIcon reIconClearButton"></span>	</span>	<span class="reCurrentColorWrapper">		<span style="background-color: # currentValue #;" class="reCurrentColor"></span>		<span class="reCurrentColorHex"># currentValueText #</span>	</span></div>';
b.MobileColorPickerView=function(s){b.MobileColorPickerView.initializeBase(this,[s]);
this._renderedItems=0;
};
b.MobileColorPickerView.prototype={renderChildren:function(){var x=this,v=x.owner;
for(var s=0;
s<v._items.length;
s++){var w=false;
var t=v._items[s];
w=v.get_itemsperrow()==1||(s>1&&0==(s%v.get_itemsperrow()));
if(w){v.renderNewRow();
}var u=v.renderItemContainer(t);
v.markItemContainer(u,s);
v.renderChild(u,t,s);
if(!t){a(u).hide();
x._showClearColorButton();
x.owner._clearColorItemIndex=s;
}}v.renderNewRow();
},renderItemContainer:function(u,t){var v=parseFloat(100/this.owner.get_itemsperrow(),10)+"%",s=a(m.replace(/# width #/g,v).replace(/# bgcolor #/g,t));
a(u).append(s);
return s.get(0);
},renderChild:function(s,t,u){var y=this,x=y.owner.get_itemsperrow(),v=y._renderedItems%x==0,w=y._renderedItems%x==x-1||u==y.owner._items.length-1;
if(v){a(s).addClass(i);
}if(w){a(s).addClass(n);
if(!v){a(s.previousSibling).removeClass(n);
}}if(t){y._renderedItems++;
}},_showClearColorButton:function(){a(e,this.get_popupElement()).show();
},renderHeader:function(){var x=this,u=x.owner,w=u.get_value(),v=u.isEmptyValue(w)?u.get_currentColorText():w,s=u.get_clearText(),t=k.replace(/# currentValue #/ig,w).replace(/# currentValueText #/ig,v).replace(/# clear #/ig,s);
a(t).prependTo(x.get_popupElement());
},renderFooter:function(){var s=this.owner.get_addCustomColorText(),t=j.replace(/# text #/g,s);
a(t).appendTo(this.get_popupElement());
},updateElementsOnValueChange:function(s){var t=this;
if(t.owner.isEmptyValue(s)){s="";
}t._markSelectedItem();
t._updateHeader(s);
t._updateIcon(s);
},get_popupElement:function(){return this.owner.get_popupElement();
},_markSelectedItem:function(){var s=this.get_popupElement();
a(q,s).removeClass(p);
a(o+":eq("+this.owner._selectedIndex+")",s).addClass(p);
},_updateHeader:function(t){var s=this.get_popupElement();
a(g,s).css("background-color",t);
a(f,s).html(t||this.owner.get_currentColorText());
},_updateIcon:function(t){var s=t?"3px solid "+t:"0px";
a(l,this.owner.get_element()).css({"border-bottom":s});
},decorate:function(){},get_addCustomColorElement:function(){var s=this;
if(!s._addCustomColorElement){s._addCustomColorElement=a(c,s.get_popupElement()).get(0);
}return s._addCustomColorElement;
},get_currentColorWrapperElement:function(){var s=this;
if(!s._currentColorWrapperElement){s._currentColorWrapperElement=a(h,s.get_popupElement()).get(0);
}return s._currentColorWrapperElement;
},get_clearColorElement:function(){var s=this;
if(!s._clearColorElement){s._clearColorElement=a(d,s.get_popupElement()).get(0);
}return s._clearColorElement;
}};
b.MobileColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.MobileColorPickerView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
(function(a,m){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI;
var c=b.Editor.UI;
var g=Function.createDelegate;
var d=Sys.UI.DomElement.addCssClass;
var l=Sys.UI.DomElement.removeCssClass;
var k=$telerik.onEvent;
var i=b.EventType;
var h=i.Down;
var n=i.Up;
var j="reSpinBoxButtonHover";
c.MobileEditorSpinBoxView=function(o){c.MobileEditorSpinBoxView.initializeBase(this,[o]);
};
c.MobileEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.MobileEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(o){var p=o.target||window.event.target;
if(a(p).hasClass("reSpinBoxDecrease")||a(p).hasClass("reSpinBoxIncrease")){return p;
}return null;
},_createUI:function(){var q=this.owner,o=q.get_element();
var s=f("div","reSpinBox t-hbox");
var p=f("input","radfd_skipme radPreventDecorate t-flex");
p.type="number";
p.onkeypress=g(q,q._onKeyPressHandler);
p.onchange=g(q,q._onChangeHandler);
p.onclick=function(t){p.focus();
};
q._inputElement=p;
s.appendChild(p);
var r=f("div","reSpinBoxButtons");
s.appendChild(r);
q._decreaseButton=e("reSpinBoxDecrease",Function.createDelegate(q,q._onPlusMinusClickHandler));
r.appendChild(q._decreaseButton);
q._increaseButton=e("reSpinBoxIncrease",Function.createDelegate(q,q._onPlusMinusClickHandler));
r.appendChild(q._increaseButton);
o.appendChild(s);
}};
c.MobileEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorSpinBoxView",c.MobileEditorButtonView);
function f(p,o){var q=document.createElement(p);
a(q).addClass(o);
return q;
}function e(q,p){var o=f("span",q);
k(o,h,function(r){d(r.target,j);
});
k(o,n,function(r){l(r.target,j);
p(r);
});
return o;
}})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var c=["ApplyClass","reMobileIOS","reIOS","reAndroid","reWindowsPhone","reCommentTitle","reCommentEdit","reCommentView","reCommentTextAreaWatermark","reEmptyMessage"];
var d="";
var e=/'/g;
b.MobileApplyClassDropDownView=function(g){b.MobileApplyClassDropDownView.initializeBase(this,[g]);
};
b.MobileApplyClassDropDownView.prototype={renderChild:function(m,h){var i=this.owner;
var j=h[1];
var k;
if(j){if(h[0]){k=i._getClassTag(j);
k=k?k.charAt(0).toUpperCase()+k.substring(1):"All";
}else{k="Clear";
}var g=i._getClassCss(j);
var l=h[2]?h[2]:i._getDisplayName(j);
this._appendIcon(m,k);
m.appendChild(this._getPreviewContainer(g,k,l));
m.setAttribute("title",j.selectorText);
}},_appendIcon:function(h,g){a('<span class="reIcon reIcon'+g+'" unselectable="on"></span>').appendTo(h);
},updateElementsOnValueChange:function(h){var i=this,g=this._getTextFromValue(h);
a(i.getItemValueElement()).text(g);
i._markSelectedItem();
},_getTextFromValue:function(l){var k=(l+"").replace(e,d);
if(k!=""){var g=k.split(" ");
for(var h=0,j=g.length;
h<j;
h++){if(a.inArray(g[h],c)!==-1){k="";
break;
}}}return k;
},_getPreviewContainer:function(h,l,i){var g="reRulePreview";
var k=(l.toLowerCase()=="a")?'<a class="reToolText '+g+'" href="#" unselectable="on" title="'+i+'">':'<span class="reToolText '+g+'">';
var j=a(k).html(i).css("cssText",h).css({visibility:"visible",marginLeft:"0px",overflowX:"hidden",clear:"none",position:"",cssFloat:"",styleFloat:"",width:"",cursor:"default"});
return j.get(0);
}};
b.MobileApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.MobileApplyClassDropDownView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=Telerik.Web.UI.Editor,d="Telerik.Web.UI.Editor.IView";
c.IView=function(){};
c.IView.prototype={initialize:function(){},dispose:function(){},toolBarContainer:function(){},contentAreaContainer:function(){},modulesContainer:function(){},modeButtonsContainer:function(){},resizerHandle:function(){},zone:function(f){},changeMode:function(){},getModeFromEvent:function(f){},headerToolbarContainer:function(){},headerContainer:function(){}};
c.IView.registerInterface(d);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=Telerik.Web.UI.Editor,e="Telerik.Web.UI.Editor.ViewBase";
c.ViewBase=function(f){this.editor=f;
};
c.ViewBase.prototype={initialize:function(){},dispose:function(){delete this.editor;
},toolBarContainer:function(){return this.zone("Top");
},contentAreaContainer:function(){return $get(this.editor.get_id()+"Center")||a(".reContent",this.editor.get_element()).get(0);
},modulesContainer:function(){return $get(this.editor.get_id()+"Module");
},modesRowContainer:function(){return a(".reBottomProperties",this.editor.get_element()).get(0);
},modeButtonsContainer:function(){return $get(this.editor.get_id()+"_ModesWrapper");
},resizerHandle:function(){return $get(this.editor.get_id()+"BottomResizer");
},zone:function(f){return $get(this.editor.get_id()+f);
},changeMode:function(){},getModeFromEvent:function(f){},headerToolbarContainer:function(){},headerContainer:function(){}};
c.ViewBase.registerClass(e,null,c.IView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=Telerik.Web.UI.Editor,e="Telerik.Web.UI.Editor.ClassicView";
c.ClassicView=function(f){c.ClassicView.initializeBase(this,[f]);
};
c.ClassicView.prototype={toolBarContainer:function(){return this.zone("Top").firstChild;
},changeMode:function(n){var j=Sys.UI.DomElement;
var k=b.EditModes;
var l=this.editor.get_enableAriaSupport();
var h="reMode_";
switch(n){case k.Html:h+="html";
break;
case k.Design:h+="design";
break;
case k.Preview:h+="preview";
break;
}var o=this.modeButtonsContainer();
var g=o?o.getElementsByTagName("A"):[];
for(var m=0;
m<g.length;
m++){var f=g[m];
j.removeCssClass(f,"reMode_selected");
if(l&&typeof(j.removeAttribute)!="undefined"){j.removeAttribute("aria-pressed");
}if(j.containsCssClass(f,h)){j.addCssClass(f,"reMode_selected");
if(l&&typeof(j.setAttribute)!="undefined"){j.setAttribute("aria-pressed","true");
}}}},getModeFromEvent:function(h){var i=null,k=b.Editor.Utils.getElementParentByTag(h.target,"LI");
if(k){var j=b.EditModes;
var g=Sys.UI.DomElement;
var f=k.getElementsByTagName("A")[0];
if(g.containsCssClass(f,"reMode_html")){i=j.Html;
}else{if(g.containsCssClass(f,"reMode_design")){i=j.Design;
}else{i=j.Preview;
}}}return i;
}};
c.ClassicView.registerClass(e,c.ViewBase,c.IView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=Telerik.Web.UI.Editor;
var f="Telerik.Web.UI.Editor.LightweightView";
var d="_ModesWrapper";
c.LightweightView=function(g){c.LightweightView.initializeBase(this,[g]);
};
c.LightweightView.prototype={toolBarContainer:function(){return a(this.zone("Top")).find(".reToolBarWrapper").get(0);
},modesRowContainer:function(){var g=$get(this.editor.get_id()+d);
if(g){return g.parentNode;
}},changeMode:function(l){var g=this.editor.get_enableAriaSupport();
var m=this.modeButtonsContainer();
if(!m){return false;
}var k=a(m).find("a");
if(k.length==0){return false;
}k.removeClass("reSelectedMode");
if(g){k.removeAttr("aria-pressed");
}for(var h=0;
h<k.length;
h++){var j=a(k[h]);
if(l==this.getModeFromElement(j)){j.addClass("reSelectedMode");
if(g){j.attr("aria-pressed","true");
}}}},getModeFromEvent:function(h){var g=h.target.tagName=="a"?h.target:b.Editor.Utils.getElementParentByTag(h.target,"A");
if(!g){return null;
}return this.getModeFromElement(g);
},getModeFromElement:function(i){var g=a(i).attr("href");
var j=g.split("#");
var h=this._toPascalCase(j[1]);
return b.EditModes[h];
},_toPascalCase:function(g){var h=g.trim().toLowerCase();
return h.substr(0,1).toUpperCase()+h.substr(1);
}};
c.LightweightView.registerClass(f,c.ViewBase,c.IView);
})($telerik.$,Telerik.Web.UI);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
b.MobileView=function(e){b.MobileView.initializeBase(this,[e]);
};
b.MobileView.prototype={toolBarContainer:function(){return this._getElement(".reToolZone");
},headerToolbarContainer:function(){return this._getElement("ul.reToolBar.t-hbox");
},headerContainer:function(){return this._getElement("div.reHeader");
},_getElement:function(e){return a(this.editor.get_element()).find(e).get(0);
}};
b.MobileView.registerClass("Telerik.Web.UI.Editor.MobileView",b.ViewBase,b.IView);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,f){var c=Telerik.Web.UI;
var b=c.Editor;
var d=c.RadEditor;
var e=c.RenderMode;
b.ViewFactory={getView:function(g){if(!d.isInstanceOfType(g)){throw new Error('Invalid argument! Argument "editor" is not a Telerik.Web.UI.RadEditor.');
}if(g._renderMode===e.Classic){return new b.ClassicView(g);
}if(g._renderMode===e.Lite){return new b.LightweightView(g);
}if(g._renderMode===e.Mobile){return new b.MobileView(g);
}return null;
}};
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,k){var b=c.Editor;
var j=b.UI.TapEvent;
var i="reTableButtonNS";
var h="reTableButton";
var f="reSelectBtn";
var e="reDeleteBtn";
var d="reSelectDeleteTable";
var g="reTableSelected";
b.SelectDeleteTable=function(l){var m=this;
m.editor=l;
m.isMobile=l.get_renderMode()===c.RenderMode.Mobile;
m.iframeMode=l.get_contentAreaMode()==c.EditorContentAreaMode.Iframe;
m.iOS=Telerik.Web.Platform.ios;
a.observable(m);
m._onSelectDelegate=Function.createDelegate(m,m._onSelect);
m._onDeleteDelegate=Function.createDelegate(m,m._onDelete);
m._onScrollDelegate=Function.createDelegate(m,m._onScroll);
};
b.SelectDeleteTable.prototype={showSelectButton:function(m){var n=this;
var l=n._selectButton=n._selectButton||n._createSelectButton();
n._appendButton(l);
if(this._setSelectButtonPosition(l,m)){n._showSelect(l,m);
if(!n.isMobile){n._attachScroll(m);
}}else{n._hideSelect(l,m);
}n._hideDelete(n._deleteButton);
},showDeleteButton:function(m){var n=this;
var l=n._deleteButton=n._deleteButton||n._createDeleteButton();
n._appendButton(l);
if(n._setDeleteButtonPosition(l,m)){n._showDelete(l);
}else{n._hideSelect(l,m);
}a(m).addClass(g);
a(n._selectButton).addClass("reSelectButtonActive");
n._deleteBtnShown=true;
},hideButtons:function(){var l=this;
if(l._selectButton){l._hideSelect(l._selectButton);
l._hideDelete(l._deleteButton);
if(!l.isMobile){l._detachScroll();
}l._restoreTables();
l._deleteBtnShown=false;
}},repositionButtons:function(n){var o=this;
var m=o._selectButton;
var l=o._deleteButton;
if(m&&!a(m).is(":hidden")){if(this._setSelectButtonPosition(m,n)){o._showSelect(m,n);
}if(l&&!a(l).is(":hidden")&&o._setDeleteButtonPosition(l,n)){o._showDelete(l);
}}},getTargetTable:function(){if(!this._isWindowDestroyed()){return this.editor.findContent("table."+d).get(0);
}},isSelected:function(l){return l?a(l).is("."+g):k;
},addTargetClass:function(l){a(l).addClass(d);
},addSelectedClass:function(l){a(l).addClass(g);
},removeTableClasses:function(l){if(l){a(l).removeClass(d).removeClass(g);
if(!l.className){l.removeAttribute("class");
}}},_isWindowDestroyed:function(){var l=this.editor.get_contentWindow();
return b.Utils.isWindowDestroyed(l);
},_appendButton:function(l){var n=this;
if(!l.parentNode){var m=n.editor;
var o=n.isMobile?m.get_contentArea():m._view.contentAreaContainer();
o.appendChild(l);
}},_setSelectButtonPosition:function(l,q){var t=this;
var p=t.editor;
var n=p.get_contentArea();
var o=p._view.contentAreaContainer();
var r=b.Utils.getOffset(q,n);
var s=t.isMobile?{left:0,top:0}:b.Utils.getScrollOffset(q,n);
if(!t.isMobile&&(r.left<s.left||r.left>s.left+o.offsetWidth||s.top>r.top||r.top-s.top>o.offsetHeight)){return false;
}else{var m=t._getSelectBtnOffset();
a(l).css({left:r.left-s.left+m.left,top:r.top-s.top+m.top});
return true;
}},_setDeleteButtonPosition:function(l,q){var u=this;
var p=u.editor;
var m=p.get_contentArea();
var n=p._view.contentAreaContainer();
var r=b.Utils.getOffset(q,m);
var s=u.isMobile?{left:0,top:0}:b.Utils.getScrollOffset(q,m);
var t=q.offsetWidth;
if(!u.isMobile&&(r.left+t<s.left||r.left+t>s.left+n.offsetWidth||s.top>r.top||r.top-s.top>n.offsetHeight)){return false;
}else{var o=u._getDeleteBtnOffset();
a(l).css({left:r.left-s.left+t+o.left,top:r.top-s.top+o.top});
return true;
}},_showSelect:function(l,m){var n=this;
a(l).show();
a(m).addClass(d);
n._attachClick(l,n._onSelectDelegate);
},_showDelete:function(l){var m=this;
a(l).show();
m._attachClick(l,m._onDeleteDelegate);
},_attachClick:function(l,m){this._detachClick(l,m);
if(this.isMobile){j.onTap(l,{tap:m,namespace:i});
}else{a(l).on("click."+i,m);
}},_detachClick:function(l,m){if(this.isMobile){j.offTap(l,{tap:m,namespace:i});
}else{a(l).off("click."+i,m);
}},_attachScroll:function(l){var m=this;
m.editor._attachScroll(m._onScrollDelegate,{table:l});
},_detachScroll:function(){var l=this;
l.editor._detachScroll(l._onScrollDelegate);
},_hideSelect:function(l,m){var n=this;
if(!l){return;
}n._detachClick(l,n._onSelectDelegate);
a(l).removeClass("reSelectButtonActive")[n.isMobile?"remove":"hide"]();
n.removeTableClasses(m);
},_hideDelete:function(l){var m=this;
if(!l){return;
}m._detachClick(l,m._onDeleteDelegate);
a(l)[m.isMobile?"remove":"hide"]();
},_createSelectButton:function(){return this._createButton().addClass(f).get(0);
},_createDeleteButton:function(){return this._createButton().addClass(e).get(0);
},_createButton:function(){return a(document.createElement("span")).attr("unselectable","on").addClass(h);
},_restoreTables:function(){var n=this;
if(!n._isWindowDestroyed()){var l=n.editor;
var m=l.findContent("table."+d).get(0);
n.removeTableClasses(m);
}},_onSelect:function(l){var m=this.getTargetTable();
this.trigger("tableSelecting",new b.SelectDeleteTableEventArgs(m));
this.showDeleteButton(m);
return $telerik.cancelRawEvent(l);
},_onDelete:function(l){var m=this.getTargetTable();
this.hideButtons();
if(m){this.trigger("tableDeleting",new b.SelectDeleteTableEventArgs(m));
}return $telerik.cancelRawEvent(l);
},_onScroll:function(m){var o=this;
var l=m.data;
var n=l.table;
o._onScrollPositionChanged(n);
setTimeout(function(){o._onScrollPositionChanged(n);
},5);
},_onScrollPositionChanged:function(n){var o=this;
var m=o._selectButton;
var l=o._deleteButton;
if(!o._setSelectButtonPosition(m,n)){o._hideSelect(m,n);
}else{if(a(m).is(":hidden")){o._showSelect(m,n);
}}if(o._deleteBtnShown){if(!o._setDeleteButtonPosition(l,n)){o._hideDelete(l,n);
}else{if(a(l).is(":hidden")){o._showDelete(l,n);
}}}},_getSelectBtnOffset:function(){var l=this;
if(l.isMobile){return{top:-15,left:-15};
}else{return l.iframeMode?{top:-19,left:-19}:{top:-20,left:-20};
}},_getDeleteBtnOffset:function(){return this.isMobile?{top:-20,left:-13}:{top:-21,left:0};
}};
b.SelectDeleteTable.registerClass("Telerik.Web.UI.Editor.SelectDeleteTable",null);
})($telerik.$,Telerik.Web.UI);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI.Editor;
b.SelectDeleteTableEventArgs=function(d){this._target=d;
};
a.registerControlProperties(b.SelectDeleteTableEventArgs,{target:null});
b.SelectDeleteTableEventArgs.registerClass("Telerik.Web.UI.Editor.SelectDeleteTableEventArgs",Sys.EventArgs);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){b.WordListConverter=function(){};
b.WordListConverter.prototype={removeOriginalElements:function(c){for(var d=0;
d<c.length;
d++){c[d].parentNode.removeChild(c[d]);
}},setItemsAttributes:function(d){var c=$telerik.isIE&&d.all?d.all:d.getElementsByTagName("*");
for(var f=0;
f<c.length;
f++){var e=c[f];
if(e.nodeType==1){if(this.isListItem(e)){var g=this.getItemData(e);
if(g){e.setAttribute("data-listId",g);
}else{if(/^(?:_TELERIK_I_)*_TELERIK_CHROME_/gi.test(e.innerHTML)){var h=this.getMarginLeft(e);
g="lxlevel"+h+"lfox";
e.setAttribute("data-listId",g);
}}}}}},getGroupedListItems:function(h){var l=[];
var n=this;
var d=function(q,v,o){var u=v.substring(v.indexOf("lfo"),v.length);
var s=o;
for(var r=o+1;
r<q.length;
r++){var p=n.getItemData(q[r]);
if(p){var t=p.substring(p.indexOf("lfo"),p.length);
if(p==v||t==u){s=r;
}}}return s;
};
var m=function(o,q,i){var p=d(o,q,i);
l.push({elements:o,startIndex:i,endIndex:p,data:q});
i=p+1;
return i;
};
var f=function(q){var p=0;
while(p<q.length){var o=q[p];
if(!o||o.nodeType!=1){continue;
}var r=n.getItemData(o);
if(r&&r!=""){p=m(q,r,p);
continue;
}if(o.tagName=="DIV"){f(o.children);
p++;
continue;
}if(o.tagName=="TABLE"){var s=o.getElementsByTagName("TD");
for(var i=0;
i<s.length;
i++){var t=s[i];
f(t.children);
}p++;
continue;
}p++;
}};
f(h);
var g=[];
var c=[];
for(var j=0;
j<l.length;
j++){var e=l[j];
for(var k=e.startIndex;
k<=e.endIndex;
k++){c.push(e.elements[k]);
}g.push(c.slice(0,c.length));
c=[];
}return g;
},getItemData:function(e){if(e.getAttribute("data-listId")){return e.getAttribute("data-listId");
}var c=Telerik.Web.UI.Editor.Utils.getOuterHtml(e).replace(e.innerHTML,"");
var f=c.match(/mso-list:\s?(\w+)\s(\w+)\s(\w+)/i);
var d="";
if(f&&f[0]&&f[1]&&f[2]&&f[3]){d=f[1]+f[2]+f[3];
}return d;
},isListItem:function(d){if(!d||d.nodeType!=1){return false;
}if(d.tagName=="TABLE"||d.tagName=="TR"||d.tagName=="TD"||d.tagName=="TBODY"){return false;
}if(d.getAttribute("data-listId")){return true;
}var c=Telerik.Web.UI.Editor.Utils.getOuterHtml(d).replace(d.innerHTML,"");
var e=c.match(/mso-list:\s?\w+\s\w+\s\w+/i);
if(e){return true;
}if(/MsoListParagraph/i.test(c)||/_TELERIK_I_/gm.test(this.markListItems(d.innerHTML))){return true;
}return false;
},removeListsIds:function(c){a(c).find("UL,OL").removeAttr("class");
},markListItems:function(c){c=c.replace(/(<!--\[if !supportLists\]-->)/gi,"_TELERIK_CHROME__TELERIK_I_");
c=c.replace(/(<span[^>]+:\s*symbol[^>]+>)/gi,"$1_TELERIK_I_");
c=c.replace(/(<span[^>]+mso-list:[^>]+>)/gi,"$1_TELERIK_I_");
c=c.replace(/(<p[^>]+(?:MsoListParagraph)[^>]+>)/gi,"$1_TELERIK_I_");
return c;
},getUnorderedListType:function(c){var d=null;
if(/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(c)){d="disc";
}else{if(/^o/.test(c)){d="circle";
}else{d="square";
}}return d;
},getOrderedListType:function(d){var c=null;
if(isNaN(d)){c=(/^[a-z]/.test(d)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(d)?"roman":"alpha");
}return c;
},createList:function(f,e,d){f=f?f:"UL";
var c=document.createElement(f);
if(d&&d!=""){c.className=d;
}if(e&&e!=""){c.style.listStyleType=e;
}return c;
},insertList:function(d,c){var f=c.parentNode;
var e=c.nextSibling;
if(e){f.insertBefore(d,e);
}else{f.appendChild(d);
}},replaceNbspWithSpace:function(c){c=c.replace(/&nbsp;/gm,"\u00a0");
return c;
},getElementLevel:function(c){var e=Telerik.Web.UI.Editor.Utils.getOuterHtml(c).match(/level[0-9]+/im);
var d=0;
if(e){var f=e[0].substring(5,e[0].length);
d=parseFloat(f);
}return d;
},setDataLevelAttribute:function(d){var f=true,c=null,e=0,g;
for(g=0;
g<d.length;
g++){c=d[g];
if(!c||c.innerHTML.indexOf("_TELERIK_")==-1){continue;
}if(c.style.marginLeft==""){e=this.getElementLevel(c);
if(e!=0&&e!=1){f=false;
break;
}}}if(f){for(g=0;
g<d.length;
g++){c=d[g];
var h=this.getMarginLeft(c);
c.setAttribute("data-level",h);
}return;
}for(g=0;
g<d.length;
g++){c=d[g];
if(!c||c.innerHTML.indexOf("_TELERIK_")==-1){continue;
}e=this.getElementLevel(c);
c.setAttribute("data-level",e);
}},getMarginLeft:function(c){var d=c.style.marginLeft;
if(!d){return 0;
}var e=parseFloat(d);
if(/in$/i.test(d)){return e*72;
}if(/pc$/i.test(d)){return e*12;
}return e;
},removeMarkers:function(d){var c=a(d).find("*");
a(c).removeAttr("data-level");
a(c).removeAttr("data-listId");
var e=d.innerHTML;
e=e.replace(/_TELERIK_I_/gm,"");
if($telerik.isIE7||$telerik.isIE8){e=e.replace(/\sdata-listid/gm,"");
}d.innerHTML=e;
},matchListItem:function(c,e){var d=this.getItemData(e.element);
if(!d){return;
}if(!/^_TELERIK_I_/.test(c)){return;
}c=c.replace(/_TELERIK_I_/gm,"");
var f;
var h=this.matchUnorderedList(c);
if(h){f=h[0];
if(f){f=f.replace(/^[\u00a0\n\r\s]+/,"");
f=f.replace(/[\u00a0\n\r\s]+$/,"");
}e.html=c.replace(h[0],"");
e.type="UL";
e.listStyle=this.getUnorderedListType(f);
}var g=this.matchOrderedList(c);
if(g){f=g[0];
if(f){f=f.replace(/^[\u00a0\n\r\s]+/,"");
f=f.replace(/[\u00a0\n\r\s]+$/,"");
f=f.replace(/[.()\s]+/gm,"");
}e.html=c.replace(g[0],"");
e.type="OL";
e.listStyle=this.getOrderedListType(f);
}},matchUnorderedList:function(c){return c.match(/^([\u2022\u00b7\u00a7\u00a0\u00fc\u00d8\u002dovn-]*\s*\u00a0*(&nbsp;)*)+/);
},matchOrderedList:function(c){var d=c.match(/^[0-9]+[\.\)][\s\u00a0]+/)||c.match(/^\([0-9]+\)[\s\u00a0]+/)||c.match(/^[a-z]+[\.\)][\s\u00a0]+/i)||c.match(/^\([a-z]+\)[\s\u00a0]+/i)||c.match(/^[0-9]+\.(?:[0-9]+\.)*[0-9]+[\s\u00a0]+/)||c.match(/^[\s\u00a0]+[ivxlcdm]+\.[\s\u00a0]+/i)||c.match(/^[a-z]+\s[0-9ivxlcdm.]+[\s\u00a0]{3,}/i);
return d;
},getListElementHtml:function(f,d){if(!f){return"";
}var c=document.createElement("DIV");
b.Utils.setElementInnerHtml(c,f);
var h=this.getInnerText(c);
h=h.trim();
var e=this.getInnerText(d);
var i=e.replace(/_TELERIK_I_/g,"");
i=i.replace(h,"");
i=i.replace(/\n\r?/gm," ");
i=i.replace(/&nbsp;/gm,"");
i=i.trim();
i=i.replace(/([.()])/gm,"\\$1");
var g=d.innerHTML;
g=g.replace(/\n\r?/gm," ");
var j=new RegExp("([^a-z0-9])("+i+")([^a-z0-9])","im");
g=g.replace(j,"$1$3");
g=g.replace(/_TELERIK_I_/g,"");
return g;
},getInnerText:function(c){var d=c.innerHTML;
d=d.replace(/<!--(.|\s)*?-->/gi,"");
d=d.replace(/<\/?[^>]+?\/?>/gm,"");
return d;
},clearListItemHtml:function(g){var e=$telerik.isIE&&g.all?g.all:g.getElementsByTagName("*");
for(var d=e.length-1;
d>=0;
d--){var c=e[d];
if(c.nodeType==1&&b.Utils.canHaveChildren(c)){var f=this.getInnerText(c);
if(/^\s+$/.test(f)){b.Utils.removeNode(c);
continue;
}f=f.replace(/&nbsp;/gm,"");
f=f.replace(/\s+/gm,"");
if(f==""){c.parentNode.removeChild(c);
}}}b.Utils.removeEmptyElements(g);
},convert:function(l){l=b.Utils.clearInvalidHtml(l);
l=this.markListItems(l);
l=b.Utils.clearComments(l);
var c=document.createElement("div");
b.Utils.setElementInnerHtml(c,l);
this.setItemsAttributes(c);
l=c.innerHTML;
l=l.replace(/_TELERIK_CHROME_/gm,"");
c.innerHTML=l;
var h=this.getGroupedListItems(c.children);
for(var n=0;
n<h.length;
n++){var k=h[n];
this.setDataLevelAttribute(k);
var w=null,t=null,r=-1,s=null,C=[];
var z=[];
for(var g=0;
g<k.length;
g++){var e=k[g];
if(!e){return;
}var u="",D=null,A=null,j="";
var f=this.getInnerText(e);
var y={};
y.element=e;
u=this.replaceNbspWithSpace(f);
this.matchListItem(u,y);
if(y.type){D=y.type;
A=y.listStyle;
j=y.html;
}var x=this.getItemData(e);
if(j==""&&x==""){if(w){var o=e.innerHTML;
o=o.replace(/_TELERIK_I_/g,"");
var q=this.getInnerText(e);
q=q.replace(/_TELERIK_I_/g,"").trim();
var m="&nbsp;";
if(q&&q!=""){m=o;
}s=parseFloat(e.getAttribute("data-level")||0);
while(s<r&&z.length>1){z.pop();
var d=z[z.length-1];
w=d.element;
r=d.level;
var v=w.children;
t=v[v.length-1];
}var B=document.createElement("p");
B.innerHTML=m;
t.appendChild(B);
C.push(e);
}continue;
}if(D){s=parseFloat(e.getAttribute("data-level")||0);
if(t&&s>r){if(w&&w.className!=x){w=this.createList(D,A,x);
z.push({element:w,level:s});
t.appendChild(w);
}}else{if(s<r){z.pop();
w=a(c).find("."+x+":last")[0];
if(!w){var z=c.getElementsByTagName(D);
if(z.length>0){w=z[z.length-1];
}}}else{if(!w){w=this.createList(D,A,x);
this.insertList(w,e);
z.push({element:w,level:s});
}}}t=document.createElement("li");
t.innerHTML=this.getListElementHtml(j,e);
this.clearListItemHtml(t);
if(!w||(w.className!=x)){w=this.createList(D,A,x);
this.insertList(w,e);
z.push({element:w,level:s});
}w.appendChild(t);
C.push(e);
r=s;
}else{r=0;
A=null;
w=null;
t=null;
z=[];
}}this.removeOriginalElements(C);
this.removeListsIds(c);
}this.removeMarkers(c);
return c.innerHTML;
}};
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){b.FormElementsSelectionUtils={_removeHandler:function(c,d,e){if(!c||!d){return;
}if(c&&e){a(c).off(d,e);
}else{if(!e){a(c).off(d);
}}},_addHandler:function(c,d,e,f){if(f){a(c).on(d,f,e);
}else{a(c).on(d,e);
}},_switchEditorEditableMode:function(c,d){if(c.nodeName=="BODY"){c.ownerDocument.designMode=d?"on":"off";
}else{c.contentEditable=d;
}},addEventHandler:function(d,g,f,h,c){if(!d||!g){return;
}var i;
if(c){i=a.proxy(d,this,c);
}else{i=a.proxy(d,this);
}if(h&&!f){var e=this.editor.get_contentArea();
b.FormElementsSelectionUtils._removeHandler(e,g,h);
b.FormElementsSelectionUtils._addHandler(e,g,i,h);
}else{b.FormElementsSelectionUtils._removeHandler(f,g);
b.FormElementsSelectionUtils._addHandler(f,g,i);
}},getBrowserRange:function(c){var e=c.getSelection();
var d=e.getRange(true);
if(!d){c.setFocus();
d=e.getRange(true);
}return d;
}};
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){var c=b.FormElementsSelectionUtils;
b.CheckboxesSelection=function(d){this.editor=d;
this.mouseup="mouseup.radEditorCheckboxesFix";
this.mousemove="mousemove.radEditorCheckboxesFix";
this.mousedown="mousedown.radEditorCheckboxesFix";
this.mouseout="mouseout.radEditorCheckboxesFix";
this.mouseover="mouseover.radEditorCheckboxesFix";
this.checkboxSelector="input[type=checkbox]";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.CheckboxesSelection.prototype={enableSelecting:function(){var d,e;
if($telerik.isIE){d=this._mouseupHandlerIE,e=this.mouseup;
}else{if($telerik.isFirefox){d=this._mousemoveHandlerFirefox,e=this.mousemove;
}else{if($telerik.isSafari){this._enableSelecting(this._mouseoverHandlerSafari,this.mouseover,null,this.checkboxSelector);
this._enableSelecting(this._mouseoutHandlerSafari,this.mouseout,null,this.checkboxSelector);
this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.checkboxSelector);
return;
}else{if($telerik.isOpera){d=this._mouseupHandlerIE,e=this.mousedown;
}}}}this._enableSelecting(d,e,null,this.checkboxSelector);
},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isIE){this._removeHandler(d,this.mouseup,this.checkboxSelector);
}else{if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.checkboxSelector);
this._removeHandler(d,this.mouseout,this.checkboxSelector);
this._removeHandler(d,this.mousemove,this.checkboxSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mouseover,this.checkboxSelector);
this._removeHandler(d,this.mouseout,this.checkboxSelector);
this._removeHandler(d,this.mousedown,this.checkboxSelector);
}else{if($telerik.isOpera){this._removeHandler(d,this.mousedown,this.checkboxSelector);
}}}}},_mouseupHandlerIE:function(d){if(this.excludeCondition(d.target)){return;
}this._checkCheckbox(d.target);
},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
f.target.style.cursor="default";
var g=c.getBrowserRange(e);
this._switchEditorEditableMode(d,false);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
},_mousedownHandlerFirefox:function(d){this._checkCheckbox(d.target);
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
this.editor.selectElement(d.target);
},_mouseoutHandlerFirefox:function(e,d){var f=this.editor.getSelectedElement();
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
if(f&&f.tagName=="INPUT"&&f.type=="checkbox"){this.editor.selectElement(f);
}else{this.editor.getSelection().selectRange(e);
}d.target.style.cursor="";
},_mouseoverHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="default";
},_mouseoutHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="";
},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this._checkCheckbox(d.target);
this.editor.selectElement(d.target);
},_checkCheckbox:function(d){if($telerik.isSafari||$telerik.isOpera){this._checkCheckboxSafariOpera(d);
}else{this._checkCheckboxFirefoxIE(d);
}},_checkCheckboxFirefoxIE:function(d){if(d.getAttribute("checked")||d.checked){a(d).removeAttr("checked");
}else{d.checked=true;
a(d).attr("checked","checked");
}},_checkCheckboxSafariOpera:function(d){if(d.getAttribute("checked")||d.checked){a(d).removeAttr("checked");
d.checked=true;
}else{a(d).attr("checked","checked");
d.checked=false;
}},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.CheckboxesSelection.registerClass("Telerik.Web.UI.Editor.CheckboxesSelection",null);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){b.FormElementsSelection=function(c){this.editor=c;
this.checkboxesSelection=null;
this.radioButtonsSelection=null;
this.selectsSelection=null;
this.standardButtonsSelection=null;
};
b.FormElementsSelection.prototype={enableFormElementsSelecting:function(){this.enableRadioButtonsSelecting();
this.enableCheckboxesSelecting();
this.enableSelectsSelecting();
this.enableStandardButtonsSelecting();
},enableRadioButtonsSelecting:function(){this.radioButtonsSelection=new b.RadioButtonsSelection(this.editor);
this.radioButtonsSelection.enableSelecting();
},enableCheckboxesSelecting:function(){this.checkboxesSelection=new b.CheckboxesSelection(this.editor);
this.checkboxesSelection.enableSelecting();
},enableSelectsSelecting:function(){this.selectsSelection=new b.SelectsSelection(this.editor);
this.selectsSelection.enableSelecting();
},enableStandardButtonsSelecting:function(){var c=this;
c.standardButtonsSelection=new b.StandardButtonsSelection(c.editor);
c.standardButtonsSelection.enableSelecting();
},disableFormElementsSelecting:function(){this.disableRadioButtonsSelecting();
this.disableCheckboxesSelecting();
this.disableSelectsSelecting();
this.disableStandardButtonsSelecting();
},disableRadioButtonsSelecting:function(){if(this.radioButtonsSelection){this.radioButtonsSelection.disableSelecting();
}},disableCheckboxesSelecting:function(){if(this.checkboxesSelection){this.checkboxesSelection.disableSelecting();
}},disableSelectsSelecting:function(){if(this.selectsSelection){this.selectsSelection.disableSelecting();
}},disableStandardButtonsSelecting:function(){var c=this.standardButtonsSelection;
if(c){c.disableSelecting();
}}};
b.FormElementsSelection.registerClass("Telerik.Web.UI.Editor.FormElementsSelection",null);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){var c=b.FormElementsSelectionUtils;
b.RadioButtonsSelection=function(d){this.editor=d,this.mousedown="mousedown.radEditorRadioButtonsFix";
this.mouseover="mouseover.radEditorRadioButtonsFix";
this.mouseout="mouseout.radEditorRadioButtonsFix";
this.mousemove="mousemove.radEditorRadioButtonsFix";
this.radioButtonSelector="input[type=radio]";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.RadioButtonsSelection.prototype={enableSelecting:function(){var d,e;
if($telerik.isIE||$telerik.isOpera){d=this._mousedownHandlerIE,e=this.mousedown;
}else{if($telerik.isSafari){this._enableSelecting(this._mouseoverHandlerSafari,this.mouseover,null,this.radioButtonSelector);
this._enableSelecting(this._mouseoutHandlerSafari,this.mouseout,null,this.radioButtonSelector);
this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.radioButtonSelector);
return;
}else{if($telerik.isFirefox){d=this._mousemoveHandlerFirefox,e=this.mousemove;
}}}this._enableSelecting(d,e,null,this.radioButtonSelector);
},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isIE||$telerik.isOpera){this._removeHandler(d,this.mousedown,this.radioButtonSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mouseover,this.radioButtonSelector);
this._removeHandler(d,this.mouseout,this.radioButtonSelector);
this._removeHandler(d,this.mousedown,this.radioButtonSelector);
}else{if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.radioButtonSelector);
this._removeHandler(d,this.mouseout,this.radioButtonSelector);
this._removeHandler(d,this.mousemove,this.radioButtonSelector);
}}}},_mousedownHandlerIE:function(d){if(this.excludeCondition(d.target)){return;
}this._checkRadioButton(d.target);
},_mouseoverHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="default";
},_mouseoutHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="";
},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this.editor.selectElement(d.target);
this._checkRadioButton(d.target);
},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
f.target.style.cursor="default";
this._switchEditorEditableMode(d,false);
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
var g=c.getBrowserRange(e);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
},_mousedownHandlerFirefox:function(d){this._checkRadioButton(d.target);
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
this.editor.selectElement(d.target);
},_mouseoutHandlerFirefox:function(f,e){var d=this.editor;
var g=d.getSelectedElement();
this._switchEditorEditableMode(d.get_contentArea(),true);
if(g&&g.tagName=="INPUT"&&g.type=="radio"){d.selectElement(g);
}else{d.getSelection().selectRange(f);
}e.target.style.cursor="";
},_checkRadioButton:function(d){var g=d.getAttribute("name");
var f=d.parentNode.children;
for(var h=0;
h<f.length;
h++){var e=f[h];
if(e.nodeType==1&&e.nodeName=="INPUT"&&e.getAttribute("type")=="radio"&&e.getAttribute("name")==g&&e.getAttribute("checked")){e.checked=false;
e.removeAttribute("checked");
}}d.checked=true;
a(d).attr("checked","checked");
},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.RadioButtonsSelection.registerClass("Telerik.Web.UI.Editor.RadioButtonsSelection",null);
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){var c=b.FormElementsSelectionUtils;
b.SelectsSelection=function(d){this.editor=d;
this.mousemove="mousemove.radEditorSelectFix";
this.mousedown="mousedown.radEditorSelectFix";
this.mouseout="mouseout.radEditorSelectFix";
this.selectSelector="SELECT";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.SelectsSelection.prototype={enableSelecting:function(){if($telerik.isFirefox){this._enableSelecting(this._mousemoveHandlerFirefox,this.mousemove,null,this.selectSelector);
}else{if($telerik.isSafari){this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.selectSelector);
}}},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.selectSelector);
this._removeHandler(d,this.mouseout,this.selectSelector);
this._removeHandler(d,this.mousemove,this.selectSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mousedown,this.selectSelector);
}}},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
this._switchEditorEditableMode(d,false);
var g=e.getSelection().getRange();
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
},_mousedownHandlerFirefox:function(d){if(d.which==2){return;
}this.editor.selectElement(d.target);
if(d.which==1){this._switchEditorEditableMode(this.editor.get_contentArea(),true);
}},_mouseoutHandlerFirefox:function(f,e){var d=this.editor;
var g=d.getSelectedElement();
this._switchEditorEditableMode(d.get_contentArea(),true);
if(g&&g.tagName=="SELECT"){d.selectElement(g);
}else{d.getSelection().selectRange(f);
}},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this.editor.selectElement(d.target);
},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.SelectsSelection.registerClass("Telerik.Web.UI.Editor.SelectsSelection",null);
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,d,g){var b=d.Editor;
var h=b.Utils;
var e=b.FormElementsSelectionUtils;
var c=d.EditModes;
var f="input[type=button],input[type=submit],button";
b.StandardButtonsSelection=function(i){this.editor=i;
};
b.StandardButtonsSelection.prototype={enableSelecting:function(){var i=this;
if(i._shouldEnableSelecting()){e.addEventHandler.call(i,i._mouseEventHandler,i._getEventType(),g,f,g);
i._selectingEnabled=true;
}},disableSelecting:function(){var i=this;
if(i._selectingEnabled){e._removeHandler(i.editor.get_contentArea(),i._getEventType(),f);
i._selectingEnabled=g;
}},_shouldEnableSelecting:function(){return $telerik.isFirefox||$telerik.isSafari||($telerik.isIE10Mode&&!$telerik.isIE10);
},_getEventType:function(){return($telerik.isFirefox||$telerik.isIE?"mousedown":"mouseup")+".radEditorButtonsFix";
},_getSelector:function(){return f;
},_mouseEventHandler:function(i){var k=this;
var j=i.target;
if(!k._shouldCancelSelecting(j)){k._selectTarget(j);
}},_shouldCancelSelecting:function(j){var i=this.editor;
if(i.get_mode()==c.Design){return i.get_enableImmutableElements()?h.isImmutableNode(j):false;
}return true;
},_selectTarget:function(l){var m=this;
var j=m.editor;
var i=j.getSelection().getRange(true);
var k=i?new b.DomRange(i):b.DomRange.createRange(j.get_document());
k[$telerik.isSafari&&h.isTag(l,"button")?"selectNodeContents":"selectNode"](l);
k.select();
}};
b.StandardButtonsSelection.registerClass("Telerik.Web.UI.Editor.StandardButtonsSelection",null);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,g){var d=b.Editor;
var e=d.FormElementsSelectionUtils;
var c=Telerik.Web.Browser;
var f=c.ie&&c.version<9;
d.TextFieldsTyping=function(h){this.editor=h;
this.mousedown="mousedown.radEditorTextFieldsFix";
this.blur="blur.radEditorTextFieldsFix";
this.mouseenter="mouseenter.radEditorTextFieldsFix";
this.mouseout="mouseout.radEditorTextFieldsFix";
this.selector="input[type=text],input[type=password],textarea";
this.excludeCondition=h.get_enableImmutableElements()?d.Utils.isImmutableNode:function(){return false;
};
};
d.TextFieldsTyping.prototype={enableTextFieldsTyping:function(){var h,i;
if(c.ie&&c.version<11){h=this._mousedownHandlerIE,i=this.mousedown;
}else{h=this._mouseenterHandlerFirefox,i=this.mouseenter;
}this.enableTyping(h,i,null,this.selector);
},enableTyping:function(i,k,j,l,h){e.addEventHandler.call(this,i,k,j,l,h);
},disableTextFieldsTyping:function(){var h=this.editor.get_contentArea();
if(c.ie&&c.version<11){this._removeHandler(h,this.mousedown,this.selector);
this._removeHandler(h,this.blur,this.selector);
}else{this._removeHandler(h,this.mouseenter,this.selector);
this._removeHandler(h,this.mouseout,this.selector);
this._removeHandler(h,this.mousedown,this.selector);
this._removeHandler(h,this.blur,this.selector);
}},_mousedownHandlerIE:function(j){var k=j.target;
var i=this.editor;
var h=i.get_document().activeElement;
if(this.excludeCondition(k)){return;
}if(!$telerik.$(h).is(k)){i.selectElement(k,true);
if(!f){this.enableTyping(this._blurHandlerIE,this.blur,null,this.selector);
}}},_blurHandlerIE:function(h){this._saveContent(h.target);
},_mouseenterHandlerFirefox:function(i){var k=i.target;
var h=this.editor;
if(h.get_mode()!=b.EditModes.Design||this.excludeCondition(k)){return;
}var j=h.getSelection().getRange(true);
if(!c.ie){this._switchEditorEditableMode(h.get_contentArea(),false);
this.enableTyping(this._mouseoutHandlerFirefox,this.mouseout,k,null,j);
}this.enableTyping(this._mousedownHandlerFirefox,this.mousedown,k);
},_mousedownHandlerFirefox:function(j){var i=this.editor;
var l=j.target;
var k=a(l);
var h=i.get_document().activeElement;
if(!k.is(h)){if(a(h).is(this.selector)){this._removeHandler(h,this.blur);
this._blurHandlerFirefox({target:h});
this._switchEditorEditableMode(i.get_contentArea(),false);
}k.focus();
i.raiseEvent("selectionChange",Sys.EventArgs.Empty);
this.enableTyping(this._blurHandlerFirefox,this.blur,l);
}},_blurHandlerFirefox:function(i){this._saveContent(i.target);
var h=this.editor;
if(!h.get_editable()){this._switchEditorEditableMode(h.get_contentArea(),true);
}},_mouseoutHandlerFirefox:function(k,j){var i=this.editor;
var h=i.get_document().activeElement;
if(!a(h).is(this.selector)){this._switchEditorEditableMode(i.get_contentArea(),true);
if(k&&j){i.getSelection().selectRange(k);
}}},_removeHandler:function(h,i,j){e._removeHandler(h,i,j);
},_switchEditorEditableMode:function(h,i){e._switchEditorEditableMode(h,i);
},_saveContent:function(h){var i=h.value;
if(h.nodeName=="TEXTAREA"){h.defaultValue=i;
}else{if(h.nodeName=="INPUT"){$telerik.$(h).attr("value",i);
}}}};
d.TextFieldsTyping.registerClass("Telerik.Web.UI.Editor.TextFieldsTyping",null);
})($telerik.$,Telerik.Web.UI);

/* END Telerik.Web.UI.Editor.RadEditor.js */
/* START Telerik.Web.UI.Editor.Modules.js */
(function(a){Type.registerNamespace("Telerik.Web.UI.Editor.Modules.Views");
a.Editor.Modules.Views.IView=function(){};
a.Editor.Modules.Views.IView.prototype={initialize:function(){},dispose:function(){},render:function(){}};
a.Editor.Modules.Views.IView.registerInterface("Telerik.Web.UI.Editor.Modules.Views.IView");
})(Telerik.Web.UI);
(function(a){Type.registerNamespace("Telerik.Web.UI.Editor.Modules.Views");
a.Editor.Modules.Views.DefaultView=function(b){this.owner=b;
};
a.Editor.Modules.Views.DefaultView.prototype={initialize:function(){},dispose:function(){delete this.owner;
},render:function(){var c=this.owner;
var b=c.get_element();
if(b){b.className=c._className;
}}};
a.Editor.Modules.Views.DefaultView.registerClass("Telerik.Web.UI.Editor.Modules.Views.DefaultView",null,a.Editor.Modules.Views.IView);
})(Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.DomInspector");
(function(a,g,b,e){var d="&nbsp;";
var c="reModule reHTMLStructure reRow reCaptionRow";
var f=Telerik.Web.UI.Editor.Utils;
b.BaseView=function(h){var i=this;
i.owner=h;
i._element=h?h.get_element():null;
i._removeNodeClass="RemoveElement";
i._selectedNodeClass="";
i._nodeClass="";
i._separatorContent="";
};
b.BaseView.prototype={initialize:function(){},dispose:function(){delete this.owner;
},createRemoveNode:function(h){var j=this;
var i=document.createElement("a");
i.innerHTML=h||j.owner._removeElementString;
i.href="javascript:void(0)";
i.className=this._removeNodeClass;
a(i).appendTo(j.get_element());
return i;
},createElementsNode:function(h,j){var k=this;
var i=document.createElement("a");
i.oncontextmenu=$telerik.cancelRawEvent;
i.href="javascript:void(0);";
i.innerHTML=h;
i.className=this._getElemNodeClass(j);
a(i).appendTo(k.get_element());
this.createSeparator();
return i;
},createSeparator:function(){var i=this;
var h=document.createElement("span");
h.innerHTML=this._separatorContent;
a(h).appendTo(i.get_element());
return h;
},isClickableNode:function(h){return f.isTag(h,"a")||this.isDeleteBtn(h);
},isDeleteBtn:function(h){return h.innerHTML===this.owner._getLocalizedString("DomInspectorRemoveElement","Remove Element");
},getRootClassName:function(){return"";
},_getElemNodeClass:function(h){},render:function(){a(this.get_element()).addClass(c);
},clear:function(){a(this._element).html(d);
},get_element:function(){return this._element;
},onShow:function(){}};
b.BaseView.registerClass("Telerik.Web.UI.Editor.Modules.DomInspector.BaseView");
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.DomInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.DomInspector");
(function(a,d,b,c){b.ClassicView=function(e){var f=this;
b.ClassicView.initializeBase(f,[e]);
f._removeNodeClass="reModule_domlink";
f._selectedNodeClass="reModule_domlink_selected";
f._nodeClass="reModule_domlink";
f._separatorContent="&nbsp;> ";
};
b.ClassicView.prototype={getRootClassName:function(){return"reModule";
},_getElemNodeClass:function(e){return e?this._selectedNodeClass:this._nodeClass;
}};
b.ClassicView.registerClass("Telerik.Web.UI.Editor.Modules.DomInspector.ClassicView",Telerik.Web.UI.Editor.Modules.DomInspector.BaseView);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.DomInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.DomInspector");
(function(a,d,b,c){b.LightweightView=function(e){var f=this;
b.LightweightView.initializeBase(f,[e]);
f._removeNodeClass="reRemoveDOMElement";
f._selectedNodeClass="reDOMElementSelected";
f._nodeClass="reDOMElement";
f._separatorContent="&gt;";
};
b.LightweightView.prototype={getRootClassName:function(){return"reModule reHTMLStructure reRow reCaptionRow";
},_getElemNodeClass:function(f){var e=this._nodeClass;
if(f){e+=" "+this._selectedNodeClass;
}return e;
}};
b.LightweightView.registerClass("Telerik.Web.UI.Editor.Modules.DomInspector.LightweightView",Telerik.Web.UI.Editor.Modules.DomInspector.BaseView);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.DomInspector);
(function(a,o){Type.registerNamespace("Telerik.Web.UI.Editor.Modules.DomInspector");
var c=Telerik.Web.UI;
var g=c.Editor;
var b=g.Modules.DomInspector;
var l=50;
var h=Sys.UI.DomElement.containsCssClass;
var e=".reDomElement";
var i=".reIcon";
var f=".reDom";
var p="reModule t-hbox";
var m="reDomElementSelected";
var d="reIconDelete";
var j="reScrollLeft";
var k="reScrollRight";
b.Templates={DomElementsContainerTemplate:'<div class="reDomWrapper reScrollLeft reScrollRight t-flex"><div class="reDom"/></div>',DomElementTemplate:'<a  href="#" class="reDomElement"/>',RemoveDomElementTemplate:'<span class="reDelete" title="DeleteElement" role="button"><span class="reIcon reIconDelete"></span></span>',SeparatorTemplate:"<span>&gt;</span>"};
var n=b.Templates;
b.MobileView=function(q){var r=this;
b.MobileView.initializeBase(r,[q]);
r._domElementLinksContainer=null;
r._removeDomElementLinkTool=null;
};
b.MobileView.prototype={initialize:function(){b.MobileView.callBaseMethod(this,"initialize");
},dispose:function(){if(this.list){this.list.off("scroll");
this.list=o;
}this.container=o;
this._domElementLinksContainer=o;
b.MobileView.callBaseMethod(this,"dispose");
},createElementsNode:function(q,s){var t=this;
var r=a(n.DomElementTemplate).html(q).appendTo(t._domElementLinksContainer);
if(s){r.addClass(m);
}else{this.createSeparator();
}return r;
},createRemoveNode:function(){var q=this;
q._removeDomElementLinkTool=a(n.RemoveDomElementTemplate).appendTo(q.get_element()).get(0);
return q._removeDomElementLinkTool;
},createSeparator:function(){var r=this;
var q=a(n.SeparatorTemplate).appendTo(r._domElementLinksContainer).get(0);
return q;
},render:function(){var t=this;
var r=t.get_element();
a(r).addClass(p);
var q=t.container=a(n.DomElementsContainerTemplate).appendTo(r);
var s=t.list=q.children(f).first();
s.stopScroll(Function.createDelegate(this,this._onScroll),l);
t._domElementLinksContainer=s.get(0);
},onShow:function(){this._onScroll();
},isDeleteBtn:function(q){return h(q,d);
},clear:function(){var q=this;
a(q._domElementLinksContainer).empty();
a(q._removeDomElementLinkTool).remove();
},_getDomElementLinksContainer:function(){return this._domElementLinksContainer;
},_getRemoveNodeTool:function(){return this._removeDomElementLinkTool;
},_getRemoveNodeToolIcon:function(){return a(this._getRemoveNodeTool()).children(i).get(0);
},_getDomElementLinks:function(){return a(this._getDomElementLinksContainer()).children(e);
},_onScroll:function(){var q=this.container;
var r=this._domElementLinksContainer;
var s=function(t,u){if(u){q.addClass(t);
}else{q.removeClass(t);
}};
s(j,r.scrollLeft>0);
s(k,(r.scrollWidth-r.scrollLeft)>r.clientWidth);
}};
a.fn.stopScroll=function(q,r){return this.scroll(a.debounce(r||250,q||Function.emptyFunction));
};
b.MobileView.registerClass("Telerik.Web.UI.Editor.Modules.DomInspector.MobileView",b.BaseView);
})($telerik.$);
(function(a,e){Type.registerNamespace("Telerik.Web.UI.Editor.Modules.DomInspector");
var c=Telerik.Web.UI;
var d=c.RenderMode;
var b=c.Editor.Modules.DomInspector;
b.ViewFactory={getView:function(f){var g=f.get_editor().get_renderMode();
switch(g){case d.Classic:return new b.ClassicView(f);
case d.Lite:return new b.LightweightView(f);
case d.Mobile:return new b.MobileView(f);
default:return null;
}}};
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.NodeInspector");
(function(a){Telerik.Web.UI.Editor.Modules.NodeInspector.ToolsController=function(b){this._tools=b;
};
Telerik.Web.UI.Editor.Modules.NodeInspector.ToolsController.prototype={initialize:function(){},dispose:function(){delete this._tools;
},update:function(e,d){var c=this._tools[e],b=d.getAttribute?d.getAttribute(e):null;
if(c){if(typeof(this["_"+e])==="function"){this["_"+e](c,d);
}else{if(c.set_value){c.set_value(b||"");
}}}},_noWrap:function(b,c){var d=(c.style.whiteSpace=="nowrap")?"nowrap":"";
if(!d){d=c.noWrap;
}b.set_value(d);
},_border:function(b,c){var d=parseInt(c.style.borderWidth,10);
if(isNaN(d)){d="";
}b.set_value(d);
},_bgColor:function(b,c){this._setColor("backgroundColor",b,c);
},_borderColor:function(b,c){this._setColor("borderColor",b,c);
},_setColor:function(b,c,d){var f=d.style[b];
if(!f){f=d.getAttribute(b);
}if(f){var e=f.indexOf(")");
if(e!=-1){f=f.substring(0,e+1);
}}c.set_color(f);
},_align:function(c,d){var g=d.tagName.toLowerCase();
switch(g){case"img":c.updateValue("",null);
var e=($telerik.isIE)?"styleFloat":"cssFloat";
var f=(typeof(d.style[e])=="undefined")?"":d.style[e];
var j=(typeof(d.style.verticalAlign)=="undefined")?"":d.style.verticalAlign;
if(j==""&&f!=""){switch(f){case"left":c.updateValue("left",null);
break;
case"right":c.updateValue("right",null);
break;
}}if(f==""){switch(j){case"top":c.updateValue("top",null);
break;
case"middle":c.updateValue("absmiddle",null);
break;
case"text-bottom":c.updateValue("bottom",null);
break;
}}break;
case"td":case"th":var h=d.style.textAlign;
var k=d.style.verticalAlign;
var b=d.getAttribute("align");
var i=d.getAttribute("vAlign");
if((h=="left"||h=="center"||h=="right")&&(k=="top"||k=="middle"||k=="bottom")){c.updateValue(h,k);
}else{if(b||i){c.updateValue(b,i);
}else{c.updateValue(null,null);
}}break;
default:c.updateValue(d.getAttribute("align"),d.getAttribute("vAlign"));
break;
}},_target:function(b,c){var d=c.getAttribute("target");
b.updateValue(d||"");
},_width:function(b,c){this._setDimention("width",b,c);
},_height:function(b,c){this._setDimention("height",b,c);
},_setDimention:function(b,c,d){var e=d.style[b];
if(!e){e=d.getAttribute(b);
}if(!e&&d.nodeName=="IMG"){e=(b=="width")?d.offsetWidth:d.offsetHeight;
}c.set_value(e);
},_name:function(b,c){b.set_value(c.name);
},_className:function(c,d){var b=d.getAttribute("class");
if(!b){b="";
}c.updateValue(b);
}};
})();
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.NodeInspector");
(function(a,d,b,c){b.ClassicView=function(e){b.ClassicView.initializeBase(this,[e]);
this.owner=e;
};
b.ClassicView.prototype={createUI:function(){var o=this.owner;
var f=o._tools;
var k=o._nodeInspectorAttributesArray;
var l=document.createElement("table");
l.border=0;
l.cellSpacing=0;
l.cellPadding=0;
for(var p=0;
p<k.length;
p++){var g=k[p];
var n=l.insertRow(-1);
for(var h=0;
h<g.length;
h++){var j=g[h];
var m=n.insertCell(-1);
m.style.display="none";
m.setAttribute("controlName",j);
m.innerHTML=o._getLocalizedString(j,j);
m.className="reModuleLabel";
m=n.insertCell(-1);
m.style.display="none";
m.setAttribute("controlHolder",j);
var e=o._getControlByName(j);
if(e){f[j]=e;
m.appendChild(e.get_element());
}}}return l;
},updateControls:function(w){var u=this.owner;
var k=u._nodeAttributesArray[w.tagName];
var p=u._mainPanel;
var l=u._tools;
for(var v=0;
v<p.rows.length;
v++){var s=p.rows[v];
for(var n=0;
n<s.cells.length;
n++){var r=s.cells[n];
var h=r.getAttribute("controlName");
if(h){r.style.display=u._arrayValueExists(h,k)?"":"none";
}var g=r.getAttribute("controlHolder");
if(g){r.style.display=u._arrayValueExists(g,k)?"":"none";
if("none"==r.style.display){continue;
}var j=l[g];
var f=w.getAttribute?w.getAttribute(g,2):"";
var t;
if(g=="noWrap"){var q=(w.style.whiteSpace=="nowrap")?"nowrap":"";
if(!q){q=w.noWrap;
}j.set_value(q);
}else{if(g=="border"){t=parseInt(w.style.borderWidth,10);
if(isNaN(t)){t="";
}j.set_value(t);
}else{if(g=="borderColor"||g=="bgColor"){if(g=="bgColor"){g="backgroundColor";
}t=w.style[g];
if(!t){t=w.getAttribute(g);
}if(t){var o=t.indexOf(")");
if(o!=-1){t=t.substring(0,o+1);
}}j.set_color(t);
}else{if(g=="align"){var z=w.tagName.toLowerCase();
switch(z){case"img":j.updateValue("",null);
var m=($telerik.isIE)?"styleFloat":"cssFloat";
var y=(typeof(w.style[m])=="undefined")?"":w.style[m];
var D=(typeof(w.style.verticalAlign)=="undefined")?"":w.style.verticalAlign;
if(D==""&&y!=""){switch(y){case"left":j.updateValue("left",null);
break;
case"right":j.updateValue("right",null);
break;
}}if(y==""){switch(D){case"top":j.updateValue("top",null);
break;
case"middle":j.updateValue("absmiddle",null);
break;
case"text-bottom":j.updateValue("bottom",null);
break;
}}break;
case"td":case"th":var B=w.style.textAlign;
var E=w.style.verticalAlign;
var e=w.getAttribute("align");
var C=w.getAttribute("vAlign");
if((B=="left"||B=="center"||B=="right")&&(E=="top"||E=="middle"||E=="bottom")){j.updateValue(B,E);
}else{if(e||C){j.updateValue(e,C);
}else{j.updateValue(null,null);
}}break;
default:j.updateValue(w.getAttribute("align"),w.getAttribute("vAlign"));
break;
}}else{if(g=="target"){var A=w.getAttribute(g);
j.updateValue(A||"");
}else{if(g=="width"||g=="height"){var x=w.style[g];
if(!x){x=w.getAttribute(g);
}if(!x&&w.nodeName=="IMG"){x=(g=="width")?w.offsetWidth:w.offsetHeight;
}j.set_value(x);
}else{if("name"==g.toLowerCase()){j.set_value(w.name);
}else{if("className"==g){if(!u.isIE){f=w.getAttribute("class");
}if(!f){f="";
}j.updateValue(f);
}else{if(f&&j.set_value){j.set_value(f);
}else{if(j.set_value){j.set_value("");
}}}}}}}}}}}}}}};
b.ClassicView.registerClass("Telerik.Web.UI.Editor.Modules.NodeInspector.ClassicView",d.Editor.Modules.Views.DefaultView);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.NodeInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.NodeInspector");
(function(a,d,b,c){b.LightweightView=function(e){this.owner=e;
};
b.LightweightView.prototype={initialize:function(){},dispose:function(){delete this.owner;
},render:function(){},createUI:function(){var m=this.owner;
var f=m._tools;
var l=m._nodeInspectorAttributesArray;
var p=document.createElement("div");
for(var n=0;
n<l.length;
n++){var g=l[n];
var o=document.createElement("div");
o.className="reRow reAltRow";
p.appendChild(o);
for(var h=0;
h<g.length;
h++){var j=g[h];
var k=document.createElement("span");
k.setAttribute("controlName",j);
k.className="reLabel";
k.innerHTML=m._getLocalizedString(j,j);
o.appendChild(k);
var e=m._getControlByName(j);
if(e){f[j]=e;
o.appendChild(e.get_element());
}}}return p;
},updateControls:function(f){var e=this.owner;
var g=e._tools;
var h=new Telerik.Web.UI.Editor.Modules.NodeInspector.ToolsController(g);
a(e._mainPanel).find("span").each(function(k,m){var l=a(m);
var i=null;
var j=l.attr("controlName");
if(j){l.css("display","none");
i=g[j];
if(i){a(i.get_element()).css("display","none");
if(a.inArray(j,e._nodeAttributesArray[f.tagName])>-1){l.css("display","");
a(i.get_element()).css("display","");
h.update(j,f);
}}}});
}};
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.NodeInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.NodeInspector");
(function(a,d,b,c){b.ViewFactory=function(){};
b.ViewFactory.getView=function(f){var e=d.RenderMode,g=f.get_editor().get_renderMode();
var h=null;
if(g==e.Lite){h=new b.LightweightView(f);
}else{if(g==e.Classic){h=new b.ClassicView(f);
}}return h;
};
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.NodeInspector);
(function(a,b){Type.registerNamespace("Telerik.Web.UI.Editor");
Type.registerNamespace("Telerik.Web.UI.Editor.Modules");
Telerik.Web.UI.Editor.ModulesManager=function(c){this._editor=c;
this._modules=[];
this._onEditorModeChangeDelegate=Function.createDelegate(this,this._onEditorModeChange);
};
Telerik.Web.UI.Editor.ModulesManager.prototype={initialize:function(){this.createModules();
this._editor.add_modeChange(this._onEditorModeChangeDelegate);
},getModuleByName:function(d){for(var c=0;
c<this._modules.length;
c++){if(this._modules[c].get_name()==d){return this._modules[c];
}}return null;
},createModules:function(){if(!this._editor){return;
}var d=this._editor.get_modulesJSON();
for(var c=0;
c<d.length;
c++){if(d[c].name!="RadEditorTrackChangesInfo"||this._editor.get_enableComments()||this._editor.get_enableTrackChanges()){this.createModule(d[c]);
}}},createModule:function(c){if(c.attributes){for(var h in c.attributes){c[h.toLowerCase()]=c.attributes[h];
}}var g=c.enabled;
if(false==g){return;
}c.editor=this._editor;
var j=c.name;
if(j){c.title=this._editor.getLocalizedString(j);
}var d=null;
try{d=eval("Telerik.Web.UI.Editor.Modules."+j);
}catch(f){}if(!d){try{d=eval(j);
}catch(f){}}if(d){var i=document.createElement("div");
var k=this._getModuleZone(c.dockingzone);
delete c.dockingzone;
delete c.dockable;
if(k){if(k.innerHTML=="&nbsp;"||k.innerHTML.length==1){k.innerHTML="";
}k.appendChild(i);
}this._modules[this._modules.length]=$create(d,c,null,null,i);
}},_getModuleZone:function(e){var c=this._editor;
if(c.get_renderMode()===Telerik.Web.UI.RenderMode.Mobile){return a(c.get_element()).find(".reModules").get(0);
}else{var d=this._editor.get_id();
var f=$get(d+e);
if(!f){f=$get(d+"Module");
}return f;
}},_onEditorModeChange:function(f,c){var d=Telerik.Web.UI.EditModes;
var e=f.get_mode();
this.setModulesVisible((e==d.Design));
},setModulesVisible:function(c){var f=this._modules;
var d=false;
var e;
if(!c&&this._enabledModules==null){d=true;
this._enabledModules={};
for(e=0;
e<f.length;
e++){var g=f[e];
if(g.get_visible()){this._enabledModules[g.get_name()]=true;
}g.set_visible(false);
}}else{if(c&&this._enabledModules){d=true;
for(e=0;
e<f.length;
e++){var h=f[e];
var j=this._enabledModules[h.get_name()];
if(j){h.set_visible(true);
}}this._enabledModules=null;
}}if(d){this._fixIEBottomZoneDisplacement(c);
}},_fixIEBottomZoneDisplacement:function(d){if($telerik.isIE&&this._editor.get_renderMode()==Telerik.Web.UI.RenderMode.Classic){if(!this._emptySpan){this._emptySpan=document.createElement("span");
var c=this._getModuleZone("Bottom");
if(c){var e=this._emptySpan;
e.innerHTML="&nbsp;";
e.style.display="none";
c.appendChild(e);
}}this._emptySpan.style.display=d?"none":"";
}},get_modules:function(){return this._modules;
}};
Telerik.Web.UI.Editor.ModulesManager.registerClass("Telerik.Web.UI.Editor.ModulesManager",null);
Telerik.Web.UI.Editor.Modules.ModuleBase=function(c){var d=this;
Telerik.Web.UI.Editor.Modules.ModuleBase.initializeBase(this,[c]);
this._editor=null;
this._name="";
this._visible=true;
this._enabled=true;
this._rendered=false;
this._enableMaxWidth=true;
this._title="";
this._className="reModule";
this._scriptFile="";
this._attributes={};
this.isSafari=$telerik.isSafari;
this.isIE=$telerik.isIE;
this.isOpera=$telerik.isOpera;
this.isFirefox=$telerik.isFirefox;
this._view=new Telerik.Web.UI.Editor.Modules.Views.DefaultView(d);
};
Telerik.Web.UI.Editor.Modules.ModuleBase.prototype={initialize:function(){Telerik.Web.UI.Editor.Modules.ModuleBase.callBaseMethod(this,"initialize");
if(this.get_visible()){this.render();
this.attachEventHandlers();
}},render:function(){this._view.render();
this._rendered=true;
},attachEventHandlers:function(){},detachEventHandlers:function(){},toggleVisibility:function(){this.set_visible(!this.get_visible());
},attachEventHandler:function(e,d){var c=this.get_editor();
if(c){c.attachInternalHandler(e,d);
}},_getLocalizedString:function(d,c){return this._editor.getLocalizedString(d,c);
},get_editor:function(){return this._editor;
},set_editor:function(c){this._editor=c;
},get_attributes:function(){return this._attributes;
},set_attributes:function(c){this._attributes=c;
},get_scriptFile:function(){return this._scriptFile;
},set_scriptFile:function(c){this._scriptFile=c;
},get_visible:function(){var c=this.get_element();
if(!c){return false;
}return(c.style.display!="none");
},set_visible:function(c){if(c&&!this._rendered){this.render();
}var d=this.get_element();
d.style.display=c?"":"none";
if(c){this.onShow();
}},get_enabled:function(){return this._enabled;
},set_enabled:function(c){this._enabled=c;
},get_title:function(){return this._title;
},set_title:function(c){this._title=c;
},get_name:function(){return this._name;
},set_name:function(c){this._name=c;
},onShow:function(){},dispose:function(){this.detachEventHandlers();
Telerik.Web.UI.Editor.Modules.ModuleBase.callBaseMethod(this,"dispose");
}};
Telerik.Web.UI.Editor.Modules.ModuleBase.registerClass("Telerik.Web.UI.Editor.Modules.ModuleBase",Sys.UI.Control);
})($telerik.$);
(function(a,k){Type.registerNamespace("Telerik.Web.UI");
var c=Telerik.Web.UI;
var l=c.Editor.Utils;
var h=l.isTag;
var e=Sys.UI.DomElement;
var d=e.addCssClass;
var i=e.removeCssClass;
var f=e.containsCssClass;
var b=c.Editor.Modules;
var j=3;
var g="RadEDomMouseOver";
b.RadEditorDomInspector=function(m){b.RadEditorDomInspector.initializeBase(this,[m]);
};
b.RadEditorDomInspector.prototype={initialize:function(){this._onSelectionChangeHandler=Function.createDelegate(this,this._onSelectionChange);
this._editorPathArray=[];
this._removeElementString=this._getLocalizedString("DomInspectorRemoveElement","Remove Element");
this._view=b.DomInspector.ViewFactory.getView(this);
b.RadEditorDomInspector.callBaseMethod(this,"initialize");
},dispose:function(){var m=this;
m.clear();
if(m._view){m._view.dispose();
delete m._view;
}b.RadEditorDomInspector.callBaseMethod(m,"dispose");
},render:function(){var m=this;
b.RadEditorDomInspector.callBaseMethod(m,"render");
m.clear();
m.get_editor().add_selectionChange(m._onSelectionChangeHandler);
m.showDomPath();
},get_visible:function(){var m=this.get_editor();
if(m.get_renderMode()!=c.RenderMode.Mobile){return b.RadEditorDomInspector.callBaseMethod(this,"get_visible");
}var n=this.get_element();
return !$telerik.getInvisibleParent(n)&&!$telerik.getHiddenParent(n);
},attachEventHandlers:function(){this._registerMouseHandlers(true);
},detachEventHandlers:function(){this._registerMouseHandlers(false);
},_onSelectionChange:function(){var m=this;
setTimeout(function(){m.showDomPath();
},50);
},_registerMouseHandlers:function(m){var o=this.get_element();
if(true==m){var n={click:this._onMouseClick,mouseover:this._onMouseOver,mouseout:this._onMouseOut};
$addHandlers(o,n,this);
}else{if(o){$clearHandlers(o);
}}},_highlightNode:function(m){d(m,g);
},_removeNodeHighlight:function(m){if(!f(m,g)){return;
}i(m,g);
if(""==m.className){m.removeAttribute("className",0);
m.removeAttribute("class",0);
}},_onMouseOver:function(n){try{var m=this._getReferredEditorElement(n);
if(!m||this._isSelectedElement(m)){return;
}Sys.UI.DomElement.addCssClass(m,"RadEDomMouseOver");
}catch(o){}},_onMouseOut:function(n){var m=this._getReferredEditorElement(n);
if(!m){return;
}try{Sys.UI.DomElement.removeCssClass(m,"RadEDomMouseOver");
if(""==m.className){m.removeAttribute("className",0);
m.removeAttribute("class",0);
}}catch(o){}},_onMouseClick:function(m){var p=m.target;
var q=this._view;
if(!p||!q||!q.isClickableNode(p)){return null;
}if(q.isDeleteBtn(p)){var n=this._editorPathArray[0];
this.removeSelectedElement(n);
}else{var o=this._getReferredEditorElement(m);
this.selectElement(o);
}this._updateTabChooser();
return $telerik.cancelRawEvent(m);
},_updateTabChooser:function(){var m=this.get_editor();
var o=m.get_toolAdapter();
if(o.get_tabChooser){var n=o.get_tabChooser();
n.selectContextualTab(l.getSelectedElement(m));
}},clear:function(){this.detachEventHandlers();
if(this._view){this._view.clear();
}this._editorPathArray=[];
},_createRemoveNodeLink:function(){var m=this;
var n=m._view;
if(n){n.createRemoveNode();
}},addDomCouple:function(m,n){if(!m||!m.tagName){return;
}if(this._view){this._view.createElementsNode(m.tagName,n);
}},_getPathArray:function(o,n){var m=[];
var p=this._isMarker;
if(o&&o.nodeType==j){o=o.parentNode;
}while(o&&o!=n){if(!p(o)){m.push(o);
}o=o.parentNode;
}return m;
},_isMarker:function(m){return a(m).is(".__reTextHighlight,.__reHighlightMarker");
},_isSelectedElement:function(n){var m=this._editorPathArray;
if(m&&m[0]==n){return true;
}},_getReferredEditorElement:function(m){var r=m.target;
if(!r||r.tagName!="A"){return null;
}var p=this.get_element().getElementsByTagName("A");
var o=-1;
for(var n=0;
n<p.length;
n++){if(p[n]==r){o=n;
break;
}}if(o>-1){var q=this._editorPathArray.concat([]).reverse();
return q[o];
}},showDomPath:function(){if(!this.get_visible()){return;
}try{var n=this.get_editor();
var o=n.getSelectedElement();
if(!o){return;
}var m=n.get_contentArea();
if(!$telerik.$.contains(m,o)){this.renderPath(m);
}this.renderPath(o);
}catch(p){}},renderPath:function(m){this.clear();
this._renderPath(m);
},onShow:function(){if(this._view){this._view.onShow();
}},selectElement:function(o){try{var n=this.get_editor();
this._removeNodeHighlight(o);
this._selectedElement=o;
if(n.get_renderMode()===c.RenderMode.Mobile){this.selectElementMobile(o);
}else{var m=o.childNodes;
if(m.length===1&&h(m[0],"img")){n.selectElement(o);
}else{n.selectElementContents(o);
}this.showDomPath();
}this._selectedElement=null;
}catch(p){}},selectElementMobile:function(n){var m=this.get_editor();
var p=m.get_toolAdapter();
p._removeSelectionHighlight();
var s=m.getDomRange();
var t=function(v){return h(n,v);
};
if(t("table")||t("ul")||t("ol")){s.selectNode(n);
}else{if(t("tr")||t("tbody")||t("thead")){var u=n.getElementsByTagName("td");
var o=u[0];
var q=u[u.length-1];
var r=q.childNodes[q.childNodes.length-1];
if(l.isTextNode(r)){r=q;
}s.setStart(o,0);
s.setEnd(r,r.childNodes.length);
}else{s.selectNodeContents(n);
}}s.select();
m.raiseEvent("selectionChange",Sys.EventArgs.Empty);
p._highlightSelection();
this.renderPath(n);
},removeSelectedElement:function(p){var o=this.get_editor();
var r=function(s){return h(p,s);
};
var n;
try{if(r("TD")||r("TH")){o.fire("DeleteCell");
}else{if(r("TR")){var m=p.getElementsByTagName("td");
if(m.length){this.selectElement(m[0]);
o.fire("DeleteRow");
}}else{if(r("TABLE")||r("TBODY")||r("THEAD")||r("TFOOT")||r("EMBED")||r("OBJECT")||r("INPUT")||r("IMG")||r("HR")){n=new Telerik.Web.UI.Editor.GenericCommand(this._removeElementString,o.get_contentWindow(),o);
window.setTimeout(function(){p.parentNode.removeChild(p);
o.setFocus();
o.executeCommand(n);
o.raiseEvent("selectionChange");
},0);
}else{if(p!==o.get_contentArea()){n=new Telerik.Web.UI.Editor.GenericCommand(this._removeElementString,o.get_contentWindow(),o);
Telerik.Web.UI.Editor.Utils.removeNode(p);
o.setFocus();
o.executeCommand(n);
}}}}}catch(q){}o.raiseEvent("selectionChange");
},_renderPath:function(p){var o=this.get_editor();
var n=o.get_contentArea();
if(o.get_enableImmutableElements()&&l.isImmutableNode(p)){return;
}this._editorPathArray=this._getPathArray(p,n);
var m=this._editorPathArray;
for(var q=m.length-1;
q>=0;
q--){this.addDomCouple(m[q],(q==0));
}this.attachEventHandlers();
if(m.length>0){this._createRemoveNodeLink();
}},_getDomElementLinks:function(){var m=this;
return m._view?m._view._getDomElementLinks():[];
},_getRemoveNodeTool:function(){var m=this;
return m._view?m._view._getRemoveNodeTool():null;
},_getRemoveNodeToolIcon:function(){var m=this;
return m._view?m._view._getRemoveNodeToolIcon():null;
}};
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorDomInspector",Telerik.Web.UI.Editor.Modules.ModuleBase);
})($telerik.$);
(function(a,h){var f=a.proxy;
var b=Telerik.Web.UI.Editor;
var c=b.Modules;
var e=".htmlInspector";
var d="keyup";
var g="textarea";
c.RadEditorHtmlInspector=function(i){var j=this;
j._textarea=null;
c.RadEditorHtmlInspector.initializeBase(j,[i]);
};
c.RadEditorHtmlInspector.prototype={initialize:function(){var i=this;
i._selectionChangeHandler=Function.createDelegate(i,i._selectionChange);
c.RadEditorHtmlInspector.callBaseMethod(this,"initialize");
},dispose:function(){var k=this;
var j=k.get_editor();
var i=j.get_contentArea();
a(k._textarea).off(e);
a(k._textarea).remove();
k._textarea=null;
a(i).off(d+e);
c.RadEditorHtmlInspector.callBaseMethod(this,"dispose");
},set_visible:function(i){c.RadEditorHtmlInspector.callBaseMethod(this,"set_visible",[i]);
if(i){this._selectionChange();
}},render:function(){var l=this;
var k=l.get_element();
var j=l.get_editor();
var i=j.get_contentArea();
var m;
c.RadEditorHtmlInspector.callBaseMethod(l,"render");
m=document.createElement(g);
m.style.width="99%";
m.className="reTextarea";
m.setAttribute("rows","10");
m.setAttribute("cols","80");
a(m).on(d+e,f(l.updateEditorContent,l));
l._textarea=m;
l._updateContent();
a(k).append(m);
j.add_selectionChange(l._selectionChangeHandler);
a(i).off(d+e);
a(i).on(d+e,f(l._updateContent,l));
},updateEditorContent:function(){var j=this;
var i=j.get_editor();
if(!j.get_visible()){return;
}i.set_html(a(j._textarea).val(),j._getLocalizedString("Typing"),false,false);
if(i.get_enableImmutableElements()){b.Utils.revertOriginalImmutables(i);
}},_selectionChange:function(){this._updateContent();
},_updateContent:function(){var k=this;
var i=k.get_editor();
var j=b.Utils.removeLastBrString(a(i.get_contentArea()).html());
a(k._textarea).val(j);
}};
c.RadEditorHtmlInspector.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector",c.ModuleBase);
})($telerik.$);
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector=function(a){Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.initializeBase(this,[a]);
this._updateMainPanelDelegate=Function.createDelegate(this,this._updateMainPanel);
this._onToolValueSelectedDelegate=Function.createDelegate(this,this._onToolValueSelected);
this._onDropDownBeforeShowDelegate=Function.createDelegate(this,this._onDropDownBeforeShow);
this._tools={};
this._toolNames={};
this._selectedElement=null;
this._view=null;
};
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.prototype={_nodeAttributesArray:{TABLE:["width","borderColor","cellSpacing","bgColor","className","SetTableProperties","height","cellPadding","align","border"],TH:["width","borderColor","bgColor","className","SetCellProperties","height","align","noWrap","border"],TD:["width","borderColor","bgColor","className","SetCellProperties","height","align","noWrap","border"],TR:["width","className","height"],A:["href","className","LinkManager","title","target","id"],IMG:["width","borderColor","className","SetImageProperties","height","align","border","alt","title"],INPUT:["NAME","width","height","id","title","className","value"],BUTTON:$telerik.isIE&&!$telerik.isIE9Mode?null:["NAME","width","height","id","title","className","value"],FORM:["className","width","height","NAME","action","id"],TEXTAREA:["className","width","height","NAME","id","rows","cols"]},_nodeInspectorAttributesArray:[["rows","NAME","width","cellSpacing","borderColor","href","alt","align","value","target","SetTableProperties","SetCellProperties","LinkManager"],["cols","id","height","action","cellPadding","border","bgColor","title","noWrap","className","SetImageProperties"]],initialize:function(){this.get_editor().add_selectionChange(this._updateMainPanelDelegate);
this._invalidValueString=this._getLocalizedString("NodeInspectorInvalidValue","Invalid value. Please enter a number.");
this._view=Telerik.Web.UI.Editor.Modules.NodeInspector.ViewFactory.getView(this);
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.callBaseMethod(this,"initialize");
},render:function(){Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.callBaseMethod(this,"render");
var a=this.get_element();
a.style.height=this._getModuleHeight();
},_getModuleHeight:function(){var b=this.get_skin(),a;
switch(b){case"Glow":case"Silk":a=60;
break;
case"BlackMetroTouch":case"MetroTouch":a=75;
break;
case"Bootstrap":case"Material":a=85;
break;
default:a=55;
break;
}return a+"px";
},get_skin:function(){return this._editor.get_skin();
},getNamedCssForSelectedElement:function(a){return this.get_editor().getCssArray(a);
},dispose:function(){this._tools=[];
this._mainPanel=null;
if(this._view){this._view.dispose();
this._view=null;
}Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.callBaseMethod(this,"dispose");
},_createMainPanel:function(){if(this._view){return this._view.createUI();
}},_updateMainPanel:function(){if(!this.get_visible()||!this._view){return;
}if(!this._isMainCreated){this._mainPanel=this._createMainPanel();
this._mainPanel.style.display="none";
this.get_element().appendChild(this._mainPanel);
this._isMainCreated=true;
}var c=this.get_editor();
var f=c.getSelectedElement();
var h=Telerik.Web.UI.Editor.Utils;
if(!f||h.isEditorContentArea(f)||f.ownerDocument!=c.get_document()||(c.get_enableImmutableElements()&&h.isImmutableNode(f))){this._mainPanel.style.display="none";
return;
}if(f.tagName=="TBODY"){f=f.parentNode;
}var a=this._nodeAttributesArray[f.tagName];
if(!a){var d=h.getElementParentByTag(f,"A");
if(!d){d=h.getElementParentByTag(f,"TD");
}if(!d){d=h.getElementParentByTag(f,"TH");
}if(d){f=d;
}else{this._mainPanel.style.display="none";
return;
}}var g=null;
if(this._selectedElement){try{g=this._selectedElement.tagName;
}catch(b){}}if(!this._selectedElement||(g!=f.tagName)){this._tools.align.setTagName(f.tagName);
}this._selectedElement=f;
this._updateControlValues(this._selectedElement);
this._mainPanel.style.display="";
},_arrayValueExists:function(b,a){return Array.contains(a,b);
},_issValidAttribValue:function(b){if(null==b){return false;
}b=b.trim();
if(""==b){return true;
}var a=parseInt(b,10);
if(isNaN(a)){return false;
}return true;
},_onDropDownBeforeShow:function(f,a){var c=this.get_editor();
var h=f.get_name();
var b=f.get_items();
if(b&&b.length>0&&h!=="className"){return;
}var d=null;
switch(h){case"className":var e=this._selectedElement;
var g=e&&e.tagName?e.tagName:"";
d=c.getCssArray(g);
break;
case"target":d=[["_blank",this._getLocalizedString("blank","New Window")],["_self",this._getLocalizedString("self","Same Window")],["_parent",this._getLocalizedString("parent","Parent window")],["_top",this._getLocalizedString("top","Top browser window")],["_search",this._getLocalizedString("search","Search pane")],["_media",this._getLocalizedString("media","Media pane")]];
break;
case"bgColor":case"borderColor":d=c.get_colors();
break;
}if(d){f.set_items(d);
}},_onToolValueSelected:function(b,a){if(b){if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(b)||Telerik.Web.UI.EditorSpinBox.isInstanceOfType(b)||Telerik.Web.UI.EditorCheckBox.isInstanceOfType(b)||Telerik.Web.UI.EditorTextBox.isInstanceOfType(b)){this.fire(b);
}else{this.get_editor().fire(b.get_name());
}}},executeStyleRuleCommand:function(c,e,d,f){var b=this.get_editor();
var a=new Telerik.Web.UI.Editor.StyleRuleCommand(f,b.get_contentWindow(),c,e,d,b);
b.executeCommand(a);
},executeAttributeCommand:function(d,a,e,f){var c=this.get_editor();
var b=new Telerik.Web.UI.Editor.AttributeCommand(f,c.get_contentWindow(),d,a,e,c);
c.executeCommand(b);
},_updateControlValues:function(a){if(this._view){this._view.updateControls(a);
}},fire:function(i){if(!i){return;
}var e=i.get_name();
var l=this._getLocalizedString(e,e);
if(!l){l=e;
}var c,j;
var h=this._selectedElement;
if("AlignmentSelector"==e){var a=i.getAlign();
var m=i.getVAlign();
l=this._getLocalizedString("Align","Align");
var n=this._getLocalizedString("vAlign","vAlign");
var g=($telerik.isIE)?"styleFloat":"cssFloat";
var k=h.tagName.toLowerCase();
var d=false;
switch(k){case"img":switch(a){case"left":this.executeStyleRuleCommand(h,g,"left",l);
this.executeStyleRuleCommand(h,"verticalAlign","",l);
break;
case"right":this.executeStyleRuleCommand(h,g,"right",l);
this.executeStyleRuleCommand(h,"verticalAlign","",l);
break;
case"top":this.executeStyleRuleCommand(h,g,"",l);
this.executeStyleRuleCommand(h,"verticalAlign","top",l);
break;
case"bottom":this.executeStyleRuleCommand(h,g,"",l);
this.executeStyleRuleCommand(h,"verticalAlign","text-bottom",l);
break;
case"absmiddle":this.executeStyleRuleCommand(h,g,"",l);
this.executeStyleRuleCommand(h,"verticalAlign","middle",l);
break;
default:this.executeStyleRuleCommand(h,g,"",l);
this.executeStyleRuleCommand(h,"verticalAlign","",l);
break;
}d=true;
break;
case"td":case"th":this.executeStyleRuleCommand(h,"textAlign",a,l);
this.executeStyleRuleCommand(h,"verticalAlign",m,n);
d=true;
break;
default:this.executeAttributeCommand(h,"align",a,l);
this.executeAttributeCommand(h,"vAlign",m,n);
break;
}if(d){h.removeAttribute("align");
h.removeAttribute("vAlign");
}}else{if("borderColor"==e){j=i.get_selectedItem();
this.executeStyleRuleCommand(this._selectedElement,"borderColor",j,l);
h.removeAttribute("borderColor");
}else{if("bgColor"==e){j=i.get_selectedItem();
this.executeStyleRuleCommand(this._selectedElement,"backgroundColor",j,l);
h.removeAttribute("bgColor");
}else{if("border"==e){j=i.get_selectedItem();
if(!this._issValidAttribValue(j)){alert(this._invalidValueString);
return;
}if(j){j+="px";
this.executeStyleRuleCommand(this._selectedElement,"borderWidth",j,l);
this.executeStyleRuleCommand(this._selectedElement,"borderStyle","solid",l);
}else{this.executeStyleRuleCommand(this._selectedElement,"borderWidth","",l);
this.executeStyleRuleCommand(this._selectedElement,"borderStyle","",l);
}h.removeAttribute("border");
}else{if("width"==e||"height"==e){j=i.get_selectedItem();
if(!this._issValidAttribValue(j)){alert(this._invalidValueString);
return;
}var f=function(q){var p=""+q;
if(p.indexOf("%")!=-1){return p;
}else{var o=p.match(/(em|ex|px|in|cm|mm|pt|pc)$/);
p=parseInt(p,10);
if(!isNaN(p)){p=(o)?p+o[0]:p+"px";
return p;
}}return q;
};
j=f(j);
if(this._selectedElement.removeAttribute){this._selectedElement.removeAttribute(e);
}this.executeStyleRuleCommand(this._selectedElement,e,j,l);
}else{if("noWrap"==e){c=i.get_selectedItem();
if(c){this.executeStyleRuleCommand(this._selectedElement,"whiteSpace","nowrap",l);
}else{this.executeStyleRuleCommand(this._selectedElement,"whiteSpace","",l);
}}else{var b=e;
c=i.get_selectedItem();
switch(e){case"background":case"className":case"target":case"value":break;
case"cellSpacing":case"cellPadding":if(!this._issValidAttribValue(c)){alert(this._invalidValueString);
return;
}break;
case"NAME":if(!this.isIE){b="name";
}}this.executeAttributeCommand(h,b,c,l);
}}}}}}if(this._selectedElement){this._updateControlValues(this._selectedElement);
}if(this._selectedElement.style.cssText==""){this._selectedElement.removeAttribute("style");
}},_getControlByName:function(c){var a=null,d=Telerik.Web.UI.RenderMode.toString(this.get_editor()._renderMode)=="Lite"?"Lightweight":Telerik.Web.UI.RenderMode.toString(this.get_editor()._renderMode),e={text:this._getLocalizedString(c),name:c,addClickHandler:true,skin:this.get_skin()},b={valueSelected:this._onToolValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate};
switch(c){case"className":e.text=this._getLocalizedString("className");
e.width="90px";
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.Editor.ApplyClassDropDown);
break;
case"borderColor":case"bgColor":e.addCustomColorText=this._getLocalizedString("AddCustomColor");
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.Editor.ColorPicker);
break;
case"align":e.name="AlignmentSelector";
e.text=this._getLocalizedString("align");
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.Editor.AlignmentSelector);
break;
case"SetCellProperties":case"SetTableProperties":case"SetImageProperties":case"LinkManager":delete b.show;
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b);
break;
case"target":e.sizetofit=true;
e.width="90px";
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.EditorUpdateableDropDown);
break;
case"noWrap":delete b.show;
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.EditorCheckBox,document.createElement("span"));
break;
case"width":case"height":case"cellPadding":case"cellSpacing":case"rows":case"cols":case"border":delete b.show;
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.EditorSpinBox,document.createElement("span"));
break;
default:delete b.show;
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.EditorTextBox,document.createElement("span"));
}return a;
}};
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector",Telerik.Web.UI.Editor.Modules.ModuleBase);
(function(a,b,d){var c=b.Modules;
var e=b.Utils;
c.RadEditorStatistics=function(f){c.RadEditorStatistics.initializeBase(this,[f]);
};
c.RadEditorStatistics.prototype={initialize:function(){this._enableMaxWidth=false;
this._wordsString=this._getLocalizedString("StatisticsWords","Words:");
this._charactersString=this._getLocalizedString("StatisticsCharacters","Characters:");
this._onDoCountDelegate=Function.createDelegate(this,this.doCount);
this._className+=" reStatistic";
c.RadEditorStatistics.callBaseMethod(this,"initialize");
this.positionContainer();
},positionContainer:function(){var f=this.get_editor();
var g=$get(f.get_id()+"BottomResizer");
if(f.get_renderMode()===Telerik.Web.UI.RenderMode.Lite&&g){g.parentNode.appendChild(this.get_element());
}},render:function(){c.RadEditorStatistics.callBaseMethod(this,"render");
this.get_editor().add_selectionChange(this._onDoCountDelegate);
this.doCount();
},_trimNewLineCharsRegExp:/(^[\n\r]+)|([\n\r]+$)/g,_punctRegExp:/[!\.?;,:&_\-\u2013\{\}\[\]\(\)~#'"]/g,_trimSpacesRegExp:/(^[\s\u00a0]+)|([\s\u00a0]+$)/g,_space:/[\s\u00a0]+/g,doCount:function(){var h=this;
if(!h.get_visible()){return;
}var g=h.get_editor().get_text({removeMultipleSpaces:true});
g=g.replace(h._trimNewLineCharsRegExp,"");
var i=h._getWordsCount(g);
var f=h._getCharactersCount(g);
h._renderCounts(i,f);
},_getCharactersCount:function(f){return e._getCharactersCount(f);
},_getWordsCount:function(f){var g=this;
var i=f.replace(g._punctRegExp,"").replace(g._trimSpacesRegExp,"");
var h=i?i.split(g._space):[];
return h.length;
},_renderCounts:function(h,f){var g=this.get_element();
g.innerHTML="<span style='line-height:22px'>"+this._wordsString+" "+h+" &nbsp;&nbsp;"+this._charactersString+" "+f+"&nbsp;</span>";
}};
c.RadEditorStatistics.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorStatistics",c.ModuleBase);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules");
(function(d,a){var b=d.Editor;
var c=b.Modules;
c.RadEditorTrackChangesInfo=function(e){c.RadEditorTrackChangesInfo.initializeBase(this,[e]);
};
c.RadEditorTrackChangesInfo.prototype={initialize:function(){this._onRadEditorTrackChangesInfoDelegate=Function.createDelegate(this,this.getRadEditorTrackChangesInfo);
this._isTrackChangeOnFocus=false;
this._author="";
this._trackChangeType="";
this._currTrackChangeElement=null;
c.RadEditorTrackChangesInfo.callBaseMethod(this,"initialize");
},render:function(){var m=this;
var k=m.get_editor();
var l=k._clientStateFieldID;
c.RadEditorTrackChangesInfo.callBaseMethod(m,"render");
k.add_selectionChange(m._onRadEditorTrackChangesInfoDelegate);
var q=m.get_element();
q.id="rade_tccomment_view_id_"+l;
q.style.width=q.parentNode.style.width;
q.className="reCommentViewContainer";
var h=document.createElement("DIV");
h.id="rade_tccomment_divV_id_"+l;
q.appendChild(h);
var f=document.createElement("DIV");
f.id="rade_tccomment_divEditTitle_id_"+l;
f.className="reCommentTitle";
f.innerHTML="Comment";
this._divEditTitle=f;
var j=document.createElement("DIV");
j.id="rade_tccomment_divViewTitle_id_"+l;
j.className="reCommentTitle";
j.innerHTML="Comment";
this._divViewTitle=j;
var e=document.createElement("DIV");
e.id="rade_tccomment_divEdit_id_"+l;
e.style.width=q.style.width;
e.className="reCommentEdit";
e.style.display="none";
this._divEdit=e;
h.appendChild(e);
e.appendChild(f);
var i=document.createElement("DIV");
i.id="rade_tccomment_divView_id_"+l;
i.style.width=q.style.width;
i.className="reCommentView";
i.style.display="none";
this._divView=i;
h.appendChild(i);
i.appendChild(j);
var g=document.createElement("DIV");
g.id="rade_tccomment_divInfo_id_"+l;
g.className="reCommentInfoPanel";
g.style.width=q.style.width;
g.style.display="none";
this._divInfo=g;
h.appendChild(g);
var s=document.createElement("TEXTAREA");
s.id="rade_textarea_id_"+l;
s.className="reCommentTextArea";
s.setAttribute("rows","2");
s.setAttribute("cols","25");
this._textarea=s;
e.appendChild(s);
var p=document.createElement("input");
p.id="rade_tccomment_save_id_"+l;
p.type="button";
p.value="Save";
p.className="reCommentButton";
p.onclick=function(){var t=m._textarea.value.replace(/^\s+|\s+$/g,"");
if(t==""||t.toLowerCase()=="<enter here>"){alert("Cannot enter empty comment.");
if(s.setActive){s.setActive();
}s.focus();
return;
}m._commentText.innerHTML=t;
m._commentAttr.value=t;
m._timeStampAttr.value=new Date().getTime();
m._titleAttr.value=m._author+": "+t+": "+new Date(parseInt(m._timeStampAttr.value,10)).toLocaleString();
a("#"+m._divEdit.id).hide();
m._show(a("#"+m._divView.id));
};
e.appendChild(p);
var n=document.createElement("input");
n.id="rade_tccomment_cancel_id_"+l;
n.type="button";
n.value="Cancel";
n.className="reCommentButton";
n.onclick=function(){m._textarea.value=m._commentText.innerHTML;
a("#"+m._divView.id).hide();
a("#"+m._divEdit.id).hide();
};
e.appendChild(n);
var o=document.createElement("input");
o.id="rade_tccomment_edit_id_"+l;
o.type="button";
o.value="Edit";
o.className="reCommentButton";
o.onclick=function(){m._textarea.value=m._commentText.innerHTML;
a("#"+m._divView.id).hide();
m._show(a("#"+m._divEdit.id));
m._textarea.focus();
if(m._textarea.value=="<Enter here>"){m._textarea.select();
}};
var r=document.createElement("span");
r.id="rade_tccomment_spanView_id_"+l;
this._commentText=r;
r.className="reCommentViewText";
i.appendChild(r);
i.appendChild(o);
if(l){a("#rade_textarea_id_"+l).focus(function(){a(this).filter(function(){return a(this).val()==""||a(this).val()=="<Enter here>";
}).removeClass("reCommentTextAreaWatermark").val("");
});
a("#rade_textarea_id_"+l).blur(function(){a(this).filter(function(){return a(this).val()=="";
}).addClass("reCommentTextAreaWatermark").val("<Enter here>");
});
}},_show:function(e){this._hideOtherVisibleContainers(e);
e.fadeIn(300);
},_hideOtherVisibleContainers:function(f){var e=(f)?f.attr("id"):"";
a(".reCommentEdit:visible[id!="+e+"],.reCommentView:visible[id!="+e+"],.reCommentInfoPanel:visible[id!="+e+"]").fadeOut(300);
},getRadEditorTrackChangesInfo:function(){if(!this.get_visible()){return;
}var g=a("#"+this._divInfo.id);
var f=a("#"+this._divEdit.id);
var h=a("#"+this._divView.id);
var i=this.get_editor();
var k=i.getSelectedElement();
var o=b.TrackChangesUtils.findTrackChangesParentElement(k);
this._author="";
if(null!=o){var e=b.TrackChangesConstants.Attribute;
this._timeStampAttr=o.HtmlElement.getAttributeNode(e.Timestamp);
var n=null==this._timeStampAttr?"":" on "+new Date(parseInt(this._timeStampAttr.value,10)).toLocaleString();
this._currTrackChangeElement=o;
this._author=(o.User=="")?"You":o.User;
var m=Telerik.Web.UI.Editor.TrackChangesElementType;
if(m.Comment==o.Type){this._commentAttr=o.HtmlElement.getAttributeNode(e.Comment);
this._titleAttr=o.HtmlElement.getAttributeNode(e.Title);
this._commentText.innerHTML=(null==this._commentAttr)?"":this._commentAttr.value;
if(this._author==i.get_author()){this._textarea.value=this._commentText.innerHTML||"<Enter here>";
g.hide();
if((this._commentAttr&&this._commentAttr.value==" ")||this._titleAttr.value=="#empty comment#"){h.hide();
this._show(f);
var l=this._textarea;
window.setTimeout(function(){try{if(l.setActive){l.setActive();
}l.focus();
}catch(p){return;
}},300);
}else{f.hide();
this._show(h);
}}else{h.hide();
f.hide();
this._show(g);
this._divInfo.innerHTML=this._author+": "+this._commentText.innerHTML+n;
}}else{var j=" ";
if(m.Delete==o.Type){j="Deleted by "+this._author+n;
}else{if(m.Insert==o.Type){j="Inserted by "+this._author+n;
}else{if(m.FormatChange==o.Type||m.JustifyFormatChange==o.Type){j="Format change("+o.BrowserCommand+") by "+this._author+n;
}}}this._divInfo.innerHTML=j;
h.hide();
f.hide();
j!=" "?this._show(g):g.fadeOut(300);
}}else{if(f.is(":visible")){f.fadeOut(300);
}if(h.is(":visible")){h.fadeOut(300);
}if(g.is(":visible")){g.fadeOut(300);
}}}};
c.RadEditorTrackChangesInfo.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorTrackChangesInfo",c.ModuleBase);
})(Telerik.Web.UI,$telerik.$);

/* END Telerik.Web.UI.Editor.Modules.js */
/* START Telerik.Web.UI.Dialogs.RadDialogOpenerScripts.js */
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
var d="Mobile";
var e=b.RenderMode;
var c=Telerik.Web.Browser;
b.DialogDefinition=function(){this.Width="600px";
this.Height="400px";
this.Title="";
this.Behaviors=36;
this.Modal=true;
this.VisibleStatusbar=false;
this.VisibleTitlebar=true;
this.ClientCallbackFunction="";
};
b.DialogDefinition.registerClass("Telerik.Web.UI.DialogDefinition",null);
b.DialogDefinitionsDictionary=function(i){for(var h in i){var j=i[h];
var f=new b.DialogDefinition();
for(var g in j){f[g]=j[g];
}this[h]=f;
}};
b.DialogDefinitionsDictionary.registerClass("Telerik.Web.UI.DialogDefinitionsDictionary",null);
b.DialogOpenEventArgs=function(g,f){b.DialogOpenEventArgs.initializeBase(this);
this._dialogName=g;
if(f){this._parameters=f;
}else{this._parameters={};
}};
b.DialogOpenEventArgs.prototype={get_dialogName:function(){return this._dialogName;
},set_parameters:function(f){this._parameters=f;
},get_parameters:function(){return this._parameters;
}};
b.DialogOpenEventArgs.registerClass("Telerik.Web.UI.DialogOpenEventArgs",Sys.EventArgs);
b.RadDialogOpener=function(f){b.RadDialogOpener.initializeBase(this,[f]);
this._dialogDefinitions={};
this._handlerChecked=false;
this._dialogParametersProviderTypeName="";
this._dialogUniqueID="";
this._dialogContainers={};
this._hasOpenedDialog=false;
};
b.RadDialogOpener.prototype={initialize:function(){b.RadDialogOpener.callBaseMethod(this,"initialize");
this._dialogDefinitions=new b.DialogDefinitionsDictionary(this.get_dialogDefinitions());
},get_dialogDefinitions:function(){return this._dialogDefinitions;
},openUrl:function(r,f,s,l,i,h,q,m,g,o,p,k){k="EXTERNAL_URL"+(k||"default");
var j=this._getDialogContainer(k);
j.set_width(s+"px");
j.set_height(l+"px");
j.set_behaviors(g||b.WindowBehaviors.Default);
j.set_modal(m==true);
j.set_visibleStatusbar(o==true);
j.set_visibleTitlebar(p==true);
j.set_title(q?q:"");
j.set_keepInScreenBounds(true);
var n=new b.DialogOpenEventArgs(r,f);
this.raiseEvent("open",n);
this._hasOpenedDialog=true;
j.ClientParameters=f;
j.set_clientCallBackFunction(i);
j.setUrl(r);
j.show();
j.center();
window.setTimeout(function(){j.setActive(true);
},100);
},open:function(j,g,f){if(!this._handlerChecked){this._checkDialogHandler(this.get_handlerUrl());
}j=this._getExistingPrefixedDialogName(j);
var i=this._getDialogDefinition(j);
var l=new b.DialogOpenEventArgs(j,g);
this.raiseEvent("open",l);
this._hasOpenedDialog=true;
g=l.get_parameters();
if(!f){f=i.ClientCallbackFunction;
}var h;
if(this.get_useClassicDialogs()){h=$create(b.ClassicDialog,{dialogOpener:this});
h.ClientParameters=g;
this._applyParameters(j,h);
if(f){h.set_clientCallBackFunction(f);
}window.__getCurrentRadEditorRadWindowReference=function(){return h;
};
var m=this._openBrowserWindow(h,i,j);
m.radWindow=h;
return m;
}else{h=this._getDialogContainer(j);
var k=i.Height||0;
if(!h.get_popupElement()){h.set_height(k);
h.set_width(i.Width||0);
h.set_behaviors(i.Behaviors);
h.set_modal(i.Modal);
h.set_visibleStatusbar(i.VisibleStatusbar);
h.set_visibleTitlebar(i.VisibleTitlebar);
h.set_keepInScreenBounds(true);
}if(i.ReloadOnShow!=null){h.set_reloadOnShow(i.ReloadOnShow);
}h.ClientParameters=g;
this._applyParameters(j,h);
if(j!="SpellCheckDialog"){this._sizeCenterCellDelegate=Function.createDelegate(this,this._sizeCenterCellWindowLoadHandler);
this._autoSizeDialogDelegate=Function.createDelegate(this,this._autoSizeDialogWindowLoadHandler);
h.add_pageLoad(this._sizeCenterCellDelegate);
h.add_pageLoad(this._autoSizeDialogDelegate);
}if(f){h.set_clientCallBackFunction(f);
}this._showDialogContainer(h);
if(!h.get_popupElement()){h.set_height(k);
}window.setTimeout(function(){if(h.isVisible()){h.center();
h.setActive(true);
}},c.iemobile?700:100);
}},openLight:function(i,g,f){var j=195;
var n=350;
var m=g.editor.get_renderMode();
if(g){if(g.height){j=g.height;
}if(g.width){n=g.width;
}}var k=new b.DialogOpenEventArgs(i,g);
this.raiseEvent("open",k);
this._hasOpenedDialog=true;
g=k.get_parameters();
var h=this._getDialogContainer(i);
h.set_height(j);
h.set_width(n);
h.set_behaviors(Telerik.Web.UI.WindowBehaviors.Move+Telerik.Web.UI.WindowBehaviors.Close);
h.set_modal(true);
h.set_visibleStatusbar(false);
h.set_visibleTitlebar(true);
if(f){h.set_clientCallBackFunction(f);
}h.ClientParameters=g;
Telerik.Web.UI.LightDialogsControllerClass.initializeLightDialog(h);
this._showDialogContainer(h);
if(m===e.Lite){h.autoSize(false);
}else{h.set_height(j);
}h.center();
if(g.stripPopupHeight===true){var l=h.get_popupElement();
if(l){l.style.height="";
}}window.setTimeout(function(){h.setActive(true);
},100);
},_openBrowserWindow:function(f,g,h){var i="width="+parseInt(g.Width,10)+",height="+parseInt(g.Height,10);
i+=",resizable=0,scrollbars=0,status=0,toolbar=0,menubar=0,directories=0";
return f.open(i,h);
},_hasVisibleDialog:function(){var f=this._dialogContainers;
for(var g in f){if(f[g].isVisible()){return true;
}}return false;
},get_hasOpenedDialog:function(){return this._hasOpenedDialog;
},_showDialogContainer:function(f){var g=this.get_renderMode()===b.RenderMode.Mobile;
var h=function(){f.show();
if(g){f.set_modal(false);
f.maximize();
}};
if(c.iemobile){setTimeout(h,600);
}else{h();
}},_sizeCenterCellWindowLoadHandler:function(f){if(this._sizeCenterCellDelegate){f.remove_pageLoad(this._sizeCenterCellDelegate);
delete this._sizeCenterCellDelegate;
}if(typeof(Telerik)=="undefined"){return;
}var g=function(l){l.remove_show(g);
var j=l.get_contentFrame(),i=j.contentWindow.document||j.contentDocument,h=l.get_contentElement()||l.ui.contentCell||l.ui.content,k=new RegExp("height\\s*:\\s*"+i.body.offsetHeight+"px(\\s*;)?","gmi");
h.style.height=i.body.offsetHeight+"px";
h.style.cssText=h.style.cssText.replace(k,"height: "+i.body.offsetHeight+"px !important;");
};
if(f&&f.isVisible&&f.isVisible()){g(f);
}else{if(f&&f.isVisible&&!f.isVisible()){f.add_show(g);
}}},_autoSizeDialogWindowLoadHandler:function(g){if(this._autoSizeDialogCellDelegate){g.remove_pageLoad(this._autoSizeDialogDelegate);
delete this._autoSizeDialogCellDelegate;
}if(typeof(Telerik)=="undefined"){return;
}var f=function(h){if($telerik.quirksMode){return;
}h.remove_show(f);
h.set_width(20);
h.set_height(20);
h.autoSize();
h.center();
};
if(g&&g.isVisible&&g.isVisible()){f(g);
}else{if(g&&g.isVisible&&!g.isVisible()){g.add_show(f);
}}},_applyParameters:function(j,g){var l=this._getDialogParameters(j);
if(!l){return;
}var o="&dp="+encodeURIComponent(l);
var f=this._getBaseDialogUrl(j);
var p=f.length+o.length;
var m=this._dialogParametersProviderTypeName=="";
var n=m&&p<=this.get_dialogUrlLengthLimit();
if(n){var i=g.get_navigateUrl();
var q=f+o;
if(i!=q){if(this.get_useClassicDialogs()||g.isCreated()){g.setUrl(q);
}else{g.set_navigateUrl(q);
}}else{var h=g.get_contentFrame();
if(h&&h.contentWindow&&h.contentWindow.$find){var k=h.contentWindow.initDialog;
if(k){h.contentWindow.setTimeout(function(){k();
},1);
}}}}else{g.setUrl(f);
g.DialogParameters=l;
}},_closeContainerDelegate:function(f){if(!this._hasVisibleDialog()){this._hasOpenedDialog=false;
}this.raiseEvent("close",f);
},_getDialogContainer:function(f){if(typeof(this._dialogContainers[f])=="undefined"){var g=$find(this.get_id()+f);
if(null!=g){g.dispose();
}this._dialogContainers[f]=this.get_container().clone(this.get_id()+f);
var h=this;
this._dialogContainers[f].get_dialogOpener=function(){return h;
};
this._dialogContainers[f].add_close(Function.createDelegate(this,this._closeContainerDelegate));
}return this._dialogContainers[f];
},_getBaseDialogUrl:function(f){var g=this.get_handlerUrl().indexOf("?")<0?"?":"&";
var h=this.get_handlerUrl()+g+"DialogName="+f;
if(this.get_enableTelerikManagers()){h+="&UseRSM=true";
}h+="&renderMode="+this._renderMode;
h+="&Skin="+this.get_skin()+"&Title="+encodeURIComponent(this._getDialogDefinition(f)["Title"])+"&doid="+this._dialogUniqueID+"&dpptn="+encodeURIComponent(this._dialogParametersProviderTypeName)+this.get_additionalQueryString();
return h;
},_getDialogDefinition:function(g){var f=this.get_dialogDefinitions()[g];
if(f){return f;
}else{throw Error.argumentNull("dialogName",String.format("Dialog Parameters for the {0} dialog do not exist",g));
}},_getDialogParameters:function(f){return this._getDialogDefinition(f)["SerializedParameters"];
},_getExistingPrefixedDialogName:function(g){var h=this._prefixDialogName(g);
var f=this.get_dialogDefinitions();
if(f[h]){return h;
}else{return g;
}},_prefixDialogName:function(f){var g=(this._renderMode==b.RenderMode.Mobile);
var h=g?d:"";
if(f.indexOf(h)===0){return f;
}else{return h+f;
}},_checkDialogHandler:function(i){var h=i.indexOf("?")<0?"?":"&";
var g=i+h+"checkHandler=true";
var j=new Sys.Net.WebRequest();
j.set_url(g);
j.add_completed(Function.createDelegate(this,this._checkRequestCompleted));
var f=new Sys.Net.XMLHttpExecutor();
j.set_executor(f);
f.executeRequest();
},_checkRequestCompleted:function(g,f){if(g.get_responseAvailable()){var h=g.get_responseData();
if(h&&h.indexOf("HandlerCheckOK")>0){this._handlerChecked=true;
return;
}}window.alert("Web.config registration missing!\n The Telerik dialogs require a HttpHandler registration in the web.config file. Please, use the control's Smart Tag to add the handler automatically, or see the help for more information: Controls > RadEditor > Dialogs > Introduction");
}};
a.registerControlProperties(b.RadDialogOpener,{additionalQueryString:"",enableTelerikManagers:false,handlerUrl:"",container:null,dialogUrlLengthLimit:2000,useClassicDialogs:false,skin:""});
a.registerControlEvents(b.RadDialogOpener,["open","close"]);
b.RadDialogOpener.registerClass("Telerik.Web.UI.RadDialogOpener",b.RadWebControl);
b.ClassicDialog=function(g,f){b.ClassicDialog.initializeBase(this);
this.BrowserWindow=window;
this._dialogOpener=null;
this._clientCallBackFunction=null;
this._window=null;
this._url="";
this._events={close:[],beforeClose:[],show:[]};
};
b.ClassicDialog.prototype={close:function(f){this.raiseEvent("beforeClose");
this.raiseEvent("close");
if(null!=f&&!(f instanceof Sys.UI.DomEvent)){var g=this.get_clientCallBackFunction();
if(typeof(g)=="string"){g=eval(g);
}if(g){g(this,f);
}}var h=this.get_contentFrame();
window.setTimeout(function(){h.close();
h.parent.focus();
},100);
},open:function(g,f){this._window=window.open(this.get_navigateUrl(),f,g);
this._window.focus();
if(!this._window.contentWindow){this._window.contentWindow=this._window;
}this.raiseEvent("show");
return this._window;
},get_dialogOpener:function(){return this._dialogOpener;
},set_dialogOpener:function(f){this._dialogOpener=f;
},get_clientCallBackFunction:function(){return this._clientCallBackFunction;
},set_clientCallBackFunction:function(f){this._clientCallBackFunction=f;
},setUrl:function(f){this._url=f;
},get_navigateUrl:function(){return this._url;
},get_contentFrame:function(){return this._window;
},set_title:function(g){if(this._window&&this._window.document){var f=this._window.document;
f.title=g;
}},dispose:function(){this._window=null;
this._clientCallBackFunction=null;
this._dialogOpener=null;
this._events=null;
b.ClassicDialog.callBaseMethod(this,"dispose");
},add_close:function(f){Array.add(this._events.close,f);
},remove_close:function(f){Array.remove(this._events.close,f);
},add_show:function(f){Array.add(this._events.show,f);
},remove_show:function(f){Array.remove(this._events.show,f);
},add_beforeClose:function(f){Array.add(this._events.beforeClose,f);
},remove_beforeClose:function(f){Array.remove(this._events.beforeClose,f);
},raiseEvent:function(g,f){var h=this._events[g];
this._raiseEvent(h,f);
},_raiseEvent:function(g,f){if(!g||(g.length===0)){return;
}g=Array.clone(g);
if(!g._handler){g._handler=function(n,j){for(var k=0,m=g.length;
k<m;
k++){g[k](n,j);
}};
}var h=g._handler;
if(h){if(!f){f=Sys.EventArgs.Empty;
}h(this,f);
}}};
b.ClassicDialog.registerClass("Telerik.Web.UI.ClassicDialog",Sys.Component);
})();
Type.registerNamespace("Telerik.Web.UI");
if(typeof(Telerik.Web.UI.EditorCommandEventArgs)=="undefined"){Telerik.Web.UI.EditorCommandEventArgs=function(a,b,c){Telerik.Web.UI.EditorCommandEventArgs.initializeBase(this);
this._name=this._commandName=a;
this._tool=b;
this._value=c;
this.value=c;
this._callbackFunction=null;
};
Telerik.Web.UI.EditorCommandEventArgs.prototype={get_name:function(){return this._name;
},get_commandName:function(){return this._commandName;
},get_tool:function(){return this._tool;
},get_value:function(){return this._value;
},set_value:function(a){this.value=a;
this._value=a;
},set_callbackFunction:function(a){this._callbackFunction=a;
}};
Telerik.Web.UI.EditorCommandEventArgs.registerClass("Telerik.Web.UI.EditorCommandEventArgs",Sys.CancelEventArgs);
}
/* END Telerik.Web.UI.Dialogs.RadDialogOpenerScripts.js */
/* START Telerik.Web.UI.Common.Animation.AnimationScripts.js */
Type.registerNamespace("Telerik.Web.UI.Animations");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
b.Animations.playJQueryAnimation=function(d,f,o,i,n,l,k,e,m){if(!d){return;
}if(!f){f=2;
}if(!o){o=new Telerik.Web.UI.Bounds(1,1,1,1);
}if(!i){i=new Telerik.Web.UI.Bounds(1,1,1,1);
}var c=e?e:500;
if(!n){n=32;
}n+="";
var q=parseInt(n.substr(0,1),10);
var j=parseInt(n.substr(1,1),10);
if(l){l();
}a(d).stopTransition(false,true);
if(f==2){a(d).css({left:i.x,top:i.y}).fadeIn(c,k);
return;
}if(f==8){var g=$telerik.getClientBounds();
var h=$telerik.getClientBounds();
o.x=h.width/2;
o.y=h.height;
switch(j){case 2:o.x=i.x;
break;
case 3:o.x=g.width;
break;
case 1:o.x=g.x;
}switch(q){case 2:o.y=i.y;
break;
case 1:o.y=g.y-i.height;
break;
case 3:o.y=g.height;
}}else{if(f==4){o.x=i.x;
o.y=i.y;
o.width=i.width;
o.height=1;
switch(j){case 2:o.x=i.x;
break;
case 3:o.x=i.x;
break;
case 1:var p=i.x;
if(2==q){p+=i.width;
}o.x=p;
}switch(q){case 2:o.y=i.y;
o.height=i.height;
o.width=1;
break;
case 1:o.y=i.y+i.height;
break;
case 3:o.y=i.y;
}}}a(d).css({width:o.width,height:o.height,left:o.x,top:o.y,opacity:0.1,filter:"alpha(opacity=10)"}).show().transition({width:i.width,height:i.height,left:i.x,top:i.y,opacity:m?m:1},c,null,k);
};
a.fx.prototype.oldstep=a.fx.prototype.step;
a.fx.prototype.step=function(d){var e=this.prop;
if(e=="left"||e=="top"||e=="telerikCarouselAngle"||e=="telerikCoverFlowIndex"){if(this.elem.getAttribute("paused")){if(!this.elem.getAttribute("elapsedTime")){var c=(+new Date())-this.startTime;
this.elem.setAttribute("elapsedTime",c);
}return true;
}if(this.elem.getAttribute("elapsedTime")){this.startTime=(+new Date())-this.elem.getAttribute("elapsedTime");
this.elem.removeAttribute("elapsedTime");
}}return this.oldstep(d);
};
b.Animations.jMoveBase=function(f,e,c,d){b.Animations.jMoveBase.initializeBase(this);
this._owner=f;
this._element=e;
this._duration=c;
this._events=null;
this._animationEndedDelegate=null;
this._isPlaying=false;
this._isPaused=false;
this._isCyclic=false;
this._easing=d;
this._isDisposed=false;
};
b.Animations.jMoveBase.prototype={initialize:function(){b.Animations.jMoveBase.callBaseMethod(this,"initialize");
this._animationEndedDelegate=Function.createDelegate(this,this._animationEnded);
},dispose:function(){if(this._isDisposed){return;
}this._getAnimationQuery().stopTransition(true,false);
this._owner=null;
this._element=null;
this._animationEndedDelegate=null;
b.Animations.jMoveBase.callBaseMethod(this,"dispose");
this._isDisposed=true;
},get_isPlaying:function(){return this._isPlaying;
},get_isCyclic:function(){return this._isCyclic;
},set_isCyclic:function(c){this._isCyclic=c;
},get_easing:function(){return this._easing;
},set_easing:function(c){this._easing=c;
},get_duration:function(){return this._duration;
},set_duration:function(c){this._duration=c;
},get_isActive:function(){return true;
},play:function(h){var e=this._getAnimationQuery().filter("[paused='true']");
var d=e.attr("paused");
e.removeAttr("paused");
if(d&&e.attr("elapsedTime")){this._isPlaying=true;
this._isPaused=false;
}else{var c=this._owner;
var g=c.get_frameDuration();
if(this._isPaused&&this._isCyclic&&(g>0&&!h)&&c._setAnimationTimeout){c._setAnimationTimeout(g);
}else{var f=this._animationStarted();
if(f!=false){this._playAnimation();
this._isPlaying=true;
this._isPaused=false;
}}}},stop:function(){this._getAnimationQuery().stopTransition(false,this._isPlaying);
this._isPlaying=false;
},pause:function(){if(this._isPlaying){this._getAnimationQuery().filter(":animated").attr("paused",true);
}this._isPlaying=false;
this._isPaused=true;
},add_started:function(c){this.get_events().addHandler("started",c);
},remove_started:function(c){this.get_events().removeHandler("started",c);
},add_ended:function(c){this.get_events().addHandler("ended",c);
},remove_ended:function(c){this.get_events().removeHandler("ended",c);
},_getAnimationQuery:function(){return a(this._element);
},_playAnimation:function(){},_animationStarted:function(){var c=new Sys.CancelEventArgs();
this._raiseEvent("started",c);
return !c.get_cancel();
},_animationEnded:function(){this._isPlaying=false;
this._raiseEvent("ended",Sys.EventArgs.Empty);
},_raiseEvent:function(d,c){var e=this.get_events().getHandler(d);
if(e){if(!c){c=Sys.EventArgs.Empty;
}e(this,c);
}}};
b.Animations.jMoveBase.registerClass("Telerik.Web.UI.Animations.jMoveBase",Sys.Component);
b.Animations.jMove=function(g,e,c,f,h,d){b.Animations.jMove.initializeBase(this,[g,e,c,d]);
this._horizontal=(typeof(f)=="undefined"||f==null)?0:f;
this._vertical=(typeof(h)=="undefined"||h==null)?0:h;
};
b.Animations.jMove.prototype={initialize:function(){b.Animations.jMove.callBaseMethod(this,"initialize");
},dispose:function(){b.Animations.jMove.callBaseMethod(this,"dispose");
},get_vertical:function(){return this._vertical;
},set_vertical:function(c){this._vertical=c;
},get_horizontal:function(){return this._horizontal;
},set_horizontal:function(c){this._horizontal=c;
},_getFinalPosition:function(){return(isNaN(parseInt(this._vertical,10)))?this._horizontal:this._vertical;
},_getAnimatedProperty:function(){return(isNaN(parseInt(this._vertical,10)))?"left":"top";
},_getPosition:function(){return this._element.style[this._getAnimatedProperty()];
},_playAnimation:function(){var f=this._getFinalPosition();
var c=this._getAnimationQuery();
var d=this._getAnimatedProperty();
var g={queue:true};
g[d]=f;
var e={};
e[d]=f;
c.stopTransition(true,!this._isCyclic).transition(e,this._duration,this._easing||"ease",this._animationEndedDelegate);
}};
b.Animations.jMove.registerClass("Telerik.Web.UI.Animations.jMove",b.Animations.jMoveBase);
b.Animations.jCarousel=function(i,f,g,d,h,c,e){b.Animations.jCarousel.initializeBase(this,[i,f,d,e]);
this._items=g;
this._minScale=h.minScale;
this._x=h.xO;
this._y=h.yO;
this._xRadius=h.xR;
this._yRadius=h.yR;
this._customProperties=c;
this._angle=Math.PI/2;
this._query=null;
};
b.Animations.jCarousel.prototype={initialize:function(){b.Animations.jCarousel.callBaseMethod(this,"initialize");
},dispose:function(){b.Animations.jCarousel.callBaseMethod(this,"dispose");
this._items=null;
this._customProperties=null;
this._query=null;
},get_angle:function(){return this._angle;
},set_angle:function(c){this._angle=c;
},_getFinalPosition:function(){return this._angle;
},_getAnimatedProperty:function(){return"telerikCarouselAngle";
},_getAnimationQuery:function(){var c=this._query;
if(!c){a.each(this._items,function(e,f){var d=this.element;
if(!c){c=a(d);
}else{c=c.add(d);
}});
this._query=c;
}return c;
},_playAnimation:function(){this._getAnimationQuery().stopTransition(true,!this._isCyclic);
var e=this._items;
var f=(e.length>0)?((Math.PI*2)/e.length):0;
var c=this._angle;
var d=this;
a.each(e,function(g,h){if(c.toString().indexOf("e")>-1){c=(Math.round(c*10000)/10000);
}a(this.element).stop(true,false).transition({queue:true,telerikCarouselAngle:c},{xO:d._x,yO:d._y,xR:d._xRadius,yR:d._yRadius,minScale:d._minScale,reflection:this.reflection,width:this.width,height:this.height,outerWidth:this.outerWidth,outerHeight:this.outerHeight,customProperties:d._customProperties,duration:d._duration,easing:d._easing,complete:d._animationEndedDelegate});
c+=f;
});
}};
b.Animations.jCarousel.registerClass("Telerik.Web.UI.Animations.jCarousel",b.Animations.jMoveBase);
a.fx.step.telerikCarouselAngle=function(e){var c=e.now;
var g=e.options;
var j=Math.sin(c);
var f=g.minScale;
var i=f+(j+1)*((1-f)/2);
var n=g.xO+(((Math.cos(c+Math.PI)*g.xR)-g.outerWidth/2)*i);
var o=g.yO+((j*g.yR)*i);
e.elem.telerikCarouselAngle=e.now;
var d=a.extend({},g.customProperties);
if(g.customProperties){var m=/^([\d+-.]+)(.*)$/;
a.each(d,function(p,r){var q=m.exec(r);
if(q){d[p]=q?(q[1]*i+q[2]):r;
}});
}var k=!a.support.opacity&&(g.customProperties&&g.customProperties.opacity)&&g.reflection;
var l="px";
var h=a.extend(d,{width:g.width*i+l,height:g.height*i*(k?2:1)+l,left:n+l,top:o+l,zIndex:parseInt(i*100000,10)});
a(e.elem).css("display","none").css(h).css("display","");
};
b.Animations.jCoverFlow=function(i,f,g,d,h,c,e){b.Animations.jCoverFlow.initializeBase(this,[i,f,d,e]);
this._items=g;
this._minScale=h.minScale;
this._x=h.xO;
this._y=h.yO;
this._xRadius=h.xR;
this._yRadius=h.yR;
this._xItemSpacing=h.xItemSpacing;
this._yItemSpacing=h.yItemSpacing;
this._selectedItemOffsetX=h.selectedItemOffsetX;
this._selectedItemOffsetY=h.selectedItemOffsetY;
this._matrix=h.matrix;
this._customProperties=c;
this._index=0;
this._query=null;
};
b.Animations.jCoverFlow.prototype={initialize:function(){b.Animations.jCoverFlow.callBaseMethod(this,"initialize");
},dispose:function(){b.Animations.jCoverFlow.callBaseMethod(this,"dispose");
this._items=null;
this._customProperties=null;
this._matrix=null;
this._query=null;
},get_index:function(){return this._index;
},set_index:function(c){this._index=c;
},_getFinalPosition:function(){return this._index;
},_getAnimatedProperty:function(){return"telerikCoverFlowIndex";
},_getAnimationQuery:function(){if(!this._query){var d=this._items;
var f=a();
for(var c=0,e=d.length;
c<e;
c++){f.add(d[c].element);
}this._query=f;
}return this._query;
},_getTransformProperty:function(){var c="transform";
if($telerik.isIE9Mode){c="msTransform";
}else{if($telerik.isIE){c="filter";
}else{if($telerik.isFirefox){c="MozTransform";
}else{if($telerik.isSafari){c="WebkitTransform";
}else{if($telerik.isOpera){c="OTransform";
}}}}}return c;
},_playAnimation:function(){this._getAnimationQuery().stopTransition(true,!this._isCyclic);
var g=this._items;
var h=g.length;
var f=this._owner.isVertical();
var e=this._index;
var i=g[e];
if(!i){return;
}var j={top:this._y-i.outerHeight/2,right:this._x+i.outerWidth/2,bottom:this._y+i.outerHeight/2,left:this._x-i.outerWidth/2};
var d=this._matrix;
if(d.m11==1&&d.m22==1&&d.m12==0&&d.m21==0){d=null;
}var k=this._getTransformProperty();
var c=this;
var l=$telerik.getContentSize(this._owner._clipElement);
a.each(g,function(B,I){var n=(B-e);
var z=(n==0);
var G=z?1:c._minScale;
var s=this.element;
var o=parseInt(s.telerikCoverFlowIndex,10);
var u=(o==0);
var p=u?1:c._minScale;
var v=(n>0);
var C=c._x+this.outerWidth/2;
var J=f?(C-this.outerWidth*G):(j[v?"right":"left"]);
var q=f?(C-this.outerWidth*p):(j[o>0?"right":"left"]);
var A=c._y+this.outerHeight/2;
var K=f?(j[v?"bottom":"top"]):(A-this.outerHeight*G);
var r=f?(j[o>0?"bottom":"top"]):(A-this.outerHeight*p);
var H={};
var m=(u||z);
if(f||m){H.top={start:r,end:K};
}if(!f||m){H.left={start:q,end:J};
}for(var t=0;
t<2;
t++){var w=(t==0);
var D=w?n:o;
var E=w?G:p;
if(D>0){if(f){H.top[w?"end":"start"]+=c._yRadius+(--D*c._yItemSpacing);
}else{H.left[w?"end":"start"]+=c._xRadius+(--D*c._xItemSpacing);
}}else{if(D<0){if(f){H.top[w?"end":"start"]+=-(c._yRadius+this.outerHeight*E)+(++D*c._yItemSpacing);
}else{H.left[w?"end":"start"]+=-(c._xRadius+this.outerWidth*E)+(++D*c._xItemSpacing);
}}else{H.left[w?"end":"start"]+=c._selectedItemOffsetX;
H.top[w?"end":"start"]+=c._selectedItemOffsetY;
}}}if(m||((!H.top||((H.top.start>=-this.outerHeight*p&&H.top.start<=l.height)||(H.top.end>=-this.outerHeight*G&&H.top.end<=l.height)))&&(!H.left||((H.left.start>=-this.outerWidth*p&&H.left.start<=l.width)||(H.left.end>=-this.outerWidth*G&&H.left.end<=l.width))))){var F={zIndex:((h-Math.abs(o))*100)};
if(H.top){F.top=H.top.start+"px";
}if(H.left){F.left=H.left.start+"px";
}if(Math.abs(o-n)>1){F.zIndex=((h-Math.abs(n))*100);
}a(s).stop(true,false).css(F).transition({queue:true,telerikCoverFlowIndex:n},{isVertical:f,animateSize:m,steps:H,minScale:c._minScale,width:this.width,height:this.height,outerWidth:this.outerWidth,outerHeight:this.outerHeight,matrix:d,transformProperty:k,reflection:this.reflection,itemsCount:h,customProperties:c._customProperties,duration:c._duration,easing:c._easing,complete:c._animationEndedDelegate});
}else{a(s).stopTransition(true,false).attr("telerikCoverFlowIndex",n);
}});
}};
b.Animations.jCoverFlow.registerClass("Telerik.Web.UI.Animations.jCoverFlow",b.Animations.jMoveBase);
a.fx.step.telerikCoverFlowIndex=function(f){var d=f.now;
var m=f.options;
f.elem.telerikCoverFlowIndex=d;
var o=Math.abs((d-f.start)/(f.end-f.start));
var w="px";
var n={};
if(Math.abs(f.start-f.end)<=1){n.zIndex=parseInt((m.itemsCount-Math.abs(d))*100,10);
}var s=0;
var u=0;
var h=m.isVertical;
var l=m.minScale;
var p=m.animateSize?(f.end==0?(l+(1-l)*o):(1-(1-l)*o)):l;
if(m.animateSize){if(m.customProperties){var e=a.extend({},m.customProperties);
var x=/^([\d+-.]+)(.*)$/;
a.each(e,function(y,A){var z=x.exec(A);
e[y]=z?(z[1]*p+z[2]):A;
});
n=a.extend(e,n);
}n=a.extend(n,{width:m.width*p+w,height:m.height*p+w});
}if(m.matrix){var i=a.extend({},m.matrix);
var k=m.animateSize?(f.end==0?(1-o):o):1;
var j=(d==0)?0:(d<0?-1:1);
if(f.start*f.end<0){if((f.start<0&&d<0)||(f.start>0&&d>0)){k=1-o*Math.abs((f.end-f.start)/f.start);
}else{k=o*Math.abs((f.end-f.start)/f.end)-Math.abs(f.start/f.end);
}}i={m11:1-(1-i.m11)*k,m12:(i.m12*k)*j,m21:(i.m21*k)*j,m22:1-(1-i.m22)*k};
var g=("filter"==m.transformProperty);
var r="matrix("+i.m11+", "+i.m21+", "+i.m12+", "+i.m22+", 0, 0)";
if(g){r="progid:DXImageTransform.Microsoft.Matrix(FilterType='bilinear',M11="+i.m11+", M12="+i.m12+", M21="+i.m21+", M22="+i.m22+",sizingMethod='auto expand')";
}n[m.transformProperty]=r;
var t=Math.abs(i.m11)+Math.abs(i.m12);
var v=Math.abs(i.m21)+Math.abs(i.m22);
if(!h){s=j*((1-t)/2);
}else{u=j*((1-v)/2);
}if(g){s+=(t-1)/2;
u+=(v-1)/2;
if(m.matrix.m12&&m.reflection){s*=2;
}}}var c=m.animateSize;
var q=m.steps;
if((h||c)&&q.top){n.top=(q.top.start+(q.top.end-q.top.start)*o)-u*p*m.outerHeight+w;
}if((!h||c)&&q.left){n.left=(q.left.start+(q.left.end-q.left.start)*o)-s*p*m.outerWidth+w;
}if("filter"==m.transformProperty&&m.matrix&&m.reflection){n.height=2*(n.height?parseInt(n.height,10):(l*m.height))+w;
}a(f.elem).css("display","none").css(n).css("display","");
};
})();

/* END Telerik.Web.UI.Common.Animation.AnimationScripts.js */
/* START Telerik.Web.UI.Common.TouchScrollExtender.js */
(function(a){Type.registerNamespace("Telerik.Web.UI");
var b=Telerik.Web.UI;
var c=false;
Telerik.Web.UI.TouchScrollExtender=function(d){this._containerElements=a(d);
var e=arguments[1]||{};
this._autoScan="autoScan" in e?e.autoScan:false;
this._showScrollHints="showScrollHints" in e?e.showScrollHints:true;
this._useRoundedHints="useRoundedHints" in e?e.useRoundedHints:true;
this._hasHorizontalScrollHint=false;
this._hasVerticalScrollHint=false;
this._verticalScrollHint=false;
this._horizontalScrollHint=false;
this._lastAnimator=false;
this._dragCanceled=false;
this._currentTouches=0;
this.containers=[];
this._enableTouchScroll=true;
this._unbindBeforeDragging=false;
};
Telerik.Web.UI.TouchScrollExtender._getNeedsScrollExtender=function(){return $telerik.isTouchDevice;
};
Telerik.Web.UI.TouchScrollExtender.prototype={initialize:function(){if(this._enableTouchScroll){if(this._autoScan){this._containerElements=this._containerElements.add(a("*",this._containerElements)).filter(function(){return(a(this).css("overflow")=="scroll"||a(this).css("overflow")=="auto");
});
}var d=this;
this._containerElements.each(function(){this.style.overflow="hidden";
var e=a(this).addClass("RadTouchExtender").css("-webkit-tap-highlight-color","rgba(0, 0, 0, 0);");
var f={element:e.stop(),horizontalScrollHint:a('<div id="horizontalScrollHint" style="position: absolute; display: none; z-index: 200000; font-size: 0; height: 3px; border: 1px solid #333; background: #777; " />').appendTo(this.parentNode),verticalScrollHint:a('<div id="verticalScrollHint" style="position: absolute; display: none; z-index: 200000; width: 3px; border: 1px solid #333; background: #777; " />').appendTo(this.parentNode)};
if(d._useRoundedHints){f.horizontalScrollHint.css({"-moz-border-radius":"3px","-webkit-border-radius":"3px","border-radius":"3px"});
f.verticalScrollHint.css({"-moz-border-radius":"3px","-webkit-border-radius":"3px","border-radius":"3px"});
}e.data("dragID",d.containers.push(f)-1);
});
this._startDragProxy=a.proxy(this._startDrag,this);
if(b.TouchScrollExtender._getNeedsScrollExtender()){this._onGestureStartProxy=a.proxy(this._onGestureStart,this);
this._onGestureEndProxy=a.proxy(this._onGestureEnd,this);
this._containerElements.bind("touchstart",this._startDragProxy);
this._containerElements.bind("gesturestart",this._onGestureStartProxy);
this._containerElements.bind("gestureend",this._onGestureEndProxy);
}else{this._containerElements.bind("mousedown",this._startDragProxy);
}this._storeLastLocation=a.throttle(100,function(e){this._lastAnimator.kX=e.x;
this._lastAnimator.kY=e.y;
});
this._alignScrollHints=a.throttle(20,function(){var h=0;
var i=0;
var f=this._lastAnimator.element[0];
var j=this._lastAnimator.horizontalScrollHint;
var k=this._lastAnimator.verticalScrollHint;
var e=this._getBorderBox(f);
var g=a(f).position();
if(this._hasHorizontalScrollHint&&j){h=Math.abs(f.scrollLeft)*this._widthConstant+g.left+e.left;
j.css({left:h});
}if(this._hasVerticalScrollHint&&k){i=Math.abs(f.scrollTop)*this._heightConstant+g.top+e.top;
k.css({top:i});
}});
this._throttleScroll=a.throttle(10,function(e){this._lastAnimator.element[0].scrollLeft=this._lastAnimator.dragStartX-e.x;
this._lastAnimator.element[0].scrollTop=this._lastAnimator.dragStartY-e.y;
});
}this._scrollEndedDelegate=Function.createDelegate(this,this._scrollEnded);
},dispose:function(){this.disable();
this._detachInitilalEvents();
this.containers=null;
this._containerElements=null;
this._events=null;
this._scrollEndedDelegate=null;
},_detachInitilalEvents:function(){if(this._containerElements){if(this._startDragProxy){this._containerElements.unbind("mousedown",this._startDragProxy);
}if(this._onGestureStartProxy){this._containerElements.unbind("gesturestart",this._onGestureStartProxy);
}if(this._onGestureEndProxy){this._containerElements.unbind("gestureend",this._onGestureEndProxy);
}}},_startDrag:function(g){if(this._preventMultiTouch(g)){this._detachEvents();
c=false;
return;
}if(this._dragCanceled){return;
}if(c){return;
}var d=a(g.target);
var f=d.parents(".RadTouchExtender");
if(d.hasClass("RadTouchExtender")){f=f.add(d);
}var h=this._lastAnimator=this.containers[f.data("dragID")];
var i=h.element[0];
this._hasHorizontalScrollHint=i.offsetWidth<i.scrollWidth;
this._hasVerticalScrollHint=i.offsetHeight<i.scrollHeight;
h.hasDragged=false;
if(this._hasHorizontalScrollHint||this._hasVerticalScrollHint){c=true;
h.element.stop(true);
h.originalEvent=g.originalEvent;
if(!b.TouchScrollExtender._getNeedsScrollExtender()){this._cancelEvents(g);
}var k=$telerik.getTouchEventLocation(g);
h.kX=k.x;
h.kY=k.y;
var j=i.scrollLeft||0;
var l=i.scrollTop||0;
h.dragStartX=(j>0?j:0)+k.x;
h.dragStartY=(l>0?l:0)+k.y;
if(b.TouchScrollExtender._getNeedsScrollExtender()){if(this._unbindBeforeDragging){a(document.body).unbind({touchmove:a.proxy(this._compositeDragger,this),touchend:a.proxy(this._endDrag,this)});
}a(document.body).bind({touchmove:a.proxy(this._compositeDragger,this),touchend:a.proxy(this._endDrag,this)});
}else{a(document.body).bind({mousemove:a.proxy(this._compositeDragger,this),mouseup:a.proxy(this._endDrag,this)});
}}},_preventMultiTouch:function(d){if(d.originalEvent.touches&&d.originalEvent.touches.length>1){return true;
}},_getBorderBox:function(f){var d={left:0,top:0,right:0,bottom:0,horizontal:0,vertical:0};
if(window.getComputedStyle){var e=window.getComputedStyle(f,null);
d.left=parseInt(e.getPropertyValue("border-left-width"),10);
d.right=parseInt(e.getPropertyValue("border-right-width"),10);
d.top=parseInt(e.getPropertyValue("border-top-width"),10);
d.bottom=parseInt(e.getPropertyValue("border-bottom-width"),10);
}else{d.left=f.currentStyle.borderLeftWidth;
d.right=f.currentStyle.borderRightWidth;
d.top=f.currentStyle.borderTopWidth;
d.bottom=f.currentStyle.borderBottomWidth;
}d.horizontal=d.left+d.right;
d.vertical=d.top+d.bottom;
return d;
},_addScrollHints:function(){if(this._showScrollHints){var k=0;
var l=0;
var i=this._lastAnimator;
var e=i.element[0];
var d=this._getBorderBox(e);
var g=a(e).position();
if(this._hasHorizontalScrollHint){var h=i.element.innerWidth();
var m=~~((h/e.scrollWidth)*h)-2;
this._widthConstant=(m/h);
setTimeout(function(){k=Math.abs(e.scrollLeft)*(m/h)+g.left+d.left;
l=e.offsetHeight+g.top+d.top-7;
i.horizontalScrollHint.width(m).css({left:k,top:l});
},0);
i.horizontalScrollHint.fadeTo(200,0.5);
}if(this._hasVerticalScrollHint){var f=i.element.innerHeight();
var j=~~((f/e.scrollHeight)*f)-2;
this._heightConstant=(j/f);
setTimeout(function(){l=Math.abs(e.scrollTop)*(j/f)+g.top+d.top;
k=e.offsetWidth+g.left+d.left-7;
i.verticalScrollHint.height(j).css({left:k,top:l});
},0);
i.verticalScrollHint.fadeTo(200,0.5);
}}},_removeScrollHints:function(){if(this._showScrollHints){var d=this._lastAnimator.horizontalScrollHint;
var e=this._lastAnimator.verticalScrollHint;
if(this._hasHorizontalScrollHint&&d){d.hide();
}if(this._hasVerticalScrollHint&&e){e.hide();
}}},_simpleDragger:function(d){if(this._dragCanceled){return;
}this._cancelEvents(d);
var f=$telerik.getTouchEventLocation(d);
if(this._lastAnimator.element.length){this._throttleScroll(f);
this._alignScrollHints();
}this._storeLastLocation(f);
},_compositeDragger:function(d){if(this._dragCanceled){return;
}var h=$telerik.getTouchEventLocation(d);
var f=this._lastAnimator;
var g=f.element[0];
this._cancelEvents(d,f,h,"compositeDragger");
if(Math.abs(f.kX-h.x)>10||Math.abs(f.kY-h.y)>10){f.hasDragged=true;
this._addScrollHints();
if(b.TouchScrollExtender._getNeedsScrollExtender()){a(document.body).unbind("touchmove",this._compositeDragger).bind("touchmove",a.proxy(this._simpleDragger,this));
}else{a(document.body).unbind("mousemove",this._compositeDragger).bind("mousemove",a.proxy(this._simpleDragger,this));
}if($telerik.isIE){f.element.bind("click",this._cancelEvents);
g.setCapture(true);
}else{g.addEventListener("click",this._cancelEvents,true);
}}},disable:function(){this._detachEvents();
c=false;
this._dragCanceled=true;
},enable:function(){this._dragCanceled=false;
},_onGestureStart:function(){this._detachEvents();
c=false;
this._dragCanceled=true;
},_onGestureEnd:function(){this._dragCanceled=false;
},_endDrag:function(d){if(this._dragCanceled){return;
}c=false;
this._cancelEvents(d);
this._detachEvents();
if(b.TouchScrollExtender._getNeedsScrollExtender()){if(this._lastAnimator.originalEvent.touches.length==1&&!this._lastAnimator.hasDragged){var i=this._lastAnimator.originalEvent;
var f=document.createEvent("MouseEvents");
f.initMouseEvent("click",i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,i.button,i.relatedTarget);
i.target.dispatchEvent(f);
}}var j=this;
var h=$telerik.getTouchEventLocation(d);
var g=this._lastAnimator;
if($telerik.isIE){setTimeout(function(){g.element.unbind("click",j._cancelEvents);
document.releaseCapture();
},10);
}else{setTimeout(function(){g.element[0].removeEventListener("click",j._cancelEvents,true);
},0);
}if(g.hasDragged){if(g.element.length){g.endX=h.x;
g.endY=h.y;
}this._finishDrag(g);
}},_detachEvents:function(){if(b.TouchScrollExtender._getNeedsScrollExtender()){a(document.body).unbind("touchmove",this._simpleDragger).unbind("touchmove",this._compositeDragger).unbind("touchend",this._endDrag);
}else{a(document.body).unbind("mousemove",this._simpleDragger).unbind("mousemove",this._compositeDragger).unbind("mouseup",this._endDrag);
}},_finishDrag:function(d){var f=d.element[0].scrollLeft+d.kX-d.endX;
var g=d.element[0].scrollTop+d.kY-d.endY;
d.kX=0;
d.kY=0;
var e=this;
d.element.stop(true).animate({scrollLeft:f,scrollTop:g},{duration:500,easing:"easeOutQuad",complete:function(){e._removeScrollHints();
e._scrollEndedDelegate();
},step:function(){e._alignScrollHints();
}});
if(this._hasHorizontalScrollHint&&d.horizontalScrollHint){d.horizontalScrollHint.stop().css("opacity",0.5).fadeTo(450,0);
}if(this._hasVerticalScrollHint&&d.verticalScrollHint){d.verticalScrollHint.stop().css("opacity",0.5).fadeTo(450,0);
}},_cancelEvents:function(d){d.stopPropagation();
d.preventDefault();
},_setUnbindBeforeDragging:function(d){this._unbindBeforeDragging=d;
},get_events:function(){if(!this._events){this._events=new Sys.EventHandlerList();
}return this._events;
},_scrollEnded:function(){this._raiseEvent("scrollEnded",Sys.EventArgs.Empty);
},add_scrollEnded:function(d){this.get_events().addHandler("scrollEnded",d);
},remove_scrollEnded:function(d){this.get_events().removeHandler("scrollEnded",d);
},_raiseEvent:function(e,d){var f=this.get_events().getHandler(e);
if(f){if(!d){d=Sys.EventArgs.Empty;
}f(this,d);
}}};
Telerik.Web.UI.TouchScrollExtender.registerClass("Telerik.Web.UI.TouchScrollExtender",null,Sys.IDisposable);
})($telerik.$);

/* END Telerik.Web.UI.Common.TouchScrollExtender.js */
/* START Telerik.Web.UI.Window.RadWindowScripts.js */
Type.registerNamespace("Telerik.Web.UI");
(function(a,c,k){$telerik.toWindow=function(m){return m;
};
$telerik.findWindow=$find;
var b=Sys.Serialization.JavaScriptSerializer;
var l={top:0,left:0,bottom:0,right:0,horizontal:0,vertical:0};
var f=window;
var h=f.parseInt;
var e=f.document;
var g="html";
var d="body";
var i="rwPreventPageScrolling";
var j=Telerik.Web.Browser.scrollBarWidth;
c.RadWindowControllerClass=function(){this._activeWindow=null;
this._historyStack=[];
};
c.RadWindowControllerClass.prototype={getInstance:function(){return this;
},hideCurrentWindowIfNonModal:function(){if(this._activeWindow!=null&&this._activeWindow.isModal&&!this._activeWindow.isModal()){this._activeWindow.close();
}this._activeWindow=null;
},inactivateCurrentWindow:function(){if(this._activeWindow!=null){this._activeWindow.setActive(false);
}this._activeWindow=null;
},set_activeWindow:function(m){if(m==this._activeWindow){return;
}this.inactivateCurrentWindow();
this._activeWindow=m;
Array.remove(this._historyStack,m);
Array.add(this._historyStack,m);
},notifyWindowClosed:function(m){if(this._activeWindow==m){this._activeWindow=null;
}Array.remove(this._historyStack,m);
this._activatePreviousWindow();
},_activatePreviousWindow:function(){var m=this._historyStack;
var n=m.length-1;
for(;
n>=0;
n--){var o=m[n];
if(!o){return;
}if(o.isCreated()&&!o.isClosed()&&!o.isMinimized()){o.setActive(true);
break;
}else{Array.removeAt(m,n);
}}},get_activeWindow:function(){return this._activeWindow;
}};
c.RadWindowControllerClass.registerClass("Telerik.Web.UI.RadWindowControllerClass",null);
if(!c.RadWindowController){c.RadWindowController=new c.RadWindowControllerClass();
}Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.RadWindowUtils");
c.RadWindowUtils.Localization={Close:"Close",Minimize:"Minimize",Maximize:"Maximize",Reload:"Reload",PinOn:"Pin on",PinOff:"Pin off",Restore:"Restore",OK:"OK",Cancel:"Cancel",Yes:"Yes",No:"No"};
a.registerEnum(c,"WindowBehaviors",{None:0,Resize:1,Minimize:2,Close:4,Pin:8,Maximize:16,Move:32,Reload:64,Default:(1+2+4+8+16+32+64)});
a.registerEnum(c,"WindowAutoSizeBehaviors",{Width:1,WidthProportional:2,Height:4,HeightProportional:8,Default:(2+8)});
a.registerEnum(c,"WindowAnimation",{None:0,Resize:1,Fade:2,Slide:4,FlyIn:8});
a.registerEnum(c,"WindowMinimizeMode",{SameLocation:1,MinimizeZone:2,Default:1});
c.RadWindow=function(m){c.RadWindow.initializeBase(this,[m]);
this._openerElement=null;
this._offsetElement=null;
this._popupElement=null;
this._tableElement=null;
this._contentElement=null;
this._contentCell=null;
this._titleElement=null;
this._titleCell=null;
this._titlebarElement=null;
this._statusCell=null;
this._statusMessageElement=null;
this._iframe=null;
this._dockMode=false;
this._isPredefined=false;
this._buttonsElement=null;
this._buttonsArray=[];
this._iconUrl="";
this._shortCutManager=null;
this._tabIndex=null;
this.isIE=($telerik.isIE);
this._openerElementID=null;
this._offsetElementID=null;
this._behaviors=c.WindowBehaviors.Default;
this._left=null;
this._top=null;
this._title="";
this._width="300px";
this._minWidth=null;
this._minHeight=null;
this._defaultMinWidth=null;
this._defaultMinHeight=null;
this._handlesWidth=null;
this._resizeOverlayElement=null;
this._height="300px";
this._opacity=100;
this._visibleTitlebar=true;
this._visibleStatusbar=true;
this._modal=false;
this._overlay=false;
this._keepInScreenBounds=false;
this._windowAnimation=null;
this._onMouseDownDelegate=null;
this._onClickDelegate=null;
this._onTitlebarDblclickDelegate=null;
this._onTitlebarClickDelegate=null;
this._onWindowResizeDelegate=null;
this._onIframeLoadDelegate=null;
this._onChildPageUnloadDelegate=null;
this._onChildPageClickDelegate=null;
this._onKeyDownDelegate=null;
this._onModalShowHandler=null;
this._onModalCloseHandler=null;
this._loaded=false;
this._isCloned=false;
this._restoreRect=null;
this._popupBehavior=null;
this._popupVisible=false;
this._initialHandlesCursor=[];
this._dropDownTouchScroll=null;
this._browserWindow=window;
this._stylezindex=null;
this._renderMode=c.RenderMode.Classic;
var n=navigator.userAgent;
this._isiPhoneiPadAppleWebkit=n.match(/iPhone|iPad/)&&n.match(/AppleWebKit/);
this._iframeWrapper=null;
this._ariaSettings=null;
this.GetWindowManager=this.get_windowManager;
this.BrowserWindow=window;
this.GetContentFrame=this.get_contentFrame;
this.GetLeftPosition=function(){this.getWindowBounds().x;
};
this.GetTopPosition=function(){this.getWindowBounds().y;
};
this.GetTitlebar=function(){return this.ui?this.ui.titlebar:null;
};
this.GetStatusbar=function(){return this._statusCell;
};
this.SetOpenerElementId=this.set_openerElementID;
this.SetStatus=this.set_status;
this.GetStatus=this.get_status;
this.SetModal=this.set_modal;
this.SetWidth=this.set_width;
this.SetHeight=this.set_height;
this.GetWidth=this.get_width;
this.GetHeight=this.get_height;
this.SetOffsetElementId=this.set_offsetElementID;
this.SetTitle=this.set_title;
this.MoveTo=this.moveTo;
this.Center=this.center;
this.SetVisible=this.setVisible;
this.SetSize=this.setSize;
this.Show=this.show;
this.Hide=this.hide;
this.GetUrl=this.get_navigateUrl;
this.SetUrl=this.setUrl;
this.Reload=this.reload;
this.SetActive=this.setActive;
this.Minimize=this.minimize;
this.Restore=this.restore;
this.Maximize=this.maximize;
this.Close=this.close;
this.TogglePin=this.togglePin;
this.IsMaximized=this.isMaximized;
this.IsMinimized=this.isMinimized;
this.IsModal=this.isModal;
this.IsClosed=this.isClosed;
this.IsPinned=this.isPinned;
this.IsVisible=this.isVisible;
this.IsActive=this.isActive;
this.IsBehaviorEnabled=this.isBehaviorEnabled;
};
c.RadWindow.prototype={_getLocalization:function(){return c.RadWindowUtils.Localization;
},_getLocalizationString:function(o){var n=this.get_localization();
if(typeof(n)=="string"){n=Sys.Serialization.JavaScriptSerializer.deserialize(n);
this.set_localization(n);
}var m=this._getLocalization();
if(!n){return m[o];
}return n[o];
},_registerGlobalBodyEventHandlers:function(n){var m=this.get_shortcuts();
if(!m){return;
}if(!this._shortCutManager){this._shortCutManager=new c.WindowShortCutManager(m);
}if(n){this._onKeyDownDelegate=Function.createDelegate(this,this._onKeyDown);
$addHandler(e.documentElement,"keydown",this._onKeyDownDelegate);
}else{if(this._onKeyDownDelegate){$removeHandler(e.documentElement,"keydown",this._onKeyDownDelegate);
this._onKeyDownDelegate=null;
}}},_registerIframeLoadHandler:function(m){if(!this._iframe){return;
}if(m){this._onIframeLoadDelegate=Function.createDelegate(this,this._onIframeLoad);
$addHandler(this._iframe,"load",this._onIframeLoadDelegate);
}else{if(this._onIframeLoadDelegate){$removeHandler(this._iframe,"load",this._onIframeLoadDelegate);
this._onIframeLoadDelegate=null;
$clearHandlers(this._iframe);
}}},_registerWindowResizeHandler:function(m){if(m){this._onWindowResizeDelegate=Function.createDelegate(this,this._maintainMaximizedSize);
$addHandler(window,"resize",this._onWindowResizeDelegate);
}else{if(this._onWindowResizeDelegate){$removeHandler(window,"resize",this._onWindowResizeDelegate);
this._onWindowResizeDelegate=null;
}}},_registerOpenerElementHandler:function(n,m){if(!n){return;
}if(Sys.UI.DomElement.containsCssClass(n,"RadButton")){n.setAttribute("rwOpener",true);
}else{n.removeAttribute("rwOpener");
}if(true==m){this._onClickDelegate=Function.createDelegate(this,this._onClick);
a(n).on("click",this._onClickDelegate);
}else{a(n).off("click",this._onClickDelegate);
this._onClickDelegate=null;
}},_registerTitlebarHandlers:function(m){var n=this.ui?this.ui.titleCell||this.ui.titlebar:null;
if(m){this._onTitlebarDblclickDelegate=Function.createDelegate(this,function(){if(this.isMinimized()){this.restore();
}else{if(this.isBehaviorEnabled(c.WindowBehaviors.Maximize)){if(this.isMaximized()){this.restore();
}else{this.maximize();
}}}});
this._onTitlebarClickDelegate=Function.createDelegate(this,function(){if(this._getWindowController()._activeWindow===this){this.setActive(true);
}});
$addHandler(n,"dblclick",this._onTitlebarDblclickDelegate);
$addHandler(n,"click",this._onTitlebarClickDelegate);
}else{if(n){if(this._onTitlebarDblclickDelegate){$removeHandler(n,"dblclick",this._onTitlebarDblclickDelegate);
this._onTitlebarDblclickDelegate=null;
}if(this._onTitlebarClickDelegate){$removeHandler(n,"click",this._onTitlebarClickDelegate);
this._onTitlebarClickDelegate=null;
}$clearHandlers(n);
}}},_makeModal:function(m){if(this._onModalShowHandler){this.remove_show(this._onModalShowHandler);
this._onModalShowHandler=null;
}if(this._onModalCloseHandler){this.remove_close(this._onModalCloseHandler);
this._onModalCloseHandler=null;
}if(this._modalExtender){this._modalExtender.dispose();
this._modalExtender=null;
}if(!m){return;
}if(typeof(c.RadWindowManager)!="undefined"&&c.RadWindowManager.isInstanceOfType(this)){return;
}this._onModalShowHandler=function(r){if(!r._modalExtender){var q=r._popupElement;
var p=r.get_enableAriaSupport();
r._modalExtender=new c.ModalExtender(q,{enableAriaSupport:p,getNodesToHide:function(){return a(q).nextAll(":not(script,link)").get();
},trapTabKey:p});
}r._modalExtender.show();
var o=null;
try{o=e.activeElement;
}catch(n){e.documentElement.focus();
o=e.activeElement;
}if(o&&o.tagName&&o.tagName.toLowerCase()!="body"){var s=(!$telerik.isDescendant(this._contentElement,o)&&this._dockMode);
if(!(r._isPredefined)||s){r._focusedPageElement=o;
o.blur();
}}if(r.get_centerIfModal()){r.center();
}};
this.add_show(this._onModalShowHandler);
this._onModalCloseHandler=function(n){window.setTimeout(function(){if(n._modalExtender){n._modalExtender.hide();
}var p=n._focusedPageElement;
if(p){try{p.focus();
}catch(o){}n._focusedPageElement=null;
}},10);
};
this.add_close(this._onModalCloseHandler);
},_enableMoveResize:function(n){if(!this.view){return;
}var m={resize:this.isBehaviorEnabled(c.WindowBehaviors.Resize),move:this.isBehaviorEnabled(c.WindowBehaviors.Move)};
if(n){this.view.enableMoveResize(m);
}else{this.view.disableMoveResize(m);
}},_setResizeOverlayVisible:function(m){if(this._dockMode){return;
}var o=this._resizeOverlayElement;
if(!o){var p=this._getHandlesWidth();
var n=this._visibleTitlebar?this._getTitlebarHeight():p;
o=e.createElement("div");
o.style.position="absolute";
o.style.zIndex="1";
o.style.top=n+"px";
o.style.left=Math.round(p/2)+"px";
o.style.backgroundColor="White";
o.style.filter="alpha(opacity=0)";
o.style.opacity=0;
this._contentCell.appendChild(o);
this._resizeOverlayElement=o;
}this._setResizeOverlaySize();
o.style.display=m?"":"none";
},_setResizeOverlaySize:function(){var n=this._resizeOverlayElement;
if(n){var m=this._contentCell;
n.style.width=m.offsetWidth+"px";
n.style.height=m.offsetHeight+"px";
}},onResizeStart:function(){if(this.isMaximized()){return false;
}this.setActive(true);
this._setResizeOverlayVisible(true);
this._cachedDragZoneBounds=this._getRestrictionZoneBounds();
var m=new Sys.CancelEventArgs();
this.raiseEvent("resizeStart",m);
if(m.get_cancel()){return false;
}},onResizing:function(m){if(!this._cachedDragZoneBounds||this._checkRestrictionZoneBounds(this._cachedDragZoneBounds,m)){if(this._dockMode){this.setWidthDockMode(m.width-1);
this.setHeightDockMode(m.height-1);
}else{this._setResizeOverlaySize();
}var o=this._getCurrentBounds();
var s=this.get_minWidth();
var q=h(this.get_maxWidth(),10);
var r=this.get_minHeight();
var p=h(this.get_maxHeight(),10);
var n=false;
if(m.width<s||q&&m.width>q){var u=s;
if(m.width<s){m.width=s;
}else{m.width=q;
u=q;
}var t=this._resizeExtender._originalBounds;
if(this._resizeExtender._resizeDir.west){m.x=t.x+(t.width-u);
if(this._cachedDragZoneBounds){m.x-=this._cachedDragZoneBounds.x;
}}else{m.x=o.x;
}m.y=o.y;
m.height=o.height;
n=true;
}if(m.height<r||p&&m.height>p){m.height=(m.height<r)?r:p;
m.x=o.x;
m.y=o.y;
m.width=o.width;
n=true;
}if(n){this.setSize(m.width,m.height);
this._setPopupVisible(m.x,m.y);
return false;
}this._updateTitleWidth();
return true;
}return false;
},onResizeEnd:function(){this._cachedDragWindowBounds=null;
var m=this._getCurrentBounds();
if(!this._dockMode){this._setResizeOverlayVisible(false);
}this._setPopupVisible(m.x,m.y);
this._storeBounds();
if(this._overlay&&$telerik.isFirefox){this._popupBehavior._onMove();
}this.raiseEvent("resizeEnd",new Sys.EventArgs());
},onDragStart:function(){this.setActive(true);
if(this.isPinned()||this.isMaximized()){return false;
}if(this.isMinimized()&&this.get_minimizeZoneID()){return false;
}var o=this.get_popupElement();
this._cachedDragZoneBounds=this._getRestrictionZoneBounds();
var n=$telerik.getSize(o);
var m=$telerik.getBorderBox(o);
n.width-=m.horizontal;
n.height-=m.vertical;
this._cachedDragWindowBounds=n;
this._setResizeOverlayVisible(true);
this.raiseEvent("dragStart",new Sys.EventArgs());
return true;
},onDragEnd:function(n){this._cachedDragZoneBounds=null;
this._cachedDragWindowBounds=null;
if(this._overlay&&$telerik.isFirefox){this._popupBehavior._onMove();
}this._setResizeOverlayVisible(false);
var m=this._getCurrentBounds();
this.moveTo(m.x,m.y);
this.setActive(true);
if(this.isMinimized()){this._getTitleElement().style.width="";
}this.raiseEvent("dragEnd",new Sys.EventArgs());
},onDrag:function(m){if(!this._cachedDragZoneBounds){return true;
}var o=this._cachedDragWindowBounds;
var p=this._cachedDragZoneBounds;
m.width=o.width;
m.height=o.height;
var n=this._checkRestrictionZoneBounds(p,m);
if(!n){if(m.x<=p.x){m.x=p.x;
}else{if(p.x+p.width<=m.x+o.width){m.x=p.x+p.width-o.width;
}}if(m.y<=p.y){m.y=p.y;
}else{if(p.y+p.height<=m.y+o.height){m.y=p.y+p.height-o.height;
}}n=true;
}return n;
},initialize:function(){c.RadWindow.callBaseMethod(this,"initialize");
this._positionX=this._left;
this._positionY=this._top;
this.initView();
var n=this.get_element();
if(n.innerHTML.toLowerCase().indexOf("thank you for using the trial version of telerik� ui for asp.net ajax")>0){n.style.display="";
}if(this.get_visibleOnPageLoad()){setTimeout(Function.createDelegate(this,function(){this.show();
}),0);
}this._registerWindowResizeHandler(true);
var m=this.get_element().className;
if(m){this.set_cssClass(m.replace(/^ /,""));
}},initView:function(){var m=c.Window.UIFactory;
if(!this.ui||this.ui.window!=this){this.ui=m.getRenderer(this._renderMode,this);
}if(!this.view||this.view.window!=this){this.view=m.getView(this._renderMode,this);
}},dispose:function(){var n=this;
var m=this.get_windowManager();
if(m){if(m.get_preserveClientState()){m.saveWindowState(this);
}if(this.get_destroyOnClose()){m.removeWindow(this);
}}this.disposeUI();
if(n._keyboardNavigation){n._keyboardNavigation.dispose();
}c.RadWindow.callBaseMethod(this,"dispose");
},disposeUI:function(){if(this._windowAnimation){this._windowAnimation.dispose();
}if(!$telerik.isChrome&&!$telerik.isSafari){this._removeFromDOM=this.get_destroyOnClose();
}this._enableMoveResize(false);
this._makeModal(false);
this._registerTitlebarHandlers(false);
if(this._titleIconElement){$clearHandlers(this._titleIconElement);
}this._registerWindowResizeHandler(false);
this._registerIframeLoadHandler(false);
if(this._openerElement){this._registerOpenerElementHandler(this._openerElement,false);
}this.set_behaviors(c.WindowBehaviors.None);
if(this.view){this.view.dispose();
}if(this.ui){this.ui.dispose();
}this.view=this.ui=null;
var n=this._iframe;
if(n){n.radWindow=null;
var r="sandbox" in e.createElement("iframe");
n.src=r?"about:blank":"javascript:'<html></html>';";
n.name="";
n.removeAttribute("name");
n.removeAttribute("NAME");
}this._createTouchScrollExtender(false);
if(this._contentElement&&this._isPredefined){this._contentElement.innerHTML="";
}var m=this.get_contentElement();
if(this._dockMode&&m){if(Sys&&Sys.WebForms){var q=Sys.WebForms.PageRequestManager.getInstance();
if(q&&q.get_isInAsyncPostBack()){$telerik.disposeElement(m);
}}}var o=this._popupElement;
if(o&&o.parentNode){o.parentNode.removeChild(o);
}this._popupVisible=false;
var p=this._popupBehavior;
if(this.get_destroyOnClose()&&p){p.dispose();
this._popupBehavior=null;
}},hide:function(){this._hide();
this._registerGlobalBodyEventHandlers(false);
return true;
},clone:function(o){var p=e.createElement("span");
var q;
if(o){p.setAttribute("id",o);
}var n=this.get_contentElement();
var m=n?n.cloneNode(true):null;
if(this._renderMode!=c.RenderMode.Classic){this._contentElement=m;
}try{q=$telerik.cloneControl(this,c.RadWindow,p);
q._enableRippleEffect=this._enableRippleEffect;
}finally{if(this._renderMode!=c.RenderMode.Classic&&n){this.set_contentElement(n);
}}return q;
},_createTouchScrollExtender:function(o){var m=$get(this.get_id()+"_C");
if(m){var n=this._dropDownTouchScroll;
if(n){if(!o){n.dispose();
this._dropDownTouchScroll=null;
}}else{if(o){this._dropDownTouchScroll=new c.TouchScrollExtender(m);
this._dropDownTouchScroll.initialize();
}}}},set_contentElement:function(m){if(!this._isPredefined&&m.getElementsByTagName("iframe").length==0){this._dockMode=true;
}if(this.view){this.view.setContent(m);
}},_setShadowCSSClass:function(m){this.ui.setShadowCssClass(m);
},get_contentElement:function(){return this._contentElement||(this.ui?this.ui.pendingContent:null);
},isCreated:function(){return this._popupElement!=null;
},show:function(){var n=this.isCreated();
this._createUI();
var m=new Sys.CancelEventArgs();
this.setZIndexCss();
this.raiseEvent("beforeShow",m);
if(m.get_cancel()){return;
}if(this.get_navigateUrl()&&(!n||this.get_reloadOnShow())){this.setUrl(this.get_navigateUrl());
}if(!n&&(this.get_initialBehaviors()!=c.WindowBehaviors.None)){this._show();
this._afterShow();
if(this.isInitialBehaviorEnabled(c.WindowBehaviors.Minimize)){this.minimize();
}if(this.isInitialBehaviorEnabled(c.WindowBehaviors.Maximize)){this.maximize();
}if(this.isInitialBehaviorEnabled(c.WindowBehaviors.Pin)){this.togglePin();
}return;
}if(this.get_animation()==c.WindowAnimation.None){this._show();
this._afterShow();
}else{this._playAnimation();
}},_show:function(){var q=this;
if(this.get_offsetElementID()&&!this._offsetElement){var o=$get(this.get_offsetElementID());
if(o){this._offsetElement=o;
}}var n=this._popupBehavior.get_parentElement();
if(this._offsetElement&&!this._offsetSet){this._popupBehavior.set_parentElement(this._offsetElement);
this._offsetSet=true;
}this.set_visibleTitlebar(this._visibleTitlebar);
this.set_visibleStatusbar(this._visibleStatusbar);
if(q.get_enableShadow()){q._setShadowCSSClass(true);
}else{q._setShadowCSSClass(false);
}this._reSetWindowPosition();
this._popupVisible=true;
this.setVisible(true);
var p=this._getStoredBounds();
if(this._firstShow&&!p){this.set_width(this.get_width());
this.set_height(this.get_height());
}else{this._restoreBounds();
}if(n!=this._popupBehavior.get_parentElement()){this._popupBehavior.set_parentElement(n);
}var m=this.get_contentElement();
if(!this._isPredefned&&m){$telerik.repaintChildren(m);
}},_hide:function(){if(!this.get_animation()||this.get_animation()==0){this._afterHide();
}else{if(this._enableShadow&&$telerik.isIE){this._setShadowCSSClass(false);
}var n=Function.createDelegate(this,this._afterHide),o=this.isMaximized(),m=this.get_animationDuration();
$telerik.$(this._popupElement).stopTransition().transition({opacity:0},m,"linear",function(){n(o);
});
}},_afterHide:function(m){if(!this._popupBehavior){return;
}if(m==null){m=this.isMaximized();
}var n=this.isMinimized();
if(m||n){this.restore();
}if($telerik.isFirefox){this.setOverflowVisible(false);
}this._popupVisible=false;
if($telerik.isIE9||$telerik.isIE10){this._moveElementToShowOutOfView();
}else{this.setVisible(false);
}this._getWindowController().notifyWindowClosed(this);
this._isClosing=false;
},_moveElementToShowOutOfView:function(){if(!this.view){this.initView();
}this.view.moveOutOfSight();
},get_leftHidingPoint:function(){return this._isRightToLeft?10000:-10000;
},_afterShow:function(){if($telerik.isIE9||$telerik.isIE10){this._restoreElementToShowStyling();
}this._restoreElementToShowOpacity();
this.setActive(true);
if($telerik.isFirefox){this.setOverflowVisible(true);
}this._registerGlobalBodyEventHandlers(true);
this._storeBounds();
this.raiseEvent("show",new Sys.EventArgs());
var m=this.get_animation()!=c.WindowAnimation.None;
if(this.get_autoSize()&&(this._dockMode||m)){this.autoSize(m);
}if(this.get_enableAriaSupport()&&this._popupElement&&this.isVisible()){this._popupElement.setAttribute("aria-hidden","false");
}},_restoreElementToShowStyling:function(){if(this._popupBehavior){a(this._popupBehavior.get_elementToShow()).css("overflow","");
}},_restoreElementToShowOpacity:function(){if(this._popupBehavior){var m=a(this._popupBehavior.get_elementToShow());
if(m.css("opacity")==="0"){m.css("opacity","");
}}},_playAnimation:function(){var p=Function.createDelegate(this,function(){var z=this._getCalculatedPopupBounds();
this._setPopupVisible(z.x,z.y);
var v=$telerik.getBounds(this._popupElement);
var y=this.get_offsetElementID();
if(y){var w=$get(y);
if(w){var x=$telerik.getBounds(w);
v.x=x.x;
v.y=x.y;
}}$telerik.$(this._popupElement).hide();
return v;
});
var m=this._popupElement;
if(this._enableShadow&&$telerik.isIE){this._setShadowCSSClass(false);
}var o=this.get_animation();
var u=this._openerElement?$telerik.getBounds(this._openerElement):null;
var q=p();
var n=this.get_animationDuration();
var t=""+this._position;
var s=null;
var r=Function.createDelegate(this,function(){var v=this.get_popupElement();
v.style.filter="";
if($telerik.isIE7){v.style.removeAttribute("filter");
}v.style.opacity="";
if(this._enableShadow&&$telerik.isIE&&!$telerik.isIE6){this._setShadowCSSClass(true);
}this._show();
this._afterShow();
});
c.Animations.playJQueryAnimation(m,o,u,q,t,s,r,n);
},_onClick:function(m){this.show();
return this._cancelEvent(m);
},_onKeyDown:function(m){var n=this._shortCutManager.isShortCutHit(m);
if(!n){return;
}if(this.isActive()){this.fire(n.get_name());
}},_cancelEvent:function(m){if(m){m.returnValue=false;
m.cancelBubble=true;
m.preventDefault();
m.stopPropagation();
}return false;
},_getWindowController:function(){return c.RadWindowController.getInstance();
},_getReloadOnShowUrl:function(n){var o="rwndrnd="+Math.random();
if(n.indexOf("?")>-1){o="&"+o;
}else{o="?"+o;
}var m=n.indexOf("#");
n=(m>-1)?n.substr(0,m)+o+n.substr(m):n+o;
return n;
},getWindowBounds:function(){return this._getCalculatedPopupBounds();
},toString:function(){return"[RadWindow id="+this.get_id()+"]";
},center:function(){var m=this._getCentralBounds();
this.moveTo(m.x,m.y);
},moveTo:function(q,r){var n=this._popupElement;
if(n){var m=this.ui.getBounds();
var o=this._getRestrictionZoneBounds();
if(o){var p=this._checkRestrictionZoneBounds(null,new Telerik.Web.UI.Bounds(q+o.x,r+o.y,m.width,m.height));
if(!p){return false;
}}}q=h(q,10);
r=h(r,10);
this._createUI();
this._setPopupVisible(q,r);
this._storeBounds();
return true;
},setZIndexCss:function(){var p=this.ui,m=p.container;
var o=h(m.style.zIndex,10);
if(!this.isMaximized()){var n=p.get_initialZIndexCss()||Telerik.Web.UI.RadWindowUtils.get_newZindex(o);
m.style.zIndex=""+n;
}},setSize:function(n,m){this._firstShow=false;
this.set_width(n);
this.set_height(m);
this._storeBounds();
},_calculateBoundsToFit:function(I,r){var v=this._renderMode==c.RenderMode.Lite;
var J=this.get_minWidth()-this._getHandlesWidth();
var H=this._tableElement?(h(this._tableElement.offsetHeight,10)-h(this.get_height(),10)):0;
var K=this._getTitleElement();
if(K){K.style.width=!v?"1px":"";
}var p;
var q;
var B=I.parentNode;
var C=B.style.height;
var D=B.style.width;
var u=I.nodeName=="IFRAME";
I.style.height=!v||u?"1px":"";
I.style.width=!v||u?"1px":"";
if(v){B.style.height="1px";
B.style.width="1px";
}if(this._dockMode){var A=I.style.overflow;
var E=I.style.position;
a(I).css({position:"absolute",overflow:"visible"});
try{var F=I.scrollWidth+$telerik.getBorderBox(I).horizontal;
q=F>J?F:J;
p=I.scrollHeight;
if(this._contentCell){Sys.UI.DomElement.addCssClass(this._contentCell,"rwLoading");
}}finally{a(I).css({position:E,overflow:A});
}}else{var m=r.getElementsByTagName("body")[0];
var o=m&&m.scrollWidth||0;
var n=m&&m.scrollHeight||0;
q=Math.max(r.scrollWidth,o);
if(q<J){I.style.width=J+"px";
q=r.scrollWidth;
}p=Math.max(r.scrollHeight,n);
}if(v){B.style.height=C;
B.style.width=D;
}var G=this._getRestrictionZoneBounds();
var L=G?G:this._getViewportBounds();
var N=this._getHandlesWidth()+q;
var t=this.get_defaultMinHeight()+p;
if(this._enableShadow&&$telerik.isIE&&!$telerik.isIE6&&this._tableElement){if(H>0){t-=H;
}}var M=N;
var s=t;
if(N>L.width){M=L.width;
s+=j;
}if(t>L.height){s=L.height;
M+=j;
}var z=this.get_minWidth();
var y=this.get_minHeight();
var w=h(this.get_maxHeight(),10);
var x=h(this.get_maxWidth(),10);
if(z>M){M=z;
}if(y>s){s=y;
}if(w&&w<s){s=w;
}if(x&&x<M){M=x;
}return{width:Math.ceil(M),height:Math.ceil(s),contentPageWidth:q,contentPageHeight:p};
},_autoSizeBehaviorBounds:function(s,n){var v=this._getRestrictionZoneBounds();
var x=v?v:this._getViewportBounds();
var m=c.WindowAutoSizeBehaviors;
var z=this.isAutoSizeBehaviorEnabled(m.WidthProportional);
var y=this.isAutoSizeBehaviorEnabled(m.Width);
var u=z||y;
var q=this.isAutoSizeBehaviorEnabled(m.HeightProportional);
var p=this.isAutoSizeBehaviorEnabled(m.Height);
var t=q||p;
var r=s;
if(v){r.y-=v.y;
r.x-=v.x;
}if(z&&this._positionX===null){r.x=this.calcPosition(s.x,s.width,n.width,x.width,false);
}if(u){r.width=n.width;
}if(u&&!t&&this.get_height()<n.height){r.width+=j;
}if(q&&this._positionY===null){r.y=this.calcPosition(s.y,s.height,n.height,x.height,true);
}if(t){r.height=n.height;
}if(t&&!u&&this.ui.content){var o=this.get_width()<this.ui.content.scrollWidth;
r.height+=o?j:1;
}if(!v){this.set_keepInScreenBounds(true);
}else{if(r.width==v.width){r.x=0;
}if(r.height==v.height){r.y=0;
if(this._enableShadow&&$telerik.isIE&&!$telerik.isIE6&&this._tableElement){var w=h(this._tableElement.offsetHeight,10)-h(this.get_height(),10);
r.height-=w;
}}}return r;
},autoSize:function(y){if(this._isClosing||this.isClosed()||this.isMinimized()||this.isMaximized()){return;
}this.setOverflowVisible(true);
this._autoSizeInProgress=!this.get_autoSize();
var o=this.get_contentFrame();
var x=this._getTitleElement();
var t=this.get_popupElement();
var u=$telerik.getBounds(t);
var m=$telerik.getBorderBox(t);
var v=this.get_contentElement();
var w=v?$telerik.getBorderBox(v):l;
u.width-=m.horizontal+w.horizontal;
u.height-=m.vertical+w.vertical;
var p=null;
var r=this.get_keepInScreenBounds();
if(!this._dockMode){try{p=o.contentWindow.document.documentElement;
if(!p){return;
}}catch(q){return false;
}v=o;
}var n=this._calculateBoundsToFit(v,p);
var s=this._autoSizeBehaviorBounds(u,n);
s.width+=m.horizontal+w.horizontal;
s.height+=m.vertical+w.vertical;
this.setOverflowVisible(false);
if(y){this._autoSizeWithAnimation(s);
}else{this._deleteStoredBounds();
this.setBounds(s);
this.setOverflowVisible(true);
if(this._contentCell){Sys.UI.DomElement.removeCssClass(this._contentCell,"rwLoading");
}this.raiseEvent("autoSizeEnd",new Sys.EventArgs());
}if($telerik.isIE&&o){o.style.overflow="hidden";
setTimeout(function(){o.style.overflow="";
},0);
}this.set_keepInScreenBounds(r);
if(o){v.style.width="100%";
v.style.height="100%";
if($telerik.isIE9Mode){this.set_height(this.get_height());
}}if(x&&!this._isRightToLeft&&this.get_renderMode()!=1){x.style.width="";
}return true;
},_autoSizeWithAnimation:function(o){var n=this.get_popupElement();
if(this._enableShadow&&$telerik.isIE){this._setShadowCSSClass(false);
}var p=Function.createDelegate(this,function(){if(this.isClosed()){return;
}var r=this.get_popupElement();
r.style.filter="";
if($telerik.isIE7){r.style.removeAttribute("filter");
}r.style.opacity="";
this._deleteStoredBounds();
this.setBounds(o);
this.setOverflowVisible(true);
if(this._contentCell){Sys.UI.DomElement.removeCssClass(this._contentCell,"rwLoading");
}if(this._enableShadow&&$telerik.isIE&&!$telerik.isIE6){this._setShadowCSSClass(true);
}this.raiseEvent("autoSizeEnd",new Sys.EventArgs());
});
if(this._tableElement){this._tableElement.style.height="100%";
}var m={width:o.width,height:o.height,x:o.x,y:o.y};
var q=this._getRestrictionZoneBounds();
if(q){m.x+=q.x;
m.y+=q.y;
}setTimeout(function(){$telerik.$(n).transition({width:m.width,height:m.height,left:m.x,top:m.y,opacity:1},300,"easeIn",p);
},0);
},setBounds:function(m){if(!m){return;
}this._checkRestrictionZoneBounds=function(){return true;
};
this.moveTo(m.x,m.y);
this.setSize(m.width,m.height);
this._checkRestrictionZoneBounds=c.RadWindow.prototype._checkRestrictionZoneBounds;
},_substractWrappersBorder:function(o,p){var r=this.get_popupElement();
var m=this._contentCell;
if(!r||!m){return o;
}var q=$telerik.getBorderBox(r);
var n=$telerik.getBorderBox(m);
o-=p?(q.horizontal+n.hrizontal):(q.vertical+n.vertical);
return o;
},setWidthDockMode:function(m){if(!this._dockMode||!this.get_contentElement()){return;
}this.view.setContentWidth(m);
},setHeightDockMode:function(n){var m=this.get_contentElement();
if(!this._dockMode||!m){return;
}this.setContentFixedHeight(n,m);
},setContentFixedHeight:function(n,m){if(this.isCreated()){this.view.setContentFixedHeight(n,m);
}},calcPosition:function(q,p,o,s,m){var r=q+Math.round((p-o)/2);
if(r<0||r+p>s){r=Math.round(Math.abs((s-o)/2));
if(this.isAutoSizeBehaviorEnabled(c.WindowAutoSizeBehaviors.Default)){var n=this._dockMode?window:this.BrowserWindow;
r+=m?Math.max(n.document.documentElement.scrollTop,n.document.body.scrollTop):Math.max(n.document.documentElement.scrollLeft,n.document.body.scrollLeft);
}}return r;
},_maintainMaximizedSize:function(){if(!this.isMaximized()){return;
}if(this.view){this.view.setMaximizeSize();
}},_enablePageScrolling:function(m){if(m){a(g).removeClass(i);
a(d).removeClass(i);
}else{a(g).addClass(i);
a(d).addClass(i);
}},_getRestrictionZoneBounds:function(){var m=null;
var n=this._getRestrictionZoneElement();
if(n){m=$telerik.getBounds(n);
m.scrollLeft=0;
m.scrollTop=0;
}return m;
},_getRestrictionZoneElement:function(){var m=this.get_restrictionZoneID();
return m&&$get(m);
},_storeBounds:function(){if(!this.isCreated()){return;
}var m=this._getCurrentBounds();
if(this.isMaximized()){return false;
}if(this.isMinimized()){if(this._restoreRect){m.width=this._restoreRect.width;
m.height=this._restoreRect.height;
}else{m.width=this.get_width();
m.height=this.get_height();
}}if(($telerik.isIE9||$telerik.isIE10)&&this._restoreRect&&m.x==this.get_leftHidingPoint()&&m.y==-10000){m.x=this._restoreRect.x;
m.y=this._restoreRect.y;
}this._restoreRect=m;
},_restoreBounds:function(){if(!this._restoreRect){return;
}var m=this._restoreRect;
this.setSize(m.width,m.height);
this.moveTo(m.x,m.y);
},_getStoredBounds:function(){if(this._restoreRect){return this._restoreRect;
}},_deleteStoredBounds:function(){this._restoreRect=null;
},_getCurrentBounds:function(){var m=this.ui.getBounds();
if(this._firstShow!=true){this._updateWindowSize(this._height);
this._firstShow=true;
}var n=this._getRestrictionZoneBounds();
if(n){m.x-=n.x;
m.y-=n.y;
}return m;
},_getCentralBounds:function(){var m=this._getCurrentBounds();
var n=this._getViewportBounds();
var o=h((n.width-m.width)/2,10);
var p=h((n.height-m.height)/2,10);
m.x=o+n.scrollLeft;
m.y=p+n.scrollTop;
return m;
},_getViewportBounds:function(){var p=this._getRestrictionZoneBounds();
if(p){return p;
}var m=$telerik.getClientBounds();
var n=$telerik.getCorrectScrollLeft(e.documentElement)||$telerik.getCorrectScrollLeft(e.body);
var o=e.documentElement.scrollTop||e.body.scrollTop;
m.scrollLeft=n;
m.scrollTop=o;
if(this.isIE){if(m.width==0){m.width=e.body.clientWidth;
}if(m.height==0){m.height=e.body.clientHeight;
}}return m;
},_getCalculatedPopupBounds:function(){var v=this;
var o=v.isModal();
var m=v.isMaximized();
var n=v.isMinimized();
var t=this._getStoredBounds();
if(t&&!(m||n)){return t;
}var r=this._getCurrentBounds();
var q=this._offsetElement;
if((!o&&v._top==null&&v._left==null&&!q)||(o&&v.get_centerIfModal())){r=this._getCentralBounds();
}else{if(q){r.y=0;
r.x=0;
}else{var s=this._getViewportBounds();
r.x=s.scrollLeft;
r.y=s.scrollTop;
}if(!m){var p=this._left?this._left:0;
r.x+=p;
var u=this._top?this._top:0;
r.y+=u;
}}return r;
},_checkRestrictionZoneBounds:function(o,m){var n=o;
if(!n){n=this._getRestrictionZoneBounds();
if(!n){return true;
}}return c.ResizeExtender.containsBounds(n,m);
},_getTitlebarHeight:function(){if(!this.ui){return 0;
}return this.ui.getTitlebarHeight();
},_reSetWindowPosition:function(){var m=this._getCalculatedPopupBounds();
this._setPopupVisible(m.x,m.y);
},_fixIeHeight:function(p,n){if("CSS1Compat"==e.compatMode){var m=(p.offsetHeight-h(n,10));
if(m>0){var o=(h(p.style.height,10)-m);
if(o>0){p.style.height=o+"px";
}}}},_setPopupVisible:function(m,n){var o=this._getRestrictionZoneBounds();
if(o){m+=o.x;
n+=o.y;
}if(this.isCreated()){this.view.moveTo(m,n);
}},_isWindowRightToLeft:function(){var n=this._isRightToLeft;
if(n==null){var m=this.get_element();
var o=m.parentNode?m:this._getDefaultParent();
n=this._isRightToLeft=$telerik.isRightToLeft(o);
}return n;
},_createStatusbarResizer:function(m){if(this.ui){this.ui.createStatusbarResizer();
}},_createUI:function(){this.initView();
this.ui.createUI();
},_getDefaultParent:function(){var m=this.get_formID()?e.getElementById(this.get_formID()):null;
if(!m){if(e.forms&&e.forms.length>0){m=e.forms[0];
}else{m=e.body;
}}return m;
},_getStatusMessageElement:function(){if(this.ui){return this.ui.getStatusMessageNode();
}},_getTitleCommandButtonsHolder:function(){if(this.ui){return this.ui.getTitleCommandsContainer();
}},_getTitleElement:function(){if(this.ui){return this.ui.getTitleNode();
}},_getTitleIcon:function(){if(this.ui){return this.ui.getIconNode();
}},_getTitleCommandButton:function(m){if(this.ui){return this.ui.getCommandButton(m);
}},getTitleCommandButton:function(m){return this._getTitleCommandButton(m);
},_getHandlesWidth:function(){if(!this._handlesWidth&&this.ui){this._handlesWidth=this.ui.getHandlesWidth();
}return this._handlesWidth;
},get_defaultMinWidth:function(){if(this.ui){return this.ui.get_uiMinWidth();
}},get_defaultMinHeight:function(){if(this.ui){return this.ui.get_uiMinHeight();
}},setOverflowVisible:function(o){if(!o&&this._overflowHidden){return;
}var p="hidden";
var n="hidden";
var s="hidden";
var r;
var m;
if(!this._dockMode){try{var q=this.get_contentFrame();
if(q){q.style.overflow=o?"":"hidden";
}r=q.contentWindow.document.documentElement;
if(!r){return;
}m=q.contentWindow.document.body;
if(!o){this._oldBodyOverflow=m.style.overflow;
this._oldDocOverflow=r.style.overflow;
this._overflowHidden=true;
}}catch(t){}}if(o){n=this._oldBodyOverflow;
s=this._oldDocOverflow;
p="auto";
this._overflowHidden=false;
}if(this._dockMode){this.get_contentElement().style.overflow=p;
}else{if(r&&m){if(s||s==""){r.style.overflow=s;
}if(n||n==""){m.style.overflow=n;
}}}},_updateTitleWidth:function(){if(this.ui){this.ui.updateTitleWidth();
}},_addWindowToDocument:function(){this.view.moveToDefaultParent();
},_createBackReference:function(){var o=this;
if(!o.Argument){o.Argument={};
}var n=this._iframe;
try{n.radWindow=o;
if(n.contentWindow!=null){n.contentWindow.radWindow=o;
}}catch(m){}},_getFullSkinName:function(){return"RadWindow RadWindow_"+this.get_skin()+" rwNormalWindow rwTransparentWindow";
},_configureMinimizeButton:function(m){var o=(true==m)?this._getLocalizationString("Restore"):this._getLocalizationString("Minimize");
var n=(true==m)?this.restore:this._minimize;
var q=this._getTitleCommandButton("Minimize");
if(!(this.isBehaviorEnabled(c.WindowBehaviors.Close))&&q){var r=q.parentNode;
var p=this._isWindowRightToLeft()?"right":"left";
if(true==m){p=(p=="right")?"left":"right";
}r.style.styleFloat=p;
r.style.cssFloat=p;
}this._registerTitlebarHandlersButton("Minimize",o,n);
},_configureMaximizeButton:function(m){var o=(true==m)?this._getLocalizationString("Restore"):this._getLocalizationString("Maximize");
var n=(true==m)?this.restore:this.maximize;
this._registerTitlebarHandlersButton("Maximize",o,n);
},_registerTitlebarHandlersButton:function(n,o,m){if(this.ui){this.ui.changeCommandButtonByName(n,o,Function.createDelegate(this,m));
}},isCloned:function(){return this._isCloned;
},isBehaviorEnabled:function(m){return !!(m&this.get_behaviors());
},isInitialBehaviorEnabled:function(m){return !!(m&this.get_initialBehaviors());
},isAutoSizeBehaviorEnabled:function(m){return !!(m&this.get_autoSizeBehaviors());
},setVisible:function(m){if(!this.view){this.initView();
}if(m){this.view.show();
}else{this.view.hide();
}},isVisible:function(){return this._popupVisible;
},isModal:function(){return this._modal;
},isActive:function(){return this.view&&this.view.isActive();
},isPinned:function(){var m=this._getTitleCommandButton("Pin");
return(m&&Sys.UI.DomElement.containsCssClass(m,"on"));
},isClosed:function(){return(!this.isVisible());
},isMinimized:function(){return(this._popupElement&&Sys.UI.DomElement.containsCssClass(this._popupElement,"rwMinimizedWindow"));
},isMaximized:function(){return(this._popupElement&&Sys.UI.DomElement.containsCssClass(this._popupElement,"rwMaximizedWindow"));
},_moveToMinimizeZone:function(){var m=$get(this.get_minimizeZoneID());
if(m){if(this.isPinned()){this._isMinimizePinned=true;
this.togglePin();
}this.view.minimizeToZone(m);
}},_moveToDocument:function(){this.view.revertToDefaultParent();
if(this._isMinimizePinned){this._isMinimizePinned=false;
this.togglePin();
}},minimize:function(){this._clearTouchEventIdentifier();
if(this._minimize()!==false){this.setActive(true);
}},_minimize:function(){this._clearTouchEventIdentifier();
if(!this.isCreated()){return false;
}var m=this.onCommand("Minimize");
if(!m){return false;
}if(this.isMaximized()){this._normalizeWindowRootCss();
this._restoreBounds();
}if(this.view){this.view.minimize();
}},restore:function(){var m=this;
this._clearTouchEventIdentifier();
if(!m.isCreated()||m.isClosed()){return;
}var n=m.onCommand("Restore");
if(!n){return;
}m._configureMinimizeButton();
m._configureMaximizeButton();
if(m.isMinimized()&&m.get_minimizeZoneID()){m._moveToDocument();
}if(m.isMaximized()){m.view.restoreResizeHandlesCursor();
}m._normalizeWindowRootCss();
m._enablePageScrolling(true);
m._restoreBounds();
m.setVisible(true);
if(m._enableShadow&&!$telerik.isIE6){m._setShadowCSSClass(true);
}if(m.get_showOnTopWhenMaximized()&&m._restoreZindex){m._popupElement.style.zIndex=m._restoreZindex;
if(m.get_modal()&&m._modalExtender){m._modalExtender.updateModalOverlayZIndex();
}m._restoreZindex=null;
}m.setVisible(true);
m.setActive(true);
if(this.isVisible()){m._show();
}m._restoreDocumentScrollPosition();
},_restoreDocumentScrollPosition:function(){var r=this;
var q=r._restoreOptions;
var m=a(e);
var n=e.body;
var p=function(s,t){if(t&&t>0){m["scroll"+s](t);
}};
var o=function(s,t){if(t&&t>0){n["scroll"+s]=t;
}};
if(q){p("Top",q.documentScrollTop);
p("Left",q.documentScrollLeft);
o("Left",q.bodyScrollLeft);
o("Top",q.bodyScrollTop);
}},maximize:function(){var m=this;
this._clearTouchEventIdentifier();
if(!this.isCreated()){return;
}var n=this.onCommand("Maximize");
if(!n){return;
}this._storeBounds();
if(this.isMinimized()&&this.get_minimizeZoneID()){this._moveToDocument();
}if(this.isMinimized()){this._normalizeWindowRootCss();
this._checkRestrictionZoneBounds=function(){return true;
};
this._restoreBounds();
this._checkRestrictionZoneBounds=c.RadWindow.prototype._checkRestrictionZoneBounds;
}m._saveDocumentScrollPosition();
m._removeDocumentBodyScrolling();
m.view.maximize();
if(!m.get_restrictionZoneID()){a(m.get_popupElement()).css({left:0,top:0});
}if(!this.isActive()){this.setActive(true);
}},_saveDocumentScrollPosition:function(){var o=this;
var m=a(e);
var n=e.body;
o._restoreOptions={documentScrollLeft:m.scrollLeft(),documentScrollTop:m.scrollTop(),bodyScrollLeft:n.scrollLeft,bodyScrollTop:n.scrollTop};
},_removeDocumentBodyScrolling:function(){var m=e.body;
m.scrollLeft=0;
m.scrollTop=0;
},setActive:function(m){if(this.isCreated()&&this.view){this.view.setActive(m);
}if(m){this._getWindowController().set_activeWindow(this);
this.raiseEvent("activate",new Sys.EventArgs());
}},togglePin:function(){this._clearTouchEventIdentifier();
if(!this.isCreated()){return;
}var o=this.onCommand("Pin");
if(!o){return;
}this.setActive(true);
var n=this.isPinned();
var m=n?this._getLocalizationString("PinOn"):this._getLocalizationString("PinOff");
this.view.toggleCommand("Pin");
this._registerTitlebarHandlersButton("Pin",m,this.togglePin);
c.RadWindowUtils.setPinned(!n,this);
},reload:function(){this._clearTouchEventIdentifier();
if(!this.isCreated()){return;
}var n=this.onCommand("Reload");
if(!n){return;
}if(!this._iframe){return;
}this._onWindowUrlChanging();
try{this._iframe.contentWindow.location.reload();
if(($telerik.isChrome||$telerik.isSafari)&&this._iframe.contentWindow.document.domain!=e.domain){this._onWindowUrlChanged();
}}catch(m){this._onWindowUrlChanged();
}},fire:function(m){if(m&&typeof(this[m])=="function"){this[m]();
}else{var n=this.get_windowManager();
if(!n){return;
}if(m&&typeof(n[m])=="function"){n[m]();
}}},_normalizeWindowRootCss:function(){var n=this._popupElement;
if(n){$telerik.removeCssClasses(n,["rwMinimizedWindow","rwMaximizedWindow","rwMinimizedWindowShadow"]);
Sys.UI.DomElement.addCssClass(n,"rwNormalWindow");
var m=n._hideWindowedElementsIFrame;
if(m){Sys.UI.DomElement.removeCssClass(m,"rwMinimizedWindowOverlay");
}}this._updateTitleWidth();
},close:function(n){if(this.isClosed()){return;
}var o=new Sys.CancelEventArgs();
var p=(typeof(n)!="undefined"&&!(this._isDomEventObject(n)))?n:null;
o._argument=p;
o.get_argument=function(){return this._argument;
};
this.raiseEvent("beforeClose",o);
if(o.get_cancel()){return;
}this._isClosing=true;
this.hide();
var m=new Sys.EventArgs();
m._argument=p;
m.get_argument=function(){return this._argument;
};
this.raiseEvent("close",m);
this._enablePageScrolling(true);
this._normalizeWindowRootCss();
if(this._isDomEventObject(n)){n=null;
}this._invokeDialogCallBackFunction(n);
if(this.get_destroyOnClose()&&!this._dockMode){this.dispose();
}},_invokeDialogCallBackFunction:function(n){var m=this.get_clientCallBackFunction();
if(m){if("string"==typeof(m)){m=eval(m);
}if("function"==typeof(m)){m(this,n);
}}},_isDomEventObject:function(m){return m instanceof Sys.UI.DomEvent||m instanceof a.Event;
},onCommand:function(n){var m=new Sys.CancelEventArgs();
m._commandName=n;
m.get_commandName=function(){return this._commandName;
};
this.raise_command(m);
if(m.get_cancel()){return false;
}return true;
},setUrl:function(n){if(this._dockMode){return;
}this._createUI();
this.set_navigateUrl(n);
var m=n;
if(this.get_reloadOnShow()){m=this._getReloadOnShowUrl(m);
}this.view.setUrl(m);
if(!this._loaded){this._registerIframeLoadHandler(true);
}this._loaded=true;
},_registerChildPageHandlers:function(m){var n=null;
try{n=this._iframe.contentWindow.document;
if(n.domain!=e.domain){return;
}}catch(o){return;
}if(null==n){return;
}if(m){this._onChildPageUnloadDelegate=Function.createDelegate(this,this._onChildPageUnload);
this._iframe.contentWindow.onunload=this._onChildPageUnloadDelegate;
this._onChildPageClickDelegate=Function.createDelegate(this,this._onChildPageClick);
$telerik.addExternalHandler(n,"click",this._onChildPageClickDelegate);
}else{if(this._onChildPageClickDelegate){$telerik.removeExternalHandler(n,"click",this._onChildPageClickDelegate);
this._onChildPageClickDelegate=null;
}}},_onChildPageUnload:function(m){this._registerChildPageHandlers(false);
if(this._removeFromDOM&&!$telerik.isChrome&&!$telerik.isSafari){this._removeFromDOM=false;
var n=this._popupElement;
if(n&&n.parentNode){n.parentNode.removeChild(n);
}}},_onChildPageClick:function(m){if(!this.isVisible()||this.isClosed()){return;
}var n=m.target?m.target:m.srcElement;
if(n){if(n.tagName=="INPUT"&&n.type=="button"){return;
}else{if(n.tagName=="BUTTON"||n.tagName=="A"){return;
}}}this.setActive(true);
},_onIframeLoad:function(){this._onWindowUrlChanged();
if($telerik.isFirefox){this.setOverflowVisible(true);
}this._registerChildPageHandlers(true);
this.raiseEvent("pageLoad",new Sys.EventArgs());
if(this.get_autoSize()){var o=this.get_animation()!=c.WindowAnimation.None;
this.autoSize(o);
}var n=null;
try{n=this._iframe.contentWindow;
n.close=Function.createDelegate(this,function(){this.close();
});
}catch(m){return false;
}},_onWindowUrlChanging:function(){if(this.isCreated()){this.view.onUrlChanging();
}},_onWindowUrlChanged:function(){if(this.isCreated()){this.view.onUrlChanged();
}},_updatePopupZindex:function(){if(this._popupBehavior){if(this.isVisible()){this._popupBehavior.show();
}}},_updateOpacity:function(){var m=this._dockMode?this.get_contentElement():this.get_contentFrame();
if(m){if(this._opacity<100){if(this._contentCell){this._contentCell.style.background="none transparent";
}var n=m.style;
n.filter="alpha(opacity="+this._opacity+")";
n.opacity=(this._opacity/100);
}else{if(this._contentCell){this._contentCell.style.background="";
}if($telerik.isIE){if(this._contentCell){this._contentCell.removeAttribute("style");
}m.style.removeAttribute("filter");
m.style.removeAttribute("opacity");
}else{m.style.filter="";
m.style.opacity="";
}}}},get_zindex:function(){return this.ui?this.ui.get_zIndexCss():-1;
},get_browserWindow:function(){return this._browserWindow;
},get_contentFrame:function(){return this._iframe;
},get_offsetElementID:function(){return this._offsetElementID;
},set_offsetElementID:function(m){if(this._offsetElementID!=m){this._offsetElementID=m;
this._offsetElement=$get(m);
this._deleteStoredBounds();
this._offsetSet=false;
}if(this.isVisible()){this._show();
}},get_openerElementID:function(){return this._openerElementID;
},set_openerElementID:function(m){if(this._openerElementID!=m){if(this._openerElement){this._registerOpenerElementHandler(this._openerElement,false);
this._openerElement=null;
}this._openerElementID=m;
if(this._openerElementID){this._openerElement=$get(this._openerElementID);
}if(this._openerElement){this._registerOpenerElementHandler(this._openerElement,true);
}}},get_left:function(){return this._left;
},set_left:function(n){if(this._left!=n){var m=h(n,10);
this._left=m||m==0?m:null;
this._positionX=this._left;
}},get_top:function(){return this._top;
},set_top:function(n){if(this._top!=n){var m=h(n,10);
this._top=m||m==0?m:null;
this._positionY=this._top;
}},get_stylezindex:function(){if(this.ui){return this.ui.get_initialZIndexCss();
}},get_title:function(){return this._title;
},set_title:function(m){if(this._title!=m){this._title=m;
}if(this.isCreated()){this.view.setTitleText(this._title);
}},get_tabIndex:function(){return this._tabIndex;
},set_tabIndex:function(m){this._tabIndex=m;
if(this.isCreated()){this.view.setTabIndex(this._tabIndex);
}},get_width:function(){return h(this._width,10);
},_fixSizeValue:function(m){m=""+m;
if(-1==m.indexOf("px")){m=h(m,10);
if(!isNaN(m)){m=m+"px";
}else{m="";
}}return m;
},set_width:function(r){if(null==r){return false;
}if(this.isMaximized()){return false;
}var o=this.get_minWidth();
if(o&&o>r){r=o;
}var n=h(this.get_maxWidth(),10);
if(n&&n<r&&n>o){r=n;
}r=this._fixSizeValue(r);
if(this.isCreated()){var p=this.ui.getBounds();
var m=h(r,10);
if(isNaN(m)){m=p.width;
}var q=this._checkRestrictionZoneBounds(null,new Telerik.Web.UI.Bounds(p.x,p.y,m,p.height));
if(!q){return false;
}}if(this._width!=r){this._width=r;
}if(this._dockMode){this.setWidthDockMode(this.get_width());
}if(this.isCreated()){if(!this.popupElementIsOutOfView()){this._deleteStoredBounds();
}this.view.setWidth(this._width);
}this._updateTitleWidth();
return true;
},popupElementIsOutOfView:function(){return !!this.view&&this.view.isOutOfSight();
},get_minWidth:function(){var n=h(this._minWidth,10);
if(!this.isCreated()){return n;
}var m=this.get_defaultMinWidth();
return(n&&(n>m))?n:m;
},set_minWidth:function(m){if(this._minWidth!=m){this._minWidth=m;
}},get_minHeight:function(){var n=h(this._minHeight,10);
if(!this.isCreated()){return n;
}var m=this.get_defaultMinHeight();
return(n&&(n>m))?n:m;
},set_minHeight:function(m){if(this._minHeight!=m){this._minHeight=m;
}},get_height:function(){return h(this._height,10);
},set_height:function(r){var n;
if(null==r){return false;
}if(this.isMaximized()){return false;
}var o=this.get_minHeight();
if(o&&o>r&&(!n||(n&&n>=o))){r=o;
}n=h(this.get_maxHeight(),10);
if(n&&n<r){r=n;
}r=this._fixSizeValue(r);
if(this.isCreated()){this._firstShow=false;
var m=this.get_contentElement();
if(this._dockMode&&m){m.style.height="";
}var p=this.ui.getBounds();
var q=this._checkRestrictionZoneBounds(null,new Telerik.Web.UI.Bounds(p.x,p.y,p.width,h(r,10)));
if(!q){return false;
}}if(this._height!=r){this._height=r;
}if(this._dockMode){this.setHeightDockMode(this.get_height());
}if(this.isCreated()){if(!this.popupElementIsOutOfView()){this._deleteStoredBounds();
}this.view.setHeight(this._height);
this.view.updatePopupZindex();
}return true;
},_updateWindowSize:function(m,n){if(this.view){this.view.setHeight(m,n);
}},get_behaviors:function(){return this._behaviors;
},set_behaviors:function(r){if(this._behaviors!=r){this._behaviors=r;
}if(null==this._titlebarElement){return;
}this._enableMoveResize(false);
this._enableMoveResize(true);
var n=c.WindowBehaviors;
var m=[[this.isBehaviorEnabled(n.Pin),"rwPinButton",this._getLocalizationString("PinOn"),Function.createDelegate(this,this.togglePin)],[this.isBehaviorEnabled(n.Reload),"rwReloadButton",this._getLocalizationString("Reload"),Function.createDelegate(this,this.reload)],[this.isBehaviorEnabled(n.Minimize),"rwMinimizeButton",this._getLocalizationString("Minimize"),Function.createDelegate(this,this._minimize)],[this.isBehaviorEnabled(n.Maximize),"rwMaximizeButton",this._getLocalizationString("Maximize"),Function.createDelegate(this,this.maximize)],[this.isBehaviorEnabled(n.Close),"rwCloseButton",this._getLocalizationString("Close"),Function.createDelegate(this,this.close)]];
var p=[];
for(var q=0;
q<m.length;
q++){var o=m[q];
if(o[0]){p.push(o.splice(1,3));
}}if(this.view){this._buttonsArray=this.view.setCommandButtons(p);
}},addShortcut:function(m,n){if(this._shortCutManager){this._shortCutManager.addShortCut(m.toLowerCase(),n);
}else{if(!this.get_shortcuts()){this._shortcuts="[['"+m.toLowerCase()+"', '"+n+"']]";
}this._registerGlobalBodyEventHandlers(true);
}},removeShortcut:function(m){if(this._shortCutManager){this._shortCutManager.removeShortCut(m.toLowerCase());
}},getShortcutString:function(n){if(!this._shortCutManager){return null;
}var m=this._shortCutManager.findShortCutByName(n.toLowerCase());
return(m&&m.get_shortCutString())?m.get_shortCutString():null;
},isShortcutAdded:function(m){return this.getShortcutString(m.toLowerCase())?true:false;
},removeAllShortcutsCommand:function(m){while(this.isShortcutAdded(m)){this.removeShortcut(m.toLowerCase());
}},get_modal:function(){return this._modal;
},set_modal:function(m){this._modal=m;
this._makeModal(this._modal);
if(this.isVisible()&&this._modal){this._onModalShowHandler(this);
}},get_visibleTitlebar:function(){return this._visibleTitlebar;
},set_visibleTitlebar:function(o){var m=this._visibleTitlebar!=o;
if(m){this._visibleTitlebar=o;
}var n=this.get_popupElement();
if(n){o?Sys.UI.DomElement.removeCssClass(n,"rwNoTitleBar"):Sys.UI.DomElement.addCssClass(n,"rwNoTitleBar");
}if(this.ui&&this.ui.titlebar){this.ui.titlebar.style.display=o?"":"none";
if(this.get_enableAriaSupport()){this.ui.titlebar.setAttribute("aria-hidden",!o);
}if(m){this.set_height(this.get_height());
}}},get_visibleStatusbar:function(){return this._visibleStatusbar;
},set_visibleStatusbar:function(m){if(this._visibleStatusbar!=m){this._visibleStatusbar=m;
}if(this.view){if(m){this.view.showStatusbar();
}else{this.view.hideStatusbar();
}}},get_overlay:function(){return this._overlay;
},set_overlay:function(m){this._overlay=m;
if(this._popupBehavior){this._popupBehavior.set_overlay(this._overlay);
}if(this.isVisible()){this._reSetWindowPosition();
}},get_opacity:function(){return this._opacity;
},set_opacity:function(m){if(this.get_opacity()!=m){this._opacity=m>100?100:m;
this._opacity=m<0?0:m;
if(this.isCreated()){this._updateOpacity();
}}},get_iconUrl:function(){return this._iconUrl;
},set_iconUrl:function(m){this._iconUrl=m;
if(this._titleIconElement){if(!this.get_iconUrl()||this.get_iconUrl()==""){this._titleIconElement.className="rwIcon";
this._titleIconElement.style.background="";
}else{this._titleIconElement.className="rwIcon rwCustomIcon";
this._titleIconElement.style.background="transparent url('"+m+"') no-repeat scroll 0px 0px";
}}},get_renderMode:function(){return this._renderMode;
},set_renderMode:function(m){this._renderMode=m;
},get_restrictionZoneID:function(){return this._restrictionZoneID;
},set_restrictionZoneID:function(m){this._restrictionZoneID=m;
if(m&&this.isCreated()){this.fitInRestrictionZone();
}},fitInRestrictionZone:function(){var n=this._getCurrentBounds();
var p=this._getRestrictionZoneElement();
var o=this._getRestrictionZoneBounds();
var m=$telerik.getBorderBox(p);
var r={x:o.x+m.left,y:o.y+m.top,width:o.width-m.horizontal,height:o.height-m.vertical};
var q={width:0,height:0};
if(n.x<m.left){n.x=m.left;
}if(n.y<m.top){n.y=m.top;
}if(n.x+n.width>r.width){n.x=r.width-n.width+m.left;
if(n.x<m.left){n.x=m.left;
q.width=r.width;
}}if(n.y+n.height>r.height){n.y=r.height-n.height+m.top;
if(n.y<m.top){n.y=m.top;
q.height=r.height;
}}if(q.width||q.height){this.setSize(q.width||n.width,q.height||n.height);
}this.moveTo(n.x,n.y);
},get_keepInScreenBounds:function(){return this._keepInScreenBounds;
},set_keepInScreenBounds:function(m){this._keepInScreenBounds=m;
if(this._popupBehavior){this._popupBehavior.set_keepInScreenBounds(this._keepInScreenBounds);
}if(this.isVisible()){this._reSetWindowPosition();
}},get_popupElement:function(){return this._popupElement;
},set_status:function(n){var m=this._getStatusMessageElement();
if(m){window.setTimeout(function(){m.value=n;
},0);
}},get_status:function(){var m=this._getStatusMessageElement();
if(m){return m.value;
}},raise_command:function(m){this.raiseEvent("command",m);
},add_resize:function(m){this.get_events().addHandler("resizeEnd",m);
},remove_resize:function(m){this.get_events().removeHandler("resizeEnd",m);
},saveClientState:function(){var n=["position"];
var o={};
for(var m=0;
m<n.length;
m++){o[n[m]]=this["get_"+n[m]]();
}return Sys.Serialization.JavaScriptSerializer.serialize(o);
},_applyAriaSupport:function(){this._applyAriaForLayoutTables();
this._applyAriaSettings();
var m=this.get_popupElement();
m.setAttribute("aria-hidden","true");
if(!m.getAttribute("aria-labelledby")&&!m.getAttribute("aria-label")){m.setAttribute("aria-labelledby",this._getTitleElement().id);
}if(this._isPredefined){m.setAttribute("role","alertdialog");
if(!m.getAttribute("aria-describedby")){m.setAttribute("aria-describedby",this.get_id()+"_message");
}}else{m.setAttribute("role","dialog");
}},_applyAriaForLayoutTables:function(){var o=this._tableElement;
if(o){o.setAttribute("role","presentation");
var u=o.getElementsByTagName("tr");
for(var m=0;
m<u.length;
m++){var t=u[m];
t.setAttribute("role","presentation");
var r=t.getElementsByTagName("td");
for(var n=0;
n<r.length;
n++){r[n].setAttribute("role","presentation");
}}}var s=this.ui.titlebar;
if(s){s.setAttribute("role","presentation");
}var p=this._statusCell;
if(p){var q=p.getElementsByTagName("table")[0];
if(q){q.setAttribute("role","presentation");
}}},_applyAriaSettings:function(){var o=this;
if(o._ariaSettings){var n=b.deserialize(o._ariaSettings);
var m=new c.WaiAriaDecorator(o.get_popupElement(),n);
m.setAttributes();
}},_clearTouchEventIdentifier:function(){var n=this,m=n._resizeExtender;
if(m&&m._touchEventIdentifier){m._touchEventIdentifier=null;
}}};
a.registerControlProperties(c.RadWindow,{animation:c.WindowAnimation.None,animationDuration:500,ariaSettings:null,autoSize:false,autoSizeBehaviors:c.WindowAutoSizeBehaviors.Default,centerIfModal:true,clientCallBackFunction:null,cssClass:"",destroyOnClose:false,enableAriaSupport:false,enableShadow:false,formID:null,initialBehaviors:c.WindowBehaviors.None,localization:null,maxHeight:null,maxWidth:null,minimizeIconUrl:null,minimizeZoneID:null,name:null,navigateUrl:null,reloadOnShow:false,shortcuts:null,showContentDuringLoad:true,showOnTopWhenMaximized:true,skin:"Deafult",windowManager:null,visibleOnPageLoad:false});
a.registerControlEvents(c.RadWindow,["command","dragStart","dragEnd","activate","beforeShow","show","pageLoad","close","beforeClose","resizeStart","resizeEnd","autoSizeEnd"]);
c.RadWindow.registerClass("Telerik.Web.UI.RadWindow",c.RadWebControl);
c.RadWindowUtils._zIndex=3000;
c.RadWindowUtils.get_newZindex=function(m){m=h(m,10);
if(null==m||isNaN(m)){m=0;
}if(c.RadWindowUtils._zIndex<m){c.RadWindowUtils._zIndex=m;
}c.RadWindowUtils._zIndex++;
return c.RadWindowUtils._zIndex;
};
c.RadWindowUtils._pinnedList={};
c.RadWindowUtils.setPinned=function(s,q){if(s){var r=q._getViewportBounds();
var t=q._getCurrentBounds();
q.LeftOffset=t.x-r.scrollLeft;
q.TopOffset=t.y-r.scrollTop;
var n=window.setInterval(function(){c.RadWindowUtils._updatePinnedElementPosition(q);
},100);
c.RadWindowUtils._pinnedList[n]=q;
}else{var m=null;
var p=c.RadWindowUtils._pinnedList;
for(var o in p){if(p[o]==q){m=o;
break;
}}if(null!=m){window.clearInterval(m);
c.RadWindowUtils._pinnedList[m]=null;
}q.TopOffset=null;
q.LeftOffset=null;
}};
c.RadWindowUtils._updatePinnedElementPosition=function(n){if(n.isMaximized()||!n.isVisible()){return;
}var o=n._getViewportBounds();
var q=n._getCurrentBounds();
var m=(n.LeftOffset!=null)?n.LeftOffset+o.scrollLeft:q.x;
var p=(n.TopOffset!=null)?n.TopOffset+o.scrollTop:q.y;
if(q.x!=m||q.y!=p){n.moveTo(m,p);
}};
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Window");
(function(a,b,c){b.IRenderer=function(){};
b.IRenderer.prototype={createUI:function(){},setContent:function(d){},get_container:function(){},getHandlesWidth:function(){},setShadowCssClass:function(d){},getBounds:function(){},updateTitleWidth:function(){},getTitleNode:function(){},createTitle:function(){},getIconNode:function(){},createIcon:function(){},getTitleCommandsContainer:function(){},createTitleCommandsContainer:function(){},getStatusbar:function(){},createStatusbar:function(){},getStatusMessageNode:function(){},createStatusMessage:function(){},createStatusbarResizer:function(){},getCommandButtons:function(){},getCommandButton:function(){},createCommandButton:function(d){},changeCommandButton:function(d,f,e){},changeCommandButtonByName:function(e,f,d){},clearCommandButtons:function(){},geTitlebarHeight:function(){},get_zIndexCss:function(){},get_initialZIndexCss:function(){},get_uiMinWidth:function(){},get_uiMinHeight:function(){},dispose:function(){}};
b.IRenderer.registerInterface("Telerik.Web.UI.Window.IRenderer");
b.RendererBase=function(d){this.window=d;
};
b.RendererBase.prototype={};
b.RendererBase.registerClass("Telerik.Web.UI.Window.RendererBase",null,b.IRenderer);
})($telerik.$,Telerik.Web.UI.Window);
Type.registerNamespace("Telerik.Web.UI.Window");
(function(a,b,c){b.IView=function(){};
b.IView.prototype={moveTo:function(d,e){},setContent:function(d){},setUrl:function(d){},show:function(){},hide:function(){},isVisible:function(){},maximize:function(){},minimize:function(){},setWidth:function(d){},setHeight:function(){},setMaximizeSize:function(){},setContentFixedHeight:function(){},setContentWidth:function(d){},setTitleText:function(d){},showShadow:function(){},hideShadow:function(){},showStatusbar:function(){},hideStatusbar:function(){},moveOutOfSight:function(){},isOutOfSight:function(){},enableMoveResize:function(d){},disableMoveResize:function(d){},setCommandButtons:function(d){},toggleCommand:function(d){},minimizeToZone:function(d){},moveToDefaultParent:function(){},revertToDefaultParent:function(){},setActive:function(d){},isActive:function(){},onUrlChanging:function(){},onUrlChanged:function(){},updatePopupZindex:function(){},dispose:function(){}};
b.IView.registerInterface("Telerik.Web.UI.Window.IView");
b.ViewBase=function(d){this.window=d;
};
b.ViewBase.prototype={};
b.ViewBase.registerClass("Telerik.Web.UI.Window.ViewBase",null,b.IView);
})($telerik.$,Telerik.Web.UI.Window);
(function(a,c,h){Type.registerNamespace("Telerik.Web.UI.Window");
var b=Telerik.Web.UI;
c.ClassicRenderer=function(i){c.ClassicRenderer.initializeBase(this,[i]);
this.container=this.table=this.titleCell=this.titlebar=this.topResizer=this.commandsContainer=this.title=this.icon=this.statusMessage=this.contentFrame=this.content=this.contentCell=this.bottomResizer=this.statusbar=this.statusCell=null;
};
c.ClassicRenderer.prototype={createUI:function(){var J=this.window;
if(!this.container){var I=J.get_id();
var K="RadWindowWrapper_"+I;
var v=J._isWindowRightToLeft();
var y=document.createElement("div");
y.id=K;
y.className=J._getFullSkinName();
var q=J.get_cssClass();
if(q){Sys.UI.DomElement.addCssClass(y,q);
}if(v){Sys.UI.DomElement.addCssClass(y,"RadWindow_rtl");
}if(!J._visibleTitlebar){Sys.UI.DomElement.addCssClass(y,"rwNoTitleBar");
}y.style.width=J._width;
y.style.height=J._height;
y.setAttribute("unselectable","on");
this._setTabIndex(y);
this.container=J._popupElement=y;
var B=document.createElement("table");
B.cellSpacing=0;
B.cellPadding=0;
Sys.UI.DomElement.addCssClass(B,"rwTable");
this.table=J._tableElement=B;
var m=[];
if(v){m=["rwCorner rwTopRight","rwTitlebar","rwCorner rwTopLeft","rwCorner rwBodyRight","rwWindowContent","rwCorner rwBodyLeft","rwCorner rwBodyRight","rwStatusbar","rwCorner rwBodyLeft","rwCorner rwFooterRight","rwFooterCenter","rwCorner rwFooterLeft"];
}else{m=["rwCorner rwTopLeft","rwTitlebar","rwCorner rwTopRight","rwCorner rwBodyLeft","rwWindowContent","rwCorner rwBodyRight","rwCorner rwBodyLeft","rwStatusbar","rwCorner rwBodyRight","rwCorner rwFooterLeft","rwFooterCenter","rwCorner rwFooterRight"];
}var A=["rwTitleRow","rwContentRow","rwStatusbarRow","rwFooterRow"];
var u=0;
for(var r=0;
r<4;
r++){var z=B.insertRow(-1);
z.className=A[r];
for(var w=1;
w<=3;
w++){var k=z.insertCell(-1);
k.innerHTML="&nbsp;";
k.className=m[u];
u++;
}}var E=B.rows[0].cells[1];
E.innerHTML="";
this.titleCell=J._titleCell=E;
var G=document.createElement("div");
G.className="rwTopResize";
G.innerHTML="<!-- / -->";
this.topResizer=J._topResizer=G;
this.titleCell.appendChild(J._topResizer);
var C=d();
C.className="rwTitlebarControls";
this.titlebar=J._titlebarElement=C;
this.titleCell.appendChild(this.titlebar);
var H=this.getIconNode();
var s=this.titlebar.rows[0].insertCell(-1);
s.appendChild(H);
J.set_iconUrl(J.get_iconUrl());
var F=this.getTitleNode();
var D=this.titlebar.rows[0].insertCell(-1);
D.appendChild(F);
J.set_title(J._title);
var n=this.titlebar.rows[0].insertCell(-1);
n.noWrap=true;
n.style.whiteSpace="nowrap";
n.appendChild(J._getTitleCommandButtonsHolder());
var o=B.rows[1].cells[1];
o.vAlign="top";
o.innerHTML="";
this.contentCell=J._contentCell=o;
if(!(J._dockMode||J._isPredefined)){Sys.UI.DomElement.addCssClass(this.contentCell,"rwExternalContent");
}if(J._enableShadow&&!$telerik.isIE6){J._setShadowCSSClass(true);
}var x=J.get_name();
this.createStatusbar(v);
this.container.appendChild(J._tableElement);
this.container.style.display="none";
this.container.style.position="absolute";
J._addWindowToDocument();
J._registerTitlebarHandlers(true);
J.set_visibleTitlebar(J._visibleTitlebar);
J.set_visibleStatusbar(J._visibleStatusbar);
if(J.get_enableAriaSupport()){J._applyAriaSupport();
}if(J._dockMode){var p=this.content=$get(J.get_id()+"_C");
if(p&&p.innerHTML){p.style.display="";
p.style.overflow="auto";
p.style.border="0px";
J.set_contentElement(p);
J.setWidthDockMode(J.get_width());
J.setHeightDockMode(J.get_height());
}}else{var l=($telerik.isIE&&!$telerik.isIE9Mode)?document.createElement("<iframe name='"+x+"'>"):document.createElement("iframe");
l.name=x;
l.src="javascript:'<html></html>';";
l.style.width="100%";
l.style.height="100%";
l.style.border="0px";
l.frameBorder="0";
if($telerik.isIE8){l.style.display="block";
}this.contentFrame=J._iframe=l;
if(($telerik.isMobileSafari||J._isiPhoneiPadAppleWebkit)&&!J._isPredefined){var t=document.createElement("div");
a(t).addClass("rwIframeWrapperIOS");
t.appendChild(this.contentFrame);
this.contentCell.appendChild(t);
if(J._isiOS5Safari){J.setContentFixedHeight(J.get_height(),t);
}J._iframeWrapper=t;
}else{this.contentCell.appendChild(J._iframe);
}J._createBackReference();
}J._updateOpacity();
}if(!$telerik.isTouchDevice){this.container.style.Transform="none";
this.container.style.BackfaceVisibility="visible";
this.container.style.webkitTransform="none";
this.container.style.webkitBackfaceVisibility="visible";
this.container.style.OTransform="none";
this.container.style.OBackfaceVisibility="visible";
this.container.style.MozTransform="none";
this.container.style.MozBackfaceVisibility="visible";
this.container.style.msTransform="none";
this.container.style.msBackfaceVisibility="visible";
}if(!J._popupBehavior){J.set_behaviors(J._behaviors);
this.popupBehavior=J._popupBehavior=$create(Telerik.Web.PopupBehavior,{id:(new Date()-100)+"PopupBehavior",parentElement:null,overlay:J._overlay,keepInScreenBounds:J._keepInScreenBounds},null,null,this.container);
}},setContent:function(i){this.contentCell.appendChild(i);
i.style.display="";
this.content=this.window._contentElement=i;
},get_container:function(){return this.container;
},getHandlesWidth:function(){if(!this._handlesWidth){var j=this.table;
if(!j){return 0;
}var i=parseInt($telerik.getCurrentStyle(j.rows[2].cells[0],"width"),10);
if(!i){return 0;
}this._handlesWidth=2*i;
}return this._handlesWidth;
},setShadowCssClass:function(i){if(i){Sys.UI.DomElement.addCssClass(this.container,"rwShadow");
Sys.UI.DomElement.addCssClass(this.table,"rwShadow");
}else{Sys.UI.DomElement.removeCssClass(this.container,"rwShadow");
Sys.UI.DomElement.removeCssClass(this.table,"rwShadow");
}},getBounds:function(){var j=this.container;
var k=(j.style.display=="none");
j.style.display="";
var i=$telerik.getBounds(j);
if(k){j.style.display="none";
}return i;
},updateTitleWidth:function(){if(this.window._visibleTitlebar&&!this.window.isMinimized()){var p=this.getTitleNode();
if(!p){return;
}p.style.width="1px";
var q=0;
var j=this.getTitleCommandsContainer();
var i=j.offsetWidth;
if(i>0){var m=j.getElementsByTagName("LI");
if(m.length==0){i=0;
}else{if(m[0]&&m[0].offsetWidth>0){i=m.length*m[0].offsetWidth;
}}j.style.width=i?i+"px":"";
q+=i;
}var k=this.getIconNode();
var l=k.offsetWidth;
if(l>0&&k.parentNode.tagName=="TD"){k.parentNode.style.width=l+"px";
q+=l;
}q+=this.getHandlesWidth();
var n=0;
var o=this.titlebar;
n=o?o.offsetWidth-q:q;
if(n>0){p.style.width=n+"px";
}}},getTitleNode:function(){if(!this.title){this.createTitle();
}return this.title;
},createTitle:function(){var i=document.createElement("em");
i.setAttribute("unselectable","on");
if(this.window.get_enableAriaSupport()){i.id=this.window.get_id()+"_title";
i.setAttribute("role","label");
}this.title=this.window._titleElement=i;
return i;
},getIconNode:function(){if(!this.icon){this.createIcon();
}return this.icon;
},createIcon:function(){var i=document.createElement("a");
i.className="rwIcon";
$addHandler(i,"mousedown",this.window._cancelEvent);
this.icon=this.window._titleIconElement=i;
},getTitleCommandsContainer:function(){if(!this.commandsContainer){this.createTitleCommandsContainer();
}return this.commandsContainer;
},createTitleCommandsContainer:function(){var i=document.createElement("ul");
i.className="rwControlButtons";
if(this.window.get_enableAriaSupport()){i.setAttribute("role","toolbar");
}this.commandsContainer=this.window._buttonsElement=i;
},getStatusMessageNode:function(){if(!this.statusMessage){this.createStatusMessage();
}return this.statusMessage;
},createStatusMessage:function(){var i=document.createElement("input");
i.id=this.window.get_id()+"_status";
i.readOnly="readonly";
i.setAttribute("unselectable","on");
i.setAttribute("tabindex","-1");
this.statusMessage=this.window._statusMessageElement=i;
},getStatusbar:function(){return this.statusCell||this.createStatusbar;
},createStatusbar:function(i){var k=this.table;
var j=d();
j.style.width="100%";
this.statusCell=this.window._statusCell=k.rows[2].cells[1];
this.statusbar=this.statusCell.parentNode;
this.statusCell.innerHTML="";
this.statusCell.appendChild(j);
if(!i){e(j,this.getStatusMessageNode());
}if(this.window.isBehaviorEnabled(b.WindowBehaviors.Resize)){this.createStatusbarResizer(j);
}if(i){e(j,this.getStatusMessageNode());
}},createStatusbarResizer:function(){if(this.bottomResizer){return;
}var i=this.statusCell.firstChild.rows[0].insertCell(-1);
i.style.width="15px";
var j=document.createElement("div");
i.appendChild(j);
this.bottomResizer=this.window._bottomResizer=j;
},getCommandButtons:function(){return a(this.commandsContainer).find("a[class$='Button']");
},getCommandButton:function(i){if(!i||!this.commandsContainer){return null;
}var j=i.toLowerCase();
j=j.charAt(0).toUpperCase()+j.substring(1);
i="rw"+j+"Button";
return a("."+i,this.commandsContainer)[0];
},createCommandButton:function(i){var k=document.createElement("li");
var j=document.createElement("a");
j.href="javascript:void(0);";
j.className=i[0];
j.setAttribute("title",i[1]);
if(this.window.get_enableAriaSupport()){k.setAttribute("role","presentation");
j.setAttribute("role","button");
}this._setTabIndex(j);
this.attachButtonEvents(j,i[2]);
var l=document.createElement("span");
l.innerHTML=i[1];
j.appendChild(l);
k.appendChild(j);
this.commandsContainer.appendChild(k);
return j;
},changeCommandButton:function(i,k,j){if(!i){return;
}i.setAttribute("title",k);
i.innerHTML=k;
this.clearCommandButton(i);
this.attachButtonEvents(i,j);
},changeCommandButtonByName:function(j,l,k){var i=this.getCommandButton(j);
if(i){this.changeCommandButton(i,l,k);
}},clearCommandButtons:function(){var k=a(this.commandsContainer);
var j=this.getCommandButtons();
for(var l=0;
l<j.length;
l++){this.clearCommandButton(j[l]);
}k.empty();
},attachButtonEvents:function(i,j){$addHandlers(i,{dblclick:this._cancelEvent,mousedown:this._cancelEvent,keypress:this._keyPressHandler(j)},this);
$telerik.addHandler(i,"click",j);
$telerik.addHandler(i,"click",this._cancelEvent);
},clearCommandButton:function(i){$clearHandlers(i);
},getTitlebarHeight:function(){if(!this.table){return 0;
}return this.table.rows[0].offsetHeight;
},get_zIndexCss:function(){return this.container?this.container.style.zIndex:-1;
},get_initialZIndexCss:function(){var i=this.window.get_element();
return i?parseInt(i.style.zIndex||$telerik.getComputedStyle(i,"zIndex"),10):null;
},get_uiMinWidth:function(){if(!this._defaultMinWidth){this._defaultMinWidth=this.getHandlesWidth();
if(this.window._visibleTitlebar){this._defaultMinWidth+=this._getTitleBarMinWidth();
}}return this._defaultMinWidth;
},_getTitleBarMinWidth:function(){var k=this.table,l=this.title,j=l.style.width,n=this.titleCell,i=this.content,m;
if(l){l.style.width="1px";
}if(i){i.style.width="1px";
}k.style.width="1px";
m=n.offsetWidth+n.offsetLeft;
l.style.width=j;
k.style.width="";
if(i){i.style.width="";
}return m;
},get_uiMinHeight:function(){if(!this._defaultMinHeight){var i=Math.ceil(this.getHandlesWidth()/2);
this._defaultMinHeight=i;
this._defaultMinHeight+=this.window._visibleTitlebar?this.titleCell.offsetHeight:i;
this._defaultMinHeight+=this.window._visibleStatusbar?this.statusCell.offsetHeight:0;
}return this._defaultMinHeight;
},dispose:function(){this.container=this.table=this.titleCell=this.titlebar=this.topResizer=this.commandsContainer=this.title=this.icon=this.statusMessage=this.contentFrame=this.content=this.contentCell=this.bottomResizer=this.statusbar=this.statusCell=null;
},_keyPressHandler:function(i){return function(k){var j=k.target||k.srcElement;
f(k)&&i(k);
$telerik.stopPropagation(k);
j.focus();
};
},_setTabIndex:function(i){var j=this.window.get_tabIndex();
if(j!==null){i.setAttribute("tabIndex",j);
}},_cancelEvent:function(i){var j=this;
if(j.window){j.window._clearTouchEventIdentifier();
}return $telerik.cancelRawEvent(i);
}};
c.ClassicRenderer.registerClass("Telerik.Web.UI.Window.ClassicRenderer",c.RendererBase,c.IRenderer);
function d(){var i=document.createElement("table");
i.align="left";
i.cellSpacing=0;
i.cellPadding=0;
i.insertRow(-1);
return i;
}function e(k,j){var l=k.rows[0].insertCell(-1);
l.style.width="100%";
l.appendChild(j);
var i=document.createElement("label");
i.setAttribute("for",j.id);
i.innerHTML="status label";
i.style.display="none";
l.appendChild(i);
}var g=Sys.UI.Key;
function f(i){return i.charCode===g.space||i.charCode===g.enter;
}})($telerik.$,Telerik.Web.UI.Window);
Type.registerNamespace("Telerik.Web.UI.Window");
(function(a,b,e){b.ClassicView=function(f){b.ClassicView.initializeBase(this,[f]);
this.ui=this.window.ui;
};
b.ClassicView.prototype={moveTo:function(f,g){this.ui.popupBehavior._setCoordinates(f,g);
this.ui.popupBehavior.show();
this._removeExplicitMSAjaxWidth();
this.ui.updateTitleWidth();
},show:function(){if(this.ui.popupBehavior){this.ui.popupBehavior.show();
}this._isViewVisible=true;
},hide:function(){if(this.ui.popupBehavior){this.ui.popupBehavior.hide();
}this._isViewVisible=false;
this._ariaHide();
},isVisible:function(){return this._isViewVisible;
},setContent:function(g){var f=this.ui.content;
if(f&&g!=f){$telerik.disposeElement(f);
f.innerHTML="";
f.appendChild(g);
g=f;
}this.ui.createUI();
if(this.ui.contentFrame){this.ui.contentFrame.style.display="none";
}else{if(!this.window._dropDownTouchScroll&&Telerik.Web.UI.TouchScrollExtender._getNeedsScrollExtender()){this.window._createTouchScrollExtender(true);
}}this.ui.setContent(g);
},setUrl:function(g){var f=this.ui.contentFrame;
if(!f){return;
}f.src=g;
this.onUrlChanging();
},maximize:function(){this.ui.setShadowCssClass(false);
var f=this.ui.container;
$telerik.removeCssClasses(f,["rwNormalWindow","rwMinimizedWindow","rwMinimizedWindowShadow"]);
Sys.UI.DomElement.addCssClass(f,"rwMaximizedWindow");
this.window._configureMaximizeButton(true);
this.window._configureMinimizeButton();
this.window._maintainMaximizedSize();
this.window._maintainMaximizedSize();
var g=f._hideWindowedElementsIFrame;
if(g){Sys.UI.DomElement.removeCssClass(g,"rwMinimizedWindowOverlay");
this.ui.popupBehavior._handleElementResize();
}if(this.window.get_showOnTopWhenMaximized()){var h=f.style.zIndex;
if(h){this.window._restoreZindex=h;
}f.style.zIndex=100000;
}this.ui.updateTitleWidth();
},setMaximizeSize:function(){var g=this.ui.container;
if(!g){return;
}var k=this.window._getViewportBounds();
g.style.top=(k.scrollTop+k.y)+"px";
g.style.left=(k.scrollLeft+k.x)+"px";
var i=parseInt(this.window.get_maxWidth(),10);
var h=parseInt(this.window.get_maxHeight(),10);
if(i){k.width=i;
}if(h){k.height=h;
}$telerik.setSize(g,{width:k.width,height:k.height});
var n=this.window._getRestrictionZoneBounds();
if(!n){this.window._enablePageScrolling(false);
}var l=this.window._tableElement;
k=$telerik.getContentSize(g);
var f=$telerik.getBorderBox(l);
var j=$telerik.getPaddingBox(l);
var m=k.height-f.vertical-j.vertical;
l.style.height=m+"px";
this.window._fixIeHeight(l,m);
if(this.window._dockMode){this.window.setWidthDockMode(k.width);
this.window.setHeightDockMode(k.height);
}this.ui.updateTitleWidth();
if(this.window._isiOS5Safari){this.window.setContentFixedHeight(k.height,this.window._iframeWrapper);
}},minimize:function(){this.window._configureMinimizeButton(true);
this.window._configureMinimizeButton(true);
this.window._enablePageScrolling(true);
var f=this.ui.container;
$telerik.removeCssClasses(f,["rwNormalWindow","rwMaximizedWindow"]);
Sys.UI.DomElement.addCssClass(f,"rwMinimizedWindow");
if(this.window._enableShadow&&!$telerik.isIE6){this.ui.setShadowCssClass(true);
Sys.UI.DomElement.addCssClass(f,"rwMinimizedWindowShadow");
}var g=f._hideWindowedElementsIFrame;
if(g){Sys.UI.DomElement.addCssClass(g,"rwMinimizedWindowOverlay");
}this.ui.getTitleNode().style.width="";
this.minimizeToZone(this.window.get_minimizeZoneID());
},setTabIndex:function(h){var g=this.ui.container;
var f=this.ui.getCommandButtons();
if(h!==null&&h!==e){g.setAttribute("tabIndex",h);
f.attr("tabIndex",h);
}else{g.removeAttribute("tabIndex");
f.removeAttr("tabIndex");
}},setWidth:function(g){var f=this.ui.container;
var h=parseInt(g,10);
f.style.width=(h-$telerik.getBorderBox(f).horizontal)+"px";
this.updatePopupZindex();
},setHeight:function(l,k){var g=this.ui.container;
var j=this.ui.table;
var h=parseInt(l?l:j.style.height,10);
if(true==k){h=j.offsetHeight;
}if(parseInt(h,10)==0){return;
}var f=$telerik.getBorderBox(g).vertical;
h=h>f?h-f:h;
var i=h+"px";
j.style.height=i;
this._fixTableHeightInIE(j,h);
g.style.height=i;
},setContentFixedHeight:function(h,f){if(!f){return;
}var l=this.ui;
var i=this._substractWrappersBorder(h);
var m=this.window.isVisible();
var g=l.table.rows[3].cells[1];
var k=l.table.rows[0].cells[1];
var j=l.table.rows[2].cells[1];
i-=m?parseInt($telerik.getBounds(g).height,10):parseInt($telerik.getCurrentStyle(g,"height"),10);
if(this.window._visibleTitlebar){i-=m?parseInt($telerik.getBounds(l.titlebar).height,10):parseInt($telerik.getCurrentStyle(l.titlebar,"height"),10);
i-=m?parseInt($telerik.getBounds(l.topResizer).height,10):parseInt($telerik.getCurrentStyle(l.topResizer,"height"),10);
}else{i-=m?parseInt($telerik.getBounds(k).height,10):parseInt($telerik.getCurrentStyle(k,"height"),10);
}if(this.window._visibleStatusbar){i-=m?parseInt($telerik.getBounds(j).height,10):parseInt($telerik.getCurrentStyle(j,"height"),10);
}if(i>0){f.style.height=i+"px";
}},setContentWidth:function(f){if(!this.ui.content){return;
}var g=this.window._substractWrappersBorder(f)-this.ui.getHandlesWidth();
if(g>0){this.ui.content.style.width=g+"px";
}},setTitleText:function(f){if(!this.ui.title){return;
}this.ui.title.innerHTML=f||"&nbsp;";
this.ui.updateTitleWidth();
},showStatusbar:function(){this._displayStatusbar("",true);
},hideStatusbar:function(){this._displayStatusbar("none",false);
},_displayStatusbar:function(h,f){var g=this.ui.statusbar;
d(g,h);
if(this._hasAriaSupport()){c(g,f);
}},showShadow:function(){this.ui.setShadowCssClass(true);
},hideShadow:function(){this.ui.setShadowCssClass(false);
},moveOutOfSight:function(){var g=this.ui.popupBehavior;
if(g){this.window._storeBounds();
var f=g.get_elementToShow();
a(f).css({display:"",position:"absolute",top:"-10000px",left:this.window.get_leftHidingPoint()+"px",overflow:"hidden"});
if(f._hideWindowedElementsIFrame&&f._hideWindowedElementsIFrame.style){f._hideWindowedElementsIFrame.style.display="none";
}}this._ariaHide();
},isOutOfSight:function(){var f=this.ui.container;
if(!f){return false;
}var g=parseInt(f.style.left,10);
return($telerik.isIE&&($telerik.isIE9||$telerik.isIE10))&&g==this.window.get_leftHidingPoint();
},enableMoveResize:function(f){this.disableMoveResize(f);
if(!this.ui.container){return;
}var j=this.ui.table.rows;
var g={};
var i=this.window._isWindowRightToLeft();
if(f.resize){this.ui.createStatusbarResizer();
this.ui.bottomResizer.style.display="";
if(i){g={nw:j[0].cells[2],n:this.ui.topResizer,ne:j[0].cells[0],w:[j[1].cells[2],j[2].cells[2]],e:[j[1].cells[0],j[2].cells[0]],sw:j[3].cells[2],s:j[3].cells[1],se:[j[3].cells[0],this.ui.bottomResizer]};
}else{g={nw:j[0].cells[0],n:this.ui.topResizer,ne:j[0].cells[2],w:[j[1].cells[0],j[2].cells[0]],e:[j[1].cells[2],j[2].cells[2]],sw:j[3].cells[0],s:j[3].cells[1],se:[j[3].cells[2],this.ui.bottomResizer]};
}}if(f.move){g.move=this.ui.titleCell;
}this.resizeExtender=this.window._resizeExtender=new Telerik.Web.UI.ResizeExtender(this.window,this.ui.container,g,this.ui.table);
var h=this.window._dockMode?null:this.ui.contentFrame;
this.resizeExtender.set_iframeToSkip(h);
},disableMoveResize:function(f){if(this.resizeExtender){this.resizeExtender.dispose();
this.resizeExtender=this.window._resizeExtender=null;
}if(f.Resize&&this.ui.bottomResizer){this.ui.bottomResizer.style.display="none";
}},setCommandButtons:function(f){var g=[];
this.ui.clearCommandButtons();
for(var h=0;
h<f.length;
h++){g.push(this.ui.createCommandButton(f[h]));
}this.ui.updateTitleWidth();
return g;
},toggleCommand:function(g){var f=this.ui.getCommandButton(g);
if(!f){return;
}Sys.UI.DomElement.toggleCssClass(f,"on");
},minimizeToZone:function(g){if(!g){return;
}if(typeof(g)=="string"){g=$get(g);
}var f=this.ui.container;
if(f.parentNode!=g){f.parentNode.removeChild(f);
g.appendChild(f);
this.window.setVisible(true);
f.style.position="static";
if($telerik.isIE){f.style.display="inline";
}else{f.style.cssFloat="left";
}}},moveToDefaultParent:function(){var f=this.window._getDefaultParent();
f.insertBefore(this.ui.container,f.firstChild);
},revertToDefaultParent:function(){var f=this.ui.container;
f.parentNode.removeChild(f);
f.style.position="absolute";
if($telerik.isIE){f.style.display="";
}else{f.style.cssFloat="";
}this.moveToDefaultParent();
},setActive:function(g){var f=this.ui.container;
if(g){this.window.setZIndexCss();
Sys.UI.DomElement.removeCssClass(f,"rwInactiveWindow");
}else{Sys.UI.DomElement.addCssClass(f,"rwInactiveWindow");
}},isActive:function(){var f=this.ui.container;
return(f&&!Sys.UI.DomElement.containsCssClass(f,"rwInactiveWindow"));
},onUrlChanging:function(){if(!this.ui.contentFrame){return;
}if(this.window.get_showContentDuringLoad()){var g=this.ui.statusMessage;
if(g){Sys.UI.DomElement.addCssClass(g,"rwLoading");
}}else{var f=this.ui.contentFrame;
var h=f.style;
h.position="absolute";
h.top="-10000px";
if($telerik.isIE9Mode){this.setHeight(this.window._height);
}if(this.window._isWindowRightToLeft()&&$telerik.isChrome){h.width="1px";
}var i=f.parentNode;
Sys.UI.DomElement.addCssClass(i,"rwLoading");
}},onUrlChanged:function(){var i=this.ui.statusMessage,h=this.ui.contentFrame;
if(this.window.get_showContentDuringLoad()){if(i){Sys.UI.DomElement.removeCssClass(i,"rwLoading");
}}else{h.style.position="";
if(this.window._isWindowRightToLeft()&&$telerik.isChrome){h.style.width="100%";
}var k=h.parentNode;
Sys.UI.DomElement.removeCssClass(k,"rwLoading");
if($telerik.isIE9Mode){if(this.window.isMaximized()){this.window._maintainMaximizedSize();
}else{if(!this.window.isMinimized()){this.setHeight(this.window.get_height());
}}}}if(i){this.window.set_status(this.window.get_navigateUrl());
}try{var f=h.contentWindow.document;
var j=f.title;
if(j&&j!=this.window.get_title()){this.window.set_title(j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"));
}}catch(g){}},updatePopupZindex:function(){var f=this.ui.popupBehavior;
if(f){if(this.window.isVisible()){f.show();
}}},dispose:function(){},_substractWrappersBorder:function(h,i){var k=this.ui.container;
var f=this.ui.contentCell;
if(!k||!f){return h;
}var j=$telerik.getBorderBox(k);
var g=$telerik.getBorderBox(f);
h-=i?(j.horizontal+g.hrizontal):(j.vertical+g.vertical);
return h;
},_fixTableHeightInIE:function(i,g){if("CSS1Compat"==document.compatMode){var f=(i.offsetHeight-parseInt(g,10));
if(f>0){var h=(parseInt(i.style.height,10)-f);
if(h>0){i.style.height=h+"px";
}}}},_removeExplicitMSAjaxWidth:function(){if(!this.window.get_width()){this.ui.container.style.width="";
}},_ariaHide:function(){if(this.window.get_enableAriaSupport()&&this.ui.container&&!this.window.isVisible()){this.ui.container.setAttribute("aria-hidden","true");
}},_hasAriaSupport:function(){return this.window.get_enableAriaSupport();
},restoreResizeHandlesCursor:function(){}};
b.ClassicView.registerClass("Telerik.Web.UI.Window.ClassicView",b.ViewBase,b.IView);
function d(f,g){f&&(f.style.display=g);
}function c(f,g){f&&f.setAttribute("aria-hidden",!g);
}})($telerik.$,Telerik.Web.UI.Window);
(function(a,c,n){Type.registerNamespace("Telerik.Web.UI.Window");
var b=Telerik.Web.UI;
var g=".rwCommand";
var l=function(p){return p+g;
};
var h=b.EventType;
var f=l(h.Down);
var o=l(h.Up);
var e=l("dblclick");
var d=$telerik.cancelRawEvent;
var m=$telerik.preventDefault;
c.LightweightRenderer=function(p){c.LightweightRenderer.initializeBase(this,[p]);
this.options={skin:this.window.get_skin(),minTitleWidth:30};
this.container=null;
this.titlebar=null;
this.icon=null;
this.title=null;
this.commandsContainer=null;
this.content=null;
this.contentFrame=null;
this.statusbar=null;
this.statusMessage=null;
this.topResizer=null;
this.bottomResizer=null;
};
c.LightweightRenderer.prototype={createUI:function(){if(this.container){return;
}var C=this.window;
var x=C._isWindowRightToLeft();
var p=Sys.UI.DomElement.addCssClass;
var q=document.createElement("div");
this._appendToDom(q);
this.container=C._popupElement=q;
q.id="RadWindowWrapper_"+C.get_id();
q.className=this._getSkinCssClass();
var u=C.get_cssClass();
if(u){p(q,u);
}if(x){p(q,"rwRtl");
}if(!C._visibleTitlebar){p(q,"rwNoTitleBar");
}this.setShadowCssClass(C._enableShadow);
q.setAttribute("unselectable","on");
this._setTabIndex(q);
var r=q.style;
r.width=C._width;
r.height=C._height;
r.position="absolute";
var A=this.titlebar=C._titlebarElement=document.createElement("div");
A.className="rwTitleBar";
q.appendChild(A);
var B=document.createElement("div");
B.className="rwTitleWrapper";
A.appendChild(B);
this._setRolePresentation(B);
B.appendChild(this.getIconNode());
B.appendChild(this.getTitleNode());
C.set_title(C._title);
B.appendChild(this.getTitleCommandsContainer());
C._registerTitlebarHandlers(true);
C.set_iconUrl(C.get_iconUrl());
var s=this.content=$get(C.get_id()+"_C")||this.pendingContent||document.createElement("div");
this._setRolePresentation(s);
if(s){s.style.display="none";
s.className="rwContent";
this.setContent(s);
}if(!C._dockMode){var t=s.getElementsByTagName("iframe");
var y=C.get_name();
var v=t.length>0?t[0]:document.createElement(($telerik.isIE&&!$telerik.isIE9Mode)?"<iframe name='"+y+"'>":"iframe");
v.name=y;
v.src="javascript:'<html></html>';";
v.style.width="100%";
v.style.height="100%";
v.style.border="0px";
v.frameBorder="0";
if($telerik.isIE8){v.style.display="block";
}this.contentFrame=C._iframe=v;
if(($telerik.isMobileSafari||C._isiPhoneiPadAppleWebkit)&&!C._isPredefined){var w=document.createElement("div");
a(w).addClass("rwIframeWrapperIOS");
w.appendChild(this.contentFrame);
this.content.appendChild(w);
if(C._isiOS5Safari){C.setContentFixedHeight(C.get_height(),w);
}C._iframeWrapper=w;
}else{this.content.appendChild(this.contentFrame);
}Sys.UI.DomElement.addCssClass(this.content,"rwExternalContent");
C._createBackReference();
}var z=this.createStatusbar();
this.container.appendChild(z);
if(!C._visibleStatusbar){z.style.display="none";
}C._addWindowToDocument();
if(!$telerik.isTouchDevice){this.container.style.Transform="none";
this.container.style.BackfaceVisibility="visible";
this.container.style.webkitTransform="none";
this.container.style.webkitBackfaceVisibility="visible";
this.container.style.OTransform="none";
this.container.style.OBackfaceVisibility="visible";
this.container.style.MozTransform="none";
this.container.style.MozBackfaceVisibility="visible";
this.container.style.msTransform="none";
this.container.style.msBackfaceVisibility="visible";
}if(!C._popupBehavior){C.set_behaviors(C._behaviors);
this.popupBehavior=C._popupBehavior=$create(Telerik.Web.PopupBehavior,{id:((new Date()-100)+"PopupBehavior"),parentElement:null,overlay:C._overlay,keepInScreenBounds:C._keepInScreenBounds},null,null,this.container);
}if(C.get_enableAriaSupport()){this.window._applyAriaSupport();
}},_appendToDom:function(q){var r=this.window;
var p=a(r.get_element()).closest("form");
if(p.length>0){p.prepend(q);
}else{document.body.appendChild(q);
}},_getSkinCssClass:function(){return"RadWindow RadWindow_"+this.options.skin;
},setContent:function(p){this._setContent(p);
this.content=this.window._contentElement=p;
},_setContent:function(q){var p=this.container.children;
if(p.length==1){this.container.appendChild(q);
}else{this.container.insertBefore(q,p[1]);
}q.style.display="";
},get_container:function(){return this.container;
},getHandlesWidth:function(){var p=a(this.container);
var q=p.css(["paddingLeft","paddingRight"]);
var r=parseFloat(q.paddingLeft,10)+parseFloat(q.paddingRight,10);
return Math.max(r,12);
},setShadowCssClass:function(q){var p=q?Sys.UI.DomElement.addCssClass:Sys.UI.DomElement.removeCssClass;
p(this.container,"rwShadow");
},getBounds:function(){var q=this.container;
var r=(q.style.display=="none");
q.style.display="";
var p=$telerik.getBounds(q);
if(r){q.style.display="none";
}return p;
},showContentOverlay:function(){var p=this.contentOverlay;
if(!this.contentOverlay){p=this.createContentOverlay();
}p.style.display="";
},hideContentOverlay:function(){if(!this.contentOverlay){return;
}this.contentOverlay.style.display="none";
},createContentOverlay:function(){var p=this.content;
var q=this.contentOverlay=document.createElement("div");
var r=q.style;
r.position="absolute";
r.top=0;
r.left=0;
r.zIndex="1";
r.backgroundColor="white";
r.filter="alpha(opacity=0)";
r.opacity=0;
r.width="100%";
r.height="100%";
p.appendChild(q);
return q;
},updateTitleWidth:function(){},getTitleNode:function(){if(!this.title){this.createTitle();
}return this.title;
},createTitle:function(){var p=document.createElement("h6");
p.setAttribute("unselectable","on");
p.className="rwTitle";
if(this.window.get_enableAriaSupport()){p.id=this.window.get_id()+"_title";
p.setAttribute("role","label");
}this.title=this.window._titleElement=p;
},getIconNode:function(){if(!this.icon){this.createIcon();
}return this.icon;
},createIcon:function(){var p=document.createElement("span");
p.className="rwIcon";
this._setRolePresentation(p);
this.icon=this.window._titleIconElement=p;
},getTitleCommandsContainer:function(){if(!this.commandsContainer){this.createTitleCommandsContainer();
}return this.commandsContainer;
},createTitleCommandsContainer:function(){var p=document.createElement("ul");
p.className="rwCommands";
this._setRole(p,"toolbar");
this.commandsContainer=this.window._buttonsElement=p;
},getStatusbar:function(){return this.statusbar||this.createStatusbar();
},createStatusbar:function(){var p=this.statusbar=document.createElement("div");
p.className="rwStatusBar";
this._setRole(p,"status");
p.appendChild(this.getStatusMessageNode());
if(this.window.isBehaviorEnabled(b.WindowBehaviors.Resize)){p.appendChild(this.createStatusbarResizer());
}return p;
},getStatusMessageNode:function(){if(!this.statusMessage){this.createStatusMessage();
}return this.statusMessage;
},createStatusMessage:function(){var p=document.createElement("input");
p.id=this.window.get_id()+"_status";
p.readOnly="readonly";
p.setAttribute("unselectable","on");
p.setAttribute("tabindex","-1");
this.statusMessage=this._statusMessageElement=p;
this._setRolePresentation(p);
if(this.window.get_enableAriaSupport()){p.setAttribute("aria-label","status");
}},createStatusbarResizer:function(){if(this.bottomResizer){return;
}var p=document.createElement("span");
p.className="rwResize";
this._setRolePresentation(p);
this.bottomResizer=p;
return p;
},removeStatusbarResizer:function(){var q=this;
var p=q.bottomResizer;
if(!p){return;
}p.parentNode.removeChild(p);
q.bottomResizer=null;
},getCommandButtons:function(){return a(this.commandsContainer).find(".rwCommandButton");
},getCommandButton:function(p){if(!p||!this.commandsContainer){return null;
}var q=p.toLowerCase();
q=q.charAt(0).toUpperCase()+q.substring(1);
var r=".rw"+q+"Button, .rw"+q;
return a(this.commandsContainer).find(r)[0];
},createCommandButton:function(q){var r=document.createElement("li");
r.className="rwListItem";
var p=document.createElement("span");
p.className="rwCommandButton "+q[0];
p.value=p.title=q[1];
this.attachButtonEvents(p,q[2]);
r.appendChild(p);
this.commandsContainer.appendChild(r);
this._setRolePresentation(r);
this._setRole(p,"button");
this._setTabIndex(p);
this._initializeRipple(p);
return p;
},_initializeRipple:function(p){if(this.window._enableRippleEffect){var q=b.MaterialRippleManager.getInstance();
if(q){q.initializeRipple(p,{rippleType:b.MaterialRippleType.Icon,autoHide:true,iconRippleSizeFactor:0.54});
}}},changeCommandButton:function(p,r,q){p.value=p.title=r;
this.clearCommandButton(p);
this.attachButtonEvents(p,q);
},attachButtonEvents:function(p,q){$telerik.onEvent(p,f,d);
$telerik.onEvent(p,o,m);
$telerik.onEvent(p,o,this._upHandler(q));
$telerik.onEvent(p,e,d);
$telerik.onEvent(p,"keypress",this._keyPressHandler(q));
},changeCommandButtonByName:function(r,s,q){var p=this.getCommandButton(r);
if(p){this.changeCommandButton(p,s,q);
}},clearCommandButtons:function(){var q=a(this.commandsContainer);
var p=this.getCommandButtons();
for(var r=0;
r<p.length;
r++){this.clearCommandButton(p[r]);
}q.empty();
},clearCommandButton:function(p){$telerik.offEvent(p,f);
$telerik.offEvent(p,o);
$telerik.offEvent(p,o);
$telerik.offEvent(p,e);
$telerik.offEvent(p,"keypress");
},geTitlebarHeight:function(){if(!this.titlebar){return 0;
}return this.titlebar.offsetHeight;
},get_zIndexCss:function(){return this.container?this.container.style.zIndex:-1;
},get_initialZIndexCss:function(){var p=this.window.get_element();
return p?parseInt(p.style.zIndex||$telerik.getComputedStyle(p,"zIndex"),10):null;
},get_uiMinWidth:function(){this._minUIWidth=this.options.minTitleWidth||0;
this._minUIWidth+=this.getHandlesWidth();
if(this.commandsContainer){this._minUIWidth+=this.commandsContainer.offsetWidth;
}if(this.icon){this._minUIWidth+=this.icon.offsetWidth;
}return this._minUIWidth;
},get_uiMinHeight:function(){if(!this._minUIHeight){this._minUIHeight=(this.getHandlesWidth()/2)||0;
if(this.window._visibleTitlebar){this._minUIHeight+=this.titlebar.offsetHeight;
}if(this.window._visibleStatusbar){this._minUIHeight+=this.statusbar.offsetHeight;
}}return this._minUIHeight;
},dispose:function(){this.container=this.titlebar=this.icon=this.title=this.commandsContainer=this.content=this.contentFrame=this.statusbar=this.statusMessage=this.topResizer=this.bottomResizer=null;
},_keyPressHandler:function(p){return function(r){var q=r.target||r.srcElement;
i(r)&&p(r);
q.focus();
};
},_upHandler:function(p){return function(q){if(!j(q)){p(q);
}};
},_setRolePresentation:function(p){this._setRole(p,"presentation");
},_setRole:function(q,r){var p=this.window.get_enableAriaSupport();
if(q&&p){q.setAttribute("role",r);
}},_setTabIndex:function(p){var q=this.window.get_tabIndex();
if(q!==null){p.setAttribute("tabindex",q);
}},_cancelEvent:function(p){return $telerik.cancelRawEvent(p);
},_preventDefault:function(p){if(p.preventDefault){p.preventDefault();
}p.returnValue=false;
}};
c.LightweightRenderer.registerClass("Telerik.Web.UI.Window.LightweightRenderer",c.RendererBase,c.IRenderer);
var k=Sys.UI.Key;
function i(q){var r=q.key&&q.key.length===1&&q.key.charCodeAt(0);
var p=r||q.keyCode;
return p===k.space||p===k.enter;
}function j(p){return p.which===3;
}})($telerik.$,Telerik.Web.UI.Window);
Type.registerNamespace("Telerik.Web.UI.Window");
(function(a,b,l){var f=window;
var j=f.parseFloat;
var k=f.parseInt;
var g=f.Math;
var h=g.max;
var i=g.min;
var m=new Sys.UI.Bounds(0,0,0,0);
function d(p,n,o){return h(n,i(p,o));
}b.LightweightView=function(n){b.LightweightView.initializeBase(this,[n]);
this.ui=this.window.ui;
};
b.LightweightView.prototype={moveTo:function(p,q){var o=this;
var n=o.ui;
n.popupBehavior._setCoordinates(p,q);
n.popupBehavior.show();
o._removeExplicitMSAjaxWidth();
n.updateTitleWidth();
},setContent:function(o){var n=this.ui.content;
if(n&&o!=n){$telerik.disposeElement(n);
n.innerHTML="";
n.appendChild(o);
o=n;
}if(!this.window.isCreated()){this.ui.pendingContent=o;
}this.ui.createUI();
if(this.window._isPredefined&&this.ui.contentFrame){this.ui.contentFrame.style.display="none";
this.ui.contentFrame.style.height="";
}if(this.ui.contentFrame&&this.ui.contentFrame.parentNode!=o){this.ui.contentFrame.style.display="none";
}else{if(!this.window._dropDownTouchScroll&&Telerik.Web.UI.TouchScrollExtender._getNeedsScrollExtender()){this.window._createTouchScrollExtender(true);
}}this.ui.setContent(o);
},setUrl:function(o){var n=this.ui.contentFrame;
if(!n){return;
}n.src=o;
this.setContentFixedHeight(this.window.get_height(),this.ui.content);
this.onUrlChanging();
},show:function(){if(this.ui.popupBehavior){this.ui.popupBehavior.show();
}this._showResizableHandlers();
this._repaintResizable();
this._isViewVisible=true;
},hide:function(){if(this.ui.popupBehavior){this.ui.popupBehavior.hide();
}this._hideResizableHandlers();
this._isViewVisible=false;
},isVisible:function(){return this._isViewVisible;
},maximize:function(){this.ui.setShadowCssClass(false);
var n=this.ui.container;
$telerik.removeCssClasses(n,["rwNormalWindow","rwMinimizedWindow","rwMinimizedWindowShadow"]);
Sys.UI.DomElement.addCssClass(n,"rwMaximizedWindow");
this.window._configureMaximizeButton(true);
this.window._configureMinimizeButton();
this.window._maintainMaximizedSize();
this.window._maintainMaximizedSize();
var r=n._hideWindowedElementsIFrame;
if(r){Sys.UI.DomElement.removeCssClass(r,"rwMinimizedWindowOverlay");
this.ui.popupBehavior._handleElementResize();
}if(this.window.get_showOnTopWhenMaximized()){var u=n.style.zIndex;
var q=100000;
if(u){this.window._restoreZindex=u;
q=k(u,10)*2;
}n.style.zIndex=q;
}this.ui.updateTitleWidth();
if(this.resizable){var t=this.resizable._handlesCollection;
for(var s in t){var o=t[s].get_handle();
var p=a(o).css("cursor");
this.window._initialHandlesCursor.push(p);
a(o).css("cursor","default");
}}},setMaximizeSize:function(){var n=this.ui.container;
if(!n){return;
}var q=this.window._getViewportBounds();
q.height-=1;
n.style.top=(q.scrollTop+q.y)+"px";
n.style.left=(q.scrollLeft+q.x)+"px";
var p=k(this.window.get_maxWidth(),10);
var o=k(this.window.get_maxHeight(),10);
if(p){q.width=p;
}if(o){q.height=o;
}$telerik.setSize(n,{width:q.width,height:q.height});
var r=this.window._getRestrictionZoneBounds();
if(!r){this.window._enablePageScrolling(false);
}if(this.window._dockMode){this.window.setWidthDockMode(q.width);
this.window.setHeightDockMode(q.height);
}this.ui.updateTitleWidth();
if(this.ui.contentFrame){this.setContentFixedHeight(q.height,this.ui.content);
}},minimize:function(){this.window._configureMinimizeButton(true);
this.window._configureMinimizeButton(true);
this.window._enablePageScrolling(true);
var n=this.ui.container;
$telerik.removeCssClasses(n,["rwNormalWindow","rwMaximizedWindow"]);
Sys.UI.DomElement.addCssClass(n,"rwMinimizedWindow");
if(this.window._enableShadow&&!$telerik.isIE6){this.ui.setShadowCssClass(true);
Sys.UI.DomElement.addCssClass(n,"rwMinimizedWindowShadow");
}var o=n._hideWindowedElementsIFrame;
if(o){Sys.UI.DomElement.addCssClass(o,"rwMinimizedWindowOverlay");
}this.setWidth(200);
this.setHeight(this.ui.titlebar.offsetHeight);
this.ui.getTitleNode().style.width="";
this.minimizeToZone(this.window.get_minimizeZoneID());
},setTabIndex:function(p){var o=this.ui.container;
var n=this.ui.getCommandButtons();
if(p!==null&&p!==l){o.setAttribute("tabIndex",p);
n.attr("tabIndex",p);
}else{o.removeAttribute("tabIndex");
n.removeAttr("tabIndex");
}},setWidth:function(n){this._setWidth(n);
this._repaintResizable();
},_setWidth:function(p){var o=this.ui.container;
var n=a(o);
var q=k(p,10);
if(q===0){return;
}n.outerWidth(q);
},setHeight:function(n){this._setHeight(n);
this._repaintResizable();
},_setHeight:function(r){var q=this.ui;
var o=q.container;
var n=a(o);
var p=k(r,10);
if(p===0){return;
}this.setContentFixedHeight(p,q.content);
n.outerHeight(p);
},setContentFixedHeight:function(o,n){if(!n){return;
}var q=this.ui;
var p=o-(a(q.container).outerHeight()-a(q.container).height());
if(this.window._visibleTitlebar){p-=a(q.titlebar).outerHeight();
}if(this.window._visibleStatusbar){p-=a(q.statusbar).outerHeight();
}a(n).outerHeight(p);
},setContentWidth:function(n){this.ui.content.style.width="";
},setTitleText:function(n){if(!this.ui.title){return;
}this._setTitleText(n);
this.ui.updateTitleWidth();
},_setTitleText:function(n){var o=this;
var p=n;
if(o.window.get_enableAriaSupport()){p=n||"<span style='display:none'>empty</span>";
}o.ui.title.innerHTML=p||"&nbsp;";
},showStatusbar:function(){this._displayStatusbar("",true);
},hideStatusbar:function(){this._displayStatusbar("none",false);
},_displayStatusbar:function(p,n){if(!this.ui.container){return;
}var o=this.ui.getStatusbar();
e(o,p);
if(this._hasAriaSupport()){c(o,n);
}this.setHeight(this.window.get_height());
},showShadow:function(){this.ui.setShadowCssClass(true);
},hideShadow:function(){this.ui.setShadowCssClass(false);
},moveOutOfSight:function(){var o=this.ui.popupBehavior;
if(o){this.window._storeBounds();
var n=o.get_elementToShow();
a(n).css({display:"",position:"absolute",top:"-10000px",left:this.window.get_leftHidingPoint()+"px",overflow:"hidden"});
if(n._hideWindowedElementsIFrame&&n._hideWindowedElementsIFrame.style){n._hideWindowedElementsIFrame.style.display="none";
}}this._ariaHide();
},isOutOfSight:function(){var n=this.ui.container;
if(!n){return false;
}var o=k(n.style.left,10);
return($telerik.isIE&&($telerik.isIE9||$telerik.isIE10))&&o===this.window.get_leftHidingPoint();
},enableMoveResize:function(n){var p=this;
var q=this.window;
this.disableMoveResize(n);
if(n.move&&!this.draggable){this.draggable=new Telerik.Web.UI.Widgets.Draggable(this.ui.container,{handle:this.ui.titlebar,shouldPreventDefault:false});
this.draggable.add_dragStart(Function.createDelegate(this,function(v,r){var A;
this._cancelDragSelection(r.get_domEvent());
q.setActive(true);
var z=q.isPinned()||q.isMaximized()||(q.isMinimized()&&q.get_minimizeZoneID());
r.set_cancel(z);
if(z){return;
}var y=q._getRestrictionZoneElement();
if(y){this.restrictBounds=q._getRestrictionZoneBounds();
var t=q._getCurrentBounds();
var s=$telerik.getBorderBox(y);
var w=this.restrictBounds;
var x={x:w.x+s.left,y:w.y+s.top,width:w.width-s.horizontal,height:w.height-s.vertical};
var u={minX:x.x,minY:x.y,maxX:x.width+x.x,maxY:x.height+x.y};
A={x:d(t.x+w.x,u.minX,u.maxX),y:d(t.y+w.y,u.minY,u.maxY)};
p.moveTo(A.x,A.y);
v.set_constraints(u);
}q.raiseEvent("dragStart",new Sys.EventArgs());
}));
this.draggable.add_dragging(Function.createDelegate(this,function(s,r){this.ui.showContentOverlay();
$telerik.cancelRawEvent(r.get_domEvent());
r.set_cancel(q.isPinned()||q.isMaximized()||(q.isMinimized()&&q.get_minimizeZoneID()));
}));
this.draggable.add_dragEnd(Function.createDelegate(this,function(s,r){var t;
this.ui.hideContentOverlay();
q._storeBounds();
if(!q.isMaximized()){t=q._getStoredBounds();
q.moveTo(t.x,t.y);
}this._repaintResizable();
q.raiseEvent("dragEnd",new Sys.EventArgs());
}));
}if(n.resize&&!this.resizable){this.resizable=new Telerik.Web.UI.Widgets.Resizable(this.ui.container,{appendHandleToElement:!$telerik.isIE,constraints:{minWidth:this.ui.get_uiMinWidth(),minHeight:this.ui.get_uiMinHeight()},handleSize:12,shouldPreventDefault:false});
this.resizable.add_resizeStart(a.proxy(this._resizeStartHandler,this));
this.resizable.add_resizing(a.proxy(this._resizingHandler,this));
this.resizable.add_resizeEnd(a.proxy(this._resizeEndHandler,this));
if(this.ui.bottomResizer&&!this.bottomResizerHandle){var o=new Telerik.Web.UI.Widgets.Handle(this.ui.bottomResizer,"SE",{cursorType:"se-resize"});
o.add_dragStart(a.proxy(this.resizable._handleDragStart,this.resizable));
o.add_dragging(a.proxy(this.resizable._handleDragging,this.resizable));
o.add_dragEnd(a.proxy(this.resizable._handleDragEnd,this.resizable));
this.bottomResizerHandle=o;
}}},_resizeStartHandler:function(q,n){var s=this.window;
var o=s._getCurrentBounds();
this.ui.showContentOverlay();
$telerik.cancelRawEvent(n.get_domEvent());
s.setActive(true);
if(s.isMinimized()||s.isMaximized()){n.set_cancel(true);
}q.set_constraints({minWidth:this.ui.get_uiMinWidth(),minHeight:this.ui.get_uiMinHeight()});
this.restrictBounds=s._getRestrictionZoneBounds();
var r=this.restrictBounds||m;
this.resizeHelper={width:s.get_width(),height:s.get_height()||this.ui.container.clientHeight,offset:{top:k(o.y+r.y,10),left:k(o.x+r.x,10)},borders:$telerik.getBorderBox(this.ui.container)};
var p=new Sys.CancelEventArgs();
this.window.raiseEvent("resizeStart",p);
n.set_cancel(p.get_cancel());
},touchCount:0,_resizingHandler:function(t,n){$telerik.cancelRawEvent(n.get_domEvent());
var q=this.restrictBounds,p=this._getResizeBounds(n),o=this.resizeHelper.borders,r={x:p.x-o.left,y:p.y-o.top,width:p.width+o.horizontal,height:p.height+o.vertical};
var s=this.window._checkRestrictionZoneBounds(q,r);
p.width=g.max(t.options.constraints.minWidth,p.width);
p.height=g.max(t.options.constraints.minHeight,p.height);
n.set_cancel(true);
if(s&&this.touchCount++>0){var u=this.ui.container.style;
u.left=p.x+"px";
u.top=p.y+"px";
this._setWidth(p.width);
this._setHeight(p.height);
this._currentResizeBounds=p;
}},_getResizeBounds:function(n){var p=n.get_direction();
var r=function(u){return p.indexOf(u)>-1;
};
var o=n.get_delta();
var s=this.resizeHelper;
var q=r("N")?-1:1;
var t=r("W")?-1:1;
return{x:s.offset.left+(r("W")?o.x:0),y:s.offset.top+(r("N")?o.y:0),width:s.width+t*o.x,height:s.height+q*o.y};
},_getMoveBounds:function(n){var o=n.get_newPosition();
var p=this.resizeHelper;
return{x:o.x,y:o.y,width:p.width,height:p.height};
},_resizeEndHandler:function(p,n){this.touchCount=0;
$telerik.cancelRawEvent(n.get_domEvent());
this.ui.hideContentOverlay();
var o=this._currentResizeBounds;
if(o){this.moveTo(k(o.x,10),k(o.y,10));
this.window.set_width(k(o.width,10));
this.window.set_height(k(o.height,10));
}this.window._storeBounds();
this.window.raiseEvent("resizeEnd",new Sys.EventArgs());
this._currentResizeBounds=null;
},_showResizableHandlers:function(){if(this.resizable){this.resizable.showHandles();
}},_hideResizableHandlers:function(){if(this.resizable){this.resizable.hideHandles();
}},_repaintResizable:function(){if(this.resizable){this.resizable.repaint();
}},_isDir:function(n,o){return n.indexOf(o)>-1;
},disableMoveResize:function(n){if(this.draggable){this.draggable.dispose();
this.draggable=null;
}if(this.resizable){if(this.bottomResizerHandle){this.ui.removeStatusbarResizer();
this.bottomResizerHandle.dispose();
this.bottomResizerHandle=null;
}this.resizable.dispose();
this.resizable=null;
}},setCommandButtons:function(n){var o=[];
this.ui.clearCommandButtons();
for(var p=0;
p<n.length;
p++){o.push(this.ui.createCommandButton(n[p]));
}this.ui.updateTitleWidth();
return o;
},toggleCommand:function(o){var n=this.ui.getCommandButton(o);
if(!n){return;
}Sys.UI.DomElement.toggleCssClass(n,"on");
},minimizeToZone:function(o){if(!o){return;
}if(typeof(o)=="string"){o=$get(o);
}var n=this.ui.container;
if(n.parentNode!=o){n.parentNode.removeChild(n);
o.appendChild(n);
this.window.setVisible(true);
n.style.position="static";
if($telerik.isIE){n.style.display="inline";
}else{n.style.cssFloat="left";
}}},moveToDefaultParent:function(){var n=this.window._getDefaultParent();
if(this.ui.container!==n.firstChild){n.insertBefore(this.ui.container,n.firstChild);
}},revertToDefaultParent:function(){var n=this.window._getDefaultParent();
if(this.ui.container!==n.firstChild){n.insertBefore(this.ui.container,n.firstChild);
}},setActive:function(o){var n=this.ui.container;
if(o){this.window.setZIndexCss();
Sys.UI.DomElement.removeCssClass(n,"rwInactiveWindow");
}else{Sys.UI.DomElement.addCssClass(n,"rwInactiveWindow");
}this._repaintResizable();
},isActive:function(){var n=this.ui.container;
return(n&&!Sys.UI.DomElement.containsCssClass(n,"rwInactiveWindow"));
},onUrlChanging:function(){if(!this.ui.contentFrame){return;
}if(this.window.get_showContentDuringLoad()){var o=this.ui.statusbar;
if(o){Sys.UI.DomElement.addCssClass(o,"rwLoading");
}}else{var n=this.ui.contentFrame;
var p=n.style;
n.originalPosition=p.position;
n.originalHeight=p.height;
p.position="absolute";
p.top="-10000px";
if($telerik.isIE9Mode){this.setHeight(this.window._height);
}if(this.window._isWindowRightToLeft()&&$telerik.isChrome){p.width="1px";
}Sys.UI.DomElement.addCssClass(this.ui.container,"rwLoading");
}},onUrlChanged:function(){var r=this.ui.statusbar,p=this.ui.contentFrame;
if(this.window.get_showContentDuringLoad()){if(r){Sys.UI.DomElement.removeCssClass(r,"rwLoading");
}}else{p.style.position="";
p.style.height=p.originalHeight;
p.originalHeight=null;
if(this.window._isWindowRightToLeft()&&$telerik.isChrome){p.style.width="100%";
}Sys.UI.DomElement.removeCssClass(this.ui.container,"rwLoading");
if($telerik.isIE9Mode){if(this.window.isMaximized()){this.window._maintainMaximizedSize();
}else{if(!this.window.isMinimized()){this.setHeight(this.window.get_height());
}}}}if(r){this.window.set_status(this.window.get_navigateUrl());
}try{var n=p.contentWindow.document;
var q=n.title;
if(q&&q!=this.window.get_title()){this.window.set_title(q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"));
}}catch(o){}},updatePopupZindex:function(){var n=this.ui.popupBehavior;
if(n){if(this.window.isVisible()){n.show();
}}},dispose:function(){},_substractWrappersBorder:function(n,o){var q=this.ui.container;
if(!q){return n;
}var p=$telerik.getBorderBox(q);
n-=o?p.horizontal:p.vertical;
return n;
},_removeExplicitMSAjaxWidth:function(){if(!this.window.get_width()){this.ui.container.style.width="";
}},_ariaHide:function(){if(this.window.get_enableAriaSupport()&&this.ui.container&&!this.window.isVisible()){this.ui.container.setAttribute("aria-hidden","true");
}},_cancelDragSelection:function(n){if(!$telerik.isTouchDevice){$telerik.cancelRawEvent(n);
}},_hasAriaSupport:function(){return this.window.get_enableAriaSupport();
},_preventDefault:function(n){if(n.preventDefault){n.preventDefault();
}n.returnValue=false;
},restoreResizeHandlesCursor:function(){if(this.resizable){var p=this.resizable._handlesCollection;
for(var o in p){var n=p[o].get_handle();
a(n).css("cursor",this.window._initialHandlesCursor.shift());
}}}};
b.LightweightView.registerClass("Telerik.Web.UI.Window.LightweightView",b.ViewBase,b.IView);
function e(n,o){n&&(n.style.display=o);
}function c(n,o){n&&n.setAttribute("aria-hidden",!o);
}})($telerik.$,Telerik.Web.UI.Window);
Type.registerNamespace("Telerik.Web.UI.Window");
(function(a,b,c){b.UIFactory={getRenderer:function(d,f){var e=Telerik.Web.UI.RenderMode;
if(d==e.Classic){return new b.ClassicRenderer(f);
}else{if(d==e.Lite){return new b.LightweightRenderer(f);
}}},getView:function(d,f){var e=Telerik.Web.UI.RenderMode;
if(d==e.Classic){return new b.ClassicView(f);
}else{if(d==e.Lite){return new b.LightweightView(f);
}}}};
})($telerik.$,Telerik.Web.UI.Window);
(function(a){Type.registerNamespace("Telerik.Web.UI");
var b=Telerik.Web.UI;
b.WindowShortCutManager=function(c){b.WindowShortCutManager.initializeBase(this,[c]);
};
b.WindowShortCutManager.prototype={};
b.WindowShortCutManager.registerClass("Telerik.Web.UI.WindowShortCutManager",b.ShortCutManager);
b.WindowShortCut=function(d,e,c){b.WindowShortCut.initializeBase(this,[d,e,c]);
};
b.WindowShortCut.prototype={};
b.WindowShortCut.registerClass("Telerik.Web.UI.WindowShortCut",b.ShortCut);
})($telerik.$);

/* END Telerik.Web.UI.Window.RadWindowScripts.js */
if(typeof(Sys)!=='undefined')Sys.Application.notifyScriptLoaded();
(function() {
    function loadHandler() {
        var hf = window.__TsmHiddenField;
        if (!hf) return;
        if (!hf._RSM_init) { hf._RSM_init = true; hf.value = ''; }
        hf.value += ';;System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35:en-GB:ba1d5018-bf9d-4762-82f6-06087a49b5f6:ea597d4b;TASite:en-GB:e9b4252b-a095-4ae3-be45-878df112653c:81b9eeed:341892d9:fbc5c34c:c3b72311:e47ea99:7cbe53b0:4281b15b;TAServerControls:en-GB:06f881a6-c23f-4a58-ae82-a175b7d1cdfc:b2b5f259;AjaxPro.2:en-GB:f00428f5-b0ff-44d6-8ea4-ce7c4c6962e3:953d3371:46e523a9;Telerik.Web.UI, Version=2019.1.215.45, Culture=neutral, PublicKeyToken=121fae78165ba3d4:en-GB:05294e6d-c3f5-4495-92ed-e871448550ca:b2e06756:16e4e7cd:f7645509:24ee1bba:874f8ea2:63b115ed:1569bb5f:92fe8ea0:fa31b949:c128760b:3856fd9f:4877f69a:33715776:dc7e0bd:1c565fc:30f1f089:19620875:f46195d3:490a9d4e';
        Sys.Application.remove_load(loadHandler);
    };
    Sys.Application.add_load(loadHandler);
})();
